(function(e){function t(t){for(var r,a,s=t[0],l=t[1],u=t[2],c=0,d=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);h&&h(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function s(e){return l.p+"js/"+({about:"about",coll:"coll"}[e]||e)+"."+{about:"21f5d8cc",coll:"2684e572"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={coll:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about",coll:"coll"}[e]||e)+"."+{about:"31d6cfe0",coll:"f469ffb1"}[e]+".css",i=l.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===r||c===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],c=u.getAttribute("data-href");if(c===r||c===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],h.parentNode.removeChild(h),n(o)},h.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=s(e);var d=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(h);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/impulso/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0073":function(e,t,n){},"0301":function(e,t,n){"use strict";n("d361")},"0912":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=function(){function e(t){Object(r["a"])(this,e),this.m_message=t}return Object(a["a"])(e,[{key:"getClass",value:function(){return{getSimpleName:function(){return"Exception"}}}},{key:"getMessage",value:function(){return this.m_message}}]),e}()},"0e62":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("a630"),n("3ca3"),n("a15b"),n("d3b7"),n("25f0"),n("57ee")),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(r["a"])(this,e),this.m_data=Array.from(t)}return Object(a["a"])(e,[{key:"append",value:function(e){var t=i["a"].SafeToString(e);return this.m_data.push(t),this}},{key:"toString",value:function(){return this.m_data.join("")}},{key:"insert",value:function(e,t){this.m_data.add(e,t)}},{key:"length",value:function(){return this.toString().length}},{key:"isEmpty",value:function(){return 0===this.m_data.length}},{key:"charAt",value:function(e){return this.toString().charAt(e)}}]),e}()},"0edd":function(e,t,n){"use strict";n("9868")},1:function(e,t){},10:function(e,t){},11:function(e,t){},1117:function(e,t,n){"use strict";n("ae9f")},12:function(e,t){},"121e":function(e,t,n){"use strict";n("b89e")},13:function(e,t){},"136a":function(e,t,n){"use strict";n("a7c5")},14:function(e,t){},"18a1":function(e,t,n){},"1b0b":function(e,t,n){},"1b44":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),s=n("2caf"),l=(n("96cf"),n("99af"),n("2ca0"),n("b39f")),u=n("7ef1"),c=n("99d5"),d=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,r,i){var o;return Object(a["a"])(this,n),o=t.call(this,r,i),o.m_context=e,o}return Object(i["a"])(n,[{key:"TopAllowed",value:function(){return!1}},{key:"LimitAllowed",value:function(){return!1}},{key:"HasEscapeChars",value:function(){return!1}},{key:"acceptsParsedSentences",value:function(){return!0}},{key:"acceptsEmptyQueries",value:function(){return!1}},{key:"retrievesAutonumericKeys",value:function(){return!1}},{key:"GetNewConnection",value:function(){return this.m_connection=new c["a"](this.getConnString(),this.getName())}},{key:"GetCurrentConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.m_connection?this.m_connection:this.GetNewConnection(e)}},{key:"CreateRecordset",value:function(e){return new l["a"](e)}},{key:"CreateRecordsetAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=6;break}for(n=this.GetCurrentConnection(),r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=5,n.executeQueryAsync.apply(n,[t].concat(a));case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"CountAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}for(r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=4,(n=this.GetCurrentConnection()).countAsync.apply(n,[t].concat(a));case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteSqlString",value:function(e,t,n){return 0}},{key:"ExecuteSqlStringAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ExecuteParsedSql",value:function(e,t,n){return 0}},{key:"ExecuteParsedSqlAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ReplaceCustomOper",value:function(e,t,n){return t}},{key:"InsertTop",value:function(e,t){return e}},{key:"QuoteFieldName",value:function(e){return e}},{key:"EscapeString",value:function(e){return e.startsWith("'")?e:"'".concat(e,"'")}},{key:"Terminate",value:function(){}},{key:"IsOuterJoinSupported",value:function(){return!1}},{key:"RetrieveNumericKey",value:function(e,t,n,r){return 0}},{key:"isUniqueRowID",value:function(e,t){return!0}},{key:"getDbmsTag",value:function(){return"OnlineJSON"}}]),n}(u["a"])},"1ea0":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("2909"),a=n("d4ec"),i=n("bee2"),o=(n("159b"),n("99af"),n("3019")),s=n("ae56"),l=n("3743"),u=n("57ee"),c=n("f0ed"),d=function(){function e(t){Object(a["a"])(this,e),this.m_object=null,this.m_coll=null,t instanceof s["a"]?(this.m_object=t,this.m_coll=t.getOwnerCollection()):this.m_coll=t,this.m_lstLocalIncludes=new Array}return Object(i["a"])(e,[{key:"getObjectHost",value:function(){return this.m_object}},{key:"getCollectionHost",value:function(){return this.m_coll}},{key:"getLocalIncludes",value:function(){return this.m_lstLocalIncludes}},{key:"SetParam",value:function(e,t){null==this.m_lstParams&&(this.m_lstParams=new o["a"]),u["a"].IsEmptyString(e)||(null!=t?this.m_lstParams.put(e,t):this.m_lstParams.delete(e))}},{key:"GetParams",value:function(){return this.m_lstParams}},{key:"ExtractArguments",value:function(e){for(var t=this,n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if(a){var o=null;null!=e&&(o=e.SelectNodes("param")),a.forEach((function(n,a){var i=null;if(Array.isArray(n))t.ExtractArguments.apply(t,[e].concat(Object(r["a"])(n)));else{if(n instanceof l["a"])i=n.Name,n=n.Value;else{if(null!=o&&a<o.count()){var s=o.get(a);i=s.getAttrValue(c["a"].PROP_ATTR_NAME)}u["a"].IsEmptyString(i)&&(i=String.format("Param%d",a+1))}t.SetParam(i,n)}}))}}}]),e}()},2:function(e,t){},2056:function(e,t,n){"use strict";n("6946")},2058:function(e,t,n){},"24c3":function(e,t,n){},"25b8":function(e,t,n){},"286c":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),s=n("2caf"),l=(n("96cf"),n("99af"),n("2ca0"),n("b39f")),u=n("7ef1"),c=(n("d3b7"),n("bf19"),n("25f0"),n("498a"),n("8a79"),n("0912")),d=n("6dc9"),h=n("4329"),p=n("f57f"),f=n("8277"),m=n("0e62"),g=n("57ee"),b=n("3be9"),_=n("f0ed"),v=n("99d5"),O=(n("b64b"),n("54ab")),y=function(){function e(t,n,r){Object(a["a"])(this,e),this.m_stringData=["Valor prueba texto","Texto corto","0002346","Otro texto","Un texto mas largo de prueba","Mas texto"],this.m_maxRows=100,this.m_keys=[],this.isResultset=!0,this.m_connection=t,this.m_nIterate=-1,this.m_sentence=n,this.m_options=r,this.m_data=[],this.m_maxRows=this.m_data.length,this.m_keys=[]}return Object(i["a"])(e,[{key:"populate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_connection.fetchDataAsync(this.m_sentence,t||this.m_options);case 2:if(n=e.sent,1!=n.hasError){e.next=5;break}throw new c["a"](n.err);case 5:return this.m_data=Array.isArray(n.data)?n.data:[],this.m_maxRows=this.m_data.length,this.m_keys=0==this.m_maxRows?[]:Object.keys(this.m_data[0]),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBytes",value:function(e){return null}},{key:"getColumnCount",value:function(){return 0==this.m_maxRows?0:this.m_keys.length}},{key:"getColumnTypes",value:function(){return[1,2,3,4,5,6,7,8]}},{key:"getColumnName",value:function(e){return 0==this.m_maxRows?0:this.m_keys[e]}},{key:"close",value:function(){this.m_nIterate=-1,this.m_data=null,this.m_maxRows=0}},{key:"resolverField",value:function(e){return"number"==typeof e?this.m_keys[e]:e}},{key:"getValue",value:function(e,t){switch(t){case 0:return p["a"].SafeToInt(this.m_data[this.m_nIterate][this.resolverField(e)]);case 2:return p["a"].SafeToDouble(this.m_data[this.m_nIterate][this.resolverField(e)]);case 3:return O["a"].SafeToDate(this.m_data[this.m_nIterate][this.resolverField(e)]);default:return g["a"].SafeToString(this.m_data[this.m_nIterate][this.resolverField(e)])}}},{key:"getString",value:function(e){return this.getValue(e,1)}},{key:"getInt",value:function(e){return this.getValue(e,0)}},{key:"getDate",value:function(e){return this.getValue(e,3)}},{key:"PageLen",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.length)||-1}},{key:"PageCache",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.cache)||-1}},{key:"next",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",++this.m_nIterate<this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EOF",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate>=this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveTo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t==this.m_maxRows||(this.m_nIterate=t)==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),C=function(){function e(t){Object(a["a"])(this,e),this.m_token=null,this.m_idsUrl="https://ids.xonedev.cloud/connect/token",this.sUrlAddress="https://web.xonedev.cloud/api/itf/DoAction",this.parseConnectionString(t)}return Object(i["a"])(e,[{key:"executeUpdateAsync",value:function(e){throw new Error("Method not implemented.")}},{key:"executeNonQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readBearerTokenAsync();case 2:if(n=e.sent,!b["a"].isEmpty(n)){e.next=5;break}throw new c["a"]("No Auth");case 5:return e.next=7,fetch(this.sUrlAddress,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:if(a=e.sent,!0!==a.hasError){e.next=13;break}throw new c["a"](a.err);case 13:return e.abrupt("return",1);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDataFromParser",value:function(e){return e.GetFields().toJSON()}},{key:"formatOnlineData",value:function(e,t,n){return e.GetSqlType()==f["a"].SQLTYPE_SELECT?{coll:t,action:"select",where:e.GetWhereSentence()}:e.GetSqlType()==f["a"].SQLTYPE_UPDATE||e.GetSqlType()==f["a"].SQLTYPE_INSERT?{coll:t,action:"write",data:this.getDataFromParser(e),keys:e.getKeys(),where:e.GetWhereSentence()}:e.GetSqlType()==f["a"].SQLTYPE_DELETE?{coll:t,action:"drop",data:this.getDataFromParser(e),keys:e.getKeys(),where:null}:{}}},{key:"executeAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"string"==typeof t&&(r=new d["a"]("ROWID"),r.ParseSqlString(t),t=r),e.next=3,this.executeNonQuery(this.formatOnlineData(t,a.length<=2?void 0:a[2],a.length<=3?void 0:a[3]));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAuthData",value:function(){var e=new m["a"]("client_id=");return e.append(this.sUsername),e.append("&client_secret="),e.append(this.sPassword),e.append("&grant_type=client_credentials"),e.toString()}},{key:"readBearerTokenAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.m_token){e.next=3;break}if(!(this.m_token.expires_in>new Date)){e.next=3;break}return e.abrupt("return",this.m_token.access_token);case 3:return e.next=5,fetch(this.m_idsUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:this.getAuthData()});case 5:return t=e.sent,e.next=8,t.json();case 8:if(n=e.sent,!n.error){e.next=12;break}return console.error(n.error),e.abrupt("return",this.m_token=null);case 12:return r=new Date,r.setSeconds(r.getSeconds()+n.expires_in),this.m_token=n,this.m_token.expires_in=r,e.abrupt("return",n.access_token);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"executeQuery",value:function(e){return new y}},{key:"fetchDataAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readBearerTokenAsync();case 2:if(r=e.sent,!b["a"].isEmpty(r)){e.next=5;break}throw new c["a"]("No Auth");case 5:return e.next=7,fetch(this.sUrlAddress,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r},body:JSON.stringify(n)});case 7:return a=e.sent,e.next=10,a.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeQueryAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new d["a"]("ROWID"),n.ParseSqlString(t),r={action:"select",where:n.GetWhereSentence(),sort:n.getOrderBySentence()},r=Object.assign(Object.assign({},r),i.length<=1?void 0:i[1]),a=new y(this,t,r),e.next=7,a.populate();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"countAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new d["a"]("ROWID"),n.ParseSqlString(t),r={action:"count",where:n.GetWhereSentence(),sort:n.getOrderBySentence()},r=Object.assign(Object.assign({},r),i.length<=1?void 0:i[1]),a=new y(this,t,r),e.next=7,a.populate();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"parseConnectionString",value:function(e){var t=h["a"].parseConnectionString(e);this.bIsLoginCall=g["a"].ParseBoolValue(t.get("logincall")),this.bIsJWTCall=g["a"].ParseBoolValue(t.get("jwtcall")),this.sToken=g["a"].SafeToString(t.get("token"),_["a"].EMPTY_STRING),this.nFlags=this.nFlags|(g["a"].ParseBoolValue(t.get("odataformat"))?v["a"].FLAG_XONEJSONODATA:v["a"].FLAG_XONEJSONSQL),this.nFlags=this.nFlags|(g["a"].ParseBoolValue(t.get("customformat"))?v["a"].FLAG_XONEJSONCUSTOM:v["a"].FLAG_XONEJSONSQL),this.nTimeout=p["a"].SafeToInt(t.get("timeout"),60),this.nSecurityLevel=p["a"].SafeToInt(t.get("security level"),0),this.sUrlAddress=t.get("data source"),null!=this.sUrlAddress?(this.sUrlAddress=this.sUrlAddress.trim(),this.sUrlAddress.endsWith("?")&&(this.sUrlAddress=this.sUrlAddress.substring(0,this.sUrlAddress.length-1))):this.sUrlAddress=_["a"].EMPTY_STRING,this.m_idsUrl=t.get("ids")||this.m_idsUrl,this.sMethod=t.get("method"),null==this.sMethod&&(this.sMethod="POST"),this.sUsername=t.get("xoneuser"),null==this.sUsername&&(this.sUsername=_["a"].EMPTY_STRING),this.sPassword=t.get("xonepass"),null==this.sPassword&&(this.sPassword=_["a"].EMPTY_STRING),this.sEndpoint=t.get("endpoint"),null==this.sEndpoint&&(this.sEndpoint=_["a"].EMPTY_STRING),this.sAction=g["a"].SafeToString(t.get("action"),v["a"].DEFAULT_ACTION_NAME),this.sAuthAction=g["a"].SafeToString(t.get("authaction"),v["a"].DEFAULT_AUTHACTION_NAME),this.sContentType=g["a"].SafeToString(t.get("content-type"),v["a"].DEFAULT_CONTENT_TYPE),this.bIsSqlQuery=g["a"].ParseBoolValue(t.get("sqlquery"),!0),this.bPostUrlEncode=g["a"].ParseBoolValue(t.get("postencode"),!1),this.bIsCertificatePinningEnabled=g["a"].ParseBoolValue(t.get("enablecertificatepinning")),this.sLocalCertPath=g["a"].SafeToString(t.get("localcertificatepath")),this.bAuthenticate=g["a"].ParseBoolValue(t.get("auth"),!1),this.bAuthenticate&&(this.sAuthenticationUsername=t.get("user id"),this.sAuthenticationPassword=t.get("password")),this.bUseRemoteBroker=g["a"].ParseBoolValue(t.get("remote broker"),!1),this.sRemoteMapped=g["a"].SafeToString(t.get("remote mapped")),this.sRemoteDest=g["a"].SafeToString(t.get("remote destination")),this.bAllowUnsafeCertificates=g["a"].ParseBoolValue(t.get("allowunsafecertificates"),!1)}},{key:"createStatement",value:function(){throw new Error("Method not implemented.")}},{key:"isClosed",value:function(){throw new Error("Method not implemented.")}},{key:"commit",value:function(){throw new Error("Method not implemented.")}},{key:"beginTrans",value:function(){throw new Error("Method not implemented.")}},{key:"rollback",value:function(){throw new Error("Method not implemented.")}},{key:"execute",value:function(e,t){throw new Error("Method not implemented.")}},{key:"executeUpdate",value:function(e){return 0}},{key:"executeOperation",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"getDBMS",value:function(){throw new Error("Method not implemented.")}},{key:"outerJoinsSupported",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsParsedSentences",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsEmptyQueries",value:function(){throw new Error("Method not implemented.")}},{key:"LastRowsAffected",value:function(){throw new Error("Method not implemented.")}},{key:"LastInsertedRowId",value:function(){throw new Error("Method not implemented.")}},{key:"cancelProcesses",value:function(e){throw new Error("Method not implemented.")}},{key:"setCryptoData",value:function(e){throw new Error("Method not implemented.")}},{key:"getCryptoData",value:function(){throw new Error("Method not implemented.")}},{key:"cryptoSupported",value:function(){throw new Error("Method not implemented.")}},{key:"getTokenFromAuth",value:function(e,t){throw new Error("Method not implemented.")}}]),e}(),S=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,r,i){var o;return Object(a["a"])(this,n),o=t.call(this,r,i),o.m_context=e,o}return Object(i["a"])(n,[{key:"TopAllowed",value:function(){return!1}},{key:"LimitAllowed",value:function(){return!1}},{key:"HasEscapeChars",value:function(){return!1}},{key:"acceptsParsedSentences",value:function(){return!0}},{key:"acceptsEmptyQueries",value:function(){return!1}},{key:"retrievesAutonumericKeys",value:function(){return!1}},{key:"GetNewConnection",value:function(){return this.m_connection=new C(this.m_strConnString)}},{key:"GetCurrentConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.m_connection?this.m_connection:this.GetNewConnection(e)}},{key:"CreateRecordset",value:function(e){return new l["a"](e)}},{key:"CreateRecordsetAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}for(r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=4,(n=this.GetCurrentConnection()).executeQueryAsync.apply(n,[t].concat(a));case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"CountAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}for(r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=4,(n=this.GetCurrentConnection()).countAsync.apply(n,[t].concat(a));case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteSqlString",value:function(e,t,n){return 0}},{key:"ExecuteSqlStringAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ExecuteParsedSql",value:function(e,t,n){return 0}},{key:"ExecuteParsedSqlAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ReplaceCustomOper",value:function(e,t,n){return t}},{key:"InsertTop",value:function(e,t){return e}},{key:"QuoteFieldName",value:function(e){return e}},{key:"EscapeString",value:function(e){return e.startsWith("'")?e:"'".concat(e,"'")}},{key:"Terminate",value:function(){}},{key:"IsOuterJoinSupported",value:function(){return!1}},{key:"RetrieveNumericKey",value:function(e,t,n,r){return 0}},{key:"isUniqueRowID",value:function(e,t){return!0}},{key:"getDbmsTag",value:function(){return"OnlineWebCore"}}]),n}(u["a"])},3:function(e,t){},3019:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("2ca0"),n("8a79"),n("a630"),n("d28b"),n("a4d3"),n("e01a"),function(){function e(){Object(r["a"])(this,e),this._map=new Map,this._pointer=0}return Object(a["a"])(e,[{key:"length",get:function(){return this._map.size}},{key:"next",value:function(){return this._pointer<this._map.size?{done:!1,value:this._map[this._pointer++]}:{done:!0,value:null}}},{key:"toJSON",value:function(){var e=Object.create(null);return this._map.forEach((function(t,n){"string"==typeof t&&t.startsWith("'")&&t.endsWith("'")?e[n]=t.substr(1,t.length-2):e[n]=t})),e}},{key:"values",value:function(){return Array.from(this._map.values())}},{key:"keys",value:function(){return Array.from(this._map.keys())}},{key:"entrySet",value:function(){return Array.from(this._map.entries())}},{key:"entries",get:function(){return this._map}},{key:"isEmpty",value:function(){return 0===this._map.size}},{key:"containsKey",value:function(e){return this._map.has(e)}},{key:"get",value:function(e){return this._map.get(e)}},{key:"delete",value:function(e){return this._map.delete(e)}},{key:"put",value:function(e,t){null===t&&this._map.has(e)?this._map.delete(e):this._map.set(e,t)}},{key:"clear",value:function(){this._map.clear()}},{key:"toObject",value:function(){var e={};return this._map.forEach((function(t,n){return e[n]=t})),e}},{key:Symbol.iterator,value:function(){return this._map.entries()}}]),e}())},3120:function(e,t,n){"use strict";n("32ae")},"32ae":function(e,t,n){},"33a1":function(e,t,n){},"35ff":function(e,t,n){},3743:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("d4ec"),a=function e(t,n){Object(r["a"])(this,e),this.Name=t,this.Value=n}},"394b":function(e,t,n){"use strict";n("2058")},"3b9e":function(e,t,n){"use strict";var r=n("3835"),a=n("d4ec"),i=n("bee2"),o=n("ade3"),s=(n("a9e3"),n("d3b7"),n("25f0"),n("a15b"),n("ac1f"),n("1276"),n("bf19"),n("7db0"),n("4de4"),n("d81d"),n("caad"),n("2532"),n("b0c0"),n("f762"),n("a33b"),n("5d1a")),l=function(){function e(){if(Object(a["a"])(this,e),Object(o["a"])(this,"_appData",void 0),Object(o["a"])(this,"_appNode",void 0),Object(o["a"])(this,"_orientation",void 0),Object(o["a"])(this,"_sizeConditions",void 0),e._instance)return e._instance;e._instance=this}return Object(i["a"])(e,[{key:"setAppData",value:function(e){this._appData=e,this.setAppNode()}},{key:"orientation",get:function(){return this._orientation}},{key:"sizeConditions",get:function(){return this._sizeConditions}},{key:"setAppNode",value:function(){this._appNode=this._appData.getAppNode()}},{key:"getAppSize",value:function(){var e=this._appNode.getAttrValue("resolution-width"),t=this._appNode.getAttrValue("resolution-height");return isNaN(e)||isNaN(t)?(console.error("resolution-width and resolution-height must be numeric in <app></app>"),{width:null,height:null}):{width:Number(e),height:Number(t)}}},{key:"setVisualConditionsMacros",value:function(e,t){this._appData.setGlobalMacro("##SCREEN_RESOLUTION_WIDTH##",e.toString()),this._appData.setGlobalMacro("##SCREEN_RESOLUTION_HEIGHT##",e.toString()),this._orientation=e>t?"horizontal":"vertical",this._appData.setGlobalMacro("##CURRENT_ORIENTATION##",this._orientation),this._sizeConditions=e<600?"xs":e<1024?"sm":e<1440?"md":e<1920?"lg":"xl",this._appData.setVisualConditions(this._sizeConditions,!1)}},{key:"getDeviceId",value:function(){var e=localStorage.getItem("_deviceId");return e||localStorage.setItem("_deviceId",e=Array(5).join(Object(s["a"])())),e}},{key:"setInmutableMacros",value:function(){var e,t=this._appNode.attrs;if(t){var n=this.getDeviceId(),a=Intl.DateTimeFormat().resolvedOptions().locale.split("-"),i=Object(r["a"])(a,2),o=i[0],s=i[1],l=navigator,u=l.platform,c=l.vendor;this._appData.setGlobalMacro("##DEVICE_OS##","web"),this._appData.setGlobalMacro("##DEVICE_OSVERSION##",u),this._appData.setGlobalMacro("##DEVICE_MODEL##",c),this._appData.setGlobalMacro("##VERSION##",null!==(e=null===t||void 0===t?void 0:t.version)&&void 0!==e?e:"1"),this._appData.setGlobalMacro("##DEVICEID##",n),this._appData.setGlobalMacro("##CURRENT_LANGUAGE##",o),this._appData.setGlobalMacro("##CURRENT_COUNTRY_CODE##",s),this._appData.setGlobalMacro("##FRAME_VERSION##","v1"),this._appData.setGlobalMacro("##LIVEUPDATE_VERSION##","0"),this._appData.setGlobalMacro("##DEVICE_MANUFACTURER##","web"),this._appData.setGlobalMacro("##DEVICE_TYPE##","web"),this._appData.setGlobalMacro("##MID##","999"),this._appData.setGlobalMacro("##DEVICE_OSVERSION##","web"),this._appData.setGlobalMacro("##CURRENT_DENSITY##","1"),this._appData.setGlobalMacro("##CURRENT_DENSITY_VALUE##","1")}else console.error("Not found <app></app>")}},{key:"getAutoLogon",value:function(){var e=this._appNode.attrs.getValue("autologon");return"true"===e}},{key:"getWebLayout",value:function(){return this.getAppValueWithConditions("web-layout")}},{key:"getAppValueWithConditions",value:function(e){var t=this;try{var n=this._appNode.getAttrValue(e),r=this._appNode.toJSON().app,a=r.childs.find((function(t){return t[e]}));if(!a||!a[e])return n;var i=a[e].childs.map((function(e){return e.item})).filter((function(e){var t=e.attributes.conditions;return""===t||t.includes("web")})),o=i.filter((function(e){var n=e.attributes.conditions.split(":");return n.includes(t.sizeConditions)}));return o=(0!==o.length||i).filter((function(e){var n=e.attributes.conditions.split(":");return n.includes(t._orientation)})),(0!==o.length||i)[0].attributes.name}catch(s){console.error("Error in getAppValueWithConditions: ".concat(s))}}}]),e}();Object(o["a"])(l,"_instance",void 0),t["a"]=new l},"3be9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"equals",value:function(e,t){return null!=e&&0===e.localeCompare(t)}},{key:"isEmpty",value:function(e){return!e||""===e}}]),e}()},"3e84":function(e,t,n){"use strict";n("acb3")},4:function(e,t){},"41c1":function(e,t,n){"use strict";n("9607")},4329:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("ac1f"),n("1276"),n("498a"),n("3019")),o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"parseConnectionString",value:function(e){var t=new i["a"];return e.split(";").forEach((function(e){var n=e.split("=");n.length>1&&t.put(n[0].trim().toLowerCase(),n.length>0?n[1].trim():"")})),t}}]),e}()},4585:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("25f0"),n("55d5")),o=n("733f"),s=n("f57f"),l=n("54ab"),u=n("57ee"),c=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"DevelopObjectValue",value:function(e){var t,n,r,a,c,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ymd",h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=d;0>=p.length&&(p="ymd");var f=l["a"].GetTypeTag(e);switch(f){case l["a"].OBJ_TYPE_DATE:case l["a"].OBJ_TYPE_CALENDAR:if(a=l["a"].SafeToCalendar(e),null==a)throw new i["a"]("DevelopObjectValue(): Date value is null");switch(p.substring(0,2).equals("##")?(n=p.substring(2,3),p=p.substring(3,p.length)):n="'",p){case"mm/dd/yyyy":case"mdy":t=String.format("%s%02d/%02d/%04d %02d:%02d:%02d%s",n,a.get(o["a"].MONTH),a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].YEAR),a.get(o["a"].HOUR_OF_DAY),a.get(o["a"].MINUTE),a.get(o["a"].SECOND),n);break;case"dd/mm/yyyy":case"dmy":t=String.format("%s%02d/%02d/%04d %02d:%02d:%02d%s",n,a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].MONTH),a.get(o["a"].YEAR),a.get(o["a"].HOUR_OF_DAY),a.get(o["a"].MINUTE),a.get(o["a"].SECOND),n);break;case"yyyy/mm/dd":case"ymd":t=String.format("%s%04d-%02d-%02d %02d:%02d:%02d%s",n,a.get(o["a"].YEAR),a.get(o["a"].MONTH),a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].HOUR_OF_DAY),a.get(o["a"].MINUTE),a.get(o["a"].SECOND),n);break;default:if(p.contains("dmy")&&(t=String.format("%s%02d/%02d/%04d ##TIME##%s",n,a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].MONTH),a.get(o["a"].YEAR),n),p=u["a"].Replace(p,"dmy",t)),p.contains("mdy")&&(t=String.format("%s%02d/%02d/%04d ##TIME##%s",n,a.get(o["a"].MONTH),a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].YEAR),n),p=u["a"].Replace(p,"mdy",t)),p.contains("ymd")&&(t=String.format("%s%04d-%02d-%02d ##TIME##%s",n,a.get(o["a"].YEAR),a.get(o["a"].MONTH),a.get(o["a"].DAY_OF_MONTH),n),p=u["a"].Replace(p,"ymd",t)),c=a.get(o["a"].HOUR),p.contains("##PM##")){switch(c){case 0:c=12,r="PM";break;case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:c-=12,r="PM";break;default:r="AM";break}p=u["a"].Replace(p,"##PM##",r)}else r="24";t=r.length>0?String.format("%02d:%02d:%02d",c,a.get(o["a"].MINUTE),a.get(o["a"].SECOND)):"",p=u["a"].Replace(p,"##TIME##",t),t=p;break}break;case l["a"].NATIVE_TYPE_INT:case l["a"].NATIVE_TYPE_LONG:t=e.toString();break;case l["a"].NATIVE_TYPE_BOOL:t=s["a"].SafeToBool(e)?"-1":"0";break;case l["a"].OBJ_TYPE_NULL:t="NULL";break;case l["a"].NATIVE_TYPE_DOUBLE:case l["a"].NATIVE_TYPE_FLOAT:t=e.toString(),t.contains(",")&&(t=u["a"].Replace(t,",","."));break;case l["a"].OBJ_TYPE_STRING:t=e.toString(),u["a"].IsEmptyString(t)&&h?t="NULL":(t.contains("'")&&(t=u["a"].Replace(t,"'","''")),t="'"+t+"'");break;default:t="NULL";break}return t}}]),e}();c.ONESECOND=1e3,c.ONEMINUTE=6e4,c.ONEHOUR=36e5,c.ONEDAY=864e5,c.ONEWEEK=6048e5,c.ONEMONTH=24192e5,c.ONEYEAR=31536e6},"458e":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),a=n("bee2"),i=n("262e"),o=n("2caf"),s=n("9072"),l=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"removeElement",value:function(e){var t=this.indexOf(e);t>=0&&this.remove(t)}},{key:"addElement",value:function(e){this.push(e)}}]),n}(Object(s["a"])(Array))},"48b5":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=(n("498a"),n("3019")),o=n("3be9"),s=function(){function e(t){Object(r["a"])(this,e),this.m_strLangName=t,this.m_lstMessages=new i["a"]}return Object(a["a"])(e,[{key:"getLanguage",value:function(){return this.m_strLangName}},{key:"GetMessage",value:function(e,t){return this.m_lstMessages.containsKey(e)?this.m_lstMessages.get(e):t}},{key:"LoadMessageFile",value:function(e){var t=null;try{return!0}catch(n){return n.printStackTrace(),!1}finally{this.closeSafely(t)}}},{key:"Clear",value:function(){this.m_lstMessages.clear()}},{key:"ProcessLine",value:function(e){var t=e.indexOf("=");if(t<0)return!1;var n="",r="";return n=e.substring(0,t),t<e.length&&(r=e.substring(t+1,e.length-1)),n=n.trim(),o["a"].isEmpty(r)||this.m_lstMessages.put(n,r),!0}},{key:"closeSafely",value:function(e){if(null!=e)try{e.close()}catch(t){t.printStackTrace()}}}]),e}()},"4aaf":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("25f0"),n("a33b")),o=n("0e62"),s=n("3be9"),l=n("8920"),u=function(){function e(){Object(r["a"])(this,e),this.xml=n("e86d"),this.parser=new this.xml.SaxParser((function(e){var t,n;e.onStartDocument((function(){})),e.onEndDocument((function(){})),e.onStartElementNS((function(e,r,a,u,c){var d=!1,h=null==t,p=new l["a"](r);p.getIndex("ext-file")>=0||(d=p&&p.length>0&&!s["a"].isEmpty(p.getValue("name")),t=d?new i["a"](t,e,p,"name",p.getValue("name")):new i["a"](t,e,p)),h&&(this.rootNode=t),n=new o["a"]})),e.onEndElementNS((function(e,r,a){null!=n&&(t.setText(n.toString()),n=null),t=t.getParentNode()})),e.onCharacters((function(e){null!=n&&n.append(e)})),e.onCdata((function(e){console.log("<CDATA>"+e+"</CDATA>")})),e.onComment((function(e){})),e.onWarning((function(e){console.log("<WARNING>"+e+"</WARNING>")})),e.onError((function(e){console.log("<ERROR>"+JSON.stringify(e)+"</ERROR>")}))}))}return Object(a["a"])(e,[{key:"Deserialize",value:function(e,t,n,r){var a,i;this.parser.parseString(n),(null===(i=null===(a=this.parser)||void 0===a?void 0:a.m_hndDoc)||void 0===i?void 0:i.rootNode)&&(this.m_rootNode=this.parser.m_hndDoc.rootNode)}},{key:"getRootNode",value:function(){return this.m_rootNode}},{key:"createNode",value:function(e,t){throw new Error("Method not implemented.")}}]),e}(),c=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"Deserialize",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"getRootNode",value:function(){throw new Error("Method not implemented.")}},{key:"createNode",value:function(e,t){throw new Error("Method not implemented.")}}],[{key:"getInstance",value:function(){return new u}}]),e}()},5:function(e,t){},"528d":function(e,t,n){"use strict";n.d(t,"c",(function(){return T})),n.d(t,"f",(function(){return k})),n.d(t,"e",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return A})),n.d(t,"g",(function(){return R})),n.d(t,"h",(function(){return I})),n.d(t,"j",(function(){return P})),n.d(t,"i",(function(){return N})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return M}));var r,a,i,o,s,l,u,c,d,h,p,f,m=n("53ca"),g=n("1da1"),b=n("d4ec"),_=n("bee2"),v=n("ade3"),O=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("25f0"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("a9e3"),n("5c40")),y=n("ae56"),C=n("88a8"),S=n("ddd6"),E=n("3b9e"),T=function(e){r=e},k=function(e){a=e},w=function(e){i=e},x=function(e){o=e},A=function(e){s=e},R=function(e){l=e},I=function(e){u=e},P=function(e){c=e},N=function(e){d=e},j=function(e){h=e},M=function(e){p=e},L=new Map,D=function(){function e(){if(Object(b["a"])(this,e),e._instance)return e._instance;e._instance=this}return Object(_["a"])(e,[{key:"addCalendarItem",value:function(e,t,n,r,a){}},{key:"askUserForGPSPermission",value:function(){}},{key:"canMakePhoneCall",value:function(){}},{key:"captureImage",value:function(e,t){}},{key:"checkGPSStatus",value:function(){}},{key:"clearDrawing",value:function(e){var t,n=Object(S["c"])(p);n&&(null===(t=n[e])||void 0===t||t.clearDrawing())}},{key:"createShortcut",value:function(){}},{key:"deleteShortcut",value:function(){}},{key:"dismissNotification",value:function(e){if(e=e.toString(),L.has(e)){var t=L.get(e);t.close(),L.delete(e)}}},{key:"drawMapRoute",value:function(e,t,n,r,a,i,o){}},{key:"endPrint",value:function(){}},{key:"ensureVisible",value:function(e,t){}},{key:"executeActionAfterDelay",value:function(e,t){}},{key:"exit",value:function(){C["a"].deleteLastBreadcumb(),history.back()}},{key:"exitApp",value:function(){C["a"].clearBreadcumbs(),history.back(),r()}},{key:"getLastKnownLocation",value:function(){var e,t=null===(e=f)||void 0===e?void 0:e.coords,n=t.latitude,r=t.longitude;return{latitude:n,longitude:r}}},{key:"getLastKnownLocationAccuracy",value:function(){var e,t=null===(e=f)||void 0===e?void 0:e.coords,n=t.accuracy;return n}},{key:"getLastKnownLocationAltitude",value:function(){var e,t=null===(e=f)||void 0===e?void 0:e.coords,n=t.altitude;return n}},{key:"getLastKnownLocationBearing",value:function(){var e,t=null===(e=f)||void 0===e?void 0:e.coords,n=t.heading;return n}},{key:"getLastKnownLocationDateTime",value:function(){var e;return null!==(e=f)&&void 0!==e&&e.timestamp?new Date(f.timestamp).toString():null}},{key:"getLastKnownLocationLatitude",value:function(){var e,t=null===(e=f)||void 0===e?void 0:e.coords,n=t.latitude;return n}},{key:"getLastKnownLocationLongitude",value:function(){var e,t=null===(e=f)||void 0===e?void 0:e.coords,n=t.longitude;return n}},{key:"getLastKnownLocationProvider",value:function(){return f?"geolocation":""}},{key:"getLastKnownLocationSpeed",value:function(){var e,t=null===(e=f)||void 0===e?void 0:e.coords,n=t.speed;return n}},{key:"getMaxSoundVolumen",value:function(){}},{key:"getSoundVolumen",value:function(){}},{key:"getView",value:function(e){return Object(S["c"])(e||p)}},{key:"hideGroup",value:function(e){l?l(e.toString()):console.error("hideGroup is not defined",e)}},{key:"hideLoader",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return e.next=3,s();case 3:e.next=6;break;case 5:console.error("hideLoader not defined");case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hideNavigationDrawer",value:function(){}},{key:"hideSoftwareKeyboard",value:function(){}},{key:"hideWaitDialog",value:function(){}},{key:"injectJavascript",value:function(e,t){}},{key:"isApplicationInstalled",value:function(e){}},{key:"isOnCall",value:function(){}},{key:"isSuperuserAvailable",value:function(){}},{key:"isTaskKillerInstalled",value:function(){}},{key:"isWifiConnected",value:function(){}},{key:"isWifiEnabled",value:function(){}},{key:"launchApp",value:function(e,t){}},{key:"launchApplication",value:function(e,t){}},{key:"launchEntryPoint",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.showLoader();case 2:if(C["a"].clearBreadcumbs(),t=E["a"].getWebLayout(),!t){e.next=9;break}return e.next=7,C["a"].addNewXoneDataObject(t,"WebLayout",!0);case 7:return e.next=9,Object(O["s"])();case 9:return n=C["a"].getAppData().getEntryPointCollection(C["a"].getAppData().getCurrentVisualConditions()),e.next=12,C["a"].addNewXoneDataObject(this.entryPointFake||n,"EntryPoint");case 12:this.hideLoader();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"lineFeed",value:function(e){}},{key:"lockGroup",value:function(e){}},{key:"makePhoneCall",value:function(e){}},{key:"msgBox",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:"",r=s.length>2&&void 0!==s[2]?s[2]:0,a=0,!(t instanceof y["a"])){e.next=12;break}if(!o){e.next=10;break}return e.next=7,o(t);case 7:return e.abrupt("return",e.sent);case 10:console.error("Method not implemented");case 11:return e.abrupt("return",a);case 12:if(!i){e.next=18;break}return e.next=15,i(t,n,r);case 15:a=e.sent,e.next=19;break;case 18:console.error("msgBox not defined");case 19:return e.abrupt("return",a);case 20:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"msgBoxWithSound",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n,r,a,i,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.playSoundAndVibrate(a,i,o),e.next=3,this.msgBox(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,i,o){return e.apply(this,arguments)}return t}()},{key:"openEditView",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.showLoader();case 2:if("string"!==typeof t){e.next=8;break}return e.next=5,C["a"].addNewXoneDataObject(t);case 5:this.hideLoader(),e.next=9;break;case 8:t instanceof y["a"]?(n=t,C["a"].pushXoneDataObject(n),this.hideLoader()):(this.hideLoader(),console.error("Bad call openEditView with param ",t));case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openEditViewAndExit",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return C["a"].clearBreadcumbs(!0),e.next=3,this.openEditView(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openFile",value:function(e){e=e.replace("/source/","/");var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"openMenu",value:function(e,t,n){}},{key:"openUrl",value:function(e){a?a(e):console.error("Method openUrl not implemented")}},{key:"pickFile",value:function(e,t,n,r,a){var i=document.createElement("input");i.type="file",i.style.display="none",t&&(i.accept=t),i.onchange=function(e){var t=e.target.files[0];console.log(t)},document.body.appendChild(i),i.click(),document.body.removeChild(i)}},{key:"playSound",value:function(e){return this.playSoundAndVibrate(e)}},{key:"playSoundAndVibrate",value:function(e,t,n,r){return new Audio("files/".concat(e)).play()}},{key:"playSoundVolumen",value:function(e){}},{key:"print",value:function(e){}},{key:"printBIDI",value:function(e,t,n){}},{key:"printBarcode",value:function(e,t,n,r){}},{key:"printCommand",value:function(e){}},{key:"printImage",value:function(e,t,n,r,a){}},{key:"printLine",value:function(e){}},{key:"printPDF",value:function(e,t){}},{key:"quitApp",value:function(){this.exitApp()}},{key:"recognizeSpeech",value:function(e,t){if(!webkitSpeechRecognition&&!SpeechRecognition)return console.error("recognizeSpeech not supported. Use chrome browser.");var n=!1,r=!1;if(e instanceof y["a"])n=!0;else{if("object"!==Object(m["a"])(e)||!e.onRecognize)return console.error("recognizeSpeech bad call");r=!0}var a=new(webkitSpeechRecognition||SpeechRecognition);a.continuous=!1,a.interimResults=!1,a.maxAlternatives=1,a.onresult=function(a){var i=a.results[a.results.length-1][0].transcript;r&&e.onRecognize(i),n&&(e[t]=i)},a.onspeechend=function(){return a.stop()},a.onerror=function(t){a.stop(),r&&e.onError&&e.onError(t.error),console.log("%c SpeechRecognition error: '".concat(t.error,"' %c Feature allowed in %c Chrome %c browser "),"color: red","background: #4CABD5; color: white","background: #1F3C6E; color: white","background: #4CABD5; color: white")},a.start()}},{key:"refresh",value:function(){var e=Object(S["c"])(p);if(e){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=1===n.length?n[0].toString().split(","):n;a.forEach((function(t){var n;return null===(n=e[t])||void 0===n?void 0:n.refresh()})),0===n.length&&e.refresh()}}},{key:"refreshAll",value:function(){this.refresh()}},{key:"refreshContentRow",value:function(e,t){var n,r=Object(S["c"])(p);r&&(null===(n=r[e])||void 0===n||n.refreshRow(t))}},{key:"refreshContentSelectedRow",value:function(e){var t,n=Object(S["c"])(p);n&&(null===(t=n[e])||void 0===t||t.refreshSelectedRow())}},{key:"refreshValue",value:function(e){var t,n=Object(S["c"])(p);n&&(null===(t=n[e])||void 0===t||t.refresh())}},{key:"relayout",value:function(){this.refresh()}},{key:"restartApp",value:function(){}},{key:"returnToForeground",value:function(){}},{key:"returnToMainMenu",value:function(){}},{key:"saveDrawing",value:function(e,t){}},{key:"sendMail",value:function(e,t,n,r,a){}},{key:"sendSMS",value:function(e,t){}},{key:"setFeedMode",value:function(e){}},{key:"setLanguage",value:function(e){}},{key:"setMaxWaitDialog",value:function(e){}},{key:"setNotificationLed",value:function(e,t,n){}},{key:"setSelection",value:function(e,t){}},{key:"shareData",value:function(e,t,n){}},{key:"showConsoleReplica",value:function(){}},{key:"showDatePicker",value:function(e){}},{key:"showGroup",value:function(e,t,n,r,a){l?l(e.toString()):console.error("showGroup is  not defined",e)}},{key:"showLoader",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!u){e.next=5;break}return e.next=3,u();case 3:e.next=6;break;case 5:console.error("showLoader is not defined");case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"showNavigationDrawer",value:function(e){}},{key:"showNotification",value:function(e,t,n,r,a,i){var o=this;if(!("Notification"in window))return console.error("shotNotification not supporter in your browse");var s=function(){if("granted"!==Notification.permission)return console.error("Not permission granted to show notifications");e=e.toString(),o.dismissNotification(e);var r=new Notification(t,{icon:"assets/manifest/72x72.png",body:n});r.onclick=function(){a&&o.openEditView(a),o.dismissNotification(e)},L.set(e,r)};"granted"!==Notification.permission?Notification.requestPermission().then((function(){return s()})):s()}},{key:"showSnackbar",value:function(e){d?d(e):console.error("showSnackbar is  not defined",e)}},{key:"showSoftwareKeyboard",value:function(){}},{key:"showToast",value:function(e){c?c(e):console.error("showToast is not defined",e)}},{key:"showWaitDialog",value:function(e){}},{key:"signDataObject",value:function(e,t){}},{key:"sleep",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e()}),1e3*Number(t))}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"speak",value:function(e,t){if(!speechSynthesis)return console.error("speak not supported in your browser");var n=new SpeechSynthesisUtterance(t);e&&(n.lang=e),speechSynthesis.speak(n)}},{key:"speakText",value:function(e){this.speak(null,e)}},{key:"startAudioRecord",value:function(e,t,n){}},{key:"startCamera",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:"photo",!h){e.next=5;break}return e.next=4,h(n);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startGps",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=this,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:3e4,r=o.length>2?o[2]:void 0,navigator.geolocation){e.next=4;break}return e.abrupt("return",console.error("Geolocation not allowed"));case 4:return this.stopGps(),e.next=7,new Promise((function(e){return navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(){return console.error("Could not get location")}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}));case 7:a=e.sent,f=a,console.log(" %c LOCATION ","background-color: BLUE; color: white;",a),this._startGpsTimeout=setTimeout((function(){return i.startGps(t,n,r)}),n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startGpsV1",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startGps();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startGpsV2",value:function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startGps();case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"startKioskMode",value:function(){}},{key:"startPrint",value:function(e){}},{key:"startReplica",value:function(){}},{key:"startScanner",value:function(e,t,n){}},{key:"startSignature",value:function(e,t,n,r,a){}},{key:"startWifi",value:function(){}},{key:"stopAudioRecord",value:function(){}},{key:"stopGps",value:function(){this._startGpsTimeout&&clearTimeout(this._startGpsTimeout)}},{key:"stopGpsV1",value:function(){}},{key:"stopGpsV2",value:function(){}},{key:"stopKioskMode",value:function(){}},{key:"stopPlaySoundAndVibrate",value:function(){}},{key:"stopReplica",value:function(){}},{key:"stopWifi",value:function(){}},{key:"takePhoto",value:function(e,t,n){h&&h()}},{key:"toggleGroup",value:function(e){l?l(e.toString(),!0):console.error("toggleGroup is not defined",e)}},{key:"uninstallApplication",value:function(e){}},{key:"unlockGroup",value:function(e){}},{key:"updateWaitDialog",value:function(e,t){}},{key:"useLastPrinter",value:function(e){}},{key:"vibrate",value:function(){}},{key:"writeString",value:function(){}}]),e}();Object(v["a"])(D,"_instance",void 0);var F=new D;t["a"]=F},"52bf":function(e,t,n){"use strict";n("f581")},"54ab":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),a=n("bee2"),i=(n("8ba4"),n("a9e3"),n("d3b7"),n("25f0"),n("4d90"),n("ac1f"),n("5319"),n("498a"),n("733f")),o=n("57ee"),s=n("3be9"),l=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"IsNothing",value:function(e){return null==e||void 0==e||"undefined"==e}},{key:"IsNumeric",value:function(e){return!isNaN(e)}},{key:"IsFloat",value:function(t){return!e.IsNothing(t)&&(e.IsNumeric(t)&&!Number.isInteger(t))}},{key:"IsInt",value:function(t){return!e.IsNothing(t)&&(e.IsNumeric(t)&&Number.isInteger(t))}},{key:"EqualObj",value:function(e,t){return e===t}},{key:"ZeroCalendarTime",value:function(e){return e.getTime().setHours(0),e.getTime().setMinutes(0),e.getTime().setSeconds(0),e.getTime().setMilliseconds(0),e}},{key:"SafeToCalendar",value:function(e){return e instanceof i["a"]?e:e instanceof Date?new i["a"](e):this.SafeToComplexDate(o["a"].SafeToString(e))}},{key:"SafeToDate",value:function(e){if(e instanceof i["a"])return e.getTime();if(e instanceof Date)return e;var t=this.SafeToComplexDate(o["a"].SafeToString(e));return t?t.getTime():null}},{key:"SafeToDateString",value:function(e){return e instanceof i["a"]?e.toString():(e instanceof Date&&e.toDateString(),o["a"].SafeToString(e))}},{key:"getOnlyTime",value:function(e){return e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}},{key:"SafeToHours",value:function(e){return e?e instanceof i["a"]?this.getOnlyTime(e.getTime()):e instanceof Date?this.getOnlyTime(e):this.getOnlyTime(this.SafeToComplexDate(o["a"].SafeToString(e)).getTime()):this.getOnlyTime(new Date)}},{key:"getDateSeparator",value:function(e){var t=["-","/"];for(var n in t)if(e.indexOf(n)>0)return n;return"/"}},{key:"SafeToComplexDate",value:function(e){if(s["a"].isEmpty(e))return null;var t=/\//g;e=e.trim().replace("T"," ");i["a"].getInstance();var n=this.getDateSeparator(e);return"/"==n&&(e=e.replace(t,"-")),new i["a"](Date.parse(e))}},{key:"GetTypeTag",value:function(e){return null==e?this.OBJ_TYPE_NULL:"number"===typeof e||e instanceof Number?Number.isInteger(e)?this.NATIVE_TYPE_LONG:this.NATIVE_TYPE_DOUBLE:"boolean"===typeof e||e instanceof Boolean?this.NATIVE_TYPE_BOOL:"string"===typeof e||e instanceof String?this.OBJ_TYPE_STRING:e instanceof Date?this.OBJ_TYPE_DATE:e instanceof i["a"]?this.OBJ_TYPE_CALENDAR:this.NOT_NATIVE_TYPE}}]),e}();l.NATIVE_TYPE_LONG=1,l.NATIVE_TYPE_INT=2,l.NATIVE_TYPE_BOOL=3,l.NATIVE_TYPE_DOUBLE=4,l.NATIVE_TYPE_FLOAT=5,l.OBJ_TYPE_STRING=100,l.OBJ_TYPE_DATE=101,l.OBJ_TYPE_CALENDAR=102,l.OBJ_TYPE_NULL=103,l.NOT_NATIVE_TYPE=-1},"54c9":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("0912"),s=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(o["a"])},"55d5":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("0912"),s=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(o["a"])},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("53ca"),a=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23")),i={key:0,class:"xone-layout"};function o(e,t,n,r,o,s){var l=Object(a["C"])("Coll"),u=Object(a["C"])("router-view"),c=Object(a["C"])("SnackBar"),d=Object(a["C"])("Toast"),h=Object(a["C"])("Loader"),p=Object(a["C"])("MsgBox"),f=Object(a["C"])("Camera"),m=Object(a["C"])("Url"),g=Object(a["C"])("Offline"),b=Object(a["C"])("SelectedControl"),_=Object(a["C"])("OverControl"),v=Object(a["C"])("DragControl");return r.containerWidth&&r.containerHeight?(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"xone-app",style:{"--app-width":"".concat(r.containerWidth,"px"),"--app-height":"".concat(r.containerHeight,"px")}},[r.webLayoutBreadcumb?(Object(a["u"])(),Object(a["f"])("div",i,[Object(a["j"])(l,{breadcumb:r.webLayoutBreadcumb,isLayout:!0},null,8,["breadcumb"])])):(Object(a["u"])(),Object(a["f"])(u,{key:1})),Object(a["j"])(c),Object(a["j"])(d),Object(a["j"])(h),Object(a["j"])(p),Object(a["j"])(f),Object(a["j"])(m),Object(a["j"])(g),Object(a["j"])(b),Object(a["j"])(_),Object(a["j"])(v)],4)):Object(a["g"])("",!0)}var s=n("1da1"),l=(n("96cf"),n("4de4"),n("99af"),n("79dc")),u=Object(a["L"])("data-v-780555d3");Object(a["x"])("data-v-780555d3");var c={class:"xone-toast"};Object(a["v"])();var d=u((function(e,t,n,r,i,o){return 0!==r.toastElements.length?(Object(a["u"])(),Object(a["f"])(a["b"],{key:0,to:"body"},[Object(a["j"])("div",c,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.toastElements,(function(e,t){return Object(a["u"])(),Object(a["f"])("div",{key:"toast-".concat(t),class:e.class},Object(a["E"])(e.message),3)})),128))])])):Object(a["g"])("",!0)})),h=(n("7db0"),n("528d")),p={setup:function(){var e=Object(a["z"])([]),t=3e3;return Object(h["j"])((function(n){var r=e.value.find((function(e){return"hide"===e.class}));r||(e.value.push({}),r=e.value[e.value.length-1]),r.message=n,r.class="showanimation",setTimeout((function(){r.class="hideanimation",setTimeout((function(){r.class="hide",0===e.value.filter((function(e){return"showanimation"===e.class||"hideanimation"===e.class})).length&&(e.value=[])}),500)}),t+500)})),{toastElements:e}}};n("1117");p.render=d,p.__scopeId="data-v-780555d3";var f=p,m=Object(a["L"])("data-v-fdf165a4");Object(a["x"])("data-v-fdf165a4");var g={class:"xone-snackbar"},b={class:"xone-snackbar-text"};Object(a["v"])();var _=m((function(e,t,n,r,i,o){return 0!==r.snackBarElements.length?(Object(a["u"])(),Object(a["f"])(a["b"],{key:0,to:"body"},[Object(a["j"])("div",g,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.snackBarElements,(function(e,t){return Object(a["u"])(),Object(a["f"])("div",{key:"snackBar-".concat(t),class:e.class,style:{backgroundColor:e.color,color:e.textColor,width:e.width,height:e.height}},[Object(a["j"])("p",b,Object(a["E"])(e.text),1),Object(a["j"])("p",{class:"xone-snackbar-action",style:{color:e.actionTextColor},onClick:function(t){return r.onSnackBarActionPressed(e)}},Object(a["E"])(e.actionText),13,["onClick"])],6)})),128))])])):Object(a["g"])("",!0)})),v=(n("ac1f"),n("5319"),{setup:function(){var e=Object(a["z"])([]);Object(h["i"])((function(n){var r="string"===typeof n?n={text:n}:n,a=r.color,i=void 0===a?"gray":a,o=r.duration,s=void 0===o?"short":o,l=r.width,u=void 0===l?"100%":l,c=r.height,d=void 0===c?"auto":c,h=r.text,p=void 0===h?"":h,f=r.textColor,m=void 0===f?"white":f,g=r.actionText,b=void 0===g?"Ok":g,_=r.actionTextColor,v=void 0===_?"white":_,O=r.actionMethod,y=void 0===O?function(){}:O,C=e.value.find((function(e){return"hide"===e.class}));C||(e.value.push({}),C=e.value[e.value.length-1]),C.color=i,C.width=null===u||void 0===u?void 0:u.replace("p","px"),C.height=d,C.text=p,C.textColor=m,C.actionText=b,C.actionTextColor=v,C.actionMethod=y,C.class="showanimation","long"===s&&setTimeout((function(){return t(C)}),6500),"indeterminate"!==s&&setTimeout((function(){return t(C)}),3500)}));var t=function(t){t&&"hideanimation"!==(null===t||void 0===t?void 0:t.class)&&"hide"!==(null===t||void 0===t?void 0:t.class)&&(t.class="hideanimation",setTimeout((function(){t.class="hide",0===e.value.filter((function(e){return"showanimation"===e.class||"hideanimation"===e.class})).length&&(e.value=[])}),500))},n=function(e){e&&"hide"!==e.class&&t(e),(null===e||void 0===e?void 0:e.actionMethod)&&e.actionMethod()},r=Object(a["n"])("containerSize"),i=r.containerWidth;return{snackBarElements:e,onSnackBarActionPressed:n,containerWidth:i}}});n("b335");v.render=_,v.__scopeId="data-v-fdf165a4";var O=v,y=Object(a["L"])("data-v-73933dea");Object(a["x"])("data-v-73933dea");var C=Object(a["j"])("div",{class:"xone-loader-transition"},[Object(a["j"])("div")],-1);Object(a["v"])();var S=y((function(e,t,n,r,i,o){return r.isLoaderVisible?(Object(a["u"])(),Object(a["f"])(a["b"],{key:0,to:"body"},[C])):Object(a["g"])("",!0)})),E={setup:function(){var e=Object(a["z"])(!1);return Object(h["h"])(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.value=!0,t.next=3,Object(a["o"])();case 3:case"end":return t.stop()}}),t)})))),Object(h["d"])(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.value=!1,t.next=3,Object(a["o"])();case 3:case"end":return t.stop()}}),t)})))),{isLoaderVisible:e}}};n("789a");E.render=S,E.__scopeId="data-v-73933dea";var T=E,k=Object(a["L"])("data-v-520c13e0");Object(a["x"])("data-v-520c13e0");var w={class:"xone-msgbox"},A={key:0,class:"xone-msgbox-box"},R={class:"xone-msgbox-title"},I={class:"xone-msgbox-text"},P={class:"xone-msgbox-options"},N={key:1,class:"xone-custom-msgbox"};Object(a["v"])();var j=k((function(e,t,n,r,i,o){var s=Object(a["C"])("Coll");return r.state.visible?(Object(a["u"])(),Object(a["f"])(a["b"],{key:0,to:"body"},[Object(a["j"])("div",w,[r.state.isCustomMsgbox?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",A,[Object(a["j"])("div",R,Object(a["E"])(r.state.title),1),Object(a["j"])("div",I,Object(a["E"])(r.state.msg),1),Object(a["j"])("div",P,[Object(a["j"])("button",{onClick:t[1]||(t[1]=function(e){return r.onClick(!0)})},Object(a["E"])(r.state.btn1),1),""!==r.state.btn2?(Object(a["u"])(),Object(a["f"])("button",{key:0,onClick:t[2]||(t[2]=function(e){return r.onClick(!1)})},Object(a["E"])(r.state.btn2),1)):Object(a["g"])("",!0)])])),r.msgboxBreadcumb?(Object(a["u"])(),Object(a["f"])("div",N,[Object(a["j"])(s,{breadcumb:r.msgboxBreadcumb,objectInfo:r.objectInfo},null,8,["breadcumb","objectInfo"])])):Object(a["g"])("",!0)])])):Object(a["g"])("",!0)})),M=(n("5377"),n("d3b7"),n("a9e3"),n("ae56")),D=n("88a8"),F={components:{Coll:l["a"]},setup:function(){var e=Object(a["y"])({isCustomMsgbox:!1,title:"",msg:"",flags:0,btn1:"",btn2:"",response:null,visible:!1});Object(h["e"])(Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=i.length>0&&void 0!==i[0]?i[0]:"",r=i.length>1&&void 0!==i[1]?i[1]:"",a=i.length>2&&void 0!==i[2]?i[2]:0,e.isCustomMsgbox=!1,e.title=r,e.msg=n,e.flags=a,t.t0=a,t.next=0===t.t0?10:1===t.t0?13:4===t.t0?16:19;break;case 10:return e.btn1="Ok",e.btn2="",t.abrupt("break",19);case 13:return e.btn1="Sí",e.btn2="No",t.abrupt("break",19);case 16:return e.btn1="Ok",e.btn2="Cancel",t.abrupt("break",19);case 19:e.response=null,e.visible=!0;case 21:if(e.response){t.next=26;break}return t.next=24,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 24:t.next=21;break;case 26:return e.visible=!1,t.abrupt("return",e.response);case 28:case"end":return t.stop()}}),t)}))));var t=function(t){switch(e.flags){case 0:return e.response=10;case 1:return e.response=t?1:2;case 4:return e.response=t?6:7;default:return e.response=0}},n=Object(a["d"])((function(){var e=D["a"].getBreadcumbs().filter((function(e){return e.isMsgbox}));return 0!==e.length?e[0]:null})),r={isContents:!1,isMsgBox:!0,onMsgBoxOptionSelected:function(t){return D["a"].removeBreadcumb(n.value.id),e.response=isNaN(Number(t))?e.response=t:Number(t)}};Object(h["b"])(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.response=null,n instanceof M["a"]){t.next=3;break}return t.abrupt("return");case 3:D["a"].pushXoneDataObject(n,"Msgbox",!1,!0),e.isCustomMsgbox=!0,e.visible=!0;case 6:if(e.response){t.next=11;break}return t.next=9,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 9:t.next=6;break;case 11:return e.visible=!1,t.abrupt("return",e.response);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var i=Object(a["n"])("containerSize"),o=i.containerWidth,l=i.containerHeight;return{state:e,onClick:t,msgboxBreadcumb:n,containerWidth:o,containerHeight:l,objectInfo:r}}};n("41c1");F.render=j,F.__scopeId="data-v-520c13e0";var G=F,B=Object(a["L"])("data-v-1b8055a2");Object(a["x"])("data-v-1b8055a2");var V={class:"xone-camera"},U={key:1,style:{padding:"50px"}},W={key:0},Y=Object(a["j"])("div",null,[Object(a["j"])("div")],-1),H=Object(a["j"])("br",null,null,-1),X=Object(a["j"])("br",null,null,-1),q={key:1};Object(a["v"])();var z=B((function(e,t,n,r,i,o){return r.isCameraVisible?(Object(a["u"])(),Object(a["f"])(a["b"],{key:0,to:"body"},[Object(a["j"])("div",V,[Object(a["j"])("div",{class:"xone-camera-container",style:{width:"".concat(r.size-50,"px")}},[Object(a["j"])("button",{class:"xone-cancel",onClick:t[1]||(t[1]=function(e){return r.isCameraVisible=!1})}," Cancel "),r.isNotSupported||r.isVideoRecorded||r.isPhotoTook?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("video",{key:0,style:{width:"".concat(r.size-50,"px")},ref:"videoElement",autoplay:""},null,4)),Object(a["K"])(Object(a["j"])("video",{ref:"videoPreviewElement",style:{width:"".concat(r.size-50,"px")},controls:""},null,4),[[a["H"],r.isVideoRecorded]]),Object(a["K"])(Object(a["j"])("div",{ref:"photoPreviewElement",style:{width:"".concat(r.size-50,"px")}},null,4),[[a["H"],r.isPhotoTook]]),r.isNotSupported?(Object(a["u"])(),Object(a["f"])("div",U," CAMERA UNSUPPORTED IN YOUR BROWSER ")):Object(a["g"])("",!0),Object(a["j"])("div",null,[r.isNotSupported||r.isVideoRecorded||r.isPhotoTook?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",W,[!r.isRecording&&r.isTypePhoto?(Object(a["u"])(),Object(a["f"])("button",{key:0,class:"xone-photo",onClick:t[2]||(t[2]=function(){return r.takePhoto&&r.takePhoto.apply(r,arguments)})},[Y,H])):Object(a["g"])("",!0),r.isTypeVideo?(Object(a["u"])(),Object(a["f"])("button",{key:1,class:"xone-video",onClick:t[3]||(t[3]=function(){return r.recordVideo&&r.recordVideo.apply(r,arguments)})},[Object(a["j"])("div",null,[Object(a["j"])("div",{style:{borderRadius:r.isRecording?"5px":"100%"}},null,4)]),X])):Object(a["g"])("",!0)])),r.isVideoRecorded||r.isPhotoTook?(Object(a["u"])(),Object(a["f"])("div",q,"PREVIEW")):Object(a["g"])("",!0)])],4)])])):Object(a["g"])("",!0)})),K=(n("159b"),n("3ca3"),n("ddb0"),n("2b3d"),{setup:function(){var e,t=Object(a["z"])(!1),n=Object(a["z"])(),r=Object(a["z"])(!1),i=Object(a["z"])(!1),o=Object(a["z"])(),l=Object(a["z"])(),u=Object(a["z"])(!1),c=Object(a["z"])(!1),d=Object(a["z"])(!1);Object(h["k"])((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"photo";c.value="photo"!==e,d.value="video"!==e,t.value=!0})),Object(a["I"])((function(){return t.value}),function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(u.value=!1,r.value=!1,i.value=!1,!a){t.next=13;break}if(navigator.mediaDevices){t.next=6;break}return t.abrupt("return",u.value=!0);case 6:return navigator.mediaDevices.enumerateDevices().then(console.log),t.next=9,navigator.mediaDevices.getUserMedia({audio:!1,video:!0});case 9:e=t.sent,n.value.srcObject=e,t.next=14;break;case 13:e&&e.getTracks().forEach((function(e){return e.stop()}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var p,f,m,g,b=Object(a["n"])("containerSize"),_=b.containerWidth,v=b.containerHeight,O=Object(a["d"])((function(){return _.value<v.value?_.value:v.value})),y=function(){var e=n.value,t=e.offsetWidth,a=e.offsetHeight,s=document.createElement("canvas");s.attributes.overflow="auto",s.width=t,s.height=a;var l=s.getContext("2d");l.drawImage(e,0,0,s.width,s.height),l.canvas.toBlob((function(t){g=t;var n=new Image;n.src=URL.createObjectURL(t),n.width=e.offsetWidth,n.height=e.offsetHeight,setTimeout((function(){return URL.revokeObjectURL(t)}),250),o.value.innerHTML="",o.value.appendChild(n),i.value=!1,r.value=!0}))},C=Object(a["z"])(!1),S=function(){try{if(C.value&&(p&&clearTimeout(p),f.stop()),!MediaRecorder)return void(u.value=!0);m=[];var t={mimeType:"video/webm;codecs=h264"};MediaRecorder.isTypeSupported(t.mimeType)||(t.mimeType="video/webm;codecs=vp8"),f=new MediaRecorder(e,t),f.start(),C.value=!0,f.ondataavailable=function(e){return m.push(e.data)},f.onstop=function(){g=new Blob(m,{type:"video/webm"});var e=URL.createObjectURL(g);l.value.onload=function(){return URL.revokeObjectURL(e)},l.value.src=e,l.value.autoplay=!0,i.value=!0,r.value=!1,C.value=!1},p=setTimeout((function(){return f.stop()}),15e3)}catch(n){console.log("%c MediaRecorded error: '".concat(n,"' %c Feature allowed in %c Chrome %c browser "),"color: red","background: #4CABD5; color: white","background: #1F3C6E; color: white","background: #4CABD5; color: white")}};return{isCameraVisible:t,videoElement:n,size:O,isNotSupported:u,takePhoto:y,isRecording:C,recordVideo:S,photoPreviewElement:o,videoPreviewElement:l,isPhotoTook:r,isVideoRecorded:i,isTypeVideo:c,isTypePhoto:d}}});n("136a");K.render=z,K.__scopeId="data-v-1b8055a2";var J=K,Q=Object(a["L"])("data-v-41849767"),Z=Q((function(e,t,n,r,i,o){return r.url?(Object(a["u"])(),Object(a["f"])(a["b"],{key:0,to:"body"},[Object(a["j"])("div",{class:"xone-url",onClick:t[1]||(t[1]=function(e){return r.url=null})},[Object(a["j"])("div",null,[Object(a["j"])("iframe",{src:r.url},null,8,["src"])])])])):Object(a["g"])("",!0)})),$={setup:function(){var e=Object(a["z"])();return Object(h["f"])((function(t){return e.value=t})),{url:e}}};n("5815");$.render=Z,$.__scopeId="data-v-41849767";var ee=$,te=Object(a["L"])("data-v-22d16763");Object(a["x"])("data-v-22d16763");var ne=Object(a["j"])("div",{class:"xone-online"},[Object(a["j"])("div",null,"Offline")],-1);Object(a["v"])();var re=te((function(e,t,n,r,i,o){return r.isOnline?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])(a["b"],{key:0,to:"body"},[ne]))})),ae={setup:function(){Object(a["s"])((function(){window.addEventListener("online",e),window.addEventListener("offline",t)})),Object(a["t"])((function(){window.removeEventListener("online",e),window.removeEventListener("offline",t)}));var e=function(){return n.value=!0},t=function(){return n.value=!1},n=Object(a["z"])(navigator.onLine);return{isOnline:n}}};n("b94b");ae.render=re,ae.__scopeId="data-v-22d16763";var ie=ae,oe=Object(a["L"])("data-v-716f2b7c");Object(a["x"])("data-v-716f2b7c");var se=Object(a["j"])("div",null,null,-1),le={class:"xone-designer-selected-options-name"};Object(a["v"])();var ue=oe((function(e,t,n,r,i,o){return r.isDesigner?(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"xone-designer-selected-container",style:{opacity:r.opacity,"--image-parent":"url(".concat(r.appPath,"/assets/parent.png)"),"--image-move":"url(".concat(r.appPath,"/assets/move.png)")}},[r.isDesigner&&r.location?(Object(a["u"])(),Object(a["f"])("div",{key:0,style:[{position:"absolute",outline:"3px solid white",transition:"all 0.3s"},{top:r.location.top+"px",left:r.location.left+"px",width:r.location.width+"px",height:r.location.height+"px"}]},null,4)):Object(a["g"])("",!0),r.isDesigner&&r.location?(Object(a["u"])(),Object(a["f"])("div",{key:1,class:"xone-designer-selected",style:{top:r.location.top+"px",left:r.location.left+"px",width:r.location.width+"px",height:r.location.height+"px","--border":r.border}},[r.isGroup?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"xone-designer-selected-resizer",onMouseleave:t[1]||(t[1]=function(e){return r.onMouseLeave()})},[se],32)),Object(a["j"])("div",{class:"xone-designer-selected-options",style:{top:r.location.top>25?"-25px":"0px"}},[Object(a["j"])("div",le,Object(a["E"])(r.controlName),1),r.isGroup?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"xone-designer-selected-option-parent",onClick:t[2]||(t[2]=function(){return r.onParentButtonClick&&r.onParentButtonClick.apply(r,arguments)})})),r.isGroup?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",{key:1,style:{"z-index":"9999999"},onMousedown:t[3]||(t[3]=function(){return r.onDragStart&&r.onDragStart.apply(r,arguments)}),onMouseup:t[4]||(t[4]=function(){return r.onDragEnd&&r.onDragEnd.apply(r,arguments)}),onTouchstart:t[5]||(t[5]=function(){return r.onDragStart&&r.onDragStart.apply(r,arguments)}),onTouchend:t[6]||(t[6]=function(){return r.onDragEnd&&r.onDragEnd.apply(r,arguments)}),class:"xone-designer-selected-option-move"},null,32))],4)],4)):Object(a["g"])("",!0)],4)):Object(a["g"])("",!0)})),ce=n("d4ec"),de=n("bee2"),he=n("ade3"),pe=n("a1e9"),fe=function(){function e(){if(Object(ce["a"])(this,e),Object(he["a"])(this,"_isDesigner",Object(pe["j"])(!1)),Object(he["a"])(this,"_isDragging",Object(pe["j"])(!1)),Object(he["a"])(this,"_selectedControl",Object(pe["j"])()),Object(he["a"])(this,"_dragControl",Object(pe["j"])()),Object(he["a"])(this,"_overControl",Object(pe["j"])()),Object(he["a"])(this,"_overControls",Object(pe["j"])([])),Object(he["a"])(this,"_designPadding",10),e._instance)return e._instance;e._instance=this}return Object(de["a"])(e,[{key:"mouseMove",value:function(e){if(!this._isDesigner&&!this._isDragging)return this._dragControl.value=null;var t=e.target;while(t&&!t.getAttribute("xone-name"))t=t.parentElement;this._dragControl.value=t}},{key:"setIsDesigner",value:function(e){this._isDesigner.value=e}},{key:"setIsDragging",value:function(e){this._isDragging.value=e,this._dragControl.value=null}},{key:"getIsDesigner",value:function(){return this._isDesigner}},{key:"getIsDragging",value:function(){return this._isDragging}},{key:"getDesignPadding",value:function(){return this._designPadding}},{key:"setSelectedControl",value:function(e){this._selectedControl.value=e}},{key:"setOverControl",value:function(e){if(e)return this._overControl.value=e;this._overControl.value=0!==this._overControls.value.length?this._overControls.value[this._overControls.value.length-1]:null}},{key:"addOverControl",value:function(e){-1===this._overControls.value.indexOf(e)&&this.pushOverControl(e)}},{key:"pushOverControl",value:function(e){this._overControls.value.push(e),this.setOverControl()}},{key:"removeOverControl",value:function(e){this._overControls.value=this._overControls.value.filter((function(t){return t!==e})),this.setOverControl()}},{key:"getSelectedControl",value:function(){return this._selectedControl}},{key:"getDragControl",value:function(){return this._dragControl}},{key:"getOverControl",value:function(){return this._overControl}},{key:"getOverControls",value:function(){return this._overControls.value}},{key:"getBorderPropOver",value:function(){return"3px dashed #1F3C6E"}},{key:"getBorderContainerOver",value:function(){return"3px solid #4CABD5"}},{key:"getBorderSelected",value:function(){return"3px dashed #1F3C6E"}},{key:"getBorderOver",value:function(){return"3px dashed #4CABD5"}},{key:"mouseEnter",value:function(e){this.addOverControl(e)}},{key:"mouseLeave",value:function(e){this.removeOverControl(e)}},{key:"mouseDown",value:function(e){this._isDesigner&&(e.preventDefault(),e.stopPropagation(),this.setSelectedControl(this._overControls?this._overControls.value[this._overControls.value.length-1]:null))}}]),e}();Object(he["a"])(fe,"_instance",void 0);var me=new fe,ge={setup:function(){var e=me.getSelectedControl(),t=Object(a["z"])(""),n=Object(a["z"])(!1),r=Object(a["z"])(1),i=Object(a["z"])();Object(a["I"])((function(){return e.value}),(function(e){try{if(!e)return i.value=null;t.value=e.getAttribute("xone-name"),n.value="true"===e.getAttribute("group"),i.value={top:e.getBoundingClientRect().top,left:e.getBoundingClientRect().left,width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height}}catch(r){i.value=null}}));var o=function(){var t,n=e.value,r=null===n||void 0===n||null===(t=n.parentNode)||void 0===t?void 0:t.parentNode;r&&r.classList.contains("xone-frame")&&me.setSelectedControl(r)},s=function(e){r.value=.3,me.setIsDragging(!0),document.body.style.cursor="move",document.body.addEventListener("mouseup",l),document.body.addEventListener("touchend",l)},l=function e(t){r.value=1,me.setIsDragging(!1),document.body.style.cursor="default",document.body.removeEventListener("mouseup",e),document.body.removeEventListener("touchend",e)};return{controlName:t,location:i,isDesigner:me.getIsDesigner(),border:me.getBorderSelected(),onMouseLeave:function(){},onParentButtonClick:o,onDragStart:s,onDragEnd:l,isGroup:n,opacity:r,appPath:Object(a["n"])("appPath")}}};n("2056");ge.render=ue,ge.__scopeId="data-v-716f2b7c";var be=ge,_e=Object(a["L"])("data-v-725183bb");Object(a["x"])("data-v-725183bb");var ve={key:0,class:"xone-designer-over-container"};Object(a["v"])();var Oe=_e((function(e,t,n,r,i,o){return r.isDesigner?(Object(a["u"])(),Object(a["f"])("div",ve,[r.isDesigner&&r.location?(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"xone-designer-over",onClick:t[1]||(t[1]=function(e){return r.onMouseClick()}),onMouseleave:t[2]||(t[2]=function(e){return r.onMouseLeave()}),style:{top:r.location.top,left:r.location.left,width:r.location.width,height:r.location.height,"--border":r.border}},null,36)):Object(a["g"])("",!0)])):Object(a["g"])("",!0)})),ye={setup:function(){var e=me.getOverControl(),t=me.getSelectedControl(),n=Object(a["z"])();return Object(a["I"])((function(){return e.value}),(function(r){try{if(r!==e.value)return;if(!r||r===t.vue)return n.value=null;n.value={top:r.getBoundingClientRect().top+"px",left:r.getBoundingClientRect().left+"px",width:r.getBoundingClientRect().width+"px",height:r.getBoundingClientRect().height+"px"}}catch(a){n.value=null}})),{location:n,isDesigner:me.getIsDesigner(),border:me.getBorderOver(),onMouseClick:function(){me.setSelectedControl(e.value)},onMouseLeave:function(){me.setOverControl(null)}}}};n("96e0");ye.render=Oe,ye.__scopeId="data-v-725183bb";var Ce=ye,Se=(n("b0c0"),Object(a["L"])("data-v-2c3f1026"));Object(a["x"])("data-v-2c3f1026");var Ee={key:0,class:"xone-designer-drag"};Object(a["v"])();var Te=Se((function(e,t,n,r,i,o){return r.isDesigner?(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"xone-designer-drag-container",style:{"--image-back":"url(".concat(r.appPath,"/assets/arrow-up.png)"),"--image-right":"url(".concat(r.appPath,"/assets/arrow-right.png)"),"--image-down":"url(".concat(r.appPath,"/assets/arrow-down.png)"),"--image-left":"url(".concat(r.appPath,"/assets/arrow-left.png)")}},[r.isDesigner&&r.isDragging?(Object(a["u"])(),Object(a["f"])("div",Ee,[r.containerSelected?(Object(a["u"])(),Object(a["f"])("div",{key:0,style:{position:"absolute",zIndex:9999999,left:r.containersInfo.find((function(e){return e.name===r.containerSelected})).left+"px",top:r.containersInfo.find((function(e){return e.name===r.containerSelected})).top+"px",width:r.containersInfo.find((function(e){return e.name===r.containerSelected})).width+"px",height:r.containersInfo.find((function(e){return e.name===r.containerSelected})).height+"px",outline:"3px solid blue"}},null,4)):Object(a["g"])("",!0),r.location?(Object(a["u"])(),Object(a["f"])("div",{key:1,style:{background:"rgba(211,211,211, .3)",position:"absolute",outline:r.border,outlineOffset:"-5px",top:r.location.top+"px",left:r.location.left+"px",width:r.location.width+"px",height:r.location.height+"px"}},null,4)):Object(a["g"])("",!0),r.location?(Object(a["u"])(),Object(a["f"])("div",{key:2,class:"xone-designer-drag-move move-up",onMouseenter:t[1]||(t[1]=function(e){return r.moveCursorTo("up")}),onMouseleave:t[2]||(t[2]=function(e){return r.moveCursorTo("")}),style:{top:r.location.top+"px",left:r.location.left+r.selectorSize.x+"px",width:r.location.width-2*r.selectorSize.x+"px",height:r.selectorSize.y+"px"}},null,36)):Object(a["g"])("",!0),r.location?(Object(a["u"])(),Object(a["f"])("div",{key:3,class:"xone-designer-drag-move move-down",onMouseenter:t[3]||(t[3]=function(e){return r.moveCursorTo("bottom")}),onMouseleave:t[4]||(t[4]=function(e){return r.moveCursorTo("")}),style:{position:"absolute",top:r.location.top+r.location.height-r.selectorSize.y+"px",left:r.location.left+r.selectorSize.x+"px",width:r.location.width-2*r.selectorSize.x+"px",height:r.selectorSize.y+"px"}},null,36)):Object(a["g"])("",!0),r.location?(Object(a["u"])(),Object(a["f"])("div",{key:4,class:"xone-designer-drag-move move-left",onMouseenter:t[5]||(t[5]=function(e){return r.moveCursorTo("left")}),onMouseleave:t[6]||(t[6]=function(e){return r.moveCursorTo("")}),style:{top:r.location.top+"px",left:r.location.left+"px",width:r.selectorSize.x+"px",height:r.location.height+"px"}},null,36)):Object(a["g"])("",!0),r.location?(Object(a["u"])(),Object(a["f"])("div",{key:5,class:"xone-designer-drag-move move-right",onMouseenter:t[7]||(t[7]=function(e){return r.moveCursorTo("right")}),onMouseleave:t[8]||(t[8]=function(e){return r.moveCursorTo("")}),style:{position:"absolute",top:r.location.top+"px",left:r.location.left+r.location.width-r.selectorSize.x+"px",width:r.selectorSize.x+"px",height:r.location.height+"px"}},null,36)):Object(a["g"])("",!0),r.cursorCoordinates?(Object(a["u"])(),Object(a["f"])("div",{key:6,style:{zIndex:9999999,outline:"1px black solid",position:"absolute",width:r.cursorCoordinates.width+"px",height:r.cursorCoordinates.height+"px",background:"red",transition:"all .3s",top:r.cursorCoordinates.top+"px",left:r.cursorCoordinates.left+"px",opacity:r.cursorCoordinates.opacity}},null,4)):Object(a["g"])("",!0),(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.containersInfo,(function(e){return Object(a["u"])(),Object(a["f"])("div",{key:e.name,class:"xone-designer-drag-containers",style:{left:e.positionX+"px",top:e.positionY+"px",width:10*e.name.length+"px",background:e.name===r.containerSelected?"blue":"white",color:e.name===r.containerSelected?"white":"black"},onMouseenter:function(t){return r.onMouseEnter(e.name)},onMouseleave:t[9]||(t[9]=function(e){return r.onMouseLeave()})},Object(a["E"])(e.name),45,["onMouseenter"])})),128))])):Object(a["g"])("",!0)],4)):Object(a["g"])("",!0)})),ke=n("5530"),we=(n("d81d"),n("caad"),{setup:function(){var e=me.getIsDesigner(),t=me.getIsDragging(),n=me.getSelectedControl(),r=me.getDragControl(),i=Object(a["z"])(),o=Object(a["z"])(),s=Object(a["z"])(),l=Object(a["z"])([]);return Object(a["I"])((function(){return r.value}),(function(r){if(e.value&&t.value){l.value=[],i.value="",o.value=null,s.value=Object(ke["a"])(Object(ke["a"])({},s.value),{},{width:0,height:0,opacity:0});try{var a=r;o.value={top:a.getBoundingClientRect().top-5,left:a.getBoundingClientRect().left-5,width:a.getBoundingClientRect().width+10,height:a.getBoundingClientRect().height+10,isContainer:a.classList.contains("xone-frame")};while(a){if(a.classList.contains("xone-frame")){var u={control:a,name:a.getAttribute("xone-name"),top:a.getBoundingClientRect().y,left:a.getBoundingClientRect().x,width:a.getBoundingClientRect().width,height:a.getBoundingClientRect().height,positionY:a.getBoundingClientRect().y,positionX:a.getBoundingClientRect().x};l.value.push(u)}a===n.value&&(l.value=[],o.value=null),a=a.parentElement}l.value=l.value.map((function(e){var t=l.value.find((function(t){return t.name!==e.name&&t.positionX>=e.positionX&&t.positionX+10*t.name.length<=e.positionX+10*e.name.length&&t.positionY>=e.positionY&&t.positionY+21<=e.positionX+21}));return t&&(e.positionY+=21),e}))}catch(c){}}})),{isDesigner:me.getIsDesigner(),isDragging:me.getIsDragging(),location:o,containersInfo:l,containerSelected:i,onMouseEnter:function(e){s.value=Object(ke["a"])(Object(ke["a"])({},s.value),{},{width:0,height:0,opacity:0}),i.value=e},onMouseLeave:function(){return i.value=null},cursorCoordinates:s,border:me.getBorderOver(),moveCursorTo:function(e){r.value.classList.contains("xone-frame")&&l.value.length>1?i.value=l.value[1].name:i.value=l.value[0].name;var t=o.value.left,n=o.value.top,a=o.value.width,u=o.value.height;if(r.value.classList.contains("xone-frame")&&1===l.value.length){var c=l.value[0].control;c=["bottom","right"].includes(e)?c.lastElementChild:c.firstElementChild,t=c.getBoundingClientRect().left,a=c.getBoundingClientRect().width,n=c.getBoundingClientRect().top,u=c.getBoundingClientRect().height}var d=10;switch(e){case"left":return s.value={left:t,top:n,width:d,height:u,opacity:1};case"up":return s.value={left:t,top:n,width:a,height:d,opacity:1};case"right":return s.value={left:t+a,top:n,width:d,height:u,opacity:1};case"bottom":return s.value={left:t,top:n+u,width:a,height:d,opacity:1}}},selectorSize:Object(a["d"])((function(){var e=30,t=30;return o.value.width/2<e&&(e=o.value.width/2),o.value.height/2<t&&(t=o.value.height/2),o.value.isContainer||(o.value.width>o.value.height?(e=o.value.width/4,t=o.value.height/2):(e=o.value.width/2,t=o.value.height/4)),{x:e,y:t}})),appPath:Object(a["n"])("appPath")}}});n("dfb4");we.render=Te,we.__scopeId="data-v-2c3f1026";var xe,Ae=we,Re=n("f762"),Ie=n("652f"),Pe=n("3b9e"),Ne=n("6c02"),je=(n("2532"),n("ddd6")),Me=1,Le=1,De=function(e){return Me=e||1},Fe=function(e){return Le=e||1},Ge=function(){function e(){Object(ce["a"])(this,e),Object(he["a"])(this,"_target",void 0),Object(he["a"])(this,"_options",void 0),Object(he["a"])(this,"_keyframes",void 0),Object(he["a"])(this,"_callback",void 0),Object(he["a"])(this,"_animate",!1)}return Object(de["a"])(e,[{key:"stop",value:function(){this._animate=!1,this._target&&this._target.animate({})}},{key:"animate",value:function(){var e=this;this._animate&&(this._animate=!1,this._target&&(this._callback&&setTimeout((function(){return e._callback()}),this._options.duration),this._target.animate(this._keyframes,this._options)))}},{key:"initAnimate",value:function(){var e=this;this._animate||(this._options={duration:300,fill:"forwards"},this._keyframes=[],this._animate=!0,this._callback=null,Promise.resolve().then((function(){return e.animate()})))}},{key:"setTarget",value:function(e){return this.initAnimate(),this._target=e.element||document.querySelector('[xone-name="'.concat(e.name,'"]')),this}},{key:"setDuration",value:function(e){return this.initAnimate(),this._options.duration=e,this}},{key:"setCircularReveal",value:function(){return this}},{key:"setRelativeScaleX",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"scaleX(".concat(e,")")}),this}},{key:"setRelativeScaleY",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"scaleY(".concat(e,")")}),this}},{key:"setScaleX",value:function(e){return this.setRelativeScaleX(e)}},{key:"setScaleY",value:function(e){return this.setRelativeScaleY(e)}},{key:"setRelativeX",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"translateX(".concat(e*Me,"px)")}),this}},{key:"setRelativeY",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"translateY(".concat(e*Le,"px)")}),this}},{key:"setX",value:function(e){return this.setRelativeX(e,!0),this}},{key:"setY",value:function(e){return this.setRelativeY(e),this}},{key:"setZ",value:function(){return this}},{key:"setWidth",value:function(e){return this.initAnimate(),isNaN(Number(e))?(e.includes("p")||e.includes("px"))&&(e=Number(e.replace("px","").replace("p",""))*Me+"px"):e=Number(e)*Me+"px",this._keyframes.push({width:e}),this}},{key:"setHeight",value:function(e){return this.initAnimate(),isNaN(Number(e))?(e.includes("p")||e.includes("px"))&&(e=Number(e.replace("px","").replace("p",""))*Le+"px"):e=Number(e)*Le+"px",this._keyframes.push({height:e}),this}},{key:"setAlpha",value:function(e){return this.initAnimate(),this._keyframes.push({opacity:e}),this}},{key:"setEndCallback",value:function(e){this._callback=e}},{key:"setRepeatMode",value:function(e){return this.initAnimate(),-1===e?this._options.iterations="Infinity":isNaN(Number(e))||(this._options.iterations=e),this}},{key:"setRotation",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"rotate(".concat(e,"deg)")}),this}},{key:"setRelativeRotation",value:function(e){return this.setRotation(e)}},{key:"setInterpolation",value:function(e){switch(e){case"AccelerateDecelerateInterpolator":return this._options.easing="ease";case"AccelerateInterpolator":return this._options.easing="ease-in";case"AnticipateInterpolator":return this._options.easing="ease-out";case"AnticipateOvershootInterpolator":return this._options.easing="ease-in-out";case"BounceInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"CycleInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"DecelerateInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"FastOutLinearInInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"FastOutSlowInInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"LinearInterpolator":return this._options.easing="linear";case"LinearOutSlowInInterpolator":return this._options.easing="cubic-bezier(1,1,.5,.5);";case"OvershootInterpolator":return this._options.easing="cubic-bezier(0,0,1,1);";default:return this._options.easing=""}}}]),e}(),Be=(n("2ca0"),function(e){return xe=e}),Ve=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"icons",r=!(s.length>2&&void 0!==s[2])||s[2],a=new Image,i=t,e.prev=4,e.next=7,new Promise((function(e,t){var r,o;null!==(r=i)&&void 0!==r&&r.includes("icons/")||null!==(o=i)&&void 0!==o&&o.includes("files/")||(i="/".concat(n,"/").concat(i)),xe&&!i.startsWith(xe)&&(i="".concat(xe).concat(i)),console.log(i),a.src=i,a.onload=function(){console.log("successful"),e()},a.onerror=function(){return t()}}));case 7:e.next=17;break;case 9:if(e.prev=9,e.t0=e["catch"](4),console.log("error"),r){e.next=14;break}return e.abrupt("return",null);case 14:if(null===(o=i)||void 0===o||!o.includes("icons/")){e.next=16;break}return e.abrupt("return",Ve(i.replace("icons/","files/"),"",!1));case 16:return e.abrupt("return",Ve(i.replace("files/","icons/"),"",!1));case 17:return e.abrupt("return",i);case 18:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"icons",r=!(l.length>2&&void 0!==l[2])||l[2],a=new Image,i=t,o={width:0,height:0},e.prev=5,e.next=8,new Promise((function(e,t){var r,o;null!==(r=i)&&void 0!==r&&r.includes("icons/")||null!==(o=i)&&void 0!==o&&o.includes("files/")||(i="/".concat(n,"/").concat(i)),xe&&!i.startsWith(xe)&&(i="".concat(xe).concat(i)),console.log(i),a.src=i,a.onload=function(){console.log("successful"),e({width:this.width,height:this.height})},a.onerror=function(){return t()}}));case 8:o=e.sent,e.next=19;break;case 11:if(e.prev=11,e.t0=e["catch"](5),console.log("error"),r){e.next=16;break}return e.abrupt("return",null);case 16:if(null===(s=i)||void 0===s||!s.includes("icons/")){e.next=18;break}return e.abrupt("return",Ue(i.replace("icons/","files/"),"",!1));case 18:return e.abrupt("return",Ue(i.replace("files/","icons/"),"",!1));case 19:return e.abrupt("return",{path:i,imgSize:o});case 20:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}(),We={components:{Coll:l["a"],Toast:f,SnackBar:O,Loader:T,MsgBox:G,Camera:J,Url:ee,Offline:ie,SelectedControl:be,OverControl:Ce,DragControl:Ae},setup:function(){console.log(navigator);var e="";console.log("%c b y %c X %c >O n e %c ".concat(e),"background: whitesmoke; color: #1F3C6E; font-weight: bold; display: block; font-size: 17px;","background: #4CABD5   ; color: white  ; font-weight: bold; display: block; font-size: 17px;","background: #1F3C6E   ; color: white  ; font-weight: bold; display: block; font-size: 17px;","color: #1F3C6E");var t=Object(Ne["d"])(),n=Object(Ne["c"])(),r=Object(a["d"])((function(){var e=D["a"].getBreadcumbs().filter((function(e){return e.isWebLayout}));return 0!==e.length?e[0]:null})),i=Object(a["d"])((function(){return D["a"].getBreadcumbs().filter((function(e){return!e.isWebLayout&&!e.isMsgbox&&!e.isContentsRow}))}));Object(a["w"])("routeBreadcumbs",i);var o=Object(a["d"])((function(){return 0!==i.value.length&&i.value[i.value.length-1]}));Object(a["w"])("lastBreadcumb",o);var l=Object(a["z"])(),u=Object(a["z"])();Object(a["w"])("appSize",{appWidth:l,appHeight:u});var c,d=Object(a["z"])(null),p=Object(a["z"])(null),f=Object(a["z"])(!1);Object(a["w"])("isInputFocused",f),Object(a["I"])((function(){return f.value}),(function(e){e||setTimeout((function(){return g()}),250)}));var m=!1,g=function(){c&&clearTimeout(c),c=setTimeout((function(){var e=m?window.devicePixelRatio:1;f.value||(d.value=(l.value&&window.innerWidth>l.value?l.value:window.innerWidth)*e-2,p.value=(u.value&&window.innerHeight>u.value?u.value:window.innerHeight)*e-2,Pe["a"]&&Pe["a"].setVisualConditionsMacros(d.value,p.value),b.value=Pe["a"].sizeConditions,_.value=Pe["a"].orientation)}),50)};Object(a["s"])((function(){return window.addEventListener("resize",g)})),Object(a["t"])((function(){return window.removeEventListener("resize",g)})),Object(a["w"])("containerSize",{containerWidth:d,containerHeight:p});var b=Object(a["z"])("");Object(a["w"])("sizeConditions",b);var _=Object(a["z"])("");Object(a["w"])("orientation",_);var v=Object(a["d"])((function(){return l.value?d.value/l.value:1})),O=Object(a["d"])((function(){return u.value?p.value/u.value:1}));Object(a["w"])("scaleFactor",{widthFactor:v,heightFactor:O}),Object(a["I"])((function(){return v.value}),(function(e){return De(e)})),Object(a["I"])((function(){return O.value}),(function(e){return Fe(e)}));var y=Object(a["z"])(!1);Object(a["w"])("displayScreenThresholds",y);var C=Object(a["z"])(!1);Object(a["w"])("showBreadcumbs",C);var S=Object(a["z"])("");Object(a["w"])("appPath",S),Object(a["s"])((function(){var e=new Re["a"];D["a"].setAppData(e),e.setUserInterface(h["a"]);var t=Function("cbF","(async()=>{try{const c=await import('../configuration.js');const{__SCRIPT_WRAPPERASYNC}=await import('../source/__SCRIPT_WRAPPER__.js');cbF({...c.default,sWA:__SCRIPT_WRAPPERASYNC});}catch(ex){console.error('Error loading configuration.js and __SCRIPT_WRAPPER__.js files',ex);}})()");t(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.path&&(S.value=n.path,Be(n.path)),n.title&&(document.title=n.title),n.displayScreenThresholds&&(y.value=!0),n.showBreadcumbs&&(C.value=n.showBreadcumbs),n.debugging&&(window.debugging=!0),m=n.allowZoom,t.next=8,e.IniciarApp("".concat(location.origin,"/").concat(n.path,"/source"),n.sWA,new Ie["a"],"Data Source=".concat(n.apiUrl,";xoneuser=").concat(n.clientId,";xonepass=").concat(n.clientSecret,";ids=").concat(n.idsUrl||"https://ids.xonedev.cloud/connect/token"));case 8:Pe["a"].setAppData(e),r=Pe["a"].getAppSize(),l.value=null===r||void 0===r?void 0:r.width,u.value=null===r||void 0===r?void 0:r.height,g(),Pe["a"].setInmutableMacros(e),E=Pe["a"].getAutoLogon(),T(E);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));var E=!1,T=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=h["a"].entryPointFake=null===(r=n.params)||void 0===r?void 0:r.id,i&&(E=!0,y.value=!0,h["a"].entryPointFake=i),!E){e.next=4;break}return e.abrupt("return",D["a"].getAppData().login({userName:"admin",password:""}));case 4:return e.next=6,D["a"].addNewXoneDataObject(D["a"].getAppData().getLoginCollectionName(),"Login");case 6:Object(h["c"])(T),o={name:"Login"},null!==(a=n.params)&&void 0!==a&&a.id&&(o.params={id:n.params.id}),t.push(o);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a["w"])("loginFunction",T),{webLayoutBreadcumb:r,containerWidth:d,containerHeight:p}}};n("e749");We.render=o;var Ye=We,He=[{path:"/",name:"Home",component:function(){return n.e("about").then(n.bind(null,"bb51"))}},{path:"/obj",name:"Coll",component:function(){return n.e("about").then(n.bind(null,"bb51"))}},{path:"/login/:id?",name:"Login",component:function(){return n.e("coll").then(n.bind(null,"bb51"))}},{path:"/logon/",name:"Logon",component:function(){return n.e("coll").then(n.bind(null,"a55b"))}}],Xe=Object(Ne["a"])({history:Object(Ne["b"])("/impulso/"),routes:He}),qe=Xe,ze=(n("c7cd"),Object(a["L"])("data-v-42f21ddc")),Ke=ze((function(e,t,n,r,i,o){var s=Object(a["C"])("Container",!0),l=Object(a["C"])("Prop"),u=Object(a["C"])("Column"),c=Object(a["C"])("Row");return Object(a["K"])((Object(a["u"])(),Object(a["f"])("div",{ref:"containerElement",group:"group"===r.attributes.node||null,class:["xone-frame",r.attributes.keepAspectRatio&&"keep-aspect-ratio",r.attributes.framebox&&"xone-frame-borders"],"xone-name":r.attributes.name,style:{"--border-width":r.attributes.borderWidth,"--elevation":"".concat(r.attributes.elevation,"px"),marginTop:r.margins.top+"px",marginRight:r.margins.right+"px",marginBottom:r.margins.bottom+"px",marginLeft:r.margins.left+"px",paddingTop:r.paddings.top+"px",paddingRight:r.paddings.right+"px",paddingBottom:r.paddings.bottom+"px",paddingLeft:r.paddings.left+"px",maxWidth:"group"===r.attributes.node&&n.containerWidth?"".concat(n.containerWidth,"px"):null,maxHeight:"group"===r.attributes.node&&n.containerHeight?"".concat(n.containerHeight,"px"):null,width:("group"!==r.attributes.node||r.attributes.drawerOrientation?r.controlWidth&&"".concat(r.controlWidth,"px"):"100%")||"auto",height:("group"!==r.attributes.node||r.attributes.drawerOrientation||r.attributes.fixed?r.controlHeight&&("group"!==r.attributes.node||r.attributes.fixed)&&"".concat(r.controlHeight,"px"):"100%")||"auto",flexGrow:"frame"===r.attributes.node&&"grow"===r.attributes.width?1:null,flexShrink:"frame"===r.attributes.node&&"grow"===r.attributes.width?1:null,backgroundColor:r.displayScreenThresholds?"#00ff0025":r.attributes.bgColor,backgroundImage:r.attributes.image&&"url(".concat(r.appPath,"/icons/").concat(r.attributes.image,")"),border:r.displayScreenThresholds&&"1px solid ".concat(r.attributes.borderColor),borderRadius:r.attributes.borderCornerRadius,justifyContent:r.attributes.align.column,overflowY:"frame"===r.attributes.node&&"grow"===r.attributes.width?"hidden":r.attributes.scroll&&"vertical"===r.attributes.scrollOrientation?"auto":"hidden",overflowX:"frame"===r.attributes.node&&"grow"===r.attributes.width?"hidden":r.attributes.scroll&&"horizontal"===r.attributes.scrollOrientation?"auto":"hidden",position:r.attributes.floating.floating&&"absolute",zIndex:r.attributes.floating.floating&&"9",top:r.attributes.floating.floating&&r.floatingTop&&r.floatingTop,left:r.attributes.floating.floating&&r.floatingLeft&&r.floatingLeft,cursor:r.isDesigner&&r.isDragging&&"move"},onScroll:t[1]||(t[1]=function(){return r.onScroll&&r.onScroll.apply(r,arguments)}),onMousedown:t[2]||(t[2]=function(e){return r.isDesigner&&r.onMouseDown(e)}),onMouseenter:t[3]||(t[3]=function(e){return r.isDesigner&&r.onMouseEnter(e)}),onMouseleave:t[4]||(t[4]=function(e){return r.isDesigner&&r.onMouseLeave(e)}),onMousemove:t[5]||(t[5]=function(e){return r.isDesigner&&r.onDragOver(e)}),onTouchmove:t[6]||(t[6]=function(e){return r.isDesigner&&r.onDragOver(e)})},["group"!==r.attributes.node&&r.isDisableVisible?Object(a["g"])("",!0):(Object(a["u"])(!0),Object(a["f"])(a["a"],{key:0},Object(a["A"])(r.rows,(function(e,t){return Object(a["u"])(),Object(a["f"])(c,{"xone-parent":r.attributes.name,key:"".concat(r.attributes.name,"-").concat(t),style:{justifyContent:r.attributes.align.row,alignItems:r.attributes.align.column,flexWrap:r.attributes.wrap?"wrap":null}},{default:ze((function(){return[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e,(function(e,t){return Object(a["u"])(),Object(a["f"])(u,{key:"".concat(e.attributes.name,"-").concat(t),attributes:r.attributes},{default:ze((function(){return["frame"===e.attributes.node||"group"===e.attributes.node?(Object(a["u"])(),Object(a["f"])(s,{key:0,xoneDataObject:n.xoneDataObject,control:e,containerHeight:r.controlHeight||r.controlGrowHeight||n.containerHeight,containerWidth:r.controlWidth||r.controlGrowWidth||n.containerWidth},null,8,["xoneDataObject","control","containerHeight","containerWidth"])):Object(a["g"])("",!0),"prop"===e.attributes.node?(Object(a["u"])(),Object(a["f"])(l,{key:1,xoneDataObject:n.xoneDataObject,control:e,containerHeight:r.controlHeight||r.controlGrowHeight||n.containerHeight,containerWidth:r.controlWidth||r.controlGrowWidth||n.containerWidth},null,8,["xoneDataObject","control","containerHeight","containerWidth"])):Object(a["g"])("",!0)]})),_:2},1032,["attributes"])})),128))]})),_:2},1032,["xone-parent","style"])})),128))],46,["group","xone-name"])),[[a["H"],r.isActive&&!r.isDisableVisible]])})),Je=(n("a434"),n("25f0"),Object(a["L"])("data-v-98fd719e"));Object(a["x"])("data-v-98fd719e");var Qe={class:"xone-row"};Object(a["v"])();var Ze=Je((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])("div",Qe,[Object(a["B"])(e.$slots,"default",{},void 0,!0)])})),$e={name:"Row"};n("3120");$e.render=Ze,$e.__scopeId="data-v-98fd719e";var et=$e,tt=Object(a["L"])("data-v-07b94f18"),nt=tt((function(e,t,n,r,i,o){return"link"===n.attributes.viewMode&&n.attributes.href?(Object(a["u"])(),Object(a["f"])("a",{key:0,href:n.attributes.href,target:"_blank"},[Object(a["B"])(e.$slots,"default",{},void 0,!0)],8,["href"])):Object(a["B"])(e.$slots,"default",{key:1},void 0,!0)})),rt={name:"Column",props:{attributes:{type:Object,required:!0}}};n("0301");rt.render=nt,rt.__scopeId="data-v-07b94f18";var at=rt,it=Object(a["L"])("data-v-77755e96"),ot=it((function(e,t,n,r,i,o){var s,l=Object(a["C"])("InputProp"),u=Object(a["C"])("ButtonProp"),c=Object(a["C"])("ImageProp"),d=Object(a["C"])("Contents"),h=Object(a["C"])("WebProp"),p=Object(a["C"])("VideoProp"),f=Object(a["C"])("Breadcumb");return Object(a["K"])((Object(a["u"])(),Object(a["f"])("div",{class:"xone-prop",ref:"propElement","xone-name":r.attributes.name,style:{"--label-height":r.controlHeight&&"".concat(r.controlHeight,"px")||"calc(".concat(r.attributes.lines," + 11px)")||"100%","--text-weight":r.attributes.fontBold?"bold":"normal","--input-bgcolor":(r.attributes.locked||r.isDisableEdit)&&r.attributes.textBgColorDisabled&&r.attributes.textBgColorDisabled||r.attributes.textBgColor||r.attributes.bgColor||"transparent","--input-forecolor":(r.attributes.locked||r.isDisableEdit)&&r.attributes.textForeColorDisabled&&r.attributes.textForeColorDisabled||r.attributes.textForeColor&&r.attributes.textForeColor||r.attributes.foreColor,"--padding-top":"".concat(r.paddings.top,"px"),"--padding-right":"".concat(r.paddings.right,"px"),"--padding-bottom":"".concat(r.paddings.bottom,"px"),"--padding-left":"".concat(r.paddings.left,"px"),"--margin-top":"".concat(r.margins.top,"px"),"--margin-right":"".concat(r.margins.right,"px"),"--margin-bottom":"".concat(r.margins.bottom,"px"),"--margin-left":"".concat(r.margins.left,"px"),"--border-color":r.attributes.borderColor,"--border-width":r.attributes.borderWidth,"--elevation":"".concat(r.attributes.elevation,"px"),width:r.controlWidth&&"".concat(r.controlWidth,"px")||r.finalImgSize&&"".concat(r.finalImgSize.width,"px"),height:r.controlHeight&&"".concat(r.controlHeight,"px")||r.finalImgSize&&"".concat(r.finalImgSize.height,"px")||(null!==(s=r.attributes.height)&&void 0!==s?s:"auto"),flexGrow:"grow"===r.attributes.width?1:null,backgroundColor:r.displayScreenThresholds&&"#ff000025",position:r.attributes.floating.floating&&"absolute",zIndex:r.attributes.floating.floating&&"9",top:r.attributes.floating.floating&&r.floatingTop&&r.floatingTop,left:r.attributes.floating.floating&&r.floatingLeft&&r.floatingLeft,border:r.displayScreenThresholds&&"1px solid #ff0000",cursor:r.isDesigner&&r.isDragging&&"move",overflow:r.isContents||r.isImage?"hidden":null},onMousedown:t[1]||(t[1]=function(e){return r.isDesigner&&r.onMouseDown(e)}),onMouseenter:t[2]||(t[2]=function(e){return r.isDesigner&&r.onMouseEnter(e)}),onMouseleave:t[3]||(t[3]=function(e){return r.isDesigner&&r.onMouseLeave(e)}),onMousemove:t[4]||(t[4]=function(e){return r.isDesigner&&r.onDragOver(e)}),onTouchmove:t[5]||(t[5]=function(e){return r.isDesigner&&r.onDragOver(e)})},[r.isInput?(Object(a["u"])(),Object(a["f"])(l,{key:0,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth,controlHeight:r.controlHeight,inputType:r.inputType,isDisableEdit:r.isDisableEdit},null,8,["xoneDataObject","attributes","controlWidth","controlHeight","inputType","isDisableEdit"])):Object(a["g"])("",!0),r.isButton?(Object(a["u"])(),Object(a["f"])(u,{key:1,xoneDataObject:n.xoneDataObject,attributes:r.attributes,paddings:r.paddings,isDisableEdit:r.isDisableEdit,containerWidth:n.containerWidth,containerHeight:n.containerHeight},null,8,["xoneDataObject","attributes","paddings","isDisableEdit","containerWidth","containerHeight"])):Object(a["g"])("",!0),r.isImage?(Object(a["u"])(),Object(a["f"])(c,{key:2,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth,controlHeight:r.controlHeight,containerWidth:n.containerWidth,containerHeight:n.containerHeight},null,8,["xoneDataObject","attributes","controlWidth","controlHeight","containerWidth","containerHeight"])):Object(a["g"])("",!0),r.isContents?(Object(a["u"])(),Object(a["f"])(d,{key:3,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth||n.containerWidth,controlHeight:r.controlHeight||n.containerHeight,isDisableEdit:r.isDisableEdit},null,8,["xoneDataObject","attributes","controlWidth","controlHeight","isDisableEdit"])):Object(a["g"])("",!0),r.isWeb?(Object(a["u"])(),Object(a["f"])(h,{key:4,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth,controlHeight:r.controlHeight},null,8,["xoneDataObject","attributes","controlWidth","controlHeight"])):Object(a["g"])("",!0),r.isVideo?(Object(a["u"])(),Object(a["f"])(p,{key:5,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth,controlHeight:r.controlHeight},null,8,["xoneDataObject","attributes","controlWidth","controlHeight"])):Object(a["g"])("",!0),r.isBreadcumb?(Object(a["u"])(),Object(a["f"])(f,{key:6,attributes:r.attributes},null,8,["attributes"])):Object(a["g"])("",!0)],44,["xone-name"])),[[a["H"],!r.isDisableVisible]])})),st=Object(a["L"])("data-v-f550b968"),lt=st((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])("button",{ref:"btnElement",disabled:r.isExecutingOnClick||r.objectInfo.isContents&&!r.objectInfo.editInRow||n.isDisableEdit,style:{backgroundColor:n.attributes.image?"transparent":n.attributes.bgColor,backgroundImage:n.attributes.image&&"url(".concat(r.imgPath,")"),borderRadius:n.attributes.borderCornerRadius,color:r.isExecutingOnClick?"lightgray":n.attributes.foreColor,fontSize:n.attributes.fontSize&&n.attributes.fontSize,justifyContent:n.attributes.align.row&&n.attributes.align.row||"center",alignItems:n.attributes.align.column&&n.attributes.align.column||"center",padding:(!n.attributes.labelWidth||"0"===n.attributes.labelWidth.toString()||n.attributes.title)&&!r.hasPadding&&0,opacity:r.isExecutingOnClick||n.isDisableEdit?.4:1,cursor:r.isExecutingOnClick||r.objectInfo.isContents&&!r.objectInfo.editInRow||n.isDisableEdit?"default":"pointer"},class:{"no-border":n.attributes.image||!n.attributes.bgColor||"#00000000"===n.attributes.bgColor||"transparent"===n.attributes.bgColor,noEditInRow:r.objectInfo.isContents&&!r.objectInfo.editInRow,"keep-aspect-ratio":n.attributes.keepAspectRatio},onClick:t[1]||(t[1]=function(t){return!e.noEditInRow&&r.onClick()}),onTouchstart:t[2]||(t[2]=function(){return r.onTouchStart&&r.onTouchStart.apply(r,arguments)}),onTouchend:t[3]||(t[3]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)}),onMousedown:t[4]||(t[4]=function(){return r.onTouchStart&&r.onTouchStart.apply(r,arguments)}),onMouseend:t[5]||(t[5]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)}),onMouseleave:t[6]||(t[6]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)}),onTouchleave:t[7]||(t[7]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)})},Object(a["E"])("0"!==n.attributes.labelWidth?n.attributes.title:""),47,["disabled"])})),ut=n("9c57"),ct={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},paddings:{type:Object,required:!0},isDisableEdit:{type:Boolean,required:!0},containerWidth:{type:Number,default:0},containerHeight:{type:Number,default:0}},setup:function(e){var t,n,r=Object(a["z"])(!1),i=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.value){t.next=2;break}return t.abrupt("return");case 2:if(r.value=!0,i=null===(n=e.attributes)||void 0===n?void 0:n.method,!i){t.next=7;break}return t.next=7,ut["a"].executeMethod(i,e.xoneDataObject);case 7:if(s=null===(a=e.attributes)||void 0===a?void 0:a.onClick,t.prev=8,!s){t.next=12;break}return t.next=12,e.xoneDataObject.DoRunScriptAsync("let e = { target: '".concat(e.attributes.name,"',objItem: '").concat(e.attributes.name,"' };\n              ").concat(s));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](8),console.error(t.t0);case 17:return t.next=19,ut["a"].executeBindedEvent(e.xoneDataObject,e.attributes,"onclick",{});case 19:o.isMsgBox&&e.attributes.buttonOption&&o.onMsgBoxOptionSelected&&o.onMsgBoxOptionSelected(e.attributes.buttonOption),r.value=!1;case 21:case"end":return t.stop()}}),t,null,[[8,14]])})));return function(){return t.apply(this,arguments)}}(),o=Object(a["n"])("objectInfo"),l=Object(a["z"])(),u=function(){ut["a"].fitHeightToContainer(e.attributes,l),ut["a"].fitWidthToContainer(e.attributes,l)};Object(a["s"])((function(){return u()}));var c=Object(a["n"])("xoneView"),d=new je["a"](e.attributes.name,l.value);Object(a["s"])((function(){c.addControl(d)}));var h=Object(a["n"])("lastBreadcumb"),p=Object(a["n"])("breadcumbId");Object(a["J"])((function(){var e;p===(null===h||void 0===h||null===(e=h.value)||void 0===e?void 0:e.id)&&u()})),Object(a["I"])((function(){return e.containerWidth}),(function(){return u()})),Object(a["I"])((function(){return e.containerHeight}),(function(){return u()}));var f=Object(a["n"])("groupId"),m=Object(a["n"])("groupHandler"),g=m.activeGroup;Object(a["I"])((function(){return g.value}),(function(e){f===e&&u()}));var b=Object(a["z"])(null!==(t=e.attributes.image)&&void 0!==t&&t.includes("icons")||null!==(n=e.attributes.image)&&void 0!==n&&n.includes("files")?e.attributes.image:"/icons/".concat(e.attributes.image));Object(a["s"])((function(){Object(a["I"])((function(){return e.attributes.image}),Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),v()}));var _,v=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve(e.attributes.image);case 2:return t.abrupt("return",b.value=t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(a["d"])((function(){return e.attributes.paddings.top||e.attributes.paddings.right||e.attributes.paddings.bottom||e.attributes.paddings.left})),y=function(){_=l.value.style.opacity,l.value.style.opacity=.7},C=function(){l.value.style.opacity=_,_=null};return{btnElement:l,onClick:i,objectInfo:o,isExecutingOnClick:r,imgPath:b,hasPadding:O,onTouchStart:y,onTouchEnd:C}}};n("3e84");ct.render=lt,ct.__scopeId="data-v-f550b968";var dt=ct,ht=Object(a["L"])("data-v-53ee3d58");Object(a["x"])("data-v-53ee3d58");var pt={key:2,class:"xone-input-container"};Object(a["v"])();var ft=ht((function(e,t,n,r,i,o){var s=Object(a["C"])("Checkbox"),l=Object(a["C"])("LinkedSearchInline");return Object(a["u"])(),Object(a["f"])(a["a"],null,["NC"===n.attributes.type?(Object(a["u"])(),Object(a["f"])(s,{key:0,attributes:n.attributes,xoneDataObject:n.xoneDataObject,isDisabled:n.attributes.locked||n.isDisableEdit||r.isLinked||r.objectInfo.isContents&&!r.objectInfo.editInRow,controlWidth:n.controlWidth,controlHeight:n.controlHeight},null,8,["attributes","xoneDataObject","isDisabled","controlWidth","controlHeight"])):Object(a["g"])("",!0),0==n.attributes.labelWidth||n.attributes.floatingTooltip?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",{key:1,class:"xone-input-label",style:{height:"var(--label-height)",width:"TL"===n.attributes.type?"100%":n.attributes.labelWidth,fontSize:n.attributes.fontSize,backgroundColor:n.attributes.bgColor,border:n.attributes.labelBox&&"1px solid ".concat(n.attributes.borderColor),flexGrow:"NC"===n.attributes.type&&1}},[Object(a["j"])("label",{style:{color:n.attributes.foreColor,fontSize:n.attributes.fontSize,alignItems:n.attributes.labelAlign,justifyContent:n.attributes.labelAlign},class:["xone-title",{noEditInRow:r.objectInfo.isContents&&!r.objectInfo.editInRow}]},Object(a["E"])(n.attributes.title),7)],4)),"TL"!=n.attributes.type&&"NC"!==n.attributes.type?(Object(a["u"])(),Object(a["f"])("div",pt,[n.attributes.multiLine?(Object(a["u"])(),Object(a["f"])("textarea",{key:1,ref:"textAreaElement",required:"",disabled:n.attributes.locked||n.isDisableEdit||r.isLinked||r.objectInfo.isContents&&!r.objectInfo.editInRow,onInput:t[6]||(t[6]=function(){return r.onInput&&r.onInput.apply(r,arguments)}),value:r.propValue,maxlength:n.attributes.fixedText&&n.attributes.size||null,style:{width:n.attributes.width?"99%":n.attributes.fieldSize,height:n.controlHeight&&"".concat(n.controlHeight-11,"px")||n.attributes.lines,borderRadius:n.attributes.borderCornerRadius,textAlign:n.attributes.textAlign&&n.attributes.textAlign,fontSize:n.attributes.textFontSize?n.attributes.textFontSize:n.attributes.fontSize,paddingRight:r.isLinked&&"35px"},class:{nobordertop:!n.attributes.borders.top,noborderright:!n.attributes.borders.right,noborderbottom:!n.attributes.borders.bottom,noborderleft:!n.attributes.borders.left,disabled:n.attributes.locked||n.isDisableEdit,noEditInRow:r.objectInfo.isContents&&!r.objectInfo.editInRow},onChange:t[7]||(t[7]=function(e){return r.onChange()}),onFocus:t[8]||(t[8]=function(e){return r.onFocusChanged(!0)}),onBlur:t[9]||(t[9]=function(e){return r.onFocusChanged(!1)}),onKeydown:t[10]||(t[10]=function(){return r.onKeyPress&&r.onKeyPress.apply(r,arguments)})},null,46,["disabled","value","maxlength"])):(Object(a["u"])(),Object(a["f"])("input",{key:0,ref:"inputElement",required:"",disabled:n.attributes.locked||n.isDisableEdit||r.isLinked||r.objectInfo.isContents&&!r.objectInfo.editInRow,onInput:t[1]||(t[1]=function(){return r.onInput&&r.onInput.apply(r,arguments)}),value:r.propValue,type:n.inputType,step:r.numberStep,maxlength:n.attributes.fixedText&&n.attributes.size||null,style:{width:void 0!==n.attributes.width?"100%":n.attributes.fieldSize,height:n.controlHeight&&"".concat(n.controlHeight-11,"px")||n.attributes.lines,borderRadius:n.attributes.borderCornerRadius,textAlign:n.attributes.textAlign?n.attributes.textAlign:n.attributes.align&&n.attributes.align,fontSize:n.attributes.fontSize?n.attributes.fontSize:n.attributes.textFontSize&&n.attributes.textFontSize,paddingRight:r.isLinked&&"35px"},class:{nobordertop:!n.attributes.borders.top,noborderright:!n.attributes.borders.right,noborderbottom:!n.attributes.borders.bottom,noborderleft:!n.attributes.borders.left,noEditInRow:r.objectInfo.isContents&&!r.objectInfo.editInRow},onChange:t[2]||(t[2]=function(e){return r.onChange()}),onFocus:t[3]||(t[3]=function(e){return r.onFocusChanged(!0)}),onBlur:t[4]||(t[4]=function(e){return r.onFocusChanged(!1)}),onKeydown:t[5]||(t[5]=function(){return r.onKeyPress&&r.onKeyPress.apply(r,arguments)})},null,46,["disabled","value","type","step","maxlength"])),!r.isLinked||r.objectInfo.isContents&&!r.objectInfo.editInRow?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("button",{key:2,ref:"linkedSearchElement",class:"xone-input-linked",style:{opacity:n.attributes.locked||n.isDisableEdit?.5:1,cursor:n.attributes.locked||n.isDisableEdit?"default":"pointer","--image-showinline":"url(".concat(r.appPath,"/assets/showinline.png)")},disabled:n.attributes.locked||n.isDisableEdit,onClick:t[11]||(t[11]=function(){return r.onLinkedSearchButtonClick&&r.onLinkedSearchButtonClick.apply(r,arguments)})},null,12,["disabled"])),r.isLinkedSearchVisible?(Object(a["u"])(),Object(a["f"])(l,{key:3,xoneDataObject:n.xoneDataObject,attributes:n.attributes,onOnHide:t[12]||(t[12]=function(e){return r.isLinkedSearchVisible=!1}),onOnSelectedItem:r.onSelectedItem,linkedSearchPosition:r.linkedSearchPosition},null,8,["xoneDataObject","attributes","onOnSelectedItem","linkedSearchPosition"])):Object(a["g"])("",!0),""===n.attributes.tooltip||n.attributes.locked||n.isDisableEdit?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("label",{key:4,class:["xone-tooltip",n.attributes.floatingTooltip?"float":"nofloat",n.attributes.floatingTooltip&&r.propValue&&r.isLinked?"linked-input-fill":""],for:n.attributes.name,style:{color:n.attributes.tooltipColor,textAlign:n.attributes.textAlign,"--floating-tooltip-transform":r.floatingTooltipTransform}},Object(a["E"])(n.attributes.tooltip),15,["for"]))])):Object(a["g"])("",!0)],64)})),mt=(n("a15b"),Object(a["L"])("data-v-c02ef6d8")),gt=mt((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])(a["b"],{to:"body"},[Object(a["j"])("div",{class:"xone-linked-container",onClick:t[7]||(t[7]=function(e){return!r.isMouseOnInput&&r.onHide()})},[Object(a["j"])("div",{ref:"divElement",style:{"--linked-search-max-height":"calc(".concat(r.containerHeight,"px - 50%)"),"--linked-search-max-width":"calc(".concat(r.maxWidthPosition,")"),"--linked-search-min-width":n.linkedSearchPosition.width+"px","--linked-search-table-min-width":n.linkedSearchPosition.width-(r.elementHasScroll?7:0)+"px","--linked-search-min-height":"25px","--linked-search-right-position":r.rightPosition,"--linked-search-top-position":0===r.rows.length?n.linkedSearchPosition.top+"px":r.topPosition,overflow:0===r.rows.length?"hidden":null}},[Object(a["j"])("input",{style:{"--image-search-placeholder":"url(".concat(r.appPath,"/assets/search-placeholder.png)")},onInput:t[1]||(t[1]=function(e){var t=e.target;return r.filterModel=t.value}),value:r.filterModel,onFocus:t[2]||(t[2]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)}),onBlur:t[3]||(t[3]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)}),onClick:t[4]||(t[4]=function(){return r.onFilterSelected&&r.onFilterSelected.apply(r,arguments)}),onMouseover:t[5]||(t[5]=function(e){return r.isMouseOnInput=!0}),onMouseleave:t[6]||(t[6]=function(e){return r.isMouseOnInput=!1})},null,44,["value"]),Object(a["K"])(Object(a["j"])("table",null,[Object(a["j"])("tbody",null,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.filteredRows,(function(e,t){return Object(a["u"])(),Object(a["f"])("tr",{key:"rowItem".concat(t)},[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e,(function(e,t){return Object(a["u"])(),Object(a["f"])("td",{key:"columnItem".concat(t),onClick:function(t){return r.onSelectedItem(e)},style:{textAlign:e.textAlign}},Object(a["E"])(e.value),13,["onClick"])})),128))])})),128))])],512),[[a["H"],0!==r.rows.length]])],4)])])})),bt=(n("1276"),n("d2fd"),{name:"LinkedSearchInline",emits:["onHide","onSelectedItem"],props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},linkedSearchPosition:{type:Object,required:!0}},setup:function(e,t){var n=Object(a["z"])(""),r=Object(a["z"])(!1),i=Object(a["n"])("containerSize"),o=i.containerWidth,l=i.containerHeight,u=function(){return t.emit("onHide")},c=Object(a["n"])("isInputFocused"),d=function(){return c.value=!0},h=function(){return c.value=!1},p=function(e){r.value=!0,e.preventDefault(),setTimeout((function(){return r.value=!1}),500)},f=function(e){return t.emit("onSelectedItem",e)},m=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"mapcol-values"),g=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"mapcol"),b=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"mapfld"),_=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"filter"),v=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"linkfilter"),O=Object(a["z"])([]),y=Object(a["d"])((function(){return n.value?O.value.filter((function(e){var t=!1;return e.forEach((function(e){t||(t=e.value.toString().toLowerCase().includes(n.value.toLowerCase()))})),t})):O.value}));Object(a["s"])(Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(a["o"])();case 3:if(x(),!m){e.next=8;break}return setTimeout(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["o"])();case 2:x();case 3:case"end":return e.stop()}}),e)})))),t=m.split(","),e.abrupt("return",O.value=t.map((function(e){return[{mapValue:t.indexOf(e),value:e}]})));case 8:return e.next=10,D["a"].getAppData().getCollection(g);case 10:return n=e.sent,r=[],i=function e(t){var n;null===(n=t.controls)||void 0===n||n.forEach((function(t){var n=ut["a"].getPropAttributes(t.attributes);"group"!==n.node&&"frame"!==n.node||e(t),"prop"===n.node&&(n.type.startsWith("T")||n.type.startsWith("N"))&&r.push(n)}))},i(n.getLayout(8)),v&&n.setLinkFilter(v),n.setFilter(_),e.next=18,n.startBrowse();case 18:O.value=[],o=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.getCurrentItem(),O.value.push(r.map((function(e){return{mapValue:t[b],value:t[e.name],textAlign:e.textAlign}}))),e.next=4,n.moveNext();case 4:case"end":return e.stop()}}),e)}));case 20:if(!n.getCurrentItem()){e.next=24;break}return e.delegateYield(o(),"t0",22);case 22:e.next=20;break;case 24:return n.clear(),e.next=27,Object(a["o"])();case 27:x(),e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](0),console.error(e.t1);case 33:case"end":return e.stop()}}),e,null,[[0,30]])}))));var C=Object(a["z"])(),S=Object(a["z"])((window.innerWidth-o.value)/2+o.value-e.linkedSearchPosition.left),E=Object(a["z"])(e.linkedSearchPosition.top+"px"),T=Object(a["z"])(e.linkedSearchPosition.width+"px"),k=Object(a["z"])(e.linkedSearchPosition.height+"px"),w=Object(a["z"])(!1);Object(a["I"])((function(){return n.value}),Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["o"])();case 2:x();case 3:case"end":return e.stop()}}),e)}))));var x=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(C.value){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(a["o"])();case 4:if(n=(window.innerWidth-o.value)/2+o.value-e.linkedSearchPosition.left,window.innerWidth-C.value.scrollWidth>n?S.value="".concat(n,"px"):window.client>C.value.scrollWidth?S.value="".concat(window.innerWidth-C.value.scrollWidth,"px"):(n=15,S.value="15px"),C.value.offsetHeight<=l.value-e.linkedSearchPosition.top?E.value="".concat(e.linkedSearchPosition.top-15,"px"):E.value="calc(100vh - 5% - ".concat(C.value.offsetHeight-15,"px)"),0!=O.value.length){t.next=9;break}return t.abrupt("return");case 9:k.value=C.value.offsetHeight+"px",T.value="".concat(window.innerWidth-n-15,"px"),w.value=C.value.scrollHeight>C.value.clientHeight;case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a["s"])((function(){return window.addEventListener("resize",x)})),Object(a["t"])((function(){return window.removeEventListener("resize",x)})),Object(a["I"])((function(){return o.value}),(function(){return u()})),Object(a["I"])((function(){return l.value}),(function(){return u()})),{filterModel:n,isMouseOnInput:r,containerWidth:o,containerHeight:l,elementHasScroll:w,onHide:u,onFocus:d,onBlur:h,onFilterSelected:p,onSelectedItem:f,rows:O,filteredRows:y,divElement:C,rightPosition:S,topPosition:E,heightPosition:k,maxWidthPosition:T,appPath:Object(a["n"])("appPath")}}});n("c8f5");bt.render=gt,bt.__scopeId="data-v-c02ef6d8";var _t=bt,vt=Object(a["L"])("data-v-33027926"),Ot=vt((function(e,t,n,r,i,o){return n.attributes.imgChecked||n.attributes.imgUnchecked?(Object(a["u"])(),Object(a["f"])("button",{key:1,disabled:n.isDisabled,onClick:t[3]||(t[3]=function(e){return r.onCheckboxCheckedChange()}),style:{width:r.imageSize.width?"".concat(r.imageSize.width,"px"):void 0!==n.attributes.width?"100%":n.attributes.fieldSize,height:r.imageSize.height?"".concat(r.imageSize.height,"px"):n.controlHeight&&"".concat(n.controlHeight-11,"px")||"30px",backgroundImage:"url(".concat(n.isDisabled||n.attributes.locked?1==n.xoneDataObject.model[n.attributes.name]?r.backgroundImageCheckedDisabled||r.backgroundImageChecked:r.backgroundImageUncheckedDisabled||r.backgroundImageUnchecked:1==n.xoneDataObject.model[n.attributes.name]?r.backgroundImageChecked:r.backgroundImageUnchecked,")"),opacity:r.changeOpacity&&n.attributes.disableEdit&&""!==n.attributes.disableEdit&&n.isDisabled?.4:1}},null,12,["disabled"])):(Object(a["u"])(),Object(a["f"])("div",{key:0,style:{padding:"0",height:"var(--label-height)",alignItems:n.attributes.labelAlign,justifyContent:n.attributes.labelAlign}},[n.attributes.isRadio?(Object(a["u"])(),Object(a["f"])("input",{key:1,ref:"radioElement",disabled:n.isDisabled,type:"radio",name:"".concat(n.attributes.radioGroup,"-").concat(r.breadcumbId).concat(r.objectIndex),prop:n.attributes.name,checked:1===n.xoneDataObject.model[n.attributes.name],onChange:t[2]||(t[2]=function(e){return r.onRadioCheckedChange()})},null,40,["disabled","name","prop","checked"])):(Object(a["u"])(),Object(a["f"])("input",{key:0,ref:"checkboxElement",disabled:n.isDisabled,checked:1===n.xoneDataObject.model[n.attributes.name],onChange:t[1]||(t[1]=function(e){return r.onCheckboxCheckedChange()}),type:"checkbox"},null,40,["disabled","checked"]))],4))})),yt={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},isDisabled:{type:Boolean,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t=Object(a["z"])(),n=Object(a["z"])(),r=Object(a["n"])("breadcumbId"),i=Object(a["n"])("objectInfo"),o=i.isContents?i.recordIndex:"",l=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,null===i||void 0===i||!i.editInRow||!i.autosave){t.next=4;break}return t.next=4,e.xoneDataObject.save();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),xoneUI.showSnackbar({text:t.t0,color:"red"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),u=function(){e.xoneDataObject.changeModelValue(e.attributes.name,0!==e.xoneDataObject.model[e.attributes.name]&&e.xoneDataObject.model[e.attributes.name]?0:1),l()},c=function(){e.xoneDataObject.changeModelValue(e.attributes.name,n.value.checked?1:0),document.querySelectorAll("[name='".concat(e.attributes.radioGroup,"-").concat(r).concat(o,"']")).forEach((function(t){t!==n.value&&e.xoneDataObject.changeModelValue(t.getAttribute("prop"),0)})),l()},d=Object(a["n"])("scaleFactor"),h=d.widthFactor,p=d.heightFactor,f=Object(a["y"])({width:Object(a["d"])((function(){return ut["a"].getScaledSize(e.attributes.imgWidth,e.containerWidth,h.value)})),height:Object(a["d"])((function(){return ut["a"].getScaledSize(e.attributes.imgHeight,e.containerHeight,p.value)}))}),m=Object(a["z"])(),g=Object(a["z"])(),b=Object(a["z"])(),_=Object(a["z"])();Object(a["s"])(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Ve(e.attributes.imgChecked,"icons");case 2:return m.value=t.sent,t.next=5,Ve(e.attributes.imgUnchecked,"icons");case 5:return g.value=t.sent,t.next=8,Ve(e.attributes.imgCheckedDisabled,"icons");case 8:return b.value=t.sent,t.next=11,Ve(e.attributes.imgUncheckedDisabled,"icons");case 11:_.value=t.sent,(b.value||_.value)&&(v.value=!1);case 13:case"end":return t.stop()}}),t)}))));var v=Object(a["z"])(!0);return{checkboxElement:t,radioElement:n,breadcumbId:r,objectIndex:o,imageSize:f,backgroundImageChecked:m,backgroundImageUnchecked:g,onChange:l,onCheckboxCheckedChange:u,onRadioCheckedChange:c,backgroundImageCheckedDisabled:b,backgroundImageUncheckedDisabled:_,changeOpacity:v}}};n("394b");yt.render=Ot,yt.__scopeId="data-v-33027926";var Ct=yt,St={components:{Checkbox:Ct,LinkedSearchInline:_t},props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},isDisableEdit:{type:Boolean,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0},inputType:{type:String,default:"text"}},setup:function(e){var t=Object(a["n"])("objectInfo"),n=null===t||void 0===t?void 0:t.editInRow,r=Object(a["d"])((function(){if(2===e.attributes.type.length&&"N"===e.attributes.type[0]){var t=parseInt(e.attributes.type[1]);return isNaN(t)?"":".".concat(Array(t).join("0"),"1")}return""})),i=Object(a["d"])((function(){return e.attributes.linkedTo&&""!==e.attributes.linkedTo&&e.attributes.linkedField&&""!==e.attributes.linkedField})),o=Object(a["z"])(!1),l=function(t){var n=t.mapValue,r=t.value;e.xoneDataObject.changeModelValue(e.attributes.linkedTo,n),u.value=r},u=Object(a["z"])();Object(a["s"])((function(){return p(e.xoneDataObject.model[e.attributes.name])}));var c=Object(a["z"])();Object(a["o"])((function(){return d()}));var d=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.attributes.multiLine){t.next=2;break}return t.abrupt("return");case 2:if(c.value){t.next=4;break}return t.abrupt("return");case 4:if("grow"===e.attributes.height||"auto"===e.attributes.height){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Object(a["o"])();case 8:return c.value.style.height="1px",c.value.style.height=25+c.value.scrollHeight+"px",t.next=12,new Promise((function(e){return setTimeout((function(){return e()}),250)}));case 12:0!==(null===(n=c.value)||void 0===n?void 0:n.scrollHeight)&&(null===(r=c.value)||void 0===r?void 0:r.clientHeight)===(null===(i=c.value)||void 0===i?void 0:i.scrollHeight)||d();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a["I"])((function(){return e.xoneDataObject.model[e.attributes.name]}),(function(e){return p(e)}));var p=function(t){try{if(d(),e.attributes.type.startsWith("D")){var n=t;if(!n)return;u.value=n.toXoneDate(e.attributes.type)}else u.value!==t&&(u.value=t)}catch(r){console.error(r)}},f="",m=!1,g=function(t){var n=t.key;"Enter"===n&&(f=n,e.attributes.onEditorAction&&!m&&(m=!0,ut["a"].executeMethod(e.attributes.onEditorAction,e.xoneDataObject).catch(console.error).finally((function(){return m=!1}))),ut["a"].executeBindedEvent(e.xoneDataObject,e.attributes,"oneditoraction",{}))},b=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=n.target,a=u.value,i=r.value,f&&"Unidentified"!==f||i.includes(a)&&(f=i.replace(a,"")),e.xoneDataObject[e.attributes.name]!==i){t.next=6;break}return t.abrupt("return");case 6:if(t.prev=6,e.attributes.type.startsWith("D")?e.xoneDataObject.changeModelValue(e.attributes.name,new Date(i)):e.xoneDataObject.changeModelValue(e.attributes.name,i),t.prev=8,!e.attributes.onTextChanged){t.next=12;break}return t.next=12,e.xoneDataObject.DoRunScriptAsync("let e = { target: '".concat(e.attributes.name,"',\n                    objItem: '").concat(e.attributes.name,"',\n                    newText: '").concat(i,"', \n                    oldText: '").concat(a,"', \n                    keyPressed: '").concat(f,"' };\n                  ").concat(e.attributes.onTextChanged));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](8),h["a"].showSnackbar({text:t.t0,color:"red"});case 17:return t.next=19,ut["a"].executeBindedEvent(e.xoneDataObject,e.attributes,"ontextchanged",{newText:i,oldText:a,keyPressed:f});case 19:t.next=24;break;case 21:t.prev=21,t.t1=t["catch"](6),console.error(t.t1);case 24:case"end":return t.stop()}}),t,null,[[6,21],[8,14]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!n||!t.autosave){r.next=4;break}return r.next=4,e.xoneDataObject.save();case 4:r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),h["a"].showSnackbar({text:r.t0,color:"red"});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(){return r.apply(this,arguments)}}(),v=Object(a["n"])("xoneView");Object(a["s"])((function(){v.addControl(new je["a"](e.attributes.name,w.value||c.value))}));var O=Object(a["n"])("isInputFocused");Object(a["t"])((function(){return O.value=!1}));var y=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,O.value=n,!e.attributes.onFocusChanged){t.next=5;break}return t.next=5,e.xoneDataObject.DoRunScriptAsync("let e = { target: '".concat(e.attributes.name,"',objItem: '").concat(e.attributes.name,"',isFocused: ").concat(n," };\n            ").concat(e.attributes.onFocusChanged));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),h["a"].showSnackbar({text:t.t0,color:"red"});case 10:return t.next=12,ut["a"].executeBindedEvent(e.xoneDataObject,e.attributes,"onfocuschanged",{isFocused:n});case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),C=Object(a["n"])("containerSize"),S=C.containerHeight,E=C.containerWidth;Object(a["I"])((function(){return S.value}),(function(){return d()})),Object(a["I"])((function(){return E.value}),(function(){return d()}));var T=Object(a["d"])((function(){return e.attributes.floatingTooltip?e.controlHeight&&0!==e.controlHeight?"translate3d(-.5rem, calc(".concat(-1*e.controlHeight/2,"px + .4rem), 0)"):"translate3d(-.5rem, -1.5rem, 0)":null})),k=Object(a["z"])(),w=Object(a["z"])(),x=Object(a["z"])(),A=function(){R(),o.value=!0},R=function(){if(k.value){var e=w.value||c.value;x.value={top:k.value.getBoundingClientRect().top,left:k.value.getBoundingClientRect().left-(window.innerWidth-E.value)/2,width:e.offsetWidth-k.value.offsetWidth,height:e.offsetHeight}}};return{numberStep:r,isLinked:i,isLinkedSearchVisible:o,onSelectedItem:l,propValue:u,objectInfo:t,textAreaElement:c,onInput:b,onChange:_,onFocusChanged:y,onKeyPress:g,floatingTooltipTransform:T,onLinkedSearchButtonClick:A,linkedSearchElement:k,inputElement:w,linkedSearchPosition:x,appPath:Object(a["n"])("appPath")}}};n("72da");St.render=ft,St.__scopeId="data-v-53ee3d58";var Et=St,Tt=Object(a["L"])("data-v-746c5cd4");Object(a["x"])("data-v-746c5cd4");var kt={key:2,class:"xone-clear-signature"};Object(a["v"])();var wt=Tt((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])(a["a"],null,[n.attributes.readOnly?(Object(a["u"])(),Object(a["f"])("img",{key:0,draggable:"false",ref:"imgElement",src:r.imgPath,class:{"keep-aspect-ratio":n.attributes.keepAspectRatio}},null,10,["src"])):Object(a["g"])("",!0),n.attributes.readOnly&&"DR"!==n.attributes.type?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("canvas",{key:1,ref:"signElement",width:n.controlWidth,height:n.controlHeight,style:{position:"DR"===n.attributes.type&&"absolute",backgroundColor:"DR"===n.attributes.type&&"transparent"},class:"xone-signature"},null,12,["width","height"])),n.attributes.readOnly?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",kt,[Object(a["j"])("button",{onClick:t[1]||(t[1]=function(e){return r.clearCanvas()})},"X")]))],64)})),xt=n("90e2"),At={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0},containerWidth:{type:Number,default:0},containerHeight:{type:Number,default:0}},setup:function(e){var t=Object(a["z"])();Object(a["J"])((function(){var n,r;null!==(n=e.xoneDataObject)&&void 0!==n&&n.model&&(t.value=null===(r=e.xoneDataObject)||void 0===r?void 0:r.model[e.attributes.name])}));var n=Object(a["z"])();Object(a["J"])(Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.value){r.next=5;break}return n.value="/files/".concat(t.value),r.next=4,Ve(t.value,"files");case 4:n.value=r.sent;case 5:if(!e.attributes.image||""===e.attributes.image){r.next=10;break}return n.value="/icons/".concat(e.attributes.image),r.next=9,Ve(e.attributes.image,"icons");case 9:n.value=r.sent;case 10:case"end":return r.stop()}}),r)}))));var r,i=Object(a["z"])();Object(a["s"])((function(){i.value&&(i.value.setAttribute("swipeable",!1),r=new xt["a"](i.value))}));var o=function(){r&&r.clear()},l=Object(a["z"])(),u=function(){ut["a"].fitHeightToContainer(e.attributes,l),ut["a"].fitWidthToContainer(e.attributes,l)};Object(a["s"])((function(){return u()}));var c=Object(a["n"])("lastBreadcumb"),d=Object(a["n"])("breadcumbId");Object(a["J"])((function(){var e;d===(null===c||void 0===c||null===(e=c.value)||void 0===e?void 0:e.id)&&u()})),Object(a["I"])((function(){return e.containerWidth}),(function(){return u()})),Object(a["I"])((function(){return e.containerHeight}),(function(){return u()}));var h=Object(a["n"])("groupId"),p=Object(a["n"])("groupHandler"),f=p.activeGroup;Object(a["I"])((function(){return f.value}),(function(e){h===e&&u()}));var m=Object(a["n"])("xoneView"),g=new je["a"](e.attributes.name,l.value||i.value);return Object(a["s"])((function(){g.clearDrawing=o,m.addControl(g)})),{imgElement:l,imgPath:n,signElement:i,clearCanvas:o}}};n("121e");At.render=wt,At.__scopeId="data-v-746c5cd4";var Rt=At,It=Object(a["L"])("data-v-1cdd4c2f");Object(a["x"])("data-v-1cdd4c2f");var Pt={key:2,style:{color:"#1f3c6e",background:"#4cabd5",padding:"10px"}},Nt={key:6,class:"xone-loader"},jt=Object(a["j"])("div",null,null,-1);Object(a["v"])();var Mt=It((function(e,t,n,r,i,o){var s=Object(a["C"])("router-view"),l=Object(a["C"])("Map"),u=Object(a["C"])("Calendar"),c=Object(a["C"])("PictureMap"),d=Object(a["C"])("ChartBar"),h=Object(a["C"])("ChartPie"),p=Object(a["C"])("ContentsRow");return Object(a["u"])(),Object(a["f"])("div",{ref:"contentsElement",class:["xone-contents",{"xone-gridview":r.isGridView,"xone-slideview":r.isSlideView}],style:{height:n.attributes.height&&"auto"!==n.attributes.height&&n.controlHeight&&"".concat(n.controlHeight,"px")||"auto",maxWidth:"picturemap"===n.attributes.viewMode&&"".concat(n.controlWidth,"px"),flexGrow:"grow"===n.attributes.width?1:null,backgroundColor:n.attributes.bgColor,"grid-template-columns":r.isGridView&&r.gridTemplateColumns,animation:r.isContents&&"slideDown 0.3s","--contents-width":"".concat(n.controlWidth,"px"),"--contents-height":"".concat(n.controlHeight,"px"),"--contents-max-height":"".concat(r.fitHeight?"calc(".concat(r.fitHeight,"px - var(--margin-bottom))"):null),"--app-width":r.isRouterView&&n.controlWidth&&"".concat(n.controlWidth-2,"px")||"auto","--app-height":r.isRouterView&&n.controlHeight&&"".concat(n.controlHeight-2,"px")||"auto",overflow:r.isRouterView?"hidden":null},onScroll:t[1]||(t[1]=function(){return r.onScroll&&r.onScroll.apply(r,arguments)})},[r.isRouterView?(Object(a["u"])(),Object(a["f"])(s,{key:0})):Object(a["g"])("",!0),r.isMapView?(Object(a["u"])(),Object(a["f"])(l,{key:1,xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["xoneDataObject","controlHeight","controlWidth","attributes"])):r.isCalendarView?(Object(a["u"])(),Object(a["f"])(u,{key:2,xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["xoneDataObject","controlHeight","controlWidth","attributes"])):r.isPictureMapView?(Object(a["u"])(),Object(a["f"])(c,{key:3,style:{"--contents-height":"".concat(r.fitHeight||n.controlHeight,"px")},xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["style","xoneDataObject","controlHeight","controlWidth","attributes"])):r.isChartView?(Object(a["u"])(),Object(a["f"])(a["a"],{key:4},[r.isChartBar?(Object(a["u"])(),Object(a["f"])(d,{key:0,xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["xoneDataObject","controlHeight","controlWidth","attributes"])):r.isChartPie?(Object(a["u"])(),Object(a["f"])(h,{key:1,xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["xoneDataObject","controlHeight","controlWidth","attributes"])):(Object(a["u"])(),Object(a["f"])("div",Pt," XOne -> Not implemented chart type, please contact desarrollador@xone.es "))],64)):(Object(a["u"])(!0),Object(a["f"])(a["a"],{key:5},Object(a["A"])(r.contentsRowsInfo,(function(e){return Object(a["u"])(),Object(a["f"])(p,{key:"".concat(r.breadcumbId,"-").concat(n.attributes.name,"-").concat(e.id),rowInfo:e,controlWidth:r.isGridView?n.controlWidth/n.attributes.galleryColumns:n.controlWidth,controlHeight:r.fitHeight||n.controlHeight,attributes:n.attributes,isSlideView:r.isSlideView,isDisableEdit:n.isDisableEdit,isExpanView:r.isExpanView,rowsLength:r.rowsLength},null,8,["rowInfo","controlWidth","controlHeight","attributes","isSlideView","isDisableEdit","isExpanView","rowsLength"])})),128)),r.isLoading?(Object(a["u"])(),Object(a["f"])("div",Nt,[jt])):Object(a["g"])("",!0)],38)}));function Lt(e,t,n,r,i,o){var s=Object(a["C"])("Container");return Object(a["u"])(),Object(a["f"])("div",{id:"".concat(n.attributes.name.replace("@","")).concat(n.rowInfo.id).concat(r.breadcumbId),class:["xone-contents-row",n.isSlideView&&"xone-slidesnap"]},[r.isRowLoaded&&r.xoneDataObject&&r.control?(Object(a["u"])(),Object(a["f"])(a["a"],{key:0},[n.rowInfo.visible||n.attributes.editInRow||n.rowsLength<300?Object(a["K"])((Object(a["u"])(),Object(a["f"])(s,{key:0,xoneDataObject:r.xoneDataObject,control:r.control,containerHeight:n.controlHeight,containerWidth:n.controlWidth,visibilityBit:4,onClick:r.onContentsRowClick,style:{backgroundColor:r.backgroundColor,cursor:!n.attributes.editInRow&&!n.attributes.locked&&"pointer",animation:"fadeIn .3s"},onOnDataObjectChange:r.onDataObjectChange},null,8,["xoneDataObject","control","containerHeight","containerWidth","onClick","style","onOnDataObjectChange"])),[[a["H"],n.rowInfo.visible]]):Object(a["g"])("",!0),n.isExpanView&&r.expanControl?Object(a["K"])((Object(a["u"])(),Object(a["f"])(s,{key:1,class:"xone-expanded-row",xoneDataObject:r.xoneDataObject,control:r.expanControl,containerHeight:n.controlHeight,containerWidth:n.controlWidth,visibilityBit:4,style:{backgroundColor:r.backgroundColor,cursor:!n.attributes.editInRow&&!n.attributes.locked&&"pointer",poniterEvents:!n.attributes.editInRow&&!n.attributes.locked&&"all"},onOnDataObjectChange:r.onDataObjectChange},null,8,["xoneDataObject","control","containerHeight","containerWidth","style","onOnDataObjectChange"])),[[a["H"],n.rowInfo.isExpanded&&n.rowInfo.visible]]):Object(a["g"])("",!0)],64)):Object(a["g"])("",!0),r.isRowLoaded&&r.control&&r.xoneDataObject&&n.rowInfo.visible?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",{key:1,style:{width:n.rowInfo.width&&n.rowInfo.width,height:n.rowInfo.height&&n.rowInfo.height}},null,4))],10,["id"])}n("a33b"),n("4ec9");var Dt=function(){function e(t,n){Object(ce["a"])(this,e),Object(he["a"])(this,"contentsRowsInfo",Object(a["z"])([])),Object(he["a"])(this,"element",void 0),Object(he["a"])(this,"contents",void 0),Object(he["a"])(this,"rowsPerPage",20),Object(he["a"])(this,"rowsPerPageByObjectId",5),Object(he["a"])(this,"rowsPerLoad",100),Object(he["a"])(this,"isCheckingRowsVisibility",void 0),Object(he["a"])(this,"isLoadingRowsInfo",Object(a["z"])(!1)),Object(he["a"])(this,"rowsLength",Object(a["z"])(0)),Object(he["a"])(this,"mapDivElements",new Map),Object(he["a"])(this,"elementName",void 0),Object(he["a"])(this,"allRecordsLoaded",!1),Object(he["a"])(this,"loadByObjectId",void 0),Object(he["a"])(this,"breadcumbId",void 0),Object(he["a"])(this,"isLoading",Object(a["z"])(!1)),this.elementName=t,this.breadcumbId=n}return Object(de["a"])(e,[{key:"bindOnScrollEvent",value:function(e){this.element=e,e.addEventListener("scroll",this.onScroll.bind(this))}},{key:"clear",value:function(){this.reset(),this.element.removeEventListener("scroll",this.onScroll)}},{key:"getContentsRowsInfo",value:function(){return this.contentsRowsInfo}},{key:"getIsLoading",value:function(){var e=this;return Object(a["d"])((function(){return e.isLoading.value}))}},{key:"getRowsLength",value:function(){return this.rowsLength.value}},{key:"reset",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.mapDivElements.clear(),this.contentsRowsInfo.value=[],this.rowsLength.value=0,this.allRecordsLoaded=!1,this.isLoadingRowsInfo.value=!1,this.isCheckingRowsVisibility=!1,e.next=8,Object(a["o"])();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onScroll",value:function(){var e=this;if(this.isCheckingRowsVisibility||this.isLoadingRowsInfo.value||this.isLoading.value)return this.timeoutOnScroll&&clearTimeout(this.timeoutOnScroll),this.timeoutOnScroll=setTimeout((function(){return e.onScroll()})),25;this.checkScrollElementsVisibility(),this.checkLoadRowsInfo()}},{key:"checkScrollElementsVisibility",value:function(){var e=this;try{this.isCheckingRowsVisibility=!0,this.scrollElementsVisibilityTimeout&&clearTimeout(this.scrollElementsVisibilityTimeout),this.scrollElementsVisibilityTimeout=setTimeout((function(){e.contentsRowsInfo.value.forEach((function(t){var n=e.element,r=n.scrollTop,a=n.clientHeight,i=e.mapDivElements.get(t.id);if(!i){if(i=document.getElementById("".concat(e.elementName.replace("@","")).concat(t.id).concat(e.breadcumbId)),!i)return;e.mapDivElements.set(t.id,i)}i.offsetTop+i.clientHeight+window.outerHeight<r||i.offsetTop+i.clientHeight>r+a+window.outerHeight?("auto"===t.height&&(t.height=i.clientHeight?i.clientHeight+"px":"auto"),"auto"===t.width&&(t.width=i.clientWidth?i.clientWidth+"px":"auto"),t.visible=!1):t.visible||(t.height="auto",t.width="auto",t.visible=!0),e.isCheckingRowsVisibility=!1}))}),500)}catch(t){this.isCheckingRowsVisibility=!1}}},{key:"checkLoadRowsInfo",value:function(){var e=this.element;this.allRecordsLoaded||e.scrollHeight-e.clientHeight-window.outerHeight/2>=e.scrollTop||this.loadRowsInfo(null,e)}},{key:"loadRows",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,n=o.length>1&&void 0!==o[1]?o[1]:null,e.prev=2,!t){e.next=7;break}return e.next=6,this.reset();case 6:this.contents=t;case 7:return this.isLoading.value=!0,e.next=10,Object(a["o"])();case 10:if(r="true"===this.contents.m_xmlNode.getAttrValue("special"),i="true"===this.contents.m_xmlNode.getAttrValue("fluid-load")||(null===n||void 0===n?void 0:n.fluidLoad),r){e.next=17;break}return e.next=15,this.contents.loadAll(!0,{start:this.getRowsLength(),length:this.rowsPerLoad});case 15:e.next=18;break;case 17:this.getRowsLength()===this.contents.length&&(this.allRecordsLoaded=!0);case 18:0===this.contents.length&&(this.allRecordsLoaded=!0),this.rowsLength.value+=this.contents.length,this.isLoading.value=!1,t&&!r&&(this.loadByObjectId=this.rowsPerLoad===this.contents.length||i),e.next=29;break;case 24:e.prev=24,e.t0=e["catch"](2),h["a"].showSnackbar({color:"#F44336",textColor:"white",text:e.t0}),console.error(e.t0),this.isLoading.value=!1;case 29:case"end":return e.stop()}}),e,this,[[2,24]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadRowsInfo",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,i,o,l,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isLoadingRowsInfo.value=!0,t=this.loadByObjectId?this.rowsPerPageByObjectId:this.rowsPerPage,n=0===this.contentsRowsInfo.value.length?0:this.contentsRowsInfo.value[this.contentsRowsInfo.value.length-1].id+1,r=n+t,i=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t<u.getRowsLength())){e.next=15;break}if(e.t0=t,u.loadByObjectId){e.next=6;break}e.t1=null,e.next=9;break;case 6:return e.next=8,Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e()}),1)}));case 2:n=t;while(n>=u.rowsPerLoad)n-=u.rowsPerLoad;return e.prev=4,e.next=7,u.contents.get(n);case 7:return r=e.sent,e.abrupt("return",r.ID.toString());case 11:return e.prev=11,e.t0=e["catch"](4),console.error("Error getting XoneDataObject ID",e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})))();case 8:e.t1=e.sent;case 9:e.t2=e.t1,e.t3=function(e){return n.recordId=e.toString()},e.t4=function(){},e.t5=function(e){return n.refresh=e},n={id:e.t0,recordId:e.t2,setRecordId:e.t3,visible:!0,height:"auto",width:"auto",isExpanded:!1,refresh:e.t4,setRefresh:e.t5},u.contentsRowsInfo.value.push(n);case 15:case"end":return e.stop()}}),e)})),o=n;case 6:if(!(o<r)){e.next=11;break}return e.delegateYield(i(o),"t0",8);case 8:o++,e.next=6;break;case 11:if(!(this.contentsRowsInfo.value.length<r)){e.next=13;break}return e.abrupt("return",this.isLoadingRowsInfo.value=!1);case 13:return e.next=15,new Promise((function(e){return setTimeout((function(){return Object(a["o"])().then((function(){return e()}))}),1)}));case 15:if(!(r+this.rowsPerPage>=this.getRowsLength())){e.next=18;break}return e.next=18,this.loadRows();case 18:if(l=this.element,!(this.allRecordsLoaded||l.scrollHeight-l.clientHeight-window.outerHeight/5>=l.scrollTop)){e.next=21;break}return e.abrupt("return",this.isLoadingRowsInfo.value=!1);case 21:this.loadRowsInfo();case 22:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Ft={name:"ContentsRow",props:{rowInfo:{type:Object,required:!0},controlHeight:{type:Number,default:0},attributes:{type:Object,required:!0},isDisableEdit:{type:Boolean,required:!0},controlWidth:{type:Number,default:0},isSlideView:{type:Boolean,default:!1},isExpanView:{type:Boolean,default:!1},rowsLength:{type:Number,default:0}},setup:function(e){var t=Object(a["z"])(!1),n=Object(a["n"])("contents"),r=Object(a["z"])(null),i=Object(a["z"])(null),o=Object(a["d"])((function(){var e,t;return null===(e=i.value)||void 0===e||null===(t=e.controls)||void 0===t?void 0:t.find((function(e){var t=ut["a"].getContainerAttributes(e.attributes);return"group"===t.node&&!t.fixed&&!t.drawerOrientation}))})),l=Object(a["d"])((function(){var e;return ut["a"].getContainerAttributes(null===(e=n.value)||void 0===e?void 0:e.getLayout().attributes)})),u=Object(a["n"])("selectedItem"),c=!1,d=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.attributes.editInRow||e.attributes.locked||e.isDisableEdit)){t.next=2;break}return t.abrupt("return");case 2:if(!c){t.next=4;break}return t.abrupt("return");case 4:return c=!0,t.prev=5,t.next=8,r.value.ExecuteNode("selecteditem");case 8:if(!t.sent){t.next=12;break}return c=!1,u.value=e.rowInfo.id,t.abrupt("return");case 12:t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](5);case 16:if(!e.isExpanView){t.next=19;break}return c=!1,t.abrupt("return",C(e.rowInfo));case 19:D["a"].pushXoneDataObject(r.value),c=!1;case 21:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var i=Object(s["a"])(regeneratorRuntime.mark((function i(){var o,s=arguments;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=!(s.length>0&&void 0!==s[0])||s[0],t.value=!1,i.next=4,n.value.get(e.rowInfo.recordId||e.rowInfo.id);case 4:if(r.value=i.sent,r.value){i.next=7;break}return i.abrupt("return");case 7:return e.rowInfo.setRecordId(r.value.ID),o&&v.value++,e.attributes.editInRow||r.value.setCloneOnPush(!0),p(),t.value=!0,i.next=14,Object(a["o"])();case 14:if(!e.attributes.editInRow){i.next=16;break}return i.abrupt("return");case 16:r.value.ExecuteNode("before-edit").then((function(){return r.value.ExecuteNode("load")})).then((function(){return r.value.ExecuteNode("after-edit")})).catch(console.error);case 17:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}(),p=function(){r.value&&(e.isExpanView&&(S.value=r.value.getLayout(1)),i.value=r.value.getLayout(4),r.value.setLayout(i.value))},f=Object(a["n"])("sizeConditions"),m=Object(a["n"])("orientation"),g=!1;Object(a["I"])((function(){return f.value}),(function(){e.rowInfo.visible?(p(),g=!1):g=!0})),Object(a["I"])((function(){return m.value}),(function(){e.rowInfo.visible?(p(),g=!1):g=!0})),Object(a["I"])((function(){return e.rowInfo.visible}),(function(e){g&&e&&(g=!1,p())}));var b,_=Object(a["n"])("breadcumbId"),v=Object(a["n"])("loadedRowsLength");Object(a["s"])((function(){return h().then((function(){return e.rowInfo.setRefresh((function(){return h(!1)}))}))})),Object(a["w"])("objectInfo",{isContents:!0,editInRow:e.attributes.editInRow,autosave:e.attributes.autosave,recordIndex:e.rowInfo.id});var O=n.value.m_xmlNode;O.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("colorview")&&(b=e.getAttrValue("name")),"true"===e.getAttrValue("cell-selected-bgcolor")&&(b=e.getAttrValue("name"))}));var y=Object(a["d"])((function(){return b&&r.value?r.value[b]:u.value&&e.rowInfo.id===u.value&&l.value.cellSelectedBgColor?l.value.cellSelectedBgColor:Number(e.rowInfo.id)%2===0?l.value.cellEvenColor:l.value.cellOddColor})),C=Object(a["n"])("onExpanItemSelected"),S=Object(a["z"])(null),E=Object(a["d"])((function(){var t,n;return e.isExpanView?null===(t=S.value)||void 0===t||null===(n=t.controls)||void 0===n?void 0:n.find((function(e){var t=ut["a"].getContainerAttributes(e.attributes);return"group"===t.node&&!t.fixed&&!t.drawerOrientation})):null}));return Object(a["I"])((function(){return e.rowInfo.isExpanded}),(function(e){var t;r.value&&(e?r.value.ExecuteNode("onexpand").catch(console.error):null===(t=r.value)||void 0===t||t.ExecuteNode("oncollapse").catch(console.error))})),{isRowLoaded:t,control:o,contentsAttributes:l,xoneDataObject:r,onContentsRowClick:d,breadcumbId:_,backgroundColor:y,expanControl:E,onDataObjectChange:function(e){e.ExecuteNode("before-edit").then((function(){return r.value.ExecuteNode("load")})).then((function(){return r.value.ExecuteNode("after-edit")})).catch(console.error),r.value=e}}}};n("aa09");Ft.render=Lt;var Gt=Ft,Bt=Object(a["L"])("data-v-15fbdfc2"),Vt=Bt((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])("div",{id:"map-".concat(r.breadcumbId).concat(r.objectIndex),class:"xone-map",onClick:t[3]||(t[3]=function(e){return r.showLayers=!1})},[Object(a["j"])("div",{class:"xone-map-markers",onMousewheel:t[2]||(t[2]=function(){return r.onMouseWheel&&r.onMouseWheel.apply(r,arguments)})},[r.showMarkerButton?(Object(a["u"])(),Object(a["f"])("div",{key:0,style:{"--image-layers":"url(".concat(r.appPath,"/assets/layers.png) no-repeat")},class:"xone-marker-button"},[Object(a["j"])("button",{onClick:t[1]||(t[1]=function(){return r.onMarkerButtonClick&&r.onMarkerButtonClick.apply(r,arguments)})})],4)):Object(a["g"])("",!0),Object(a["j"])(a["c"],{name:"slide-fade"},{default:Bt((function(){return[Object(a["K"])(Object(a["j"])("div",{class:"xone-markers-list",style:{maxHeight:"".concat(n.controlHeight-25,"px")}},[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.keyLayers,(function(e,t){return Object(a["u"])(),Object(a["f"])("a",{key:"map-".concat(t),class:{"xone-selected-marker":r.checkIsLayerSelected(e)},onClick:function(t){return r.changeMapLayer(e,t)}},Object(a["E"])(e),11,["onClick"])})),128))],4),[[a["H"],r.showLayers]])]})),_:1})],32)],8,["id"])})),Ut=n("3835"),Wt=(n("4fad"),n("6062"),n("b64b"),n("07ac"),"2514d9d400ef48b8996963c689736d76"),Yt=function(e){return{streets:{type:"google",layer:e.tileLayer("http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},satellite:{type:"google",layer:e.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},hybrid:{type:"google",layer:e.tileLayer("http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},terrain:{type:"google",layer:e.tileLayer("http://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},standard:{type:"OSM",layer:e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})},bright:{type:"OSM",layer:e.tileLayer("https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})},dark:{type:"OSM",layer:e.tileLayer("https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})},worldImagery:{type:"OSM",layer:e.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),noLabel:!0},humanitary:{type:"OSM",layer:e.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'})},smooth:{type:"OSM",layer:e.tileLayer("https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})},outdoors:{type:"OSM",layer:e.tileLayer("https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})},openTopoMap:{type:"OSM",layer:e.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'})},cyclist:{type:"OSM",layer:e.tileLayer("https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})},transport:{type:"OSM",layer:e.tileLayer("https://tile.thunderforest.com/transport/{z}/{x}/{y}.png?apikey="+Wt,{maxZoom:20,attribution:""})},neighbourhood:{type:"OSM",layer:e.tileLayer("https://tile.thunderforest.com/neighbourhood/{z}/{x}/{y}.png?apikey=2514d9d400ef48b8996963c689736d76",{maxZoom:20,attribution:""})},carto:{type:"OSM",layer:e.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19})},watercolor:{type:"OSM",layer:e.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg"})},worldTopoMap:{type:"OSM",layer:e.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"})},terrainLabels:{type:"OSM",layer:e.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}),onlyLabel:!0},darkMatterOnlyLabels:{type:"OSM",layer:e.tileLayer("https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19}),onlyLabel:!0},positronOnlyLabels:{type:"OSM",layer:e.tileLayer("https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:18}),onlyLabel:!0},cartoDVoyagerOnlyLabels:{type:"OSM",layer:e.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:18}),onlyLabel:!0}}},Ht=function(e){return e.replace("none","standard").replace("normal","streets")},Xt=function(e){return"mapview"===e.viewMode?"streets":"standard"},qt=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.L){e.next=2;break}return e.abrupt("return");case 2:t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href","modules/leaflet/leaflet.css"),document.head.append(t),n=document.createElement("script"),n.setAttribute("src","modules/leaflet/leaflet.js"),document.head.append(n),r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("href","modules/leaflet/leaflet-routing-machine.css"),document.head.append(r),a=document.createElement("script"),a.setAttribute("src","modules/leaflet/leaflet-routing-machine.js"),document.head.append(a);case 16:if(window.L){e.next=21;break}return e.next=19,new Promise((function(e){return setTimeout((function(){return e()}),1)}));case 19:e.next=16;break;case 21:L.Icon.Default.imagePath="./assets/";case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zt=n("5d1a"),Kt=(n("4d90"),n("fb6a"),function(e){return e.startsWith("#")&&e.length>7?"#"+e.substr(e.length-6,6)+e.substr(1,e.length-7).padStart(2,"0"):e});function Jt(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,n,r){return t+t+n+n+r+r}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}var Qt=function(){function e(t,n,r){Object(ce["a"])(this,e),this.set(t,n,r)}return Object(de["a"])(e,[{key:"toString",value:function(){return"rgb(".concat(Math.round(this.r),", ").concat(Math.round(this.g),", ").concat(Math.round(this.b),")")}},{key:"set",value:function(e,t,n){this.r=this.clamp(e),this.g=this.clamp(t),this.b=this.clamp(n)}},{key:"hueRotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=e/180*Math.PI;var t=Math.sin(e),n=Math.cos(e);this.multiply([.213+.787*n-.213*t,.715-.715*n-.715*t,.072-.072*n+.928*t,.213-.213*n+.143*t,.715+.285*n+.14*t,.072-.072*n-.283*t,.213-.213*n-.787*t,.715-.715*n+.715*t,.072+.928*n+.072*t])}},{key:"grayscale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e)])}},{key:"sepia",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e)])}},{key:"saturate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.213+.787*e,.715-.715*e,.072-.072*e,.213-.213*e,.715+.285*e,.072-.072*e,.213-.213*e,.715-.715*e,.072+.928*e])}},{key:"multiply",value:function(e){var t=this.clamp(this.r*e[0]+this.g*e[1]+this.b*e[2]),n=this.clamp(this.r*e[3]+this.g*e[4]+this.b*e[5]),r=this.clamp(this.r*e[6]+this.g*e[7]+this.b*e[8]);this.r=t,this.g=n,this.b=r}},{key:"brightness",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(e)}},{key:"contrast",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(e,-.5*e+.5)}},{key:"linear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.r=this.clamp(this.r*e+255*t),this.g=this.clamp(this.g*e+255*t),this.b=this.clamp(this.b*e+255*t)}},{key:"invert",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.r=this.clamp(255*(e+this.r/255*(1-2*e))),this.g=this.clamp(255*(e+this.g/255*(1-2*e))),this.b=this.clamp(255*(e+this.b/255*(1-2*e)))}},{key:"hsl",value:function(){var e,t,n=this.r/255,r=this.g/255,a=this.b/255,i=Math.max(n,r,a),o=Math.min(n,r,a),s=(i+o)/2;if(i===o)e=t=0;else{var l=i-o;switch(t=s>.5?l/(2-i-o):l/(i+o),i){case n:e=(r-a)/l+(r<a?6:0);break;case r:e=(a-n)/l+2;break;case a:e=(n-r)/l+4;break}e/=6}return{h:100*e,s:100*t,l:100*s}}},{key:"clamp",value:function(e){return e>255?e=255:e<0&&(e=0),e}}]),e}(),Zt=function(){function e(t,n){Object(ce["a"])(this,e),this.target=t,this.targetHSL=t.hsl(),this.reusedColor=new Qt(0,0,0)}return Object(de["a"])(e,[{key:"solve",value:function(){for(var e=[],t=0;t<10;t++)e.push(this.solveNarrow(this.solveWide()));e.sort((function(e,t){return e.loss-t.loss}));var n=e[0];return{values:n.values,loss:n.loss,filter:this.css(n.values)}}},{key:"solveWide",value:function(){for(var e=5,t=15,n=[60,180,18e3,600,1.2,1.2],r={loss:1/0},a=0;r.loss>25&&a<3;a++){var i=[50,20,3750,50,100,100],o=this.spsa(e,n,t,i,1e3);o.loss<r.loss&&(r=o)}return r}},{key:"solveNarrow",value:function(e){var t=e.loss,n=2,r=t+1,a=[.25*r,.25*r,r,.25*r,.2*r,.2*r];return this.spsa(t,a,n,e.values,500)}},{key:"spsa",value:function(e,t,n,r,a){for(var i=1,o=.16666666666666666,s=null,l=1/0,u=new Array(6),c=new Array(6),d=new Array(6),h=0;h<a;h++){for(var p=n/Math.pow(h+1,o),f=0;f<6;f++)u[f]=Math.random()>.5?1:-1,c[f]=r[f]+p*u[f],d[f]=r[f]-p*u[f];for(var m=this.loss(c)-this.loss(d),g=0;g<6;g++){var b=m/(2*p)*u[g],_=t[g]/Math.pow(e+h+1,i);r[g]=O(r[g]-_*b,g)}var v=this.loss(r);v<l&&(s=r.slice(0),l=v)}return{values:s,loss:l};function O(e,t){var n=100;return 2===t?n=7500:4!==t&&5!==t||(n=200),3===t?e>n?e%=n:e<0&&(e=n+e%n):e<0?e=0:e>n&&(e=n),e}}},{key:"loss",value:function(e){var t=this.reusedColor;t.set(0,0,0),t.invert(e[0]/100),t.sepia(e[1]/100),t.saturate(e[2]/100),t.hueRotate(3.6*e[3]),t.brightness(e[4]/100),t.contrast(e[5]/100);var n=t.hsl();return Math.abs(t.r-this.target.r)+Math.abs(t.g-this.target.g)+Math.abs(t.b-this.target.b)+Math.abs(n.h-this.targetHSL.h)+Math.abs(n.s-this.targetHSL.s)+Math.abs(n.l-this.targetHSL.l)}},{key:"css",value:function(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(e[t]*n)}return"invert(".concat(t(0),"%) sepia(").concat(t(1),"%) saturate(").concat(t(2),"%) hue-rotate(").concat(t(3,3.6),"deg) brightness(").concat(t(4),"%) contrast(").concat(t(5),"%)")}}]),e}(),$t={name:"Map",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n,r=Object(a["n"])("breadcumbId"),i=Object(a["n"])("objectInfo"),o=i.isContents?i.recordIndex:"",l=Object(a["z"])({}),u=Object(a["d"])((function(){return Object.entries(l.value).filter((function(t){var n=Object(Ut["a"])(t,2),r=n[1];return!r.onlyLabel&&r.type===("openstreetmap"===e.attributes.viewMode?"OSM":"google")})).map((function(e){var t=Object(Ut["a"])(e,1),n=t[0];return n}))})),c=[],d=new Map,h=new Map,p=new Set,f=function(e,n,r){for(var a=[],i=0;i<(arguments.length<=3?0:arguments.length-3);i+=2)a.push(new L.LatLng(i+3<3||arguments.length<=i+3?void 0:arguments[i+3],i+1+3<3||arguments.length<=i+1+3?void 0:arguments[i+1+3]));var o=null;"dashed"===r?o="10, 15":"dotted"===r&&(o="1, 10");var s=new L.Polyline(a,{color:Kt(n),weight:5,opacity:.5,smoothFactor:1,dashArray:o});d.get(e)&&(e=Object(zt["a"])()),d.set(e,s),s.addTo(t)},m=function(e){var n=e.id,r=e.data,a=e.color,i=e.fillcolor,o=e.pattern,s=e.width,l=[];r.forEach((function(e){var t=e.split(",").map((function(e){return Number(e)}));l.push(new L.LatLng(t[0],t[1]))}));var u=null;"dashed"===o?u="10, 15":"dotted"===o&&(u="1, 10");var c=L.polygon(l,{color:Kt(a),fillColor:Kt(i),weight:s,dashArray:u}).addTo(t);h.get(n)&&(n=Object(zt["a"])()),h.set(n,c)},g=function(e){var n=L.Routing.control({waypoints:[L.latLng(e.sourceLatitude,e.sourceLongitude),L.latLng(e.destinationLatitude,e.destinationLongitude)],routeWhileDragging:!1,showAlternatives:!1});p.add(n),n.addTo(t)},b=function(){d.forEach((function(e){return t.removeLayer(e)})),d.clear()},_=function(){h.forEach((function(e){return t.removeLayer(e)})),h.clear()},v=Object(a["z"])(),O=Object(a["n"])("xoneView"),y=Object(a["z"])([]),C=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(x(),v.value){t.next=5;break}return t.next=4,e.xoneDataObject.getContents(e.attributes.contents);case 4:v.value=t.sent;case 5:return t.next=7,v.value.loadAll(!1);case 7:y.value=[],n=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.value.get(t);case 2:n=e.sent,y.value.push(n),n.ExecuteNode("before-edit").then((function(){return n.ExecuteNode("load")})).then((function(){return n.ExecuteNode("after-edit")})).catch(console.error);case 5:case"end":return e.stop()}}),e)})),r=0;case 10:if(!(r<v.value.length)){t.next=15;break}return t.delegateYield(n(r),"t0",12);case 12:r++,t.next=10;break;case 15:S(!0);case 16:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[];y.value.forEach((function(e){if(e.LATITUD&&e.LONGITUD){var r="/assets/marker-icon.png",a=L.icon({iconUrl:r,shadowUrl:"/assets/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41]});n.push([e.LATITUD,e.LONGITUD]);var i=L.marker([e.LATITUD,e.LONGITUD],{icon:a}).addTo(t).on("click",(function(){return e.ExecuteNode("selecteditem").catch(console.error)}));c.push(i)}})),e&&0!==n.length&&t.fitBounds(n)},E=function(){return Object.keys(t._layers).forEach((function(e){return t.removeLayer(t._layers[e])}))},T=function(){return p.forEach((function(e){return t.removeControl(e)}))},k=Xt(e.attributes),w=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r&&r.stopPropagation(),e=Ht(e),k=e,n&&t.removeLayer(n),n=l.value[e].layer,n||(n=Object.values(l.value).forEach((function(t){return t.title===e}))),n.addTo(t),t._zoom>l.value[e].layer.options.maxZoom&&t.setZoom(l.value[e].layer.options.maxZoom),S(),R.value=!1},x=function(){t?(T(),E()):t=L.map("map-".concat(r).concat(o)).setView([43.454518,-3.851194],2),n=l.value[Xt(e.attributes)].layer,n.addTo(t)};Object(a["s"])(Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,qt();case 2:l.value=Yt(L,e.attributes),r=new je["a"](e.attributes.name),r.refresh=C,r.drawLine=f,r.clearArea=function(e){return t.removeLayer(h.get(e))},r.clearAllAreas=_,r.clearLine=function(e){return t.removeLayer(d.get(e))},r.clearAllLines=b,r.clearAllRoutes=T,r.clearRoute=T,r.drawArea=m,r.drawRoute=g,r.routeTo=g,r.removeArea=function(e){return h.has(e)&&t.removeLayer(h.get(e))},r.zoomTo=function(){t.flyTo([arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]],18,{duration:1})},r.setMapType=w,r.zoomToBounds=function(e){t.flyToBounds(e.map((function(e){return e.split(",").map((function(e){return Number(e)}))})),{animate:!0,duration:1})},O.addControl(r),C();case 21:case"end":return n.stop()}}),n)})))),Object(a["t"])((function(){v.value&&v.value.clear()}));var A=Object(a["z"])(!0),R=Object(a["z"])(!1);return Object(a["I"])((function(){return R.value}),(function(e){e?A.value=!1:setTimeout((function(){return A.value=!0}),400)})),{keyLayers:u,breadcumbId:r,objectIndex:o,showLayers:R,changeMapLayer:w,showMarkerButton:A,onMouseWheel:function(e){return e.stopPropagation()},onMarkerButtonClick:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:R.value=!R.value,t.stopPropagation();case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),checkIsLayerSelected:function(e){return Ht(e)===Ht(k)},appPath:Object(a["n"])("appPath")}}};n("bc4c");$t.render=Vt,$t.__scopeId="data-v-15fbdfc2";var en=$t,tn=Object(a["L"])("data-v-4e93f1d4");Object(a["x"])("data-v-4e93f1d4");var nn={ref:"calendarElement",class:"xone-calendar"},rn={class:"xone-calendar-days"},an={class:"xone-calendar-events"};Object(a["v"])();var on=tn((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])("div",nn,[Object(a["j"])("ol",null,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.weekDays,(function(e){return Object(a["u"])(),Object(a["f"])("li",{style:[{display:"flex","justify-content":"center"},{backgroundColor:n.attributes.cellBorderColor&&n.attributes.cellBorderColor||"lightgray"}],key:"calendar-".concat(e)},[Object(a["j"])("p",null,Object(a["E"])(e),1)],4)})),128))]),Object(a["j"])("ol",rn,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.dateItems,(function(e){return Object(a["u"])(),Object(a["f"])("li",{key:"calendar-".concat(e.day,"-").concat(e.id),style:{backgroundColor:e.isCurrentMonth?e.date.isSameDate(r.currentDate)&&n.attributes.cellSelectedBgColor?n.attributes.cellSelectedBgColor:n.attributes.cellBgColor&&n.attributes.cellBgColor||"white":n.attributes.cellOtherMonthBgColor&&n.attributes.cellOtherMonthBgColor||"rgba(0,0,0,.1)",border:"1px ".concat(e.date.isSameDate(r.currentDate)?n.attributes.cellSelectedBorderColor&&n.attributes.cellSelectedBorderColor||"lightgray":"transparent"," solid")},onClick:function(t){return r.onDateSelected(e)}},[Object(a["j"])("div",{style:{backgroundColor:e.date.isSameDate(new Date)&&(n.attributes.cellSelectedBgColor||"lightgray"),color:n.attributes.cellForeColor&&n.attributes.cellForeColor}},[Object(a["j"])("p",null,Object(a["E"])(e.day),1)],4),Object(a["j"])("div",an,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(e.values,(function(e){return Object(a["u"])(),Object(a["f"])("div",{key:"calendar-event-".concat(e.index,"-").concat(e.i),style:{backgroundColor:e.color}},null,4)})),128))])],12,["onClick"])})),128))])],512)})),sn=n("2909"),ln=(n("466d"),Intl.DateTimeFormat().resolvedOptions().locale);Date.prototype.toXoneDate||function(){var e=function(e){return e<10?"0".concat(e):e};Date.prototype.toXoneDate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DT",n=this.getFullYear()+"-"+e(this.getMonth()+1)+"-"+e(this.getDate());return"DT"===t&&(n+="T"+e(this.getHours())+":"+e(this.getMinutes())),n},Date.prototype.toString=function(){return this.getFullYear()+"-"+e(this.getMonth()+1)+"-"+e(this.getDate())+" "+e(this.getHours())+":"+e(this.getMinutes())+":"+e(this.getSeconds())}}(),Date.prototype.monthDays||(Date.prototype.monthDays=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()}),Date.prototype.firstWeekDayOfMonth||(Date.prototype.firstWeekDayOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1).getDay()}),Date.prototype.lastWeekDayOfMonth||(Date.prototype.lastWeekDayOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),this.monthDays()).getDay()}),Date.prototype.previusMonth||(Date.prototype.previusMonth=function(){var e=this.getFullYear(),t=this.getMonth();return 0===t&&(t=12,e--),new Date("".concat(e,"-").concat(t,"-01"))}),Date.prototype.nextMonth||function(){Date.prototype.nextMonth=function(){var e=this.getFullYear(),t=this.getMonth()+2;return t>12&&(t=1,e++),new Date("".concat(e,"-").concat(t,"-01"))}}(),Date.prototype.isSameDate||function(){Date.prototype.isSameDate=function(e){return this.getDate()===e.getDate()&&this.getMonth()===e.getMonth()&&this.getFullYear()===e.getFullYear()}}();var un=function(e,t){var n="AEAFBHDJDZEGIQIRJOKWLYOMQASDSY".match(/../g),r="AGARASAUBDBRBSBTBWBZCACNCODMDOETGTGUHKHNIDILINJMJPKEKHKRLAMHMMMOMTMXMZNINPPAPEPHPKPRPTPYSASGSVTHTTTWUMUSVEVIWSYEZAZW".match(/../g),a=["ar","arq","arz","fa"],i="amasbndzengnguhehiidjajvkmknkolomhmlmrmtmyneomorpapssdsmsnsutatethtnurzhzu".match(/../g);return e?r.includes(e)||n.includes(e)?0:1:i.includes(t)||a.includes(t)?0:1},cn=function(){var e=ln.match(/^([a-z]{2,3})(?:-([a-z]{3})(?=$|-))?(?:-([a-z]{4})(?=$|-))?(?:-([a-z]{2}|\d{3})(?=$|-))?/i);return un(e[4],e[1])},dn=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(sn["a"])(Array(8).keys()).map((function(e){return new Date(2021,1,e)})),n=[],r=cn();r<cn()+7;r++)n.push(new Intl.DateTimeFormat(ln,{weekday:e?"long":"short"}).format(t[r]));return n},hn=n("5f19"),pn={name:"Map",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n,r,i=Object(a["z"])([]),o=Object(a["z"])(),l=Object(a["z"])(),u=Object(a["n"])("xoneView"),c=[];Object(a["s"])(Object(s["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.xoneDataObject.getContents(e.attributes.contents);case 2:l.value=a.sent,i=l.value.m_xmlNode,i.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("colorview")&&(r=e.getAttrValue("name")),"true"===e.getAttrValue("datefrom")&&(t=e.getAttrValue("name")),"true"===e.getAttrValue("dateto")&&(n=e.getAttrValue("name")),"true"===e.getAttrValue("timefrom")&&e.getAttrValue("name"),"true"===e.getAttrValue("timeto")&&e.getAttrValue("name")})),s=new je["a"](e.attributes.name,o.value),s.refresh=function(){return d()},s.nextMonth=function(){return h(1)},s.previusMonth=function(){return h(-1)},u.addControl(s),d(),l.value.executeCollAction("ondateselected",null,m.value).catch(console.error);case 12:case"end":return a.stop()}}),a)})))),Object(a["t"])((function(){l.value&&l.value.clear()}));var d=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=l.value.getVariables("moveto"),t&&("next"===t?m.value.nextMonth():"prev"===t&&m.value.previusMonth(),l.value.setVariables("moveto",null)),g(),_();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){m.value=e>0?m.value.nextMonth():m.value.previusMonth(),f(e>0),g(),l.value.executeCollAction("ondateselected",null,m.value).catch(console.error),l.value.executeCollAction("onpageselected",null,m.value).catch(console.error)},p=new hn["a"](h);Object(a["s"])((function(){o.value.setAttribute("swipeable",!1),p.init(o.value)})),Object(a["t"])((function(){return p.clear()}));var f=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.value.style.left=(e?50:-50)+"px";var t=setInterval((function(){if(String(o.value.style.left).startsWith("0"))return _(),clearInterval(t);var e=Number(o.value.style.left.replace("px",""));e>0?e-=5:e+=5,o.value.style.left=e+"px"}),5)},m=Object(a["z"])(new Date),g=function(){i.value=[];var e=m.value.monthDays(),t=m.value.firstWeekDayOfMonth(),n=cn();if(1===n&&0===t&&(t=7),t>n)for(var r=m.value.previusMonth(),a=r.monthDays()-t+n+1,o=t;o>n;o--){var s=new Date(r.getFullYear(),r.getMonth(),a);i.value.push({id:Object(zt["a"])(),day:a,date:s,isCurrentMonth:!1,values:[]}),a++}for(var u=1;u<=e;u++){var c=new Date(m.value.getFullYear(),m.value.getMonth(),u);i.value.push({id:Object(zt["a"])(),day:u,date:c,isCurrentMonth:!0,values:[]})}var d=0===n?6:7,h=m.value.lastWeekDayOfMonth();7===d&&0===h&&(h=7);for(var p=1,f=m.value.nextMonth(),g=h;g<d;g++){var b=new Date(f.getFullYear(),f.getMonth(),p);i.value.push({id:Object(zt["a"])(),day:p,date:b,isCurrentMonth:!1,values:[]}),p++}i.value.forEach((function(e){return l.value.executeCollAction("oncelldraw",null,e.date).catch(console.error)}))},b="",_=function(){var e;l.value.setFilter(null===(e=l.value.getFilter())||void 0===e?void 0:e.replace(b,"")),b="".concat(t,">='").concat(i.value[0].date,"' AND ").concat(n,"<='").concat(i.value[i.value.length-1].date,"'"),l.value.setFilter(b),l.value.loadAll(!1).then((function(){return v()}))},v=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c.value=[],n=regeneratorRuntime.mark((function e(n){var a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.value.get(n);case 2:if(a=e.sent,c.value.push({index:n,obj:a}),o=a[t],s=a[r],o&&s){e.next=8;break}return e.abrupt("return","continue");case 8:Object.values(i.value).forEach((function(e){e.date.isSameDate(o)&&e.values.push({id:n,itemIndex:e.index,color:s})}));case 9:case"end":return e.stop()}}),e)})),a=0;case 3:if(!(a<l.value.length)){e.next=11;break}return e.delegateYield(n(a),"t0",5);case 5:if(o=e.t0,"continue"!==o){e.next=8;break}return e.abrupt("continue",8);case 8:a++,e.next=3;break;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{n=m.value.getMonth(),m.value=t.date,l.value.executeCollAction("ondateselected",null,t.date).catch(console.error),m.value.getMonth()!==n&&(d(),l.value.executeCollAction("onpageselected",null,t.date).catch(console.error))}catch(r){console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{calendarElement:o,contentsItems:c,dateItems:i,currentDate:m,onDateSelected:O,weekDays:dn(e.attributes.weekdaysLongname)}}};n("fbbd");pn.render=on,pn.__scopeId="data-v-4e93f1d4";var fn=pn,mn=Object(a["L"])("data-v-1ef58228"),gn=mn((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])("canvas",{id:"chart-".concat(r.breadcumbId,"-").concat(n.attributes.name).concat(r.objectIndex)},null,8,["id"])})),bn=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(t=e.substring(1).split(""),3==t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),"rgba("+[t>>16&255,t>>8&255,255&t].join(",")+","+n+")"):e},_n={name:"ChartBar",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n,r,i,o=Object(a["n"])("breadcumbId"),l=Object(a["n"])("objectInfo"),u=l.isContents?l.recordIndex:"",c=Object(a["z"])(),d=Object(a["n"])("xoneView"),h=!1,p=100,f=function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:n&&clearTimeout(n),n=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c.value){t.next=4;break}return t.next=3,e.xoneDataObject.getContents(e.attributes.contents);case 3:c.value=t.sent;case 4:return t.next=6,c.value.loadAll(!1);case 6:n={labels:[],datasets:[]},a=[],i=[],o=[],l=[],u=c.value.m_xmlNode,u.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("chart-serie-title")&&(r=e.getAttrValue("name")),"true"===e.getAttrValue("chart-category")&&(a.push(e.getAttrValue("name")),i.push(e.getAttrValue("title")),o.push(e.getAttrValue("chart-category-color")),l.push(e.getAttrValue("chart-bar-thickness")||void 0))})),n.datasets=[],n.labels=[],a.forEach(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,s){var u,d,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u={label:i[s]},u.data=[],u.backgroundColor=[],u.borderColor=[],u.borderWidth=2,u.barThickness=l[s],d=0;case 7:if(!(d<c.value.length)){e.next=18;break}return e.next=10,c.value.get(d);case 10:h=e.sent,r&&0===s&&n.labels.push(h[r]),u.data.push(h[t]),u.backgroundColor.push(bn(o[s],.7)),u.borderColor.push(o[s]);case 15:d++,e.next=7;break;case 18:n.datasets.push(u),s===a.length-1&&m(n);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 16:case"end":return t.stop()}}),t)}))),p);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),m=function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r||(r=new Chart(t,{type:"linechart"===e.attributes.viewMode?"line":"bar",data:a,options:{animation:!1,legend:{display:!1},elements:{point:{radius:3}},scales:{xAxes:[{stacked:"stackedbarchart"===e.attributes.viewMode,gridLines:{display:!1}}],yAxes:[{stacked:"stackedbarchart"===e.attributes.viewMode,gridLines:{display:h},ticks:{beginAtZero:!0}}]}}}),r.options.animation={duration:1e3,easing:"easeOutQuart"}),r.update(),t.animate([{opacity:.1},{opacity:1}],{duration:500});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=Object(a["n"])("groupId"),b=Object(a["n"])("groupHandler"),_=b.activeGroup;Object(a["s"])((function(){var n=Function("cBF",'(async()=>{if(window.Chart)return cBF();try{await import("../modules/chartjs/Chart.min.js");cBF();}catch(ex){console.error(ex);}})()');n(Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(e){return setTimeout((function(){return Object(a["o"])().then((function(){return e()}))}),250)}));case 2:t=document.getElementById("chart-".concat(o,"-").concat(e.attributes.name).concat(u)),r=new je["a"](e.attributes.name),r.refresh=f,d.addControl(r),Object(a["J"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!c.value&&g===_.value){e.next=2;break}return e.abrupt("return");case 2:f();case 3:case"end":return e.stop()}}),e)}))));case 7:case"end":return n.stop()}}),n)}))))}));var v=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:i&&clearTimeout(i),i=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["o"])();case 2:m();case 3:case"end":return e.stop()}}),e)}))),250);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a["I"])((function(){return e.controlWidth}),(function(){return v()})),Object(a["I"])((function(){return e.controlHeight}),(function(){return v()})),Object(a["t"])((function(){c.value&&c.value.clear()})),{breadcumbId:o,objectIndex:u}}};n("8b99");_n.render=gn,_n.__scopeId="data-v-1ef58228";var vn=_n,On=Object(a["L"])("data-v-44fd355a"),yn=On((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])("canvas",{id:"chart-".concat(r.breadcumbId,"-").concat(n.attributes.name).concat(r.objectIndex)},null,8,["id"])})),Cn={name:"ChartPie",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n,r,i,o=Object(a["n"])("breadcumbId"),l=Object(a["n"])("objectInfo"),u=l.isContents?l.recordIndex:"",c=Object(a["z"])(),d=Object(a["n"])("xoneView"),h=100,p=function(){var r=Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:n&&clearTimeout(n),n=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,s,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(c.value){t.next=4;break}return t.next=3,e.xoneDataObject.getContents(e.attributes.contents);case 3:c.value=t.sent;case 4:return t.next=6,c.value.loadAll(!1);case 6:n={labels:[],datasets:[]},o="",s=c.value.m_xmlNode,s.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("chart-serie-title")&&(r=e.getAttrValue("name")),"true"===e.getAttrValue("chart-value")&&(a=e.getAttrValue("name"),i=e.getAttrValue("title")),"true"===e.getAttrValue("chart-serie-color")&&(o=e.getAttrValue("name"))})),n.datasets=[],n.labels=[],l={label:i},l.data=[],l.backgroundColor=[],l.borderColor=[],l.borderWidth=1,u=0;case 18:if(!(u<c.value.length)){t.next=28;break}return t.next=21,c.value.get(u);case 21:d=t.sent,r&&n.labels.push(d[r]),l.data.push(d[a]),l.backgroundColor.push(d[o]);case 25:u++,t.next=18;break;case 28:n.datasets.push(l),f(n);case 30:case"end":return t.stop()}}),t)}))),h);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),f=function(){var n=Object(s["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r||(r=new Chart(t,{type:"piechart"===e.attributes.viewMode?"pie":"doughnut",data:a,options:{cutoutPercentage:"piechart"===e.attributes.viewMode?0:70,animation:!1}}),r.options.animation={duration:1e3,easing:"easeOutQuart"}),r.update(),t.animate([{opacity:.1},{opacity:1}],{duration:500});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),m=Object(a["n"])("groupId"),g=Object(a["n"])("groupHandler"),b=g.activeGroup;Object(a["s"])((function(){var n=Function("cBF",'(async()=>{if(window.Chart)return cBF();try{await import("../modules/chartjs/Chart.min.js");cBF();}catch(ex){console.error(ex);}})()');n(Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(e){return setTimeout((function(){return Object(a["o"])().then((function(){return e()}))}),250)}));case 2:t=document.getElementById("chart-".concat(o,"-").concat(e.attributes.name).concat(u)),r=new je["a"](e.attributes.name),r.refresh=p,d.addControl(r),Object(a["J"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!c.value&&m===b.value){e.next=2;break}return e.abrupt("return");case 2:p();case 3:case"end":return e.stop()}}),e)}))));case 7:case"end":return n.stop()}}),n)}))))}));var _=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:i&&clearTimeout(i),i=setTimeout(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["o"])();case 2:f();case 3:case"end":return e.stop()}}),e)}))),250);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a["I"])((function(){return e.controlWidth}),(function(){return _()})),Object(a["I"])((function(){return e.controlHeight}),(function(){return _()})),Object(a["t"])((function(){c.value&&c.value.clear()})),{breadcumbId:o,objectIndex:u}}};n("df22");Cn.render=yn,Cn.__scopeId="data-v-44fd355a";var Sn=Cn,En=Object(a["L"])("data-v-6445c131");Object(a["x"])("data-v-6445c131");var Tn={class:"xone-picturemap"},kn={class:"xone-picturemap-zoom"},wn={key:1},xn=Object(a["j"])("div",{class:"xone-loader"},[Object(a["j"])("div")],-1);Object(a["v"])();var An=En((function(e,t,n,r,i,o){var s;return Object(a["u"])(),Object(a["f"])("div",Tn,[Object(a["j"])("div",kn,[Object(a["j"])("div",null,[Object(a["j"])("button",{onClick:t[1]||(t[1]=function(e){return r.modifyZoom(.5)}),style:{backgroundColor:r.zoom<5?"#fff":"#f4f4f4"}}," + ",4),Object(a["j"])("button",{onClick:t[2]||(t[2]=function(e){return r.zoom>1&&r.modifyZoom(-.5)}),style:{opacity:r.zoom<=1?.6:1,backgroundColor:r.zoom>1?"#fff":"#f4f4f4"}}," - ",4)]),r.hideRange?Object(a["g"])("",!0):Object(a["K"])((Object(a["u"])(),Object(a["f"])("input",{key:0,onClick:t[3]||(t[3]=function(e){return e.stopPropagation()}),onMousemove:t[4]||(t[4]=function(e){return e.stopPropagation()}),type:"range",orient:"vertical","onUpdate:modelValue":t[5]||(t[5]=function(e){return r.zoom=e}),min:"1",max:"5",step:".25"},null,544)),[[a["G"],r.zoom]])]),Object(a["j"])("div",{ref:"picturemapElement",class:"xone-picturemap-container",style:{height:n.controlHeight&&"".concat(r.zoom*n.controlHeight,"px"),width:n.controlWidth&&"".concat(r.zoom*n.controlWidth,"px"),"--picturemap-cursor":r.isGrabbing?"grabbing":"grab","--picturemap-items-cursor":r.isGrabbing?"grabbing":"pointer"}},[r.containerElementSize&&!r.isLoading?(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"xone-picturemap-items",style:{height:r.containerElementSize.height&&"".concat(r.containerElementSize.height,"px"),width:r.containerElementSize.width&&"".concat(r.containerElementSize.width,"px"),backgroundImage:(null===(s=r.contentsImage)||void 0===s?void 0:s.path)&&"url(".concat(r.contentsImage.path,")")}},[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.data,(function(e){return Object(a["u"])(),Object(a["f"])(a["a"],{key:"pictureMap-".concat(n.attributes.name,"-").concat(e.index)},[e.scaledX&&e.scaledY?(Object(a["u"])(),Object(a["f"])("div",{key:0,class:"xone-picturemap-item",style:{left:e.scaledX+"px",top:e.scaledY+"px",width:e.scaledImgWidthOff&&e.scaledImgWidthOff+"px",height:e.scaledImgHeightOff&&e.scaledImgHeightOff+"px",zIndex:e.zIndex}},[e.text?(Object(a["u"])(),Object(a["f"])("div",{key:0,style:{color:e.textColor&&e.textColor}},Object(a["E"])(e.text),5)):Object(a["g"])("",!0),Object(a["j"])("button",{onClick:function(t){return r.onItemSelected(e)},style:{width:e.scaledImgWidthOff&&e.scaledImgWidthOff+"px",backgroundImage:"url(".concat(e.selected?e.iconOn&&e.iconOn:e.iconOff&&e.iconOff,")"),height:e.scaledImgHeightOff&&e.scaledImgHeightOff+"px",filter:e.selected?e.filterOn&&e.filterOn:e.filterOff&&e.filterOff||e.filterOn}},null,12,["onClick"])],4)):Object(a["g"])("",!0)],64)})),128))],4)):(Object(a["u"])(),Object(a["f"])("div",wn,[xn]))],4)])})),Rn={components:{Image:Rt},name:"PictureMap",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n=Object(a["z"])(),i=Object(a["n"])("xoneView"),o=Object(a["z"])([]),l=Object(a["z"])();Object(a["s"])(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.attributes.image){t.next=6;break}return t.next=3,Ue(e.attributes.image,"files");case 3:l.value=t.sent,e.attributes.image&&!l.value&&console.error("Not found: picturemap background image",e.attributes.name,e.attributes.image),G();case 6:case"end":return t.stop()}}),t)}))));var u,c,d=Object(a["n"])("scaleFactor"),h=d.widthFactor,p=d.heightFactor,f=Object(a["z"])(),m=Object(a["z"])(!0),g=Object(a["z"])(1),b=Object(a["z"])("true"===(null===(t=e.xoneDataObject)||void 0===t?void 0:t.getFieldPropertyValue(e.attributes.name,"hide-range"))),_=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g.value=Number(g.value)+t,!(g.value<1)){e.next=3;break}return e.abrupt("return",g.value=1);case 3:if(!(g.value>5)){e.next=5;break}return e.abrupt("return",g.value=5);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a["I"])((function(){return g.value}),(function(e,t){e<1||e>5||(G(0),v.scrollTo({left:v.scrollLeft+v.offsetWidth*(e-t)/2,top:v.scrollTop+v.offsetHeight*(e-t)/2,behavior:"auto"}))}));var v,O,y=Object(a["z"])(),C={top:0,left:0,x:0,y:0},S=Object(a["z"])(!1),E=function(e){C={left:v.scrollLeft,top:v.scrollTop,x:e.clientX,y:e.clientY},O&&clearInterval(O),O=setTimeout((function(){v.addEventListener("mousemove",T),v.addEventListener("mouseup",k)}),100)},T=function(e){if(0!==e.buttons){S.value||(S.value=!0);var t=e.clientX-C.x,n=e.clientY-C.y;v.scrollTop=C.top-n,v.scrollLeft=C.left-t}else k()},k=function e(){setTimeout((function(){return S.value=!1}),25),v.removeEventListener("mousemove",T),v.removeEventListener("mouseup",e)},w=function(){setTimeout((function(){return S.value=!1}),25),v.addEventListener("mousemove",T),v.addEventListener("mouseup",k)},x=function(e){e.deltaY<0&&_(.25),e.deltaY>0&&g.value>1&&_(-.25),e.preventDefault()};Object(a["s"])((function(){var e;v=null===(e=y.value)||void 0===e?void 0:e.parentElement,v.addEventListener("mousedown",E),v.addEventListener("mouseleave",w),v.addEventListener("wheel",x)})),Object(a["t"])((function(){v.removeEventListener("mousedown",E),v.removeEventListener("mouseleave",w),v.removeEventListener("wheel",x)}));var A,R,I,P,N,j,M,L,D,F,G=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:500,t.next=3,Object(a["o"])();case 3:setTimeout((function(){var t,n=null===(t=l.value)||void 0===t?void 0:t.imgSize;n?(u=g.value*e.controlWidth/n.width,c=g.value*e.controlHeight/n.height):(u=h.value,c=p.value);var r=u<c?u:c;f.value={width:g.value*(e.controlWidth*r)/u,height:g.value*(e.controlHeight*r)/c},W()}),n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a["I"])((function(){return e.controlWidth}),(function(){return G()})),Object(a["I"])((function(){return e.controlHeight}),(function(){return G()})),Object(a["o"])(Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.value){t.next=4;break}return t.next=3,e.xoneDataObject.getContents(e.attributes.contents);case 3:n.value=t.sent;case 4:r=n.value.m_xmlNode,r.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("xcoord")&&(A=e.getAttrValue("name")),"true"===e.getAttrValue("ycoord")&&(R=e.getAttrValue("name")),"true"===e.getAttrValue("icon-mark")&&(I=e.getAttrValue("name")),"true"===e.getAttrValue("icon-touch")&&(P=e.getAttrValue("name")),"true"===e.getAttrValue("icon-mark-color")&&(D=e.getAttrValue("name")),"true"===e.getAttrValue("icon-touch-color")&&(F=e.getAttrValue("name")),"true"===e.getAttrValue("icon-width")&&(N=e.getAttrValue("name")),"true"===e.getAttrValue("icon-height")&&(j=e.getAttrValue("name")),"true"===e.getAttrValue("icon-text")&&(M=e.getAttrValue("name")),"true"===e.getAttrValue("icon-text-color")&&(L=e.getAttrValue("name"))})),a=new je["a"](e.attributes.name),a.refresh=B,i.addControl(a),B();case 10:case"end":return t.stop()}}),t)})))),Object(a["t"])((function(){n.value&&n.value.clear()}));var B=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var i,s,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return m.value=!0,t.next=3,Object(a["o"])();case 3:return t.next=5,n.value.loadAll(!1);case 5:o.value=[],i=regeneratorRuntime.mark((function t(r){var a,i,s,l,u,c,d,h,p,f,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.value.get(r);case 2:if(a=t.sent,i={},i.index=r,i.xCoord=a[A],i.yCoord=a[R],i.text=a[M],i.textColor=a[L],!I){t.next=18;break}return t.next=12,Ue(a[I],"files");case 12:if(s=t.sent,s){t.next=15;break}return t.abrupt("return",{v:console.error("Not found: icon-mark",e.attributes.name,a[I])});case 15:i.iconOff=s.path,i.imgWidthOff=s.imgSize.width,i.imgHeightOff=s.imgSize.height;case 18:P&&Ue(a[P],"files").then((function(t){if(!t)return console.error("Not found: icon-touch",e.attributes.name,a[P]);i.iconOn=t.path,i.imgWidthOn=t.imgSize.width,i.imgHeightOn=t.imgSize.height})),i.iconMarkColor=a[D],i.iconTouchColor=a[F],i.iconMarkColor&&(l=Jt(i.iconMarkColor),u=new Qt(l[0],l[1],l[2]),c=new Zt(u),d=c.solve(),i.filterOff=d.filter,d.loss>10&&console.warn("Color lost",i.iconMarkColor,d.loss)),i.iconTouchColor&&(h=Jt(i.iconTouchColor),p=new Qt(h[0],h[1],h[2]),f=new Zt(p),m=f.solve(),i.filterOn=m.filter,m.loss>10&&console.warn("Color lost",i.iconTouchColor,m.loss)),N&&j&&(i.imgWidthOff=a[N],i.imgHeightOff=a[j]),o.value.push(i);case 25:case"end":return t.stop()}}),t)})),s=0;case 8:if(!(s<n.value.length)){t.next=16;break}return t.delegateYield(i(s),"t0",10);case 10:if(l=t.t0,"object"!==Object(r["a"])(l)){t.next=13;break}return t.abrupt("return",l.v);case 13:s++,t.next=8;break;case 16:W(),0!==o.value.length&&H(o.value[0]),u=1,o.value.sort((function(e,t){return t.imgWidthOff*t.imgHeightOff-e.imgWidthOff*e.imgHeightOff})).forEach((function(e){return e.zIndex=u+=1})),m.value=!1;case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t,n,r,a=1,i=null!==(t=null===(n=f.value)||void 0===n?void 0:n.width)&&void 0!==t?t:0,o=e.controlWidth/u;return null!==(r=l.value)&&void 0!==r&&r.imgSize&&0!==i&&(a=o/l.value.imgSize.width),i/o*a},U=function(){var t,n,r,a=1,i=null!==(t=null===(n=f.value)||void 0===n?void 0:n.height)&&void 0!==t?t:0,o=e.controlHeight/c;return null!==(r=l.value)&&void 0!==r&&r.imgSize&&0!==i&&(a=o/l.value.imgSize.height),i/o*a},W=function(){return o.value.forEach(Y)},Y=function(e){e.scaledX=e.xCoord*V(),e.scaledY=e.yCoord*U(),e.scaledImgWidthOff=e.imgWidthOff*V(),e.scaledImgHeightOff=e.imgHeightOff*U()},H=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!S.value){e.next=2;break}return e.abrupt("return");case 2:if(o.value.forEach((function(e){return e.selected=!1})),t.selected=!0,n.value){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.value.get(t.index);case 8:r=e.sent,r&&r.ExecuteNode("selecteditem").catch(console.error);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{picturemapElement:y,contentsImage:l,isLoading:m,containerElementSize:f,data:o,onItemSelected:H,zoom:g,hideRange:b,modifyZoom:_,isGrabbing:S}}};n("79ee");Rn.render=An,Rn.__scopeId="data-v-6445c131";var In=Rn,Pn={name:"Contents",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},isDisableEdit:{type:Boolean,required:!0},controlHeight:{type:Number,default:0},controlWidth:{type:Number,default:0}},components:{ContentsRow:Gt,Map:en,ChartBar:vn,Calendar:fn,ChartPie:Sn,PictureMap:In},setup:function(e){var t=Object(a["n"])("objectInfo"),n=t.isContents,r=Object(a["z"])();Object(a["w"])("contents",r);var i=Object(a["n"])("xoneView"),o=Object(a["z"])(0);Object(a["w"])("loadedRowsLength",o);var l=Object(a["n"])("breadcumbId"),u=Object(a["z"])(),c=Object(a["n"])("containerSize"),d=c.containerWidth,h=c.containerHeight,p=Object(a["z"])(),f=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("picturemap"!==e.attributes.viewMode){t.next=2;break}return t.abrupt("return");case 2:if(n=k.value||A.value||I.value||j.value,t.prev=3,u.value){t.next=6;break}return t.abrupt("return");case 6:if(!n||"auto"===(null!==(r=e.attributes.height)&&void 0!==r?r:"auto")||"grow"===(null!==(a=e.attributes.height)&&void 0!==a?a:"auto")){t.next=8;break}return t.abrupt("return",p.value=null);case 8:if(n||"grow"===(null!==(i=e.attributes.height)&&void 0!==i?i:"auto")){t.next=10;break}return t.abrupt("return",p.value=null);case 10:if(o=u.value.parentElement.offsetTop,p.value===e.controlHeight-o){t.next=14;break}return p.value=e.controlHeight-o,t.abrupt("return",!0);case 14:return t.abrupt("return",!1);case 17:t.prev=17,t.t0=t["catch"](3);case 19:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(){return t.apply(this,arguments)}}();Object(a["s"])((function(){f();var e=new ResizeObserver((function(){return f()}));e.observe(u.value.parentNode),Object(a["t"])((function(){return null===e||void 0===e?void 0:e.disconnect()}))}));var m=Object(a["z"])(null);Object(a["w"])("selectedItem",m);var g=new Dt(e.attributes.name,l),b=g.getIsLoading();Object(a["s"])((function(){return g.bindOnScrollEvent(u.value)})),Object(a["t"])((function(){return null===g||void 0===g?void 0:g.clear()}));var _,v=null,O=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Object(zt["a"])(),v=n;case 2:if(!b.value){t.next=7;break}return t.next=5,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 5:t.next=2;break;case 7:if(v===n){t.next=9;break}return t.abrupt("return");case 9:if(t.prev=9,r.value){t.next=14;break}return t.next=13,e.xoneDataObject.getContents(e.attributes.contents);case 13:r.value=t.sent;case 14:return t.next=16,g.loadRows(r.value,e.attributes);case 16:return o.value=0,t.next=19,g.loadRowsInfo();case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](9),console.error(t.t0);case 24:case"end":return t.stop()}}),t,null,[[9,21]])})));return function(){return t.apply(this,arguments)}}(),y=Object(a["n"])("groupId"),C=Object(a["n"])("groupHandler"),S=C.activeGroup;Object(a["s"])((function(){if(!(k.value||I.value||A.value||j.value||D.value)){var t=new je["a"](e.attributes.name,u.value);t.refresh=O,t.refreshRow=function(e){try{g.getContentsRowsInfo().value[e].refresh()}catch(t){}},t.refreshSelectedRow=function(){try{g.getContentsRowsInfo().value[m.value].refresh()}catch(e){}},t.scrollBy=function(e){if(u.value){e=e.toString();var t=u.value.scrollHeight;if(e.includes("%"))return u.value.scrollTo({top:Number(e.replace("%","")*t/100),behavior:"smooth"});u.value.scrollTo({top:Number(e.replace("p","")),behavior:"smooth"})}},t.scrollTo=function(n){var r=document.getElementById("".concat(e.attributes.name.replace("@","")).concat(n).concat(l));r&&t.scrollBy(r.offsetTop)},t.scrollToTop=function(){return t.scrollBy(0)},t.scrollToBottom=function(){return t.scrollBy(u.value.scrollHeight)},i.addControl(t),Object(a["J"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(_||(_=S.value),!r.value&&y===S.value){e.next=3;break}return e.abrupt("return");case 3:setTimeout((function(){return O()}),_!==y?200:0);case 4:case"end":return e.stop()}}),e)}))))}})),Object(a["t"])((function(){r.value&&r.value.clear(),null===g||void 0===g||g.clear()}));var E=Object(a["d"])((function(){return"gridview"===e.attributes.viewMode&&!isNaN(e.attributes.galleryColumns)})),T=Object(a["d"])((function(){if(E.value)return"repeat(".concat(e.attributes.galleryColumns,", ").concat(e.controlWidth/e.attributes.galleryColumns,"px)")})),k=Object(a["d"])((function(){return"mapview"===e.attributes.viewMode||"openstreetmap"===e.attributes.viewMode})),w=Object(a["d"])((function(){return"slideview"===e.attributes.viewMode}));Object(a["s"])((function(){w.value&&(u.value.style.pointerEvents="all",u.value.setAttribute("swipeable",!1))}));var x,A=Object(a["d"])((function(){return"calendarview"===e.attributes.viewMode})),R=-1;Object(a["s"])((function(){w.value&&Object(a["I"])((function(){return o.value}),function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n===(null===(i=r.value)||void 0===i?void 0:i.length)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(a["o"])();case 4:e.attributes.autoslideDelay?(u.value.scrollTo(0,0),x=setInterval((function(){if(0!==g.getRowsLength()){R+=1,R>=g.getRowsLength()&&(R=0);var t=document.getElementById("".concat(e.attributes.name.replace("@","")).concat(R).concat(l));t&&u.value.scrollTo({left:t.offsetLeft,top:0,behavior:"smooth"})}}),1e3*e.attributes.autoslideDelay)):u.value.scrollTo(0,0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),Object(a["t"])((function(){x&&clearInterval(x)}));var I=Object(a["d"])((function(){return e.attributes.viewMode&&e.attributes.viewMode.toString().contains("chart")})),P=Object(a["d"])((function(){return"barchart"===e.attributes.viewMode||"3dbarchart"===e.attributes.viewMode||"stackedbarchart"===e.attributes.viewMode||"linechart"===e.attributes.viewMode})),N=Object(a["d"])((function(){return"piechart"===e.attributes.viewMode||"piechart2"===e.attributes.viewMode})),j=Object(a["d"])((function(){return"picturemap"===e.attributes.viewMode})),M=Object(a["d"])((function(){return"expanview"===e.attributes.viewMode}));Object(a["w"])("onExpanItemSelected",(function(e){if(e.isExpanded)return e.isExpanded=!1;g.getContentsRowsInfo().value.forEach((function(e){return e.isExpanded=!1})),e.isExpanded=!0}));var L,D=Object(a["d"])((function(){return"routerview"===e.attributes.viewMode||"stacknavigation"===e.attributes.viewMode}));if(Object(a["w"])("containerSize",{containerWidth:"routerview"===e.attributes.viewMode?Object(a["d"])((function(){return e.controlWidth-2})):d,containerHeight:"routerview"===e.attributes.viewMode?Object(a["d"])((function(){return e.controlHeight-2})):h}),D.value){var F=Object(a["n"])("appSize"),G=F.appWidth,B=F.appHeight,V=Object(a["d"])((function(){return G.value?e.controlWidth/G.value:1})),U=Object(a["d"])((function(){return B.value?e.controlHeight/B.value:1}));Object(a["w"])("scaleFactor",{widthFactor:V,heightFactor:U})}(E.value||w.value)&&(g.rowsPerPage=100);var W=function(){L&&clearTimeout(L),L=setTimeout((function(){return ut["a"].onScrollEvent(u.value,e.attributes,e.xoneDataObject)}),250)};return Object(a["o"])((function(){return W()})),{isContents:n,contentsElement:u,fitHeight:p,contentsRowsInfo:g.getContentsRowsInfo(),isLoading:b,breadcumbId:l,isGridView:E,gridTemplateColumns:T,isMapView:k,isSlideView:w,isCalendarView:A,isChartView:I,isChartBar:P,isChartPie:N,isPictureMapView:j,isExpanView:M,isRouterView:D,onScroll:W,rowsLength:Object(a["d"])((function(){return g.getRowsLength()}))}}};n("6604");Pn.render=Mt,Pn.__scopeId="data-v-1cdd4c2f";var Nn=Pn,jn=Object(a["L"])("data-v-4328d64c"),Mn=jn((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])(a["a"],null,[r.isUrl?(Object(a["u"])(),Object(a["f"])("iframe",{key:0,src:r.propValue,width:n.controlWidth,height:n.controlHeight},null,8,["src","width","height"])):Object(a["g"])("",!0),r.isUrl?Object(a["g"])("",!0):(Object(a["u"])(),Object(a["f"])("div",{key:1,id:"web-".concat(n.attributes.name,"-").concat(r.breadcumbId)},null,8,["id"]))],64)})),Ln={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t=Object(a["z"])(!1),n=Object(a["n"])("breadcumbId"),r=Object(a["z"])();return Object(a["J"])(Object(s["a"])(regeneratorRuntime.mark((function i(){var o,s,l,u,c,d;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(null!==(o=e.xoneDataObject)&&void 0!==o&&o.model&&(r.value=null===(s=e.xoneDataObject)||void 0===s?void 0:s.model[e.attributes.name]),null!==(l=r.value)&&void 0!==l&&l.toString().contains("<")||null!==(u=r.value)&&void 0!==u&&u.toString().contains(">")){i.next=3;break}return i.abrupt("return",t.value=!0);case 3:return t.value=!1,i.next=6,Object(a["o"])();case 6:c=document.getElementById("web-".concat(e.attributes.name,"-").concat(n)),d=c.attachShadow({mode:"closed"}),d.innerHTML=r.value,d.querySelectorAll("script").forEach((function(t){Function("document","getSize",t.innerText)(d,(function(){return{width:e.controlWidth,height:e.controlHeight}}))}));case 10:case"end":return i.stop()}}),i)})))),{propValue:r,isUrl:t,breadcumbId:n}}};n("cfc9");Ln.render=Mn,Ln.__scopeId="data-v-4328d64c";var Dn=Ln,Fn=Object(a["L"])("data-v-ab870b3a"),Gn=Fn((function(e,t,n,r,i,o){return Object(a["u"])(),Object(a["f"])("video",{width:n.controlWidth,height:n.controlHeight,controls:""},[Object(a["j"])("source",{src:"/files/".concat(r.propValue)},null,8,["src"])],8,["width","height"])})),Bn={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t=Object(a["z"])();return Object(a["J"])((function(){var n,r;null!==(n=e.xoneDataObject)&&void 0!==n&&n.model&&(t.value=null===(r=e.xoneDataObject)||void 0===r?void 0:r.model[e.attributes.name])})),{propValue:t}}};n("0edd");Bn.render=Gn,Bn.__scopeId="data-v-ab870b3a";var Vn=Bn,Un=Object(a["L"])("data-v-35d51ed5");Object(a["x"])("data-v-35d51ed5");var Wn={key:0,class:"xone-breadcumb"};Object(a["v"])();var Yn=Un((function(e,t,n,r,i,o){return r.routeBreadcumbs&&0!==r.routeBreadcumbs.length?(Object(a["u"])(),Object(a["f"])("div",Wn,[(Object(a["u"])(!0),Object(a["f"])(a["a"],null,Object(a["A"])(r.routeBreadcumbs,(function(e){return Object(a["u"])(),Object(a["f"])("div",{key:e.id,class:"xone-breadcumb-item"},[e!==r.routeBreadcumbs[0]?(Object(a["u"])(),Object(a["f"])("div",{key:0,style:{fontSize:n.attributes.breadcumbFontSize}},"   /   ",4)):Object(a["g"])("",!0),Object(a["j"])("div",{onClick:function(t){return r.onBreadcumbClick(e)},style:{color:r.getBreadcumbColor(e),fontSize:r.getBreadcumbFontSize(e),cursor:e!==r.lastBreadcumb?"pointer":"auto"}},Object(a["E"])(e.title||e.name),13,["onClick"])])})),128))])):Object(a["g"])("",!0)})),Hn={name:"Breadcumb",props:{attributes:{type:Object,default:null,required:!0}},setup:function(e){var t=Object(Ne["d"])(),n=Object(a["n"])("routeBreadcumbs"),r=Object(a["n"])("lastBreadcumb");return{routeBreadcumbs:n,lastBreadcumb:r,onBreadcumbClick:function(e){t.push({name:"Coll",query:{id:e.id}})},getBreadcumbColor:function(t){return t===r.value&&e.attributes.breadcumbSelectedForeColor||e.attributes.breadcumbForeColor},getBreadcumbFontSize:function(t){return t===r.value&&e.attributes.breadcumbSelectedFontSize||e.attributes.breadcumbFontSize}}}};n("69b2");Hn.render=Yn,Hn.__scopeId="data-v-35d51ed5";var Xn=Hn,qn={name:"Prop",props:{xoneDataObject:{type:Object,required:!0},control:{type:Object,default:void 0,required:!0},containerWidth:{type:Number,default:0},containerHeight:{type:Number,default:0}},components:{ButtonProp:dt,InputProp:Et,ImageProp:Rt,Contents:Nn,WebProp:Dn,VideoProp:Vn,Breadcumb:Xn},setup:function(e){var t=Object(a["z"])(),n=Object(a["n"])("displayScreenThresholds"),r=Object(a["d"])((function(){return ut["a"].getPropAttributes(e.control.attributes)})),i=Object(a["z"])(Object(ke["a"])({},r.value));ut["a"].watchAttributes(i,r,e.xoneDataObject.model);var o=Object(a["d"])((function(){var t,n;return""!==(null!==(t=i.value.disableVisible)&&void 0!==t?t:"")&&ut["a"].evalFormula(i.value.disableVisible,null===(n=e.xoneDataObject)||void 0===n?void 0:n.model)})),l=Object(a["z"])(null),u=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i.value.image){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Ue(i.value.image,"files");case 4:if(n=t.sent,n){t.next=7;break}return t.abrupt("return");case 7:l.value={width:ut["a"].getScaledSize(n.imgSize.width+"px",e.containerWidth,p.value),height:ut["a"].getScaledSize(n.imgSize.height+"px",e.containerHeight,f.value)};case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a["s"])((function(){return u()})),Object(a["I"])((function(){return e.containerHeight}),(function(){return u()}));var c=Object(a["d"])((function(){var e=m.value;!e&&l.value&&(e=g.value?g.value*l.value.width/l.value.height:l.value.width);var t=g.value;return!t&&l.value&&(t=m.value?m.value*l.value.height/l.value.width:l.value.height),{width:e,height:t}})),d=Object(a["d"])((function(){if("breadcumbview"===i.value.viewMode||"routerview"===i.value.viewMode)return null;switch(i.value.type){case"T":return"text";case"X":return"password";case"N":return"slider"===i.value.viewMode?"range":"number";case"NC":return"checkbox";case"D":return"date";case"TT":return"time";case"DT":return"datetime-local";case"AT":return"file";case"TL":return"text";default:return 0!=i.value.type.length&&"N"===i.value.type[0]?"number":null}})),h=Object(a["n"])("scaleFactor"),p=h.widthFactor,f=h.heightFactor,m=Object(a["d"])((function(){return ut["a"].getScaledSize(i.value.width,e.containerWidth,p.value)})),g=Object(a["d"])((function(){return ut["a"].getScaledSize(i.value.height,e.containerHeight,f.value)})),b=Object(a["d"])((function(){var t,n,r,a;return{top:null!==(t=ut["a"].getScaledSize(i.value.margins.top,e.containerHeight,f.value))&&void 0!==t?t:0,left:null!==(n=ut["a"].getScaledSize(i.value.margins.left,e.containerWidth,p.value))&&void 0!==n?n:0,bottom:null!==(r=ut["a"].getScaledSize(i.value.margins.bottom,e.containerHeight,f.value))&&void 0!==r?r:0,right:null!==(a=ut["a"].getScaledSize(i.value.margins.right,e.containerWidth,p.value))&&void 0!==a?a:0}})),_=Object(a["d"])((function(){return ut["a"].getScaledPosition(i.value.floating.top,f.value)})),v=Object(a["d"])((function(){return ut["a"].getScaledPosition(i.value.floating.left,p.value)})),O=Object(a["d"])((function(){var t;return""!==(null!==(t=i.value.disableEdit)&&void 0!==t?t:"")&&ut["a"].evalFormula(i.value.disableEdit,e.xoneDataObject.model)})),y=Object(a["d"])((function(){return{top:ut["a"].getScaledSize(i.value.paddings.top,e.containerHeight,f.value)||5,right:ut["a"].getScaledSize(i.value.paddings.right,e.containerWidth,p.value)||5,bottom:ut["a"].getScaledSize(i.value.paddings.bottom,e.containerHeight,f.value)||5,left:ut["a"].getScaledSize(i.value.paddings.left,e.containerWidth,p.value)||5}})),C=Object(a["n"])("lastBreadcumb"),S=Object(a["n"])("breadcumbId");Object(a["o"])((function(){i.value.postOnchange&&Object(a["I"])((function(){return C.value}),function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.id===S){t.next=2;break}return t.abrupt("return");case 2:ut["a"].executeMethod(i.value.postOnchange,e.xoneDataObject,i.value.name);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));var E=function(){return me.mouseEnter(t.value)},T=function(){return me.mouseLeave(t.value)},k=function(e){return me.mouseDown(e)},w=function(e){return me.mouseMove(e)};return{propElement:t,displayScreenThresholds:n,attributes:i,inputType:d,controlWidth:m,controlHeight:g,margins:b,isDisableVisible:o,finalImgSize:c,floatingTop:_,floatingLeft:v,isDisableEdit:O,paddings:y,isInput:Object(a["d"])((function(){return d.value})),isButton:Object(a["d"])((function(){return"B"===i.value.type})),isImage:Object(a["d"])((function(){return"IMG"===i.value.type||"PH"===i.value.type||"DR"===i.value.type})),isContents:Object(a["d"])((function(){return"Z"===i.value.type||"routerview"===i.value.viewMode})),isWeb:Object(a["d"])((function(){return"WEB"===i.value.type})),isVideo:Object(a["d"])((function(){return"VD"===i.value.type})),isBreadcumb:Object(a["d"])((function(){return"breadcumbview"===i.value.viewMode})),isDesigner:me.getIsDesigner(),isDragging:me.getIsDragging(),isDesignerPropSelected:Object(a["d"])((function(){var e;return(null===(e=me.getSelectedControl())||void 0===e?void 0:e.value)===t.value})),borderDesignSelected:me.getBorderSelected(),borderDesignOver:me.getBorderPropOver(),onMouseEnter:E,onMouseLeave:T,onMouseDown:k,onDragOver:w}}};n("52bf");qn.render=ot,qn.__scopeId="data-v-77755e96";var zn=qn,Kn={name:"Container",components:{Row:et,Column:at,Prop:zn},props:{xoneDataObject:{type:Object,required:!0},control:{type:Object,required:!0},containerWidth:{type:Number,default:0},containerHeight:{type:Number,default:0},visibilityBit:{type:Number,default:1}},emits:["onDataObjectChange"],setup:function(e,t){var n=Object(a["n"])("displayScreenThresholds"),r=Object(a["n"])("objectInfo");if(r.editInRow&&"group"===e.control.attributes.node){var i=e.xoneDataObject.clone().doModelReactive(),o=D["a"].pushXoneDataObject(i,"contentsRow",!1,!1,!0),l=new je["b"](i);Object(a["w"])("xoneView",l),Object(a["t"])((function(){return D["a"].removeBreadcumb(o)})),t.emit("onDataObjectChange",i)}var u=Object(a["d"])((function(){return ut["a"].getContainerAttributes(e.control.attributes)})),c=Object(a["z"])(Object(ke["a"])({},u.value));ut["a"].watchAttributes(c,u,e.xoneDataObject.model),"group"===c.value.node&&Object(a["w"])("groupId",c.value.id);var d=Object(a["d"])((function(){var t,n,r;return"frame"===c.value.node&&0===(null===(t=e.control.controls)||void 0===t?void 0:t.length)||""!==(null!==(n=c.value.disableVisible)&&void 0!==n?n:"")&&ut["a"].evalFormula(c.value.disableVisible,null===(r=e.xoneDataObject)||void 0===r?void 0:r.model)})),h=Object(a["n"])("groupHandler"),p=h.activeGroup,f=Object(a["d"])((function(){return"group"!==c.value.node||c.value.fixed||c.value.id===p.value||c.value.drawerOrientation||4===e.visibilityBit}));"group"===c.value.node&&c.value.onFocus&&Object(a["I"])((function(){return p.value}),function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n===c.value.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,ut["a"].executeMethod(c.value.onFocus,e.xoneDataObject);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var m=Object(a["d"])((function(){var t,n,a,i=["group","frame","prop"],o=[],s=[];null===(t=e.control.controls)||void 0===t||null===(n=t.filter((function(e){return i.includes(e.attributes.node)})))||void 0===n||n.forEach((function(t){var n,a;"group"!==c.value.node||1!==e.control.controls.length||"frame"!==t.attributes.node||c.value.fixed||null!==(n=c.value.floating)&&void 0!==n&&n.floating||null!==(a=c.value.floating)&&void 0!==a&&a.drawerOrientation||r.isMsgBox||r.isContents||(t.attributes.height="100%",t.attributes.width="100%");var i=ut["a"].getContainerAttributes(t.attributes);i.newLine?(0!==s.length&&(o.push(s),s=[]),s.push(t)):s.push(t)})),o.push(s);var l=function e(t,n){var r;"frame"!==t.attributes.node||t.controls&&0!==t.controls.filter((function(e){return i.includes(e.attributes.node)})).length||(n.splice(n.indexOf(t),1),a=!0),null===(r=t.controls)||void 0===r||r.forEach((function(n){return e(n,t.controls)}))};do{a=!1,o.forEach((function(e){return e.forEach((function(t){return l(t,e)}))}))}while(a);return o})),g=Object(a["z"])(!1),b=Object(a["n"])("scaleFactor"),_=b.widthFactor,v=b.heightFactor,O=Object(a["z"])(null),y=Object(a["z"])(null);Object(a["s"])((function(){if("grow"===c.value.height){var e=R.value.parentElement;if(e.classList.contains("xone-row")){e.style.flexGrow=1,e.style.flexShrink=1,e.style.overflow="hidden";var t=new ResizeObserver((function(){y.value=e.clientHeight}));t.observe(e),Object(a["t"])((function(){return null===t||void 0===t?void 0:t.disconnect()}))}}if("grow"===c.value.width||"center"===c.value.align.column){var n=new ResizeObserver((function(){"grow"===c.value.width&&(O.value=R.value.clientWidth),I()}));n.observe(R.value),Object(a["t"])((function(){return n.disconnect()}))}}));var C=Object(a["d"])((function(){var t=ut["a"].getScaledSize(c.value.width,e.containerWidth,_.value);return t?g.value?t-4:t:null})),S=Object(a["d"])((function(){var t=ut["a"].getScaledSize(c.value.height,e.containerHeight,v.value);return!t&&y.value?y.value:t?g.value?t-4:t:null})),E=Object(a["d"])((function(){return{top:ut["a"].getScaledSize(c.value.margins.top,e.containerHeight,v.value),left:ut["a"].getScaledSize(c.value.margins.left,e.containerWidth,_.value),bottom:ut["a"].getScaledSize(c.value.margins.bottom,e.containerHeight,v.value),right:ut["a"].getScaledSize(c.value.margins.right,e.containerWidth,_.value)}})),T=Object(a["d"])((function(){return{top:ut["a"].getScaledSize(c.value.paddings.top,e.containerHeight,v.value),left:ut["a"].getScaledSize(c.value.paddings.left,e.containerWidth,_.value),bottom:ut["a"].getScaledSize(c.value.paddings.bottom,e.containerHeight,v.value),right:ut["a"].getScaledSize(c.value.paddings.right,e.containerWidth,_.value)}})),k=Object(a["d"])((function(){return ut["a"].getScaledPosition(c.value.floating.top,v.value)})),w=Object(a["d"])((function(){return ut["a"].getScaledPosition(c.value.floating.left,_.value)})),x=Object(a["n"])("xoneView");Object(a["s"])((function(){var t=new je["a"](c.value.name,R.value);t.refresh=function(){return e.control.controls.forEach((function(e){var t;null!==(t=x[e.attributes.name])&&void 0!==t&&t.refresh&&x[e.attributes.name].refresh()}))},t.scrollBy=function(e){if(R.value){e=e.toString();var t=R.value.scrollHeight;if(e.includes("%"))return R.value.scrollTo({top:Number(e.replace("%","")*t/100),behavior:"smooth"});R.value.scrollTo({top:Number(e.replace("p","")*v.value),behavior:"smooth"})}},t.scrollTo=t.scrollBy,t.scrollToTop=function(){return t.scrollBy(0)},t.scrollToBottom=function(){var e;return t.scrollBy(null===(e=R.value)||void 0===e?void 0:e.scrollHeight)},x.addControl(t),c.value.animationIn&&Object(a["I"])((function(){return d.value}),(function(e){e||R.value.style.animation||(R.value.style.animation=c.value.animationIn)}))}));var A,R=Object(a["z"])(),I=function(){"center"===c.value.align.column&&R.value.offsetHeight<R.value.scrollHeight&&(R.value.style.justifyContent=null)};Object(a["o"])((function(){return I()})),Object(a["I"])((function(){return e.containerHeight}),(function(){return I()}));var P=function(){A&&clearTimeout(A),A=setTimeout((function(){return ut["a"].onScrollEvent(R.value,c.value,e.xoneDataObject)}),250)};Object(a["o"])((function(){return P()}));var N=function(){return me.mouseEnter(R.value)},j=function(){return me.mouseLeave(R.value)},M=function(e){return me.mouseDown(e)},L=function(e){return me.mouseMove(e)};return{containerElement:R,displayScreenThresholds:n,attributes:c,isActive:f,rows:m,isMouseOver:g,controlWidth:C,controlHeight:S,margins:E,paddings:T,isDisableVisible:d,floatingTop:k,floatingLeft:w,isDesigner:me.getIsDesigner(),isDragging:me.getIsDragging(),borderDesignSelected:me.getBorderSelected(),borderDesignOver:me.getBorderContainerOver(),onMouseEnter:N,onMouseLeave:j,onMouseDown:M,onDragOver:L,controlGrowWidth:O,controlGrowHeight:y,onScroll:P,appPath:Object(a["n"])("appPath")}}};n("ff33");Kn.render=Ke,Kn.__scopeId="data-v-42f21ddc";var Jn=Kn,Qn=(n("b512"),function(){function e(){Object(ce["a"])(this,e)}return Object(de["a"])(e,[{key:"fileExists",value:function(e){e=e.replace("source/","/");var t=new XMLHttpRequest;t.open("GET",e,!1),t.send();var n=404!==t.status?0:-1;return n}},{key:"download",value:function(e){e=e.replace("/source/","/");var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"asyncDownload",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.download(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"listDirectories",value:function(){return[]}},{key:"listFiles",value:function(){return[]}}]),e}()),Zn=Qn,$n=function(){function e(){Object(ce["a"])(this,e),Object(he["a"])(this,"_width",void 0),Object(he["a"])(this,"_height",void 0),Object(he["a"])(this,"_template",void 0),Object(he["a"])(this,"_templateAbsolute",void 0),Object(he["a"])(this,"_currentTable",void 0),Object(he["a"])(this,"_divs",void 0)}return Object(de["a"])(e,[{key:"permissions",value:function(){}},{key:"setEncryption",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){this.clearPDF()}},{key:"beginHeader",value:function(){}},{key:"endHeader",value:function(){}},{key:"beginFooter",value:function(){}},{key:"endFooter",value:function(){}},{key:"getCurrentPage",value:function(){}},{key:"getVerticalPosition",value:function(){var e,t;this._template.style.display=null;var n=(null===(e=this._template.lastChild)||void 0===e?void 0:e.getBoundingClientRect().y)+(null===(t=this._template.lastChild)||void 0===t?void 0:t.getBoundingClientRect().height);return this._template.style.display="none",n||0}},{key:"getHorizontalPosition",value:function(){var e,t;this._template.style.display=null;var n=(null===(e=this._template.lastChild)||void 0===e?void 0:e.getBoundingClientRect().x)+(null===(t=this._template.lastChild)||void 0===t?void 0:t.getBoundingClientRect().width);return this._template.style.display="none",n||0}},{key:"launchPDF",value:function(){this._template.style.display=null;var e=window.open("","","");e.document.write("<html>"),e.document.write("\n    <head>\n        <title>".concat(this._name,'</title>\n        <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        @font-face {\n          font-family: "Roboto";\n          src: url("/fonts/Roboto-Medium.ttf");\n        }\n        body {\n          font-family: "Roboto", Helvetica, Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n        </style>\n      </head>\n      <body>\n    '));var t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.appendChild(this._templateAbsolute),t.appendChild(this._template),e.document.write(t.outerHTML),e.document.write("</body>\n</html>"),e.document.close(),e.focus(),this.clearPDF(),setTimeout((function(){return e.print()}),500)}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:595,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:842;this._name=e,this._width=t,this._height=n;var r=document.createElement("div");r.style.width=t+"px",r.style.height=n+"px",r.style.position="absolute",this._templateAbsolute=r;var a=r.cloneNode(!0);a.style.position="relative",a.style.display="flex",a.style.flexDirection="column",a.style.width="".concat(Number(t)-160,"px"),a.style.height="".concat(Number(n)-40,"px"),a.style.margin="20px 80px",a.style.display="none",a.setAttribute("class","XonePdf"),this.clearPDF(),document.body.prepend(a),this._template=a}},{key:"clearPDF",value:function(){document.querySelectorAll(".XonePdf").forEach((function(e){return document.body.removeChild(e)}))}},{key:"setFont",value:function(e){this._font=e}},{key:"setFontStyle",value:function(e){this._fontStyle=e}},{key:"setAlignment",value:function(e){this._alignment=e}},{key:"setFontSize",value:function(e){this._fontSize=e}},{key:"setFontColor",value:function(e){this._fontColor=e}},{key:"createTable",value:function(e){this._currentTableNewLine=!1,this._currentTableColumns=e;var t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",this._currentTable=t,this.createRow(),this.createColumns(this._currentTable.lastChild,e),this._cellBorder="all"}},{key:"createRow",value:function(){var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="row",e.style.flexGrow="1",this._currentTable.appendChild(e)}},{key:"createColumns",value:function(e,t){this._divs=Object(sn["a"])(Array(Number(t))).map((function(){var t=document.createElement("div");return t.style.flexGrow="1",e.appendChild(t),t}))}},{key:"addTable",value:function(){this._template.appendChild(this._currentTable),this._currentTable=null}},{key:"addTableSetXY",value:function(e,t){isNaN(Number(e))||(e+="px"),this._currentTable.style.position="absolute",this._currentTable.style.left=e,this._currentTable.style.top="".concat(this._height-Number(t),"px"),this._templateAbsolute.appendChild(this._currentTable),this._currentTable=null}},{key:"addRectangle",value:function(e,t,n,r,a,i,o){a=Number(a)/2,0===n&&(n=.1),0===r&&(r=.1),0===a&&(a=.1),isNaN(Number(n))||(n+="px"),isNaN(Number(r))||(r+="px"),isNaN(Number(a))||(a+="px");var s=document.createElement("div");s.style.position="absolute",s.style.left=e+"px",s.style.bottom=t+"px",s.style.width=n,s.style.height=r,s.style.border="".concat(a," solid ").concat(Kt(o)),s.style.background=Kt(i),this._templateAbsolute.appendChild(s)}},{key:"newLine",value:function(){this._template.append(document.createElement("hr"))}},{key:"newPage",value:function(){}},{key:"fromHtml",value:function(e){this._template.innerHTML=e}},{key:"setTableWidth",value:function(e){isNaN(Number(e))||(e+="px"),this._currentTable.style.minWidth=e,this._currentTable.style.minWidth=e}},{key:"setTableCellWidths",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t,n){isNaN(Number(t))||(t+="%"),e._divs[n].style.width=t}))}},{key:"setCellBorder",value:function(e){var t,n;this._cellBorder=e;var r=0!==(null===(t=this._divs)||void 0===t?void 0:t.length)?this._divs[0]:(null===(n=this._template)||void 0===n?void 0:n.lastChild)||this._templateAbsolute.lastChild;if(r){var a="1px solid black";switch(e){case"none":return r.style.border="none";case"all":return r.style.border=a;case"top":return r.style.borderTop=a;case"right":return r.style.borderRight=a;case"bottom":return r.style.borderBottom=a;case"left":return r.style.borderLeft=a}}}},{key:"addCellText",value:function(e){var t=this;this._currentTable?(0===this._divs.length&&(this._currentTableNewLine=!0,this.createRow(),this.createColumns(this._currentTable.lastChild,this._currentTableColumns),this._currentTable.firstChild.childNodes.forEach((function(e,n){t._divs[n].style.border=e.style.border,t._divs[n].style.width=e.style.width}))),this.setCellBorder(this._cellBorder),this._divs[0].appendChild(this.createText(e)),this._divs.shift()):this._template.appendChild(this.createText(e))}},{key:"addCellImage",value:function(e,t,n){var r=this;this._currentTable?(0===this._divs.length&&(this._currentTableNewLine=!0,this.createRow(),this.createColumns(this._currentTable.lastChild,this._currentTableColumns),this._currentTable.firstChild.childNodes.forEach((function(e,t){r._divs[t].style.border=e.style.border}))),this.setCellBorder(this._cellBorder),this._divs[0].appendChild(this.createImage(e,t,n)),this._divs.shift()):this._template.appendChild(this.createImage(e,t,n))}},{key:"addImageSetXY",value:function(e,t,n,r,a){isNaN(Number(r))||(r+="px");var i=this.createImage(e,t,n);i.style.position="absolute",i.style.left=r,i.style.top="".concat(this._height-Number(a),"px"),this._templateAbsolute.appendChild(i)}},{key:"addTextSetX",value:function(e,t){var n=this.createText(e);n.style.marginLeft=t+"px",this._template.appendChild(n)}},{key:"addTextSetXY",value:function(e,t,n){isNaN(Number(t))||(t+="px");var r=this.createText(e);r.style.position="absolute",r.style.left=t,r.style.top="".concat(this._height-Number(n),"px"),this._templateAbsolute.appendChild(r)}},{key:"addCheckboxSetXY",value:function(e,t,n,r,a){isNaN(Number(t))||(t+="px");var i=document.createElement("input");i.innerText=e,i.value="true"===a.toString(),i.setAttribute("type","checkbox"),i.style.width=r+"px",i.style.position="absolute",i.style.left=t,i.style.top="".concat(this._height-Number(n),"px"),this._templateAbsolute.appendChild(i)}},{key:"addCheckbox",value:function(e,t,n){isNaN(Number(x))||(x+="px");var r=document.createElement("input");r.innerText=e,r.value="true"===n.toString(),r.setAttribute("type","checkbox"),r.style.width=t+"px",this._template.appendChild(r)}},{key:"addText",value:function(e){this._template.appendChild(this.createText(e))}},{key:"addTextLine",value:function(e){this.addText(e)}},{key:"createText",value:function(e){var t,n=document.createElement("p");n.innerText=e,this._fontSize&&(n.style.fontSize=this._fontSize+"px"),this._fontColor&&(n.style.color=Kt(this._fontColor));var r=0!==(null===(t=this._divs)||void 0===t?void 0:t.length)?this._divs[0]:this._template.lastChild||this._templateAbsolute.lastChild;return this._alignment.includes("center")&&(r.style.textAlign="center"),this._alignment.includes("right")&&(r.style.textAlign="right"),this._fontStyle.includes("bold")&&(r.style.fontWeight="bold"),n}},{key:"createImage",value:function(e,t,n){var r=document.createElement("image");return r.setAttribute("src",e.replace("./","")),r.setAttribute("width",t),r.setAttribute("height",n),r}}]),e}(),er=$n,tr=navigator,nr=tr.clipboard,rr=function(){function e(){Object(ce["a"])(this,e)}return Object(de["a"])(e,[{key:"getText",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nr.readText();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setText",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nr.writeText(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nr.writeText("");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasSomething",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,nr.readText();case 2:return e.abrupt("return",!!e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),ar=new rr;window.createObject=function(e){return"xonepdf"===e.toLowerCase()?new er:"filemanager"===e.toLowerCase()?new Zn:void 0},window.$http={get:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i={method:"GET"},null!==n&&void 0!==n&&n.headers&&(i.headers=n.headers),e.next=5,fetch(t,i);case 5:return o=e.sent,e.next=8,o.json();case 8:s=e.sent,r(s),e.next=18;break;case 12:if(e.prev=12,e.t0=e["catch"](0),!n.headers){e.next=17;break}return delete n.headers,e.abrupt("return",window.$http.get(t,n,r,(function(){return a("Error executing $http.get",e.t0)})));case 17:a("Error executing $http.get",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,12]])})));function t(t,n,r,a){return e.apply(this,arguments)}return t}(),post:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,i={method:"POST"},null!==n&&void 0!==n&&n.headers&&(i.headers=n.headers),null!==n&&void 0!==n&&n.data&&(i.body=JSON.stringify(n.data)),e.next=6,fetch(t,{method:"POST",fetchOptions:i});case 6:return o=e.sent,e.next=9,o.json();case 9:s=e.sent,r(s),e.next=19;break;case 13:if(e.prev=13,e.t0=e["catch"](0),!n.headers){e.next=18;break}return delete n.headers,e.abrupt("return",window.$http.post(t,n,r,(function(){return a("Error executing $http.post",e.t0)})));case 18:a("Error executing $http.post",e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,13]])})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},window.clipboard=ar,window.XOneOCR=function(){function e(){Object(ce["a"])(this,e)}return Object(de["a"])(e,[{key:"startScan",value:function(){console.log("OCR Start Scan")}}]),e}(),window.fingerprintManager=new(function(){function e(){Object(ce["a"])(this,e)}return Object(de["a"])(e,[{key:"isHardwareAvailable",value:function(){return!1}}]),e}()),window.replica=new(function(){function e(){Object(ce["a"])(this,e)}return Object(de["a"])(e,[{key:"getRecordsRX",value:function(){return 0}},{key:"getRecordsTX",value:function(){return 0}},{key:"getRecordsPend",value:function(){return 0}},{key:"getTotalRecordsRX",value:function(){return 0}},{key:"getTotalRecordsTX",value:function(){return 0}},{key:"getLog",value:function(){return""}},{key:"startReplica",value:function(){}},{key:"stopReplica",value:function(){}}]),e}()),window.Animation=Ge;var ir=Function("cbF","(async()=>{try{const c=await import('../configuration.js');cbF(c.default);}catch(ex){console.error('Error loading configuration.js',ex);}})()");ir((function(e){var t=e.mode||"SPA";"SSR"===t?Object(a["h"])(Ye).use(qe).component("Container",Jn).mount("#app"):("DESIGNER"===t&&me.setIsDesigner(!0),Object(a["e"])(Ye).use(qe).component("Container",Jn).mount("#app")),"PWA"===t&&navigator.serviceWorker&&navigator.serviceWorker.register("./sw.js"),window.addEventListener("popstate",(function(e){"object"==Object(r["a"])(e.state)&&!0!==e.state.obsolete&&(history.replaceState({obsolete:!0},""),history.pushState(e.state,"")),"object"==Object(r["a"])(e.state)&&!0===e.state.obsolete&&history.back()}),!1);var n=document.querySelector('meta[name="viewport"]');n&&(n.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0",document.body.addEventListener("gesturestart",(function(){n.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"}),!1))}))},"57ee":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("2ca0"),n("8a79"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("3be9")),o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"ParseDateString",value:function(e,t){throw new Error("Method not implemented.")}},{key:"removeChars",value:function(e,t){return e.startsWith(t)&&(e=e.substr(1)),e.length>1&&e.endsWith(t)&&(e=e.substr(0,e.length-1)),e}},{key:"Replace",value:function(e,t,n){return e.replace(t,n)}},{key:"ParseBoolValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==e?t:"string"===typeof e?0==e.length?t:e.equalsIgnoreCase("true")||e.equals("1")||!!+e:!!e}},{key:"IsEmptyString",value:function(e){return i["a"].isEmpty(e)}},{key:"areEquals",value:function(e,t){return e===t}},{key:"SafeToString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return null==e?t:"string"===typeof e?e:e.toString()}catch(n){return t}}}]),e}();o.XONE_EMPTY_STRING="##XONE_EMPTY_STRING##",o.XONE_METHOD_DEFAULT="##xoneMethodDefault##"},5815:function(e,t,n){"use strict";n("25b8")},"589c":function(e,t,n){},"5d1a":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("d3b7"),n("25f0"),n("ac1f"),n("5319"),n("498a"),n("159b"),n("d81d");var r=function(){return Math.random().toString(36).substr(2,9)}},"5f19":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=n("ade3"),o=function(){function e(t){Object(r["a"])(this,e),Object(i["a"])(this,"_xThreshhold",75),Object(i["a"])(this,"_allowedTime",500),Object(i["a"])(this,"_yThreshhold",75),this.callbackFunction=t}return Object(a["a"])(e,[{key:"touchStart",value:function(e){if(!this.isSwipeable(e.target))return e.stopPropagation();this.touchobj=e.changedTouches[0],this.dist=0,this.startX=this.touchobj.pageX,this.startY=this.touchobj.pageY,this.startTime=(new Date).getTime()}},{key:"touchEnd",value:function(e){if(!this.isSwipeable(e.target))return e.stopPropagation();this.touchobj=e.changedTouches[0],this.dist=this.touchobj.pageX-this.startX,this.elapsedTime=(new Date).getTime()-this.startTime,this.elapsedTime>this._allowedTime||Math.abs(this.dist)<this._xThreshhold||Math.abs(this.touchobj.pageY-this.startY)>this._yThreshhold||this.callbackFunction(this.dist<0?1:-1)}},{key:"isSwipeable",value:function(e){do{if(e===this.touchElement)return!0;if("false"===e.getAttribute("swipeable"))return!1;e=e.parentElement}while(e);return!0}},{key:"init",value:function(e){this.touchElement=e,this.touchElement.addEventListener("touchstart",this.touchStart.bind(this),{passive:!0}),this.touchElement.addEventListener("touchend",this.touchEnd.bind(this),{passive:!0})}},{key:"clear",value:function(){this.touchElement.removeEventListener("touchstart",this.touchStart),this.touchElement.removeEventListener("touchend",this.touchEnd)}}]),e}()},6:function(e,t){},"652f":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("d3b7"),n("25f0"),n("3e8f"),function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,[{key:"readFileSync",value:function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.setRequestHeader("Content-type","charset=UTF-8"),t.send(),200==t.status&&4==t.readyState?t.responseText:null}},{key:"readFileAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{mode:"no-cors"});case 3:return n=e.sent,e.next=6,n.clone().text();case 6:return r=e.sent,a=r.indexOf("encoding="),i="UTF-8",-1!==a&&(o=r.substring(a+10),i=o.substring(0,o.indexOf('"'))),e.next=12,n.arrayBuffer();case 12:return s=e.sent,l=new TextDecoder(i),e.abrupt("return",l.decode(s));case 17:e.prev=17,e.t0=e["catch"](0),console.error("readFileAsync",t,e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readJsonFileSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/json",n=this.readFileSync(e,t);return n?JSON.parse(n):null}}]),e}())},6604:function(e,t,n){"use strict";n("589c")},6946:function(e,t,n){},"69b2":function(e,t,n){"use strict";n("24c3")},"6bfe":function(e,t,n){},"6dc9":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,a=n("bee2"),i=n("d4ec"),o=(n("159b"),n("d3b7"),n("25f0"),n("498a"),n("8a79"),n("2ca0"),n("c35a"),n("a9e3"),n("3019")),s=n("3be9"),l=function(){function e(t,n){Object(i["a"])(this,e),this.m_strField=t,this.m_strAlias=n}return Object(a["a"])(e,[{key:"getName",value:function(){return this.m_strField}},{key:"getResolvedName",value:function(){return s["a"].isEmpty(this.m_strAlias)?this.m_strField:this.m_strAlias}},{key:"setName",value:function(e){this.m_strField=e}},{key:"getAlias",value:function(){return this.m_strAlias}},{key:"setAlias",value:function(e){this.m_strAlias=e}}]),e}();(function(e){e[e["eLeftJoin"]=0]="eLeftJoin",e[e["eRightJoin"]=1]="eRightJoin",e[e["eInnerJoin"]=2]="eInnerJoin"})(r||(r={}));var u=function(){function e(t,n){Object(i["a"])(this,e),this.m_bUseParrentisisAtJoins=!1,this.m_strTableName=t,this.m_strTableAlias=n,this.m_bUsePrefix=!0,this.m_joinType=r.eLeftJoin}return Object(a["a"])(e,[{key:"getSecondTable",value:function(){return this.m_secondTable}},{key:"setSecondTable",value:function(e){this.m_secondTable=e}},{key:"getTranslateJoins",value:function(){return this.m_bTranslateJoins}},{key:"setTranslateJoins",value:function(e){this.m_bTranslateJoins=e,null!=this.m_secondTable&&this.m_secondTable.setTranslateJoins(e)}},{key:"getActualName",value:function(){return this.m_bUsePrefix?"##PREF##"+this.m_strTableName:this.m_strTableName}},{key:"getAlias",value:function(){return this.m_strTableAlias}},{key:"setAlias",value:function(e){this.m_strTableAlias=e}},{key:"getJoinCondition",value:function(){return this.m_strJoinCondition}},{key:"getJoinType",value:function(){return this.m_joinType}},{key:"setJoinCondition",value:function(e,t){this.m_strJoinCondition=e,this.m_joinType=t}},{key:"getTableName",value:function(){var e,t;if(null==this.m_secondTable)return e=String.format("%s%s",this.m_bUsePrefix?"##PREF##":"",this.m_strTableName),e;if(this.m_bTranslateJoins)return this.TranslatedJoinTableName();var n="(",a=")";this.m_bUseParrentisisAtJoins||(n="",a=""),e=n+this.m_secondTable.getTableName(),s["a"].isEmpty(this.m_secondTable.getJoinCondition())&&(t=" "+this.m_secondTable.getAlias(),e+=t);var i="LEFT OUTER JOIN";switch(this.m_joinType){case r.eRightJoin:i="RIGHT JOIN";break;case r.eInnerJoin:i="INNER JOIN";break}return t=String.format(" %s %s%s %s ON %s"+a,i,this.m_bUsePrefix?"##PREF##":"",this.m_strTableName,this.m_strTableAlias,this.m_strJoinCondition),e+=t,e}},{key:"TranslatedJoinTableName",value:function(){var e=this.m_bUsePrefix?"##PREF##":"";return e+=this.m_strTableName,s["a"].isEmpty(this.m_strTableAlias)||(e+=" "+this.m_strTableAlias),null!=this.m_secondTable&&(e+=","+this.m_secondTable.TranslatedJoinTableName()),e}},{key:"setTableName",value:function(e){this.m_strTableName=e}},{key:"getUsePrefix",value:function(){return this.m_bUsePrefix}},{key:"setUsePrefix",value:function(e){this.m_bUsePrefix=e}},{key:"getTranslatedJoinConditions",value:function(){var e="";if(s["a"].isEmpty(this.m_strJoinCondition)||(e+="("+this.m_strJoinCondition+")"),null!=this.m_secondTable){var t=this.m_secondTable.getTranslatedJoinConditions();s["a"].isEmpty(t)||(e+=" AND "+t)}return e}}]),e}(),c=n("8277"),d=n("0e62"),h=n("57ee"),p=n("54c9"),f=n("d2c7"),m=n("458e"),g=function e(){Object(i["a"])(this,e)};g.PARSER_KEYWORD=0,g.PARSER_COMPLETE=1,g.PARSER_DELETE_EXPECTING_FROM=2,g.PARSER_DELETE_EXPECTING_TABLE=3,g.PARSER_DELETE_EXPECTING_WHERE=4,g.PARSER_DELETE_WHERE=5,g.PARSER_INSERT_EXPECTING_INTO=6,g.PARSER_INSERT_EXPECTING_TABLE=7,g.PARSER_INSERT_EXPECTING_FIELDS_BEGIN=8,g.PARSER_INSERT_EXPECTING_FIELD_NAME=9,g.PARSER_INSERT_EXPECTING_FIELD_SEPARATOR=10,g.PARSER_INSERT_EXPECTING_VALUES=11,g.PARSER_INSERT_EXPECTING_VALUES_BEGIN=12,g.PARSER_INSERT_EXPECTING_VALUE=13,g.PARSER_INSERT_EXPECTING_VALUE_SEPARATOR=14,g.PARSER_UPDATE_EXPECTING_TABLE=15,g.PARSER_UPDATE_EXPECTING_SET=16,g.PARSER_UPDATE_EXPECTING_FIELD_NAME=17,g.PARSER_UPDATE_EXPECTING_EQUAL_SIGN=18,g.PARSER_UPDATE_EXPECTING_FIELD_VALUE=19,g.PARSER_UPDATE_EXPECTING_SEPARATOR=20,g.PARSER_UPDATE_EXPECTING_WHERE=21,g.PARSER_UPDATE_WHERE=22;var b=function(){function e(t,n){Object(i["a"])(this,e),this.m_strReservedWords=["insert","update","delete","into","values","set","where","from","having","group","by","order"],this.m_bTranslateJoins=!1,this.m_bSurroundUnions=!1,t instanceof e?this.SqlParserFromParser(t):(this.m_strRowIdFieldName=t,this.m_sqlType=c["a"].SQLTYPE_UNKNOWN,this.m_lstFields=new o["a"],this.m_lstFieldsType=new o["a"],this.m_lstSelectFields=new m["a"],this.m_messages=n||null)}return Object(a["a"])(e,[{key:"SqlParserFromParser",value:function(e){var t=this;this.m_messages=e.getMessageHolder(),this.m_strRowIdFieldName=e.GetRowIdFieldName(),this.m_sqlType=e.GetSqlType(),this.m_lstFields=new o["a"],this.m_lstFieldsType=new o["a"],this.m_strTable=e.GetTableName(),this.m_strWhere=e.GetWhereSentence(),e.GetFields().entrySet().forEach((function(e){return t.m_lstFields.put(e[0],e[1])})),this.m_strSentence=e.GetSentence(),this.m_lstSelectFields=new m["a"]}},{key:"GetRowIdFieldName",value:function(){return this.m_strRowIdFieldName}},{key:"SetRowIdFieldName",value:function(e){this.m_strRowIdFieldName=e}},{key:"GetWhereSentence",value:function(){return this.m_strWhere}},{key:"getMessageHolder",value:function(){return this.m_messages}},{key:"SetWhereSentence",value:function(e){this.m_strWhere=e.toString()}},{key:"GetRowId",value:function(){var e,t,n=null;return s["a"].isEmpty(this.m_strRowId)?(this.m_lstFields.containsKey(this.m_strRowIdFieldName)&&(n=this.m_lstFields.get(this.m_strRowIdFieldName)),s["a"].isEmpty(n)?(n=this.GetWhereSentence(),s["a"].isEmpty(n)||(e=n.indexOf("'"),t=n.indexOf("'",e+1),n=n.substring(e+1,t))):n=h["a"].removeChars(n,"'"),s["a"].isEmpty(n)||(this.m_strRowId=n),this.m_strRowId):this.m_strRowId}},{key:"GetFields",value:function(){return this.m_lstFields}},{key:"GetSqlType",value:function(){return this.m_sqlType}},{key:"SetSqlType",value:function(e){this.m_sqlType=e}},{key:"GetTableName",value:function(){return this.m_strTable}},{key:"SetTableName",value:function(e){this.m_strTable=e}},{key:"getTranslateJoins",value:function(){return this.m_bTranslateJoins}},{key:"setTranslateJoins",value:function(e){this.m_bTranslateJoins=e}},{key:"getSurroundUnions",value:function(){return this.m_bSurroundUnions}},{key:"setSurroundUnions",value:function(e){this.m_bSurroundUnions=e}},{key:"GetSentence",value:function(){return this.m_strSentence}},{key:"getIsUnionQuery",value:function(){return this.m_bIsUnionQuery}},{key:"AddFields",value:function(e,t){var n=this;try{return e.GetFields().entrySet().forEach((function(e){(!t&&!n.m_lstFields.containsKey(e[0])||t)&&n.SetFieldValue(e[0],e[1])})),!0}catch(r){throw r}}},{key:"BeginParse",value:function(){this.m_nParserIndex=0,this.m_strCurrentToken=null,this.m_lstFields=new o["a"],this.m_strTable=null,this.m_strWhere="",this.m_strRowId=null}},{key:"FieldExists",value:function(e){return this.m_lstFields.containsKey(e)}},{key:"GetFieldValue",value:function(e){return this.m_lstFields.containsKey(e)?this.m_lstFields.get(e):null}},{key:"GetNextSpacedToken",value:function(){var e=null;while(this.m_nParserIndex<this.m_strSentence.length)if(e=this.GetNextToken(),0!=e.localeCompare(" ")&&0!=e.localeCompare("\t")&&0!=e.localeCompare("\n")&&0!=e.localeCompare("\r"))break;return e}},{key:"GetNextToken",value:function(){var e,t=new d["a"],n=!1;while(this.m_nParserIndex<this.m_strSentence.length){if(e=this.m_strSentence.charAt(this.m_nParserIndex++),"'"==e)if(n){if(this.m_nParserIndex>this.m_strSentence.length)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_SYNTAXERROR,"Syntax error in SQL Sentence."));if(!(this.m_nParserIndex<this.m_strSentence.length)){t.append(e);break}if("'"!=this.m_strSentence.charAt(this.m_nParserIndex)){t.append(e);break}t.append(e),this.m_nParserIndex++}else n=!0;else if(!n&&this.IsSeparator(e))return t.length()>0?(this.m_nParserIndex--,(this.m_strCurrentToken=t).toString()):(this.m_strCurrentToken=(new d["a"]).append(e),this.m_strCurrentToken.toString());t.append(e)}if(n){if(t.length()<2)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_INCOMPLETETOKEN,"Syntax Error. String token incomplete."));if("'"!=t.charAt(t.length()-1))throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_INCOMPLETETOKEN,"Syntax Error. String token incomplete."))}return(this.m_strCurrentToken=t).toString()}},{key:"GetNextValueToken",value:function(){var e,t,n=0;t=this.GetNextSpacedToken(),t.equals("(")&&n++;while(this.m_nParserIndex<this.m_strSentence.length){if(e=this.GetNextToken(),0==e.compareTo("("))n++;else{if(0==e.compareTo(")")){if(this.m_nParserIndex==this.m_strSentence.length&&this.m_status==g.PARSER_INSERT_EXPECTING_VALUE)return this.m_nParserIndex--,t;if(--n<0)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_SYNTAXERROR,"Syntax error in SQL Sentence."))}if(0==e.compareTo(" ")&&0==n){var r=this.PeekNextSpacedToken();if(r.equals(",")||this.IsReservedWord(r)){this.m_nParserIndex--;break}}if(0==e.compareTo(",")&&0==n){this.m_nParserIndex--;break}}t+=e}return t}},{key:"IsReservedWord",value:function(e){for(var t in this.m_strReservedWords)if(0==t.compareToIgnoreCase(e))return!0;return!1}},{key:"PeekNextSpacedToken",value:function(){var e=null,t=this.m_nParserIndex;while(t<this.m_strSentence.length)if(e=this.PeekNextToken(t),t+=e.length,!(e.equals(" ")||e.equals("\t")||e.equals("\n")||e.equals("\r")))break;return e}},{key:"PeekNextToken",value:function(e){var t,n="",r=!1,a=" ";while(e<this.m_strSentence.length){if(t=this.m_strSentence.charAt(e++),"'"==t||'"'==t)if(r){if(e>this.m_strSentence.length)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_SYNTAXERROR,"Syntax error in SQL Sentence."));if(!(e<this.m_strSentence.length)){n+=t;break}if(this.m_strSentence.charAt(e)!=a){n+=t;break}n+=t,e++}else r=!0,a=t;else if(!r&&this.IsSeparator(t))return n.length>0?(e--,n):""+t;n+=t}if(r){if(n.length<2)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_INCOMPLETETOKEN,"Syntax Error. String token incomplete."));if(n.charAt(n.length-1)!=a)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_INCOMPLETETOKEN,"Syntax Error. String token incomplete."))}return n}},{key:"IsSeparator",value:function(e){switch(e){case" ":case",":case"\t":case"\r":case"\n":case"(":case")":case"+":case"-":case"*":case"/":case"=":case"|":case"&":return!0;default:return!1}}},{key:"Normalize",value:function(t){if(0==this.m_strRowIdFieldName.compareTo("ROWID"))return!0;var n=t?"ROWID":this.m_strRowIdFieldName,r=t?this.m_strRowIdFieldName:"ROWID";switch(this.m_sqlType){case c["a"].SQLTYPE_UPDATE:case c["a"].SQLTYPE_DELETE:var a=this.m_strWhere;e.EMPTY.equals(a)||(a=String.format(" WHERE %s='%s'",n,this.GetRowId()),this.SetWhereSentence(a));break;case c["a"].SQLTYPE_INSERT:this.m_lstFields.containsKey(r)&&(a=this.m_lstFields.get(r),this.m_lstFields.delete(r),this.m_lstFields.put(n,a));break}return this.m_strRowIdFieldName=n,!0}},{key:"ParseInsertStatement",value:function(){var t,n=null,r=null;if(this.m_status!=g.PARSER_KEYWORD)return!1;try{this.m_status=g.PARSER_INSERT_EXPECTING_INTO;while(this.m_nParserIndex<this.m_strSentence.length)switch(this.m_status){case g.PARSER_INSERT_EXPECTING_INTO:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("into"))return!1;this.m_status=g.PARSER_INSERT_EXPECTING_TABLE;break;case g.PARSER_INSERT_EXPECTING_TABLE:this.m_strTable=this.GetNextSpacedToken(),this.m_status=g.PARSER_INSERT_EXPECTING_FIELDS_BEGIN;break;case g.PARSER_INSERT_EXPECTING_FIELDS_BEGIN:if(t=this.GetNextSpacedToken(),0!=t.compareTo("("))return!1;this.m_status=g.PARSER_INSERT_EXPECTING_FIELD_NAME,n=new Array,r=new Array;break;case g.PARSER_INSERT_EXPECTING_FIELD_NAME:if(t=this.GetNextSpacedToken(),0==t.compareTo(","))return!1;n.push(t.trim()),this.m_status=g.PARSER_INSERT_EXPECTING_FIELD_SEPARATOR;break;case g.PARSER_INSERT_EXPECTING_FIELD_SEPARATOR:if(t=this.GetNextSpacedToken(),0==t.compareTo(",")){this.m_status=g.PARSER_INSERT_EXPECTING_FIELD_NAME;break}if(0==t.compareTo(")")){this.m_status=g.PARSER_INSERT_EXPECTING_VALUES;break}return!1;case g.PARSER_INSERT_EXPECTING_VALUES:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("values"))return!1;this.m_status=g.PARSER_INSERT_EXPECTING_VALUES_BEGIN;break;case g.PARSER_INSERT_EXPECTING_VALUES_BEGIN:if(t=this.GetNextSpacedToken(),0!=t.compareTo("("))return!1;this.m_status=g.PARSER_INSERT_EXPECTING_VALUE;break;case g.PARSER_INSERT_EXPECTING_VALUE:if(t=this.GetNextValueToken(),0==t.compareTo(","))return!1;r.push(t.trim()),this.m_status=g.PARSER_INSERT_EXPECTING_VALUE_SEPARATOR;break;case g.PARSER_INSERT_EXPECTING_VALUE_SEPARATOR:if(t=this.GetNextSpacedToken(),0==t.compareTo(",")){this.m_status=g.PARSER_INSERT_EXPECTING_VALUE;break}if(0==t.compareTo(")")){this.m_status=g.PARSER_COMPLETE;break}return!1;case g.PARSER_COMPLETE:break;default:return!1}if(n.length!=r.length)return!1;for(var a,i,o=0;o<n.length;o++)a=n[o],i=r[o],s["a"].isEmpty(this.m_strRowIdFieldName)||0!=a.compareTo(this.m_strRowIdFieldName)||("'"==i.charAt(0)&&"'"==i.charAt(i.length-1)?this.m_strRowId=i.substring(1,i.length-1):0==i.compareToIgnoreCase(e.NULL_VALUE)?this.m_strRowId=i=null:this.m_strRowId=i),h["a"].IsEmptyString(i)||this.m_lstFields.put(a,i);return this.m_sqlType=c["a"].SQLTYPE_INSERT,!0}catch(l){return l.printStackTrace(),!1}}},{key:"ParserDeleteStatement",value:function(){var t,n=!1,r=!1;if(this.m_status!=g.PARSER_KEYWORD)return!1;try{this.m_status=g.PARSER_DELETE_EXPECTING_FROM;while(this.m_nParserIndex<this.m_strSentence.length)switch(this.m_status){case g.PARSER_DELETE_EXPECTING_FROM:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("from"))return!1;this.m_status=g.PARSER_DELETE_EXPECTING_TABLE;break;case g.PARSER_DELETE_EXPECTING_TABLE:t=this.GetNextSpacedToken(),this.m_strTable=t,this.m_status=g.PARSER_DELETE_EXPECTING_WHERE;break;case g.PARSER_DELETE_EXPECTING_WHERE:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("where"))return!1;this.m_strWhere="",this.m_status=g.PARSER_DELETE_WHERE;break;case g.PARSER_DELETE_WHERE:t=this.GetNextToken(),0==t.compareTo(this.m_strRowIdFieldName)&&(n=!0),n&&0==t.compareTo("=")&&(r=!0),r&&t.length>2&&"'"==t.charAt(0)&&"'"==t.charAt(t.length-1)&&(this.m_strRowId=t.substring(1,t.length-1)),this.m_strWhere+=t;break;default:return!1}return e.EMPTY.equals(this.m_strWhere)||(this.m_strWhere=" WHERE "+this.m_strWhere),this.m_sqlType=c["a"].SQLTYPE_DELETE,!0}catch(a){return a.printStackTrace(),!1}}},{key:"ParseUpdateStatement",value:function(){var t,n,r=null,a=!1,i=!1;try{if(this.m_status!=g.PARSER_KEYWORD)return!1;this.m_status=g.PARSER_UPDATE_EXPECTING_TABLE;while(this.m_nParserIndex<this.m_strSentence.length)switch(this.m_status){case g.PARSER_UPDATE_EXPECTING_TABLE:this.m_strTable=this.GetNextSpacedToken(),this.m_status=g.PARSER_UPDATE_EXPECTING_SET;break;case g.PARSER_UPDATE_EXPECTING_SET:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("set"))return!1;this.m_status=g.PARSER_UPDATE_EXPECTING_FIELD_NAME;break;case g.PARSER_UPDATE_EXPECTING_FIELD_NAME:r=this.GetNextSpacedToken(),this.m_status=g.PARSER_UPDATE_EXPECTING_EQUAL_SIGN;break;case g.PARSER_UPDATE_EXPECTING_EQUAL_SIGN:if(t=this.GetNextSpacedToken(),0!=t.compareTo("="))return!1;this.m_status=g.PARSER_UPDATE_EXPECTING_FIELD_VALUE;break;case g.PARSER_UPDATE_EXPECTING_FIELD_VALUE:n=this.GetNextValueToken(),this.m_lstFields.put(r,n),this.m_status=g.PARSER_UPDATE_EXPECTING_SEPARATOR;break;case g.PARSER_UPDATE_EXPECTING_SEPARATOR:if(t=this.GetNextSpacedToken(),0==t.compareToIgnoreCase("where")){this.m_status=g.PARSER_UPDATE_WHERE;break}if(0!=t.compareTo(","))return!1;r=null,this.m_status=g.PARSER_UPDATE_EXPECTING_FIELD_NAME;break;case g.PARSER_UPDATE_EXPECTING_WHERE:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("where"))return!1;this.m_status=g.PARSER_UPDATE_WHERE;break;case g.PARSER_UPDATE_WHERE:t=this.GetNextToken(),0==t.compareTo(this.m_strRowIdFieldName)&&(i=!0),i&&0==t.compareTo("=")&&(a=!0),a&&t.length>2&&"'"==t.charAt(0)&&"'"==t.charAt(t.length-1)&&(this.m_strRowId=t.substring(1,t.length-1)),this.m_strWhere+=t;break;default:return!1}return e.EMPTY.equals(this.m_strWhere)||(this.m_strWhere=" WHERE "+this.m_strWhere),this.m_sqlType=c["a"].SQLTYPE_UPDATE,this.m_status!=g.PARSER_UPDATE_EXPECTING_FIELD_VALUE}catch(o){return o.printStackTrace(),!1}}},{key:"ParseSqlString",value:function(e){var t,n,r,a=0;this.m_strSentence=e.trim(),this.BeginParse();do{n=!1,t=this.GetNextToken(),0==t.compareTo("(")&&(a++,n=!0)}while(n);this.m_status=g.PARSER_KEYWORD;var i=t.toLowerCase();if(0==i.compareTo("insert"))r=this.ParseInsertStatement();else if(0==i.compareTo("update"))r=this.ParseUpdateStatement();else if(0==i.compareTo("delete"))r=this.ParserDeleteStatement();else{if(!i.equals("select"))return this.m_sqlType=c["a"].SQLTYPE_ERROR;r=this.ParseSelectStatement()}if(!r)return this.m_sqlType=c["a"].SQLTYPE_ERROR;if(a>0){do{n=!1,t=this.GetNextToken(),0==t.compareTo(")")&&(a--,n=!0)}while(n);if(a>0)return this.m_sqlType=c["a"].SQLTYPE_ERROR}return this.m_sqlType}},{key:"RegenerateDelete",value:function(){var e=new d["a"];return s["a"].isEmpty(this.m_strTable)?null:(e.append("DELETE FROM "),e.append(this.m_strTable),e.append(" "),e.append(this.m_strWhere),e.toString())}},{key:"RegenerateInsert",value:function(){var t,n,r=new d["a"],a=new d["a"];return 0==this.m_lstFields.length?null:(this.m_lstFields.entrySet().forEach((function(n){e.EMPTY.equals(t)||(r.length()>0&&(r.append(","),a.append(",")),r.append(n[0]),a.append(n[1]))})),0==r.length()?null:(n=String.format("INSERT INTO %s (%s) VALUES (%s)",this.m_strTable,r.toString(),a.toString()),n))}},{key:"ParseSelectStatement",value:function(){var e,t,n,a,i=!1,o=!1,l=!1,u="",d="",h="",p="",f="",m=0,g=0,b=0,_="";this.m_nParserIndex=0;var v=!1,O=r.eLeftJoin,y=this.m_strSentence.length;for(e=n=t=0;this.m_nParserIndex<y;)switch(u=this.GetNextSqlToken(),e){case 0:if(this.IsSeparator(u))break;if(u.equals("(")){n++;break}if(u=u.toLowerCase(),u.equals("union")){e=5;break}if(u.equals("order")){this.getIsUnionQuery()&&this.AddUnionQuery(),e=4,_=null,t=0;break}if(!u.equals("select"))return!1;e=1,t=0,i=o=!1,d=h=_="";break;case 1:if((!u.equals(",")||u.equals(",")&&t>0)&&((!u.equalsIgnoreCase("as")&&!u.equalsIgnoreCase("from")&&!u.equalsIgnoreCase("distinct")||t>0)&&(_+=u),this.IsSeparator(u)))break;if(u.equals("(")&&t++,u.equals(")")&&--t<0)return!1;if(0==t){if(u.equals(",")){if(!i)return!1;o||(d=_.trim()),this.AddField(d,h),d=h=_="",i=o=!1;break}if(u.equalsIgnoreCase("distinct")){this.m_bDistinct=!0,_="";break}if(u.equalsIgnoreCase("from")){i&&(o||(d=_.trim()),this.AddField(d,h),i=!1,d=h=_=""),e=2,m=0,t=0,l=o=!1;break}if(u.equalsIgnoreCase("as")){if(!i)return!1;if(o)return!1;o=!0,d=_.trim(),_="";break}}i?o&&(h=u):(d=u,i=!0);break;case 2:switch(m){case 0:if(this.IsSeparator(u))break;if(u.equals("(")){t++;break}if(u.equalsIgnoreCase("order")||u.equalsIgnoreCase("left")||u.equalsIgnoreCase("right")||u.equalsIgnoreCase("inner")||u.equalsIgnoreCase("where")||u.equalsIgnoreCase("group")){if(!l)return!1;if(this.AddTable(p,h,f,O),p=h=f="",l=o=!1,O=r.eLeftJoin,u.equalsIgnoreCase("right")?O=r.eRightJoin:u.equalsIgnoreCase("inner")&&(O=r.eInnerJoin),u.equalsIgnoreCase("where")){t=0,e=3;break}if(u.equalsIgnoreCase("order")){t=0,e=4;break}if(u.equalsIgnoreCase("group")){e=7;break}m=1;break}l?o||(h=u,o=!0):(p=u,l=!0);break;case 1:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("outer")){m=2;break}if(u.equalsIgnoreCase("join")){m=3,_="",b=0;break}return!1;case 2:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("join")){m=3,_="",b=0;break}return!0;case 3:if(this.IsSeparator(u)){if(0==b)break;_+=u;break}if(u.equals("(")){b++,_+=u;break}if(u.equals(")")){if(--b<0)return!1;_+=u,0==b&&(p=_,l=!0,_="");break}if(b>0){_+=u;break}if(u.equalsIgnoreCase("on")){m=4,g=0,f="";break}if(l){if(o)return!1;h=u,o=!0}else p=u,l=!0;break;case 4:if(u.equals("(")&&(g++,v=!0),u.equals(")")){if(--g<=0){if(!v){if(--t<0)return!1;if(!l)return!1;this.AddTable(p,h,f,O),p=h=f="",l=o=!1,m=5;break}v=!1}}else if((u.equalsIgnoreCase("left")||u.equalsIgnoreCase("right")||u.equalsIgnoreCase("inner"))&&0==t&&0==g){if(!l)return!1;this.AddTable(p,h,f,O),p=h=f="",l=o=!1,O=r.eLeftJoin,u.equalsIgnoreCase("right")?O=r.eRightJoin:u.equalsIgnoreCase("inner")&&(O=r.eInnerJoin),m=1;break}if(a=!1,u.equalsIgnoreCase("where")&&(t=0,e=3,a=!0),u.equalsIgnoreCase("group")&&(t=0,e=7,a=!0),u.equalsIgnoreCase("order")&&(t=0,e=4,a=!0),a){this.AddTable(p,h,f,O),p=h=f="",l=o=!1;break}f+=u;break;case 5:if(this.IsSeparator(u))break;if(u.equals(")")){if(0!=t){f="",t--;break}if(--n<0)return!1}if(u.equalsIgnoreCase("left")||u.equalsIgnoreCase("right")||u.equalsIgnoreCase("inner")){m=1;break}if(u.equalsIgnoreCase("where")){t=0,e=3;break}if(u.equalsIgnoreCase("group")){t=0,e=7;break}if(u.equalsIgnoreCase("union")){if(t>0)return!1;e=5;break}if(u.equalsIgnoreCase("order")){if(t>0)return!1;e=4;break}break}break;case 3:if(u.equalsIgnoreCase("order")){e=4,this.m_strWhere=_.trim();break}if(u.equalsIgnoreCase("group")){if(t>0)return!1;e=7,this.m_strWhere=_.trim();break}if(u.equalsIgnoreCase("union")){if(t>0)return!1;this.m_strWhere=_.trim(),e=5;break}if(u.equals("(")&&t++,u.equals(")")){if(0==t){if(--n<0)return!1;this.m_strWhere=_.trim(),e=0;break}if(0==--t){_+=u,this.m_strWhere=_.trim();break}}_+=u;break;case 4:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("by")){_="",e=9,t=0;break}return!1;case 5:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("all")){e=6;break}if(u.equalsIgnoreCase("select")||u.equals("(")){this.AddUnionQuery(),t=0,e=1,_=d=h=f=p="";break}return!1;case 6:this.AddUnionQuery(),e=t=0,_=d=h=f=p="";break;case 7:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("by")){_="",t=0,e=8;break}return!1;case 8:if(u.equalsIgnoreCase("having")){if(t>0)return!1;e=10,this.m_strGroupBy=_.trim(),t=0,_="";break}if(u.equalsIgnoreCase("order")){if(t>0)return!1;e=4,this.m_strGroupBy=_.trim();break}if(u.equals("(")&&t++,u.equals(")")){if(0==t){if(--n<0)return!1;this.m_strGroupBy=_.trim(),e=0;break}if(0==--t){_+=u,this.m_strGroupBy=_.trim();break}}_+=u;break;case 9:if(u.equalsIgnoreCase("having")){if(t>0)return!1;e=10,this.m_strOrderBy=_.trim(),t=0,_="";break}if(u.equals("(")&&t++,u.equals(")")){if(0==t){if(--n<0)return!1;this.m_strOrderBy=_.trim(),e=0;break}if(0==--t){_+=u,this.m_strOrderBy=_.trim();break}}_+=u;break;case 10:if(u.equals("(")&&t++,u.equals(")")){if(0==t){if(--n<0)return!1;this.m_strHaving=_.trim(),e=0;break}if(0==--t){_+=u,this.m_strHaving=_.trim();break}}if(u.equalsIgnoreCase("order")){if(t>0)return!1;this.m_strHaving=_.trim(),_="",e=4;break}_+=u;break}return l&&this.AddTable(p,h,f,O),3==e&&_.length>0&&(this.m_strWhere=_),s["a"].isEmpty(this.m_strWhere)||(this.m_strWhere=this.m_strWhere.trim()),8==e&&_.length>0&&(this.m_strGroupBy=_),s["a"].isEmpty(this.m_strGroupBy)||(this.m_strGroupBy=this.m_strGroupBy.trim()),9==e&&_.length>0&&(this.m_strOrderBy=_),s["a"].isEmpty(this.m_strOrderBy)||(this.m_strOrderBy=this.m_strOrderBy.trim()),10==e&&_.length>0&&(this.m_strHaving=_),s["a"].isEmpty(this.m_strHaving)||(this.m_strHaving=this.m_strHaving.trim()),this.m_bIsUnionQuery&&this.m_lstSelectFields.length>0&&this.AddUnionQuery(),this.m_sqlType=c["a"].SQLTYPE_SELECT,!0}},{key:"AddUnionQuery",value:function(){null==this.m_lstUnionQueries&&(this.m_lstUnionQueries=new Array);var t=new e(this);return t.SetSqlType(c["a"].SQLTYPE_SELECT),!!t.CopyData(this)&&(this.m_lstUnionQueries.push(t),this.Clear(!1),this.m_bIsUnionQuery=!0,!0)}},{key:"GetNextSqlToken",value:function(){var e=!1,t=0,n=0,r=this.m_strSentence.length,a=null;for(t=this.m_nParserIndex;t<r;)switch(this.m_strSentence.charAt(t)){case"=":case"+":case"-":case"*":case"/":if(!e)return n=t>r?t-1:t,n==this.m_nParserIndex&&n++,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=n,a;t++;break;case"'":if(e)return n=t>r?t:t+1,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=n,a;if(t>this.m_nParserIndex)return n=t,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=n,a;if(e=!0,!e)return n=t>this.m_nParserIndex?t-1:t,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=t,a;t++;break;case"\r":case"\n":case"\t":case" ":case",":case"(":case")":if(!e)return n=t>r?t-1:t,n==this.m_nParserIndex&&n++,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=n,a;t++;break;default:t++;break}return this.m_nParserIndex<t&&(a=this.m_strSentence.substring(this.m_nParserIndex,r),this.m_nParserIndex=t),a}},{key:"RegenerateUpdate",value:function(){var t,n="";return 0==this.m_lstFields.length?null:(this.m_lstFields.entrySet().forEach((function(t){e.EMPTY.equals(t[0])||(n.length>0&&(n+=","),n+=String.format("%s=%s",t[0],t[1]))})),0==n.length?null:(t=String.format("UPDATE %s SET %s %s",this.m_strTable,n,this.m_strWhere),t))}},{key:"RegenerateSql",value:function(){switch(this.m_sqlType){case c["a"].SQLTYPE_INSERT:return this.RegenerateInsert();case c["a"].SQLTYPE_DELETE:return this.RegenerateDelete();case c["a"].SQLTYPE_UPDATE:return this.RegenerateUpdate();case c["a"].SQLTYPE_SELECT:return this.RegenerateSelect()}return null}},{key:"RegenerateSelect",value:function(){var e,t;if(this.m_bIsUnionQuery)return this.RegenerateUnionQuery();if(null==this.m_tableFrom)return null;for(this.m_tableFrom.setTranslateJoins(this.m_bTranslateJoins),e="SELECT "+(this.m_bDistinct?"DISTINCT ":"")+this.GetFieldList()+" FROM "+this.m_tableFrom.getTableName(),null==this.m_tableFrom.getSecondTable()&&(t=" "+this.m_tableFrom.getAlias(),e+=t),e=e.trim();e.endsWith("\t");e=e.substring(0,e.length-1));for(;e.endsWith("\r\n");e=e.substring(0,e.length-2));return s["a"].isEmpty(this.m_strWhere)||(t=" WHERE ("+this.m_strWhere+")",e+=t),this.m_bTranslateJoins&&(t=this.m_tableFrom.getTranslatedJoinConditions(),s["a"].isEmpty(t)||(t=s["a"].isEmpty(this.m_strWhere)?" WHERE ("+t+")":" AND ("+t+")"),e+=t),s["a"].isEmpty(this.m_strGroupBy)||(t=" GROUP BY "+this.m_strGroupBy,e+=t),s["a"].isEmpty(this.m_strHaving)||(t=" HAVING "+this.m_strHaving,e+=t),s["a"].isEmpty(this.m_strOrderBy)||(t=" ORDER BY "+this.m_strOrderBy,e+=t),e}},{key:"GetFieldList",value:function(){var e=new d["a"];return this.m_lstSelectFields.forEach((function(t){!e.isEmpty()&&e.append(","),e.append(t.getName()),!s["a"].isEmpty(t.getAlias())&&e.append(" AS "+t.getAlias())})),e.toString()}},{key:"RegenerateUnionQuery",value:function(){var e=this,t=new d["a"];return this.m_lstUnionQueries.forEach((function(n){t.isEmpty()&&t.append(" \r\nUNION ALL\r\n "),e.m_bSurroundUnions&&t.append("("),t.append(n.RegenerateSql()),e.m_bSurroundUnions&&t.append(")")})),!s["a"].isEmpty(this.m_strOrderBy)&&t.append("\r\nORDER BY "+this.m_strOrderBy),t.toString()}},{key:"SetFieldValue",value:function(e,t){null==this.m_lstFields&&(this.m_lstFields=new o["a"]),this.m_lstFields.put(e,t)}},{key:"SetFieldType",value:function(e,t){null==this.m_lstFieldsType&&(this.m_lstFieldsType=new o["a"]),this.m_lstFieldsType.put(e,t)}},{key:"GetFieldType",value:function(e){return null==this.m_lstFieldsType?0:this.m_lstFieldsType.containsKey(e)?this.m_lstFieldsType.get(e):0}},{key:"StripSqlFields",value:function(t,n){var r=this,a=t.GetFields().length;try{return this.m_lstFields.entrySet().forEach((function(t){e.IsFormula(t[0])&&e.IsFormula(r.GetFieldValue(t[0]))&&(r.m_sqlType==c["a"].SQLTYPE_INSERT?r.SetFieldValue(t[0],t[1]):r.m_lstFields.delete(t[0]),a--)})),this.m_sqlType==c["a"].SQLTYPE_INSERT&&t.GetSqlType()==c["a"].SQLTYPE_UPDATE&&0==this.GetRowId().compareTo(t.GetRowId())&&a--,a}catch(i){throw i}}},{key:"CopyData",value:function(e){var t,n=this;return this.Clear(),e.getQueryFields().forEach((function(e){n.AddField(e.getName(),e.getAlias())})),t=e.getTableFrom(),null!=t&&(this.CopyTable(t),this.m_bDistinct=e.getDistinct(),this.m_strWhere=e.GetWhereSentence(),this.m_strGroupBy=e.getGroupBySentence(),this.m_strOrderBy=e.getOrderBySentence(),this.m_strHaving=e.getHavingSentence(),!0)}},{key:"getDistinct",value:function(){return this.m_bDistinct}},{key:"getOrderBySentence",value:function(){return this.m_strOrderBy||null}},{key:"setOrderBySentence",value:function(e){this.m_strOrderBy=e}},{key:"getGroupBySentence",value:function(){return this.m_strGroupBy}},{key:"setGroupBySentence",value:function(e){this.m_strGroupBy=e}},{key:"CopyTable",value:function(e){var t;return null!=(t=e.getSecondTable())&&this.CopyTable(t),this.AddTable(e.getActualName(),e.getAlias(),e.getJoinCondition(),e.getJoinType()),!0}},{key:"AddTable",value:function(e,t,n,r){var a,i=e,o=!1;i.startsWith("##PREF##")&&(i=i.substring(8,i.length),this.m_bUsePrefix=o=!0),a=new u(i.trim(),t.trim()),a.setSecondTable(this.m_tableFrom),a.setJoinCondition(n.trim(),r),a.setUsePrefix(o),this.m_tableFrom=a}},{key:"getTableFrom",value:function(){return this.m_tableFrom}},{key:"getUsePrefix",value:function(){return this.m_bUsePrefix}},{key:"setUsePrefix",value:function(e){this.m_bUsePrefix=e}},{key:"getHavingSentence",value:function(){return this.m_strHaving}},{key:"setHavingSentence",value:function(e){this.m_strHaving=e}},{key:"Clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!=this.m_tableFrom&&(this.m_tableFrom=null),null!=this.m_lstSelectFields&&(this.m_lstSelectFields=new m["a"]),e&&null!=this.m_lstUnionQueries&&(this.m_lstUnionQueries=new Array),this.m_bDistinct=!1,this.m_strWhere=null,this.m_strGroupBy=null,this.m_strOrderBy=null,this.m_strHaving=null}},{key:"getUnionQueries",value:function(){return this.m_lstUnionQueries}},{key:"getQueryFields",value:function(){return this.m_lstSelectFields}},{key:"clearQueryFields",value:function(){this.m_lstSelectFields=new m["a"]}},{key:"AddField",value:function(e,t){for(var n,r=0;r<this.m_lstSelectFields.length;r++){var a=this.m_lstSelectFields[r];if(a.getName().equals(e)&&a.getAlias().equals(t))return a}return n=new l(e,t),this.m_lstSelectFields.push(n),n}},{key:"GetMessage",value:function(e,t){return null==this.m_messages?t:this.m_messages.GetMessage(e,t)}},{key:"getKeys",value:function(){return this.m_keys}},{key:"addkey",value:function(e){null==this.m_keys&&(this.m_keys=[]),this.m_keys.push(e)}},{key:"clearKeys",value:function(){this.m_keys=[]}}],[{key:"IsFormula",value:function(t){if(e.EMPTY.equals(t))return!1;if(t.length<2)return!1;if("'"==t.charAt(0)&&"'"==t.charAt(t.length-2))return!1;var n=["+","-","*","/","|","&"];for(var r in n)if(t.contains(r))return!0;return!1}},{key:"checkIfNotFunctionValue",value:function(e){if(e.startsWith("'")&&e.endsWith("'"))return!0;try{return Number.parseFloat(e),!0}catch(t){return!1}}},{key:"getWhereOnlyFields",value:function(e){if(s["a"].isEmpty(e))return"";var t=e.trim();return 0==t.substring(0,6).compareToIgnoreCase("WHERE ")?t.substring(6).trim():e}}]),e}();b.NULL_VALUE="NULL",b.EMPTY=""},"6efc":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,a=n("d4ec"),i=n("bee2"),o=(n("d3b7"),n("25f0"),n("3019")),s=n("458e"),l=(n("a630"),n("3ca3"),n("ac1f"),n("1276"),n("5319"),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(a["a"])(this,e),this.m_pointer=0,this.m_lines=Array.from(t.replace(/\r/gi,"").split("\n"))}return Object(i["a"])(e,[{key:"readLine",value:function(){return this.m_pointer>=this.m_lines.length?null:this.m_lines[this.m_pointer++]}}]),e}()),u=n("0e62"),c=n("3be9"),d=n("f0ed"),h=n("262e"),p=n("2caf"),f=n("0912"),m=function(e){Object(h["a"])(n,e);var t=Object(p["a"])(n);function n(e,r,i,o){return Object(a["a"])(this,n),t.call(this,o)}return n}(f["a"]),g=(n("498a"),function(){function e(t){Object(a["a"])(this,e),this.m_strName=t,this.m_bundleRules=new o["a"]}return Object(i["a"])(e,[{key:"getName",value:function(){return this.m_strName}},{key:"addRule",value:function(e,t){this.m_bundleRules.put(e,t.trim())}},{key:"getRuleValue",value:function(e){return this.m_bundleRules.containsKey(e)?this.m_bundleRules.get(e):null}},{key:"deleteRule",value:function(e){this.m_bundleRules.containsKey(e)&&this.m_bundleRules.delete(e)}},{key:"contains",value:function(e){return this.m_bundleRules.containsKey(e)}}]),e}());(function(e){e[e["ExpectingSelector"]=0]="ExpectingSelector",e[e["ExpectingCommentOpenComplete"]=1]="ExpectingCommentOpenComplete",e[e["GettingComment"]=2]="GettingComment",e[e["ExpectingCommentClose"]=3]="ExpectingCommentClose",e[e["GettingSelector"]=4]="GettingSelector",e[e["ExpectingOpenBrace"]=5]="ExpectingOpenBrace",e[e["ExpectingRuleKey"]=6]="ExpectingRuleKey",e[e["GettingRuleKey"]=7]="GettingRuleKey",e[e["ExpectingRuleValue"]=8]="ExpectingRuleValue",e[e["GettingRuleValue"]=9]="GettingRuleValue"})(r||(r={}));var b=function(){function e(t,n,r,i){Object(a["a"])(this,e),this.m_strName="",this.m_bStrictMode=!1,this.m_strName=t,this.m_bStrictMode=i,this.m_bundleRules=new o["a"],this.parse(new l(n),r)}return Object(i["a"])(e,[{key:"getName",value:function(){return this.m_strName}},{key:"isStrictMode",value:function(){return this.m_bStrictMode}},{key:"moveToNextToken",value:function(e,t,n){var r=n,a="";while(null!=e){var i=e.length;while(r<i)switch(a=e.charAt(r),a){case"\t":case" ":r++;break;default:return a}e=t.readLine(),r=0,a=""}return a}},{key:"parse",value:function(t,n){var a="",i=r.ExpectingSelector,o=new s["a"],l=d["a"].EMPTY_STRING,h=d["a"].EMPTY_STRING,p=d["a"].EMPTY_STRING,f=null,b=0;while(null!=(a=t.readLine())){var _=0,v=a.length;b++;while(_<v){var O=a.charAt(_);switch(i){case r.ExpectingSelector:if(-1!=e.m_strValidChars.indexOf(O)){i=r.GettingSelector;break}switch(O){case"\t":case" ":_++;break;case"/":_++,o.push(i),i=r.ExpectingCommentOpenComplete;break;default:throw new m(this.getName(),b,a,'Expected selector, got "'+O+'"')}break;case r.ExpectingCommentOpenComplete:if("*"!=O)throw new m(this.getName(),b,a,'Expected open comment asterisk, got "'+O+'"');_++,i=r.GettingComment;break;case r.GettingComment:"*"==O&&(i=r.ExpectingCommentClose),_++;break;case r.ExpectingCommentClose:"/"==O?(i=o.pop(),_++):i=r.GettingComment;break;case r.GettingSelector:if(-1!=e.m_strValidChars.indexOf(O)){l+=O,_++;break}switch(O){case"\t":case" ":_++,i=r.ExpectingOpenBrace;break;case"{":_++,i=r.ExpectingRuleKey;break;case"/":i=r.ExpectingOpenBrace,o.push(i),i=r.ExpectingCommentOpenComplete,_++;break;case":":l+=O,_++;break;default:throw new m(this.getName(),b,a,'Expected selector, got "'+O+'"')}break;case r.ExpectingOpenBrace:switch(O){case" ":case"\t":_++;break;case"{":_++,i=r.ExpectingRuleKey;break;case"/":i=r.ExpectingOpenBrace,o.push(i),i=r.ExpectingCommentOpenComplete,_++;break;default:throw new m(this.getName(),b,a,'Expected open brace character, got "'+O+'"')}break;case r.ExpectingRuleKey:if(-1!=e.m_strValidChars.indexOf(O)){h+=O,_++,i=r.GettingRuleKey;break}switch(O){case"}":null!=f&&(this.m_bundleRules.put(l,f),f=null),l=h=p="",_++,i=r.ExpectingSelector;break;case" ":case"\t":_++;break;case"/":o.push(i),i=r.ExpectingCommentOpenComplete,_++;break;default:throw new m(this.getName(),b,a,'Expected new rule key character, got "'+O+'"')}break;case r.GettingRuleKey:if(-1!=e.m_strValidChars.indexOf(O)&&"."!=O){h+=O,_++;break}if(O=this.moveToNextToken(a,t,_),":"!=O)throw new m(this.getName(),b,a,'Unexpected token while getting rule key, got"'+O+'"');i=r.ExpectingRuleValue,_++;break;case r.ExpectingRuleValue:switch(O){case";":throw new m(this.getName(),b,a,"Unexpected blank value");case"}":throw new m(this.getName(),b,a,"Unexpected end bracket value")}p+=O,_++,i=r.GettingRuleValue;break;case r.GettingRuleValue:if(";"==O){null==f&&(f=new g(l)),f.addRule(h,p),_++,i=r.ExpectingRuleKey,h=p="";break}if("\\"==O){var y=a.charAt(_+1);if(":"==y){p+=y,_+=2;break}p+=O,_++;break}if(":"==O){if(this.m_bStrictMode){var C=new u["a"]("Missing semicolon value terminator.");throw c["a"].isEmpty(l)||(C.append("\nIn selector: "),C.append(l)),c["a"].isEmpty(h)||(C.append("\nIn CSS rule: "),C.append(h)),new m(this.getName(),b,a,C.toString())}}else if("}"==O&&this.m_bStrictMode){var S=new u["a"]("Unexpected end bracket found while getting rule value. Missing semicolon value terminator?");throw c["a"].isEmpty(l)||(S.append("\nIn selector: "),S.append(l)),c["a"].isEmpty(h)||(S.append("\nIn CSS rule: "),S.append(h)),new m(this.getName(),b,a,S.toString())}p+=O,_++;break;default:throw new m(this.getName(),b,a,"Unexpected parse state: "+i)}}}}},{key:"getRuleBySelector",value:function(e){return this.m_bundleRules.get(e)}},{key:"addRule",value:function(e,t){this.m_bundleRules.put(e,t)}}]),e}();b.PARCELABLE_VERSION=2,b.BUNDLE_KEY_DATA="data",b.BUNDLE_KEY_CRC="crc",b.m_strValidChars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.-_"},7:function(e,t){},"700e":function(e,t,n){},"72da":function(e,t,n){"use strict";n("de62")},"733f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=function(){function e(t){if(Object(r["a"])(this,e),t||(t=new Date),"number"==typeof t){var n=new Date;n.setTime(t),t=n}this.m_date=t}return Object(a["a"])(e,[{key:"setTime",value:function(e){this.m_date=e}},{key:"get",value:function(t){switch(t){case e.DAY_OF_MONTH:return this.m_date.getDate();case e.MONTH:return this.m_date.getMonth()+1;case e.YEAR:return this.m_date.getFullYear();default:return 0}}},{key:"getTime",value:function(){return this.m_date}},{key:"toString",value:function(){return this.m_date.toDateString()}}],[{key:"getInstance",value:function(){return new e}}]),e}();i.ALL_STYLES=0,i.AM=0,i.AM_PM=9,i.APRIL=3,i.AUGUST=7,i.DATE=5,i.DAY_OF_MONTH=5,i.DAY_OF_WEEK=7,i.DAY_OF_WEEK_IN_MONTH=8,i.DAY_OF_YEAR=6,i.DECEMBER=11,i.DST_OFFSET=16,i.ERA=0,i.FEBRUARY=1,i.FIELD_COUNT=17,i.FRIDAY=6,i.HOUR=10,i.HOUR_OF_DAY=11,i.JANUARY=0,i.JULY=6,i.JUNE=5,i.LONG=2,i.LONG_FORMAT=2,i.LONG_STANDALONE=32770,i.MARCH=2,i.MAY=4,i.MILLISECOND=14,i.MINUTE=12,i.MONDAY=2,i.MONTH=2,i.NARROW_FORMAT=4,i.NARROW_STANDALONE=32772,i.NOVEMBER=10,i.OCTOBER=9,i.PM=1,i.SATURDAY=7,i.SECOND=13,i.SEPTEMBER=8,i.SHORT=1,i.SHORT_FORMAT=1,i.SHORT_STANDALONE=32769,i.SUNDAY=1,i.THURSDAY=5,i.TUESDAY=3,i.UNDECIMBER=12,i.WEDNESDAY=4,i.WEEK_OF_MONTH=4,i.WEEK_OF_YEAR=3,i.YEAR=1,i.ZONE_OFFSET=15},"75be":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("d4ec"),i=n("bee2"),o=n("652f"),s=new o["a"],l=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,[{key:"LoadFile",value:function(e,t){try{var n=s.readFileSync(e);return localStorage.setItem(e,n),n}catch(r){return localStorage.getItem(e)}}},{key:"FileExist",value:function(e,t){return r.existsSync(e)}},{key:"getAbsolutePath",value:function(e){return e}},{key:"getIncludeFilePath",value:function(e,t){throw new Error("Method not implemented.")}}]),e}()},"779d":function(e,t,n){},"789a":function(e,t,n){"use strict";n("efa6")},"79dc":function(e,t,n){"use strict";n("b0c0");var r=n("7a23"),a=Object(r["L"])("data-v-fd16309e"),i=a((function(e,t,n,a,i,o){var s=Object(r["C"])("Container"),l=Object(r["C"])("Groups");return Object(r["u"])(),Object(r["f"])(r["a"],null,[0!==a.groups.fixedTop.length?(Object(r["u"])(),Object(r["f"])("div",{key:0,ref:"fixedTopElement",id:"fixed-top-".concat(n.breadcumb.id),class:"xone-fixed",style:{display:"bock"}},[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(a.groups.fixedTop,(function(e){return Object(r["u"])(),Object(r["f"])(s,{key:"fixed-top-".concat(e.attributes.name),xoneDataObject:a.xoneDataObject,control:e,containerWidth:a.containerWidth,containerHeight:a.containerHeight},null,8,["xoneDataObject","control","containerWidth","containerHeight"])})),128))],8,["id"])):Object(r["g"])("",!0),a.attributes.noTab?Object(r["g"])("",!0):(Object(r["u"])(),Object(r["f"])(l,{key:1,attributes:a.attributes,groups:a.groups.tabs,onOnHeightChanged:a.onGroupsHeaderHeightChanged},null,8,["attributes","groups","onOnHeightChanged"])),Object(r["j"])("div",{class:"xone-groups-content-box",style:{position:0!==a.groups.drawerLeft.length?"absolute":"",maxHeight:a.contentElementHeight&&"".concat(a.contentElementHeight,"px"),overflow:a.drawers.overflow}},[Object(r["j"])("div",{ref:"contentElement",class:"xone-group",style:{marginLeft:null,maxHeight:a.contentElementHeight&&"".concat(a.contentElementHeight-a.groupsHeaderHeight,"px")}},[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(a.groups.tabs,(function(e){return Object(r["u"])(),Object(r["f"])(s,{class:a.groupAnimation,key:"group-".concat(e.attributes.name),xoneDataObject:a.xoneDataObject,control:e,containerWidth:a.containerWidth,containerHeight:a.contentElementHeight-a.groupsHeaderHeight},null,8,["class","xoneDataObject","control","containerWidth","containerHeight"])})),128))],4),a.drawers.showLeft||a.drawers.showRight?(Object(r["u"])(),Object(r["f"])("div",{key:0,class:["xone-close-drawer",[a.drawers.showLeft||a.drawers.showRight?"fade-in":"fade-out"]],onClick:t[1]||(t[1]=function(e){return a.drawers.closeDrawers()})},null,2)):Object(r["g"])("",!0),0!==a.groups.drawerLeft.length?(Object(r["u"])(),Object(r["f"])(s,{key:1,id:"xone-sidenav-left-".concat(n.breadcumb.id),class:"xone-sidenav-left",xoneDataObject:a.xoneDataObject,control:a.groups.drawerLeft[0],containerWidth:a.containerWidth,containerHeight:a.containerHeight,style:{opacity:a.drawers.showLeft?1:0,marginLeft:"".concat(a.drawers.showLeft?0:-a.drawers.leftWidth,"px"),pointerEvents:a.drawers.showLeft?"all":"none"}},null,8,["id","xoneDataObject","control","containerWidth","containerHeight","style"])):Object(r["g"])("",!0),0!==a.groups.drawerRight.length?(Object(r["u"])(),Object(r["f"])(s,{key:2,id:"xone-sidenav-right-".concat(n.breadcumb.id),class:"xone-sidenav-right",xoneDataObject:a.xoneDataObject,control:a.groups.drawerRight[0],containerWidth:a.containerWidth,containerHeight:a.containerHeight,style:{opacity:a.drawers.showRight?1:0,marginRight:"".concat(a.drawers.showRight?0:-a.drawers.rightWidth,"px"),pointerEvents:a.drawers.showRight?"all":"none"}},null,8,["id","xoneDataObject","control","containerWidth","containerHeight","style"])):Object(r["g"])("",!0)],4),0!==a.groups.fixedBottom.length?(Object(r["u"])(),Object(r["f"])("div",{key:2,ref:"fixedBottomElement",id:"fixed-bottom-".concat(n.breadcumb.id),class:"xone-fixed"},[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(a.groups.fixedBottom,(function(e){return Object(r["u"])(),Object(r["f"])(s,{key:"fixed-bottom-".concat(e.attributes.name),xoneDataObject:a.xoneDataObject,control:e,containerWidth:a.containerWidth,containerHeight:a.containerHeight},null,8,["xoneDataObject","control","containerWidth","containerHeight"])})),128))],8,["id"])):Object(r["g"])("",!0)],64)})),o=Object(r["L"])("data-v-4c968d8a"),s=o((function(e,t,n,a,i,o){return Object(r["u"])(),Object(r["f"])("div",{class:"tab",ref:"groupsElement",style:{backgroundColor:n.attributes.tabBgColor}},[(Object(r["u"])(!0),Object(r["f"])(r["a"],null,Object(r["A"])(n.groups,(function(e){return Object(r["u"])(),Object(r["f"])("button",{class:["tablinks",a.activeGroup===e.attributes.id&&"activeGroup"],key:"grp-btn-".concat(e.attributes.id),onClick:function(t){return a.changeGroup(e.attributes.id)},style:{"--text-color":n.attributes.tabForecolor,"--selected-text-color":n.attributes.tabSelectedForecolor,paddingTop:n.attributes.tabPaddings.top,paddingRight:n.attributes.tabPaddings.right,paddingBottom:n.attributes.tabPaddings.bottom,paddingLeft:n.attributes.tabPaddings.left,fontSize:n.attributes.tabFontSize}},Object(r["E"])(e.attributes.name),15,["onClick"])})),128))],4)})),l=n("1da1"),u=(n("96cf"),n("a9e3"),{name:"Group",props:{attributes:{type:Object,required:!0},groups:{type:Array,default:new Array},containerHeight:{type:Number,default:0}},emits:["onHeightChanged"],setup:function(e,t){var n=Object(r["n"])("groupHandler"),a=n.activeGroup,i=n.changeGroup,o=Object(r["z"])();return Object(r["o"])((function(){var e;return t.emit("onHeightChanged",(null===(e=o.value)||void 0===e?void 0:e.clientHeight)||0)})),Object(r["I"])((function(){return e.containerHeight}),Object(l["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["o"])();case 2:t.emit("onHeightChanged",(null===(n=o.value)||void 0===n?void 0:n.clientHeight)||0);case 3:case"end":return e.stop()}}),e)})))),{activeGroup:a,changeGroup:i,groupsElement:o}}});n("82be");u.render=s,u.__scopeId="data-v-4c968d8a";var c=u,d=n("5f19"),h=n("88a8"),p=(n("4de4"),n("c7cd"),n("7db0"),n("d3b7"),n("9c57")),f=function(e){return{tabs:null===e||void 0===e?void 0:e.filter((function(e){var t=p["a"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&!t.fixed&&!t.drawerOrientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)})),fixedTop:null===e||void 0===e?void 0:e.filter((function(e){var t=p["a"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&t.fixed&&"top"===t.orientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)})),fixedBottom:null===e||void 0===e?void 0:e.filter((function(e){var t=p["a"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&t.fixed&&"bottom"===t.orientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)})),drawerLeft:null===e||void 0===e?void 0:e.filter((function(e){var t=p["a"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&!t.fixed&&"left"===t.drawerOrientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)})),drawerRight:null===e||void 0===e?void 0:e.filter((function(e){var t=p["a"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&!t.fixed&&"right"===t.drawerOrientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)}))}},m=function(e,t,n,r,a){var i,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=t.tabs.find((function(t){return t.attributes.id===e}));if(s)return a.value=Number(r.value)===Number(e)?"":Number(r.value)>Number(e)?"slide-right":"slide-left",setTimeout((function(){return a.value=""}),250),r.value=e,void(null===(i=document.getElementById("content"))||void 0===i||i.scroll(0,0));var l=t.drawerLeft.find((function(t){return t.attributes.id===e}));if(l)return n.showRight=!1,void(n.showLeft||o&&n.showLeft?n.showLeft=!1:n.showLeft=!0);var u=t.drawerRight.find((function(t){return t.attributes.id===e}));return u?(n.showLeft=!1,void(n.showRight||o&&n.showRight?n.showRight=!1:n.showRight=!0)):void 0},g=function(e,t,n,r){var a=t.tabs.find((function(e){return e.attributes.id===n.value}));if(a){var i=t.tabs.indexOf(a),o=t.tabs[i+e];o&&(r.value=e<0?"slide-right":"slide-left",setTimeout((function(){return r.value=""}),250),n.value=o.attributes.id)}},b=function(e,t,n){var a=document.getElementById("xone-sidenav-left-".concat(n)),i=document.getElementById("xone-sidenav-right-".concat(n)),o=function(){e.leftWidth=null===a||void 0===a?void 0:a.offsetWidth,e.rightWidth=null===i||void 0===i?void 0:i.offsetWidth};o(),Object(r["J"])((function(){e.currentWindowWidth!==t.value&&(e.currentWindowWidth=t.value,setTimeout((function(){return Object(r["o"])().then((function(){return o()}),1)})))}))},_=function(e,t,n,a,i,o){var s=function(){v(e,t,a,i)};Object(r["s"])((function(){s(),Object(r["I"])((function(){return t.value}),(function(){return s()})),Object(r["I"])((function(){return n.value}),(function(){return s()}));var e=Object(r["n"])("lastBreadcumb");Object(r["J"])((function(){var t;(null===(t=e.value)||void 0===t?void 0:t.id)===o&&s()}))}))},v=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t,n,a,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["o"])();case 2:Promise.resolve().then((function(){var e,r,o,s;t.value=n.value-(null!==(e=null===(r=a.value)||void 0===r?void 0:r.offsetHeight)&&void 0!==e?e:0)-(null!==(o=null===(s=i.value)||void 0===s?void 0:s.offsetHeight)&&void 0!==o?o:0)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),O=n("528d"),y=(n("ae56"),n("ddd6")),C={props:{breadcumb:{type:Object,default:null},isLayout:{type:Boolean,default:!1},objectInfo:{type:Object,default:null}},components:{Groups:c},setup:function(e){var t=h["a"].getDataObject(e.breadcumb.id);t.doModelReactive();var n=Object(r["n"])("lastBreadcumb");Object(r["w"])("breadcumbId",e.breadcumb.id);var a=Object(r["z"])(),i=Object(r["n"])("sizeConditions"),o=Object(r["n"])("orientation"),s=function(){a.value=t.getLayout(),t.setLayout(a.value),t.ExecuteNode("onvisualconditionschange",i.value,o.value).catch(console.error)};s(),Object(r["I"])((function(){return i.value}),(function(){s()})),Object(r["I"])((function(){return o.value}),(function(){return s()}));var l=Object(r["d"])((function(){return p["a"].getContainerAttributes(a.value.attributes)}));Object(r["q"])((function(){return t.ExecuteNode("before-edit").catch(console.error)})),Object(r["s"])((function(){return t.ExecuteNode("after-edit").catch(console.error)}));var u=Object(r["d"])((function(){var e;return f(null===(e=a.value)||void 0===e?void 0:e.controls)})),c=Object(r["z"])(0!==u.value.tabs.length&&u.value.tabs[0].attributes.id),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return m(e,u.value,P,c,R,t)},C=Object(r["n"])("containerSize"),S=C.containerWidth,E=C.containerHeight,T=Object(r["z"])(S.value),k=Object(r["z"])(),w=Object(r["z"])();_(T,E,S,k,w,e.breadcumb.id);var x=new y["b"](t);x.showGroup=function(e){return v(e)},x.hideGroup=function(e){return v(e)},x.toggleGroup=function(e){return v(e,!0)},Object(r["w"])("xoneView",x),Object(r["J"])((function(){var r;e.breadcumb.id===(null===(r=n.value)||void 0===r?void 0:r.id)&&(Object(O["g"])(v),Object(O["l"])(t))})),Object(r["w"])("groupHandler",{activeGroup:c,changeGroup:v});var A,R=Object(r["z"])(""),I=Object(r["z"])();Object(r["s"])((function(){l.value.groupSwipe&&(A=new d["a"]((function(e){return g(e,u.value,c,R)})),A.init(I.value))})),Object(r["t"])((function(){var e;return null===(e=A)||void 0===e?void 0:e.clear()}));var P=Object(r["y"])({leftWidth:0,rightWidth:0,showLeft:!1,showRight:!1,overflow:"hidden",closeDrawers:function(){P.showLeft=!1,P.showRight=!1},currentWindowWidth:S.value});Object(r["s"])((function(){return b(P,S,e.breadcumb.id)})),Object(r["w"])("objectInfo",e.objectInfo||{isContents:!1});var N=Object(r["z"])(0),j=function(e){return N.value=e};return{attributes:l,groups:u,drawers:P,groupAnimation:R,containerWidth:S,containerHeight:E,xoneDataObject:t,fixedTopElement:k,fixedBottomElement:w,contentElementHeight:T,contentElement:I,onGroupsHeaderHeightChanged:j,groupsHeaderHeight:N}}};n("9dcf");C.render=i,C.__scopeId="data-v-fd16309e";t["a"]=C},"79ee":function(e,t,n){"use strict";n("ed67")},"7ef1":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("d4ec"),a=n("bee2"),i=(n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("3019")),o=n("733f"),s=n("4585"),l=n("54ab"),u=n("57ee"),c=n("f0ed"),d=function e(){Object(r["a"])(this,e)};d.PREFIX_MODIFIED=1,d.CONNSTRING_MODIFIED=2,d.ROWIDFIELD_MODIFIED=4,d.SQLFIELD_MODIFIED=8,d.ROWIDLEN_MODIFIED=16,d.OPERIDLEN_MODIFIED=32,d.DATEMASK_MODIFIED=64,d.TABLEQUOTE_MODIFIED=128,d.FIELDQUOTE_MODIFIED=256,d.SUBQUERIES_MODIFIED=512;n("a15b"),n("4d63");var h=function(){function e(t){if(Object(r["a"])(this,e),!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return Object(a["a"])(e,[{key:"equals",value:function(t){return e.isGuid(t)&&this.value===t.toString()}},{key:"isEmpty",value:function(){return this.value===e.EMPTY}},{key:"toString",value:function(){return this.value}},{key:"toJSON",value:function(){return{value:this.value}}}],[{key:"isGuid",value:function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))}},{key:"create",value:function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))}},{key:"createEmpty",value:function(){return new e("emptyguid")}},{key:"parse",value:function(t){return new e(t)}},{key:"raw",value:function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")}},{key:"gen",value:function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}}]),e}();h.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),h.EMPTY="00000000-0000-0000-0000-000000000000";var p=function(){function e(t,n){Object(r["a"])(this,e),this.m_strName="",this.m_strPrefix="",this.m_strTableQuoteOpen="",this.m_strTableQuoteClose="",this.m_strFieldQuoteOpen="",this.m_strFieldQuoteClose="",u["a"].IsEmptyString(t)?this.m_strName=e.MAIN_CONNECTION:this.m_strName=t,this.m_owner=n,this.m_developer=new s["a"],this.m_strRowIdFieldName="ROWID",this.m_strSqlFieldName="SQL",this.m_nOperIdLength=100,this.m_nRowIdLength=35,this.m_lstInitStrings=new Array,this.m_messages=n.getMessageHolder(),this.m_extendedProperties=new i["a"]}return Object(a["a"])(e,[{key:"PrepareFilter",value:function(e){throw new Error("Method not implemented.")}},{key:"addExtendedProperty",value:function(e,t){return null==this.m_extendedProperties&&(this.m_extendedProperties=new i["a"]),this.m_extendedProperties.put(e,t),0}},{key:"removeExtendedProperty",value:function(e){return null!=this.m_extendedProperties&&this.m_extendedProperties.containsKey(e)&&this.m_extendedProperties.delete(e),0}},{key:"getExtendedProperty",value:function(e){return null==this.m_extendedProperties?null:this.m_extendedProperties.containsKey(e)?this.m_extendedProperties.get(e):null}},{key:"getExtendedList",value:function(){return this.m_extendedProperties}},{key:"getName",value:function(){return this.m_strName}},{key:"getPrefix",value:function(){return this.m_strPrefix}},{key:"setPrefix",value:function(e){this.m_strPrefix=e,this.m_nFlags|=d.PREFIX_MODIFIED}},{key:"getNodeData",value:function(){return this.m_xmlNodeData}},{key:"supportsTransactions",value:function(){return this.m_bSupportsTransactions}},{key:"setNodeData",value:function(e){if(null!=(this.m_xmlNodeData=e)){u["a"].IsEmptyString(this.m_strPlatform)||(this.m_platform=this.m_xmlNodeData.SelectSingleNode("platform","name",this.m_strPlatform));var t="";u["a"].IsEmptyString(t=this.GetNodeValue("prefix"))||this.setPrefix(t),u["a"].IsEmptyString(t=this.GetNodeValue("tablequote"))||(1==t.length?(this.setTableQuoteOpen(t),this.setTableQuoteClose(t)):(this.setTableQuoteOpen(t.substring(0,1)),this.setTableQuoteClose(t.substring(1,t.length)))),u["a"].IsEmptyString(t=this.GetNodeValue("fieldquote"))||(1==t.length?(this.setFieldQuoteOpen(t),this.setFieldQuoteClose(t)):(this.setTableQuoteOpen(t.substring(0,1)),this.setTableQuoteClose(t.substring(1,t.length)))),this.m_bSupportsTransactions=u["a"].ParseBoolValue(this.GetNodeValue("transactions"),!1),u["a"].IsEmptyString(t=this.GetNodeValue("connstring"))||(this.m_strConnString=t),u["a"].IsEmptyString(t=this.GetNodeValue("datemask"))||this.setDatemask(t)}}},{key:"getConnString",value:function(){return this.m_strConnString}},{key:"setConnString",value:function(e){this.m_strConnString=e,this.m_nFlags|=d.CONNSTRING_MODIFIED}},{key:"getIsReplicating",value:function(){return this.m_bIsReplicating}},{key:"setIsReplicating",value:function(e){this.m_bIsReplicating=e}},{key:"getMID",value:function(){return this.m_nMid}},{key:"setMID",value:function(e){this.m_nMid=e}},{key:"getDBID",value:function(){return this.m_nDbId}},{key:"setDBID",value:function(e){this.m_nDbId=e}},{key:"getRowIdFieldName",value:function(){return this.m_strRowIdFieldName}},{key:"setRowIdFieldName",value:function(e){this.m_strRowIdFieldName=e,u["a"].IsEmptyString(this.m_strRowIdFieldName)?this.m_strRowIdFieldName="ROWID":this.m_nFlags|=d.ROWIDFIELD_MODIFIED}},{key:"getSqlFieldName",value:function(){return this.m_strSqlFieldName}},{key:"setSqlFieldName",value:function(e){this.m_strSqlFieldName=e,this.m_nFlags|=d.SQLFIELD_MODIFIED}},{key:"getRowIdLength",value:function(){return this.m_nRowIdLength}},{key:"setRowIdLength",value:function(e){this.m_nRowIdLength=e,this.m_nRowIdLength<35?this.m_nRowIdLength=35:this.m_nFlags|=d.ROWIDLEN_MODIFIED}},{key:"getOperIdLength",value:function(){return this.m_nOperIdLength}},{key:"setOperIdLength",value:function(e){this.m_nOperIdLength=e,this.m_nOperIdLength<50?this.m_nOperIdLength=50:this.m_nFlags|=d.OPERIDLEN_MODIFIED}},{key:"getInitStrings",value:function(){return this.m_lstInitStrings}},{key:"getDatemask",value:function(){return this.m_strDatemask}},{key:"setDatemask",value:function(e){this.m_strDatemask=e,u["a"].IsEmptyString(this.m_strDatemask)||(this.m_nFlags|=d.DATEMASK_MODIFIED)}},{key:"getFlags",value:function(){return this.m_nFlags}},{key:"getTableQuoteOpen",value:function(){return this.m_strTableQuoteOpen}},{key:"setTableQuoteOpen",value:function(e){u["a"].IsEmptyString(this.m_strTableQuoteOpen=e)||(this.m_nFlags|=d.TABLEQUOTE_MODIFIED)}},{key:"getTableQuoteClose",value:function(){return this.m_strTableQuoteOpen}},{key:"setTableQuoteClose",value:function(e){u["a"].IsEmptyString(this.m_strTableQuoteClose=e)||(this.m_nFlags|=d.TABLEQUOTE_MODIFIED)}},{key:"getFieldQuoteOpen",value:function(){return this.m_strFieldQuoteOpen}},{key:"setFieldQuoteOpen",value:function(e){u["a"].IsEmptyString(this.m_strFieldQuoteOpen=e)||(this.m_nFlags|=d.FIELDQUOTE_MODIFIED)}},{key:"getFieldQuoteClose",value:function(){return this.m_strFieldQuoteClose}},{key:"setFieldQuoteClose",value:function(e){u["a"].IsEmptyString(this.m_strFieldQuoteClose=e)||(this.m_nFlags|=d.FIELDQUOTE_MODIFIED)}},{key:"getSubqueries",value:function(){return this.m_bSubqueries}},{key:"setSubqueries",value:function(e){this.m_bSubqueries=e,this.m_nFlags|=d.SUBQUERIES_MODIFIED}},{key:"getDevelopedPrefix",value:function(){return u["a"].IsEmptyString(this.m_strPrefix)?"":this.m_strPrefix+"_"}},{key:"GetRetryConnection",value:function(e,t){for(var n=0;n<e;n++){var r=void 0;if(null!=(r=this.GetNewConnection(t)))return r}return null}},{key:"PrepareSqlString",value:function(e,t,n){var r,a,i,s,d=e;if(d.contains("##")&&(a=this.m_owner.getCompany(),d.contains("##ENTID##")&&(d=null!=a?u["a"].Replace(d,"##ENTID##",a.GetObjectIdString()):u["a"].Replace(d,"##ENTID##","NULL")),d.contains("##MID##")&&this.m_bIsReplicating&&(s="'"+this.m_nMid+"'",d=u["a"].Replace(d,"##MID##",s)),d.contains("##ENTIDCOLL##")&&(s=this.m_owner.getEntIdColl(),u["a"].IsEmptyString(s)&&(s="NULL"),d=s.contains(",")||s.contains(" ")?u["a"].Replace(d,"=##ENTIDCOLL##"," IN ("+s+")"):u["a"].Replace(d,"=##ENTIDCOLL##","="+s)),d.contains("##ENTIDLEVEL##")&&(s=this.m_owner.getEntIdLevel(),u["a"].IsEmptyString(s)&&(s="NULL"),d=s.contains(",")||s.contains(" ")?u["a"].Replace(d,"=##ENTIDLEVEL##"," IN ("+s+")"):u["a"].Replace(d,"=##ENTIDLEVEL##","="+s)),d.contains("##ENTIDOWNER##")&&(s=this.m_owner.getEntIdOwner(),u["a"].IsEmptyString(s)&&(s="NULL"),d=u["a"].Replace(d,"=##ENTIDOWNER##","="+s)),d.contains("##CURRID##")&&(d=null!=(r=this.m_owner.getCurrency())?u["a"].Replace(d,"##CURRID##",r.GetObjectIdString()):u["a"].Replace(d,"##CURRID##","NULL")),d.contains("##USERID##")&&(d=null!=(i=this.m_owner.getUser())?u["a"].Replace(d,"##USERID##",i.GetObjectIdString()):u["a"].Replace(d,"##USERID##","NULL")),d.contains("##USERIDCOLL##")&&(s=this.m_owner.getUserIdColl(),u["a"].IsEmptyString(s)?d=u["a"].Replace(d,"=##USERIDCOLL##"," IS NOT NULL"):(s=s.contains(",")?"="+s:" IN ("+s+")",d=u["a"].Replace(d,"=##USERIDCOLL##",s)))),d.contains("##ROWID##")&&(d=d.replace("##ROWID##",this.GenerateRowId(c["a"].EMPTY_STRING))),d.contains("##PREF##")&&(d=u["a"].Replace(d,"##PREF##",this.getDevelopedPrefix())),d.contains("##QUOTES##")&&(d=u["a"].Replace(d,"##QUOTES##",'"')),d.contains("##")){var h=new o["a"];d.contains("##NOW_TIME##")&&(s=this.DevelopObjectValue(h),d=u["a"].Replace(d,"##NOW_TIME##",s)),d.contains("##DAY##")&&(s=String.format("%d",h.get(o["a"].DAY_OF_MONTH)),d=u["a"].Replace(d,"##DAY##",s)),d.contains("##MONTH##")&&(s=String.format("%d",h.get(o["a"].MONTH)),d=u["a"].Replace(d,"##MONTH##",s)),d.contains("##YEAR##")&&(s=String.format("%d",h.get(o["a"].YEAR)),d=u["a"].Replace(d,"##YEAR##",s)),d.contains("##NOW##")&&(l["a"].ZeroCalendarTime(h),s=this.DevelopObjectValue(h),s=s.replace("00:00:00",""),d=u["a"].Replace(d,"##NOW##",s)),d.contains("##NBSP##")&&(d=u["a"].Replace(d,"##NBSP##"," "))}return d}},{key:"FixObjectName",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e;return u["a"].IsEmptyString(a)?a:(n=this.m_strPrefix,u["a"].IsEmptyString(r)||(n=r),u["a"].IsEmptyString(a)||u["a"].IsEmptyString(n)||n.equals("##NONE##")||"."!=a.charAt(0)&&(a=n+"_"+a),u["a"].IsEmptyString(this.m_strTableQuoteOpen)?a:(t=String.format("%s%s%s",this.m_strTableQuoteOpen,a,this.m_strTableQuoteClose),t))}},{key:"DevelopObjectValue",value:function(e,t,n){return null==t?this.m_developer.DevelopObjectValue(e,this.m_strDatemask,!0):"boolean"===typeof t?this.m_developer.DevelopObjectValue(e,this.m_strDatemask,t):this.m_developer.DevelopObjectValue(e,t,n)}},{key:"ExecuteLocalParsedSql",value:function(e){return this.ExecuteParsedSql(null,e,!1)}},{key:"LastAffectedRecords",value:function(e){return-1}},{key:"commit",value:function(){return null}},{key:"beginTrans",value:function(){}},{key:"rollBack",value:function(){}},{key:"SetPlatform",value:function(e){this.m_strPlatform=e}},{key:"GetNodeValue",value:function(e){var t;return null==this.m_xmlNodeData?null:null==this.m_platform||u["a"].IsEmptyString(t=this.m_platform.getAttrValue(e))?this.m_xmlNodeData.getAttrValue(e):t}},{key:"cancelProcesses",value:function(e){return 0}},{key:"getTokenFromAuth",value:function(e,t){return c["a"].EMPTY_STRING}},{key:"toString",value:function(){return"Connection: "+this.m_strName}},{key:"GenerateRowId",value:function(e){return h.create().toString()}}]),e}();p.MAIN_CONNECTION="##MAIN_CONNECTION##"},8:function(e,t){},8277:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("d4ec"),a=function e(){Object(r["a"])(this,e)};a.SQLTYPE_ERROR=-1,a.SQLTYPE_UNKNOWN=0,a.SQLTYPE_INSERT=1,a.SQLTYPE_DELETE=2,a.SQLTYPE_UPDATE=3,a.SQLTYPE_SELECT=4},"82be":function(e,t,n){"use strict";n("8488")},8488:function(e,t,n){},"849a":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("25f0"),n("3e8f")),o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"LoadFile",value:function(e,t){return i["readFileSync"](e).toString()}},{key:"FileExist",value:function(e,t){return i["existsSync"](e)}},{key:"getAbsolutePath",value:function(e){return e}},{key:"getIncludeFilePath",value:function(e,t){throw new Error("Method not implemented.")}}]),e}()},8672:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("25f0"),n("1c46")),o=n("3be9"),s=n("f0ed"),l=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"createHash",value:function(e,t,n){return o["a"].isEmpty(n)?s["a"].EMPTY_STRING:o["a"].isEmpty(t)||"BASE64".compareToIgnoreCase(t)?Object(i["createHash"])(e).update(n).digest("base64"):"hex".equals(t)?Object(i["createHash"])(e).update(n).digest("hex").toLowerCase():"HEX".equals(t)?Object(i["createHash"])(e).update(n).digest("hex").toUpperCase():Object(i["createHash"])(e).update(n).digest("base64")}},{key:"encodeHash",value:function(e,t){return null==e||0==e.length?s["a"].EMPTY_STRING:o["a"].isEmpty(t)||"BASE64".compareToIgnoreCase(t)?e.toString("base64"):"hex".equals(t)?e.toString("hex").toLowerCase():"HEX".equals(t)?e.toString("hex").toUpperCase():e.toString("base64")}}]),e}()},"88a8":function(e,t,n){"use strict";var r=n("53ca"),a=n("1da1"),i=n("2909"),o=n("d4ec"),s=n("bee2"),l=n("ade3"),u=n("3835"),c=(n("96cf"),n("159b"),n("4fad"),n("b64b"),n("a15b"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("a630"),n("4de4"),n("7db0"),n("a434"),n("d81d"),n("ac1f"),n("1276"),n("498a"),n("b0c0"),n("99af"),n("1fe2"),n("a1e9")),d=n("5c40"),h=(n("d2fd"),n("ae56")),p=n("f762"),f=n("5d1a"),m=n("528d");n("a33b");h["a"].prototype.changeModelValue=function(e,t){this[e]=t},h["a"].prototype.clone=function(){var e=this;if(this["_ObjCloned"])return this;var t=new h["a"](this.getOwnerCollection());return Object.entries(this).forEach((function(e){var n=Object(u["a"])(e,2),r=n[0],a=n[1];return t[r]=a})),t["_ObjCloned"]=this,t["_XoneHashId"]=void 0,t["_XoneReactive"]=void 0,t.getObjectIndex=function(){return e.getObjectIndex()},t},h["a"].prototype.doModelReactive=function(){var e=this;return this["_XoneReactive"]?this:(this.model=Object(c["j"])(this.model).value,this["_XoneReactive"]=!0,this["_ObjCloned"]&&this["_ObjCloned"]["_XoneReactive"]?(Object.keys(this.model).forEach((function(t){return Object(d["P"])((function(){return e.model[t]}),(function(n){return e["_ObjCloned"].changeModelValue(t,n)}))})),this):this)},h["a"].prototype.isReactive=function(){return this["_XoneReactive"]},h["a"].prototype.setCloneOnPush=function(e){this["_CloneOnPush"]=e},h["a"].prototype.getCloneOnPush=function(){return this["_CloneOnPush"]},h["a"].prototype.getHashId=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!this["_XoneHashId"]&&e&&(this["_XoneHashId"]=Array(3).join(Object(f["a"])())),this["_XoneHashId"]},h["a"].prototype.getParent=function(){return this.m_owner.getOwnerObject()},p["a"].prototype.exit=function(){return m["a"].exitApp()},p["a"].prototype.exitApp=function(){window.close(),m["a"].exitApp()},p["a"].prototype.logout=function(){return m["a"].exitApp()},p["a"].prototype.pushValueAndExit=function(e){return m["a"].openEditViewAndExit(e)};var g=function(){function e(){if(Object(o["a"])(this,e),Object(l["a"])(this,"_appData",void 0),Object(l["a"])(this,"_dataObjectsMap",new Map),Object(l["a"])(this,"_breadcumbs",Object(c["j"])([])),e._instance)return e._instance;e._instance=this}return Object(s["a"])(e,[{key:"setAppData",value:function(e){this._appData=e}},{key:"getAppData",value:function(){return this._appData}},{key:"getBreadcumbs",value:function(){return this._breadcumbs.value}},{key:"addDataObject",value:function(e,t){this._dataObjectsMap.set(e,t)}},{key:"getDataObject",value:function(e){return this._dataObjectsMap.get(e)}},{key:"getDataObjects",value:function(){return Array.from(this._dataObjectsMap.values())}},{key:"cleardataObjectsMap",value:function(){this._dataObjectsMap.clear()}},{key:"clearBreadcumbs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._breadcumbs.value=e?this._breadcumbs.value.filter((function(e){return e.isWebLayout})):[],this.cleardataObjectsMap()}},{key:"removeBreadcumb",value:function(e){var t=this._breadcumbs.value.find((function(t){return t.id===e}));if(t){var n=this._breadcumbs.value.indexOf(t);this._breadcumbs.value.splice(n,1),this._dataObjectsMap.delete(e)}}},{key:"deleteLastBreadcumb",value:function(){if(0!==this._breadcumbs.value.length){var e=Object(i["a"])(this._breadcumbs.value).reverse()[0];this.removeBreadcumb(e.id)}}},{key:"clearBreadcumbsFrom",value:function(e){var t=this._breadcumbs.value.find((function(t){return t.id===e}));if(t){var n=this._breadcumbs.value.indexOf(t)+1;this._breadcumbs.value.splice(n)}}},{key:"clearBreadcumbsFromXoneHashId",value:function(e){this._breadcumbs.value=this._breadcumbs.value.filter((function(t){return t.xoneHashId!==e}))}},{key:"addNewXoneDataObject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"Coll",r=o.length>2&&void 0!==o[2]&&o[2],e.next=4,this._appData.getCollection(t);case 4:if(a=e.sent,a){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a.CreateObject(!0);case 9:return i=e.sent,e.abrupt("return",this.pushXoneDataObject(i,n,r));case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"pushXoneDataObject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"Coll",r=l.length>2&&void 0!==l[2]&&l[2],a=l.length>3&&void 0!==l[3]&&l[3],i=l.length>4&&void 0!==l[4]&&l[4],o=Object(f["a"])(),t.getCloneOnPush()&&(t=t.clone()),s=t.m_owner.m_xmlNode,this.addDataObject(o,t),this._breadcumbs.value.push({id:o,xoneHashId:t.getHashId(),type:n,name:t.m_owner.m_strName,title:s.getAttrValue("title",t.m_owner.m_strName),isWebLayout:r,isMsgbox:a,isContentsRow:i}),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setCookie",value:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var a="expires="+r.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}},{key:"getCookie",value:function(e){var t,n=document.cookie.split(";").map((function(e){var t=e.split("="),n=Object(u["a"])(t,2),r=n[0],a=n[1];return{name:r.trim(),value:a.trim()}}));return(null===(t=n.find((function(t){return t.name===e})))||void 0===t?void 0:t.value)||""}},{key:"removeCookie",value:function(e){document.cookie="".concat(e,"= ; expires = ").concat((new Date).toUTCString(),";")}},{key:"getCircularReplacer",value:function(){var e=new WeakSet;return function(t,n){if("object"===Object(r["a"])(n)&&null!==n){if(e.has(n))return void console.warn("Cache duplicado",t,n);e.add(n)}return n}}}]),e}();Object(l["a"])(g,"_instance",void 0),t["a"]=new g},8920:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("bf19"),n("d3b7"),n("ddb0"),n("3019")),o=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(r["a"])(this,e),this._attributes=new i["a"],n&&n.forEach((function(e){return t._attributes.put(e[0],e[1])}))}return Object(a["a"])(e,[{key:"toJSON",value:function(){return this._attributes.toJSON()}},{key:"length",get:function(){return this._attributes.length}},{key:"keys",value:function(){return this._attributes.keys()}},{key:"getIndex",value:function(e){return this._attributes.keys().indexOf(e)}},{key:"getValue",value:function(e){return this._attributes.get(e)}},{key:"setValue",value:function(e,t){this._attributes.put(e,t),this[e]=t}},{key:"deleteAttribute",value:function(e){this._attributes.delete(e)}},{key:"clearAll",value:function(){this._attributes.clear()}}]),e}()},"8b99":function(e,t,n){"use strict";n("dc59")},9:function(e,t){},"927f":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("ac1f"),n("1276"),n("3be9")),o=n("f0ed"),s=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"GetNodeAttr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.getNodeAttr(e,t,n)}},{key:"getNodeAttr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null==e)return n;var r=e.getAttrValue(t);return i["a"].isEmpty(r)?n:r}},{key:"getValuesByConditions",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";null!=t?(t.getChildNodes().forEach((function(t){n.getNodeAttr(t,"conditions",o["a"].MACRO_DEFAULT).split(";").forEach((function(n){return e.put(n,t.getAttrValue(o["a"].PROP_ATTR_NAME))}))})),e.containsKey(o["a"].MACRO_DEFAULT)||e.put(o["a"].MACRO_DEFAULT,r)):e.put(o["a"].MACRO_DEFAULT,r)}}]),e}()},9607:function(e,t,n){},"964c":function(e,t,n){},"96e0":function(e,t,n){"use strict";n("f56a")},"984b":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("0912"),s=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(e,a,i){var o;return Object(r["a"])(this,n),o=t.call(this,a),o.m_code=e,o.m_extra=i,o}return n}(o["a"])},9868:function(e,t,n){},"98f9":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("0912"),s=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(o["a"])},"99d5":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("d3b7"),n("bf19"),n("25f0"),n("498a"),n("8a79"),n("0912")),s=n("6dc9"),l=n("4329"),u=n("f57f"),c=n("8277"),d=n("0e62"),h=n("57ee"),p=n("3be9"),f=n("f0ed"),m=(n("b64b"),n("54ab")),g=function(){function e(t,n,r){Object(a["a"])(this,e),this.m_maxRows=100,this.m_keys=[],this.isResultset=!0,this.m_connection=t,this.m_nIterate=-1,this.m_sentence=n,this.m_options=r,this.m_data=[],this.m_maxRows=this.m_data.length,this.m_keys=[]}return Object(i["a"])(e,[{key:"populate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_connection.fetchDataAsync(this.m_sentence,t||this.m_options);case 2:if(n=e.sent,1!=n.hasError){e.next=5;break}throw new o["a"](n.err);case 5:return this.m_data=Array.isArray(n.data)?n.data:[],this.m_maxRows=this.m_data.length,this.m_keys=0==this.m_maxRows?[]:Object.keys(this.m_data[0]),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBytes",value:function(e){return null}},{key:"getColumnCount",value:function(){return 0==this.m_maxRows?0:this.m_keys.length}},{key:"getColumnTypes",value:function(){return[1,2,3,4,5,6,7,8]}},{key:"getColumnName",value:function(e){return 0==this.m_maxRows?0:this.m_keys[e]}},{key:"close",value:function(){this.m_nIterate=-1,this.m_data=null,this.m_maxRows=0}},{key:"resolverField",value:function(e){return"number"==typeof e?this.m_keys[e]:e}},{key:"getValue",value:function(e,t){switch(t){case 0:return u["a"].SafeToInt(this.m_data[this.m_nIterate][this.resolverField(e)]);case 2:return u["a"].SafeToDouble(this.m_data[this.m_nIterate][this.resolverField(e)]);case 3:return m["a"].SafeToDate(this.m_data[this.m_nIterate][this.resolverField(e)]);default:return h["a"].SafeToString(this.m_data[this.m_nIterate][this.resolverField(e)])}}},{key:"getString",value:function(e){return this.getValue(e,1)}},{key:"getInt",value:function(e){return this.getValue(e,0)}},{key:"getDate",value:function(e){return this.getValue(e,3)}},{key:"PageLen",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.length)||-1}},{key:"PageCache",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.cache)||-1}},{key:"next",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",++this.m_nIterate<this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EOF",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate>=this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveTo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t==this.m_maxRows||(this.m_nIterate=t)==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),b=function(){function e(t,n,r,i){Object(a["a"])(this,e),this.m_clientId="XIdsAPIXmITgixqqj",this.m_clientSecret="5M3c9Oae5A7ewzTDU2Z3xh1B9P0Z79",this.m_url="https://web.xonedev.cloud/api/itf/DoAction",this.m_idsUrl="https://ids.xonedev.cloud/connect/token",this.nFlags=1,this.nTimeout=60,this.nSecurityLevel=0,this.sAppName=n,this.sExecutionPath=r,this.bIsLoginCall=!1,this.cryptoData=i,this.m_token=null,this.parseConnectionString(t)}return Object(i["a"])(e,[{key:"executeUpdateAsync",value:function(e){throw new Error("Method not implemented.")}},{key:"executeNonQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readBearerTokenAsync();case 2:if(n=e.sent,!p["a"].isEmpty(n)){e.next=5;break}throw new o["a"]("No Auth");case 5:return e.next=7,fetch(this.m_url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:return e.sent,e.abrupt("return",1);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDataFromParser",value:function(e){return e.GetFields().toJSON()}},{key:"formatOnlineData",value:function(e,t,n){return e.GetSqlType()==c["a"].SQLTYPE_SELECT?{coll:t,action:"select",where:e.GetWhereSentence()}:e.GetSqlType()==c["a"].SQLTYPE_UPDATE||e.GetSqlType()==c["a"].SQLTYPE_INSERT?{coll:t,action:"write",data:this.getDataFromParser(e),keys:e.getKeys(),where:e.GetWhereSentence()}:e.GetSqlType()==c["a"].SQLTYPE_DELETE?{coll:t,action:"drop",data:this.getDataFromParser(e),keys:e.getKeys(),where:null}:{}}},{key:"executeAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"string"==typeof t&&(r=new s["a"]("ROWID"),r.ParseSqlString(t),t=r),e.next=3,this.executeNonQuery(this.formatOnlineData(t,a.length<=2?void 0:a[2],a.length<=3?void 0:a[3]));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAuthData",value:function(){var e=new d["a"]("client_id=");return e.append(this.m_clientId),e.append("&client_secret="),e.append(this.m_clientSecret),e.append("&grant_type=client_credentials"),e.toString()}},{key:"readBearerTokenAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.m_token){e.next=3;break}if(!(this.m_token.expires_in>new Date)){e.next=3;break}return e.abrupt("return",this.m_token.access_token);case 3:return e.next=5,fetch(this.m_idsUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:this.getAuthData()});case 5:return t=e.sent,e.next=8,t.json();case 8:if(n=e.sent,!n.error){e.next=12;break}return console.error(n.error),e.abrupt("return",this.m_token=null);case 12:return r=new Date,r.setSeconds(r.getSeconds()+n.expires_in),this.m_token=n,this.m_token.expires_in=r,e.abrupt("return",n.access_token);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"executeQuery",value:function(e){return new g}},{key:"fetchDataAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.sUrlAddress,{method:this.sMethod,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeQueryAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new s["a"]("ROWID"),n.ParseSqlString(t),r={action:"select",where:n.GetWhereSentence(),sort:n.getOrderBySentence()},r=Object.assign(Object.assign({},r),i.length<=1?void 0:i[1]),a=new g(this,t,r),e.next=7,a.populate();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"prepareNormalData",value:function(e){}},{key:"countAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new s["a"]("ROWID"),n.ParseSqlString(t),r={action:"count",where:n.GetWhereSentence(),sort:n.getOrderBySentence()},r=Object.assign(Object.assign({},r),i.length<=1?void 0:i[1]),a=new g(this,t,r),e.next=7,a.populate();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"parseConnectionString",value:function(t){var n=l["a"].parseConnectionString(t);this.bIsLoginCall=h["a"].ParseBoolValue(n.get("logincall")),this.bIsJWTCall=h["a"].ParseBoolValue(n.get("jwtcall")),this.sToken=h["a"].SafeToString(n.get("token"),f["a"].EMPTY_STRING),this.nFlags=this.nFlags|(h["a"].ParseBoolValue(n.get("odataformat"))?e.FLAG_XONEJSONODATA:e.FLAG_XONEJSONSQL),this.nFlags=this.nFlags|(h["a"].ParseBoolValue(n.get("customformat"))?e.FLAG_XONEJSONCUSTOM:e.FLAG_XONEJSONSQL),this.nTimeout=u["a"].SafeToInt(n.get("timeout"),60),this.nSecurityLevel=u["a"].SafeToInt(n.get("security level"),0),this.sUrlAddress=n.get("data source"),null!=this.sUrlAddress?(this.sUrlAddress=this.sUrlAddress.trim(),this.sUrlAddress.endsWith("?")&&(this.sUrlAddress=this.sUrlAddress.substring(0,this.sUrlAddress.length-1))):this.sUrlAddress=f["a"].EMPTY_STRING,this.sMethod=n.get("method"),null==this.sMethod&&(this.sMethod="POST"),this.sUsername=n.get("xoneuser"),null==this.sUsername&&(this.sUsername=f["a"].EMPTY_STRING),this.sPassword=n.get("xonepass"),null==this.sPassword&&(this.sPassword=f["a"].EMPTY_STRING),this.sEndpoint=n.get("endpoint"),null==this.sEndpoint&&(this.sEndpoint=f["a"].EMPTY_STRING),this.sAction=h["a"].SafeToString(n.get("action"),e.DEFAULT_ACTION_NAME),this.sAuthAction=h["a"].SafeToString(n.get("authaction"),e.DEFAULT_AUTHACTION_NAME),this.sContentType=h["a"].SafeToString(n.get("content-type"),e.DEFAULT_CONTENT_TYPE),this.bIsSqlQuery=h["a"].ParseBoolValue(n.get("sqlquery"),!0),this.bPostUrlEncode=h["a"].ParseBoolValue(n.get("postencode"),!1),this.bIsCertificatePinningEnabled=h["a"].ParseBoolValue(n.get("enablecertificatepinning")),this.sLocalCertPath=h["a"].SafeToString(n.get("localcertificatepath")),this.bAuthenticate=h["a"].ParseBoolValue(n.get("auth"),!1),this.bAuthenticate&&(this.sAuthenticationUsername=n.get("user id"),this.sAuthenticationPassword=n.get("password")),this.bUseRemoteBroker=h["a"].ParseBoolValue(n.get("remote broker"),!1),this.sRemoteMapped=h["a"].SafeToString(n.get("remote mapped")),this.sRemoteDest=h["a"].SafeToString(n.get("remote destination")),this.bAllowUnsafeCertificates=h["a"].ParseBoolValue(n.get("allowunsafecertificates"),!1)}},{key:"createStatement",value:function(){throw new Error("Method not implemented.")}},{key:"isClosed",value:function(){throw new Error("Method not implemented.")}},{key:"commit",value:function(){throw new Error("Method not implemented.")}},{key:"beginTrans",value:function(){throw new Error("Method not implemented.")}},{key:"rollback",value:function(){throw new Error("Method not implemented.")}},{key:"execute",value:function(e,t){throw new Error("Method not implemented.")}},{key:"executeUpdate",value:function(e){return 0}},{key:"executeOperation",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"getDBMS",value:function(){throw new Error("Method not implemented.")}},{key:"outerJoinsSupported",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsParsedSentences",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsEmptyQueries",value:function(){throw new Error("Method not implemented.")}},{key:"LastRowsAffected",value:function(){throw new Error("Method not implemented.")}},{key:"LastInsertedRowId",value:function(){throw new Error("Method not implemented.")}},{key:"cancelProcesses",value:function(e){throw new Error("Method not implemented.")}},{key:"setCryptoData",value:function(e){throw new Error("Method not implemented.")}},{key:"getCryptoData",value:function(){throw new Error("Method not implemented.")}},{key:"cryptoSupported",value:function(){throw new Error("Method not implemented.")}},{key:"getTokenFromAuth",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getFlags",value:function(){return this.nFlags}},{key:"isSqlQueryDisabled",value:function(){return!this.bIsSqlQuery}},{key:"getMethod",value:function(){return this.sMethod}},{key:"name",value:function(){}},{key:"getUrlAddress",value:function(){return this.sUrlAddress}}]),e}();b.DEFAULT_CONTENT_TYPE="application/x-www-form-urlencoded",b.DEFAULT_ACTION_NAME="Action",b.DEFAULT_AUTHACTION_NAME="Auth",b.FLAG_XONEJSONSQL=1,b.FLAG_XONEJSONODATA=2,b.FLAG_XONEJSONCUSTOM=4},"9c57":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("53ca"),a=n("5530"),i=n("2909"),o=n("3835"),s=n("1da1"),l=n("d4ec"),u=n("bee2"),c=n("ade3"),d=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("2532"),n("25f0"),n("ac1f"),n("5319"),n("a9e3"),n("d81d"),n("2ca0"),n("99af"),n("b0c0"),n("c7cd"),n("498a"),n("1276"),n("a15b"),n("159b"),n("7db0"),n("b64b"),n("4fad"),n("7a23")),h=(n("ae56"),n("ddd6")),p=function(){function e(){var t=this;if(Object(l["a"])(this,e),Object(c["a"])(this,"_mapFormulaFunctions",new Map),Object(c["a"])(this,"fitHeightToContainer",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,r){var a,i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"auto"===n.height||"auto"!=n.width){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(d["o"])();case 5:if(s=null===(a=r.value)||void 0===a||null===(i=a.parentElement)||void 0===i||null===(o=i.parentElement)||void 0===o?void 0:o.parentElement,s){e.next=8;break}return e.abrupt("return");case 8:if(!s.parentElement||!s.parentElement.classList.contains("xone-contents-row")){e.next=14;break}if(!r.value.style.maxHeight){e.next=14;break}return r.value.style.maxHeight=null,r.value.parentElement.style.maxHeight=null,r.value.parentElement.parentElement.style.maxHeight=null,e.abrupt("return",setTimeout((function(){return t.fitHeightToContainer(n,r)}),100));case 14:if(s&&0!==s.offsetHeight){e.next=16;break}return e.abrupt("return");case 16:l="calc(".concat(s.offsetHeight,"px + var(--margin-top) + var(--margin-bottom))"),r.value.style.maxHeight=l,r.value.parentElement.style.maxHeight=l,r.value.parentElement.parentElement.style.maxHeight=l,e.next=24;break;case 22:e.prev=22,e.t0=e["catch"](0);case 24:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(c["a"])(this,"fitWidthToContainer",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,r){var a,i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"auto"!==n.height||"auto"===n.width){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Object(d["o"])();case 5:if(s=null===(a=r.value)||void 0===a||null===(i=a.parentElement)||void 0===i||null===(o=i.parentElement)||void 0===o?void 0:o.parentElement,s){e.next=8;break}return e.abrupt("return");case 8:if(!s.parentElement||!s.parentElement.classList.contains("xone-contents-row")){e.next=14;break}if(!r.value.style.maxWidth){e.next=14;break}return r.value.style.maxWidth=null,r.value.parentElement.style.maxWidth=null,r.value.parentElement.parentElement.style.maxWidth=null,e.abrupt("return",setTimeout((function(){return t.fitWidthToContainer(n,r)}),100));case 14:if(s&&0!==s.offsetWidth){e.next=16;break}return e.abrupt("return");case 16:l="calc(".concat(s.offsetWidth,"px + var(--margin-right) + var(--margin-left))"),r.value.style.maxWidth=l,r.value.parentElement.style.maxWidth=l,r.value.parentElement.parentElement.style.maxWidth=l,e.next=24;break;case 22:e.prev=22,e.t0=e["catch"](0);case 24:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t,n){return e.apply(this,arguments)}}()),e._instance)return e._instance;e._instance=this}return Object(u["a"])(e,[{key:"convertUnits",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(e.toString().includes("px")||e.toString().includes("%"))return e;if(e.toString().includes("p"))return e.toString().replace("p","px");if(isNaN(Number(e)))return e;var n=parseInt(e);return n<0?-1===n?"grow":"auto":t?n+.5+"em":0===n?"0":"".concat(n,"em")}}},{key:"getPaddings",value:function(e){var t,n,r,a;return{top:this.convertUnits(null!==(t=e.tPadding)&&void 0!==t?t:0),right:this.convertUnits(null!==(n=e.rPadding)&&void 0!==n?n:0),bottom:this.convertUnits(null!==(r=e.bPadding)&&void 0!==r?r:0),left:this.convertUnits(null!==(a=e.lPadding)&&void 0!==a?a:0)}}},{key:"getTabPaddings",value:function(e){var t,n,r,a;return{top:this.convertUnits(null!==(t=e.tabTPadding)&&void 0!==t?t:0),right:this.convertUnits(null!==(n=e.tabRPadding)&&void 0!==n?n:0),bottom:this.convertUnits(null!==(r=e.tabBPadding)&&void 0!==r?r:0),left:this.convertUnits(null!==(a=e.tabLPadding)&&void 0!==a?a:0)}}},{key:"getMargins",value:function(e){var t,n,r,a,i=this,s=[null!==(t=e.tMargin)&&void 0!==t?t:"0",null!==(n=e.rMargin)&&void 0!==n?n:"0",null!==(r=e.bMargin)&&void 0!==r?r:"0",null!==(a=e.lMargin)&&void 0!==a?a:"0"].map((function(e){return i.convertUnits(e)})),l=Object(o["a"])(s,4),u=l[0],c=l[1],d=l[2],h=l[3];return"prop"===e.node&&e.floatingTooltip&&"0"===u&&(u="1rem"),{top:u,right:c,bottom:d,left:h}}},{key:"getBorders",value:function(e){var t,n,r,a,i,o,s,l,u="true"===(null!==(t=e.textBorder)&&void 0!==t?t:"true")&&"true"===(null!==(n=e.textBorderTop)&&void 0!==n?n:"true"),c="true"===(null!==(r=e.textBorder)&&void 0!==r?r:"true")&&"true"===(null!==(a=e.textBorderRight)&&void 0!==a?a:"true"),d="true"===(null!==(i=e.textBorder)&&void 0!==i?i:"true")&&"true"===(null!==(o=e.textBorderBottom)&&void 0!==o?o:"true"),h="true"===(null!==(s=e.textBorder)&&void 0!==s?s:"true")&&"true"===(null!==(l=e.textBorderLeft)&&void 0!==l?l:"true");return{top:u,right:c,bottom:d,left:h}}},{key:"getLabelAlign",value:function(e){if(e)return"left"===e?"flex-start":"right"===e?"flex-end":"center"===e?"center":void 0}},{key:"getPropAlign",value:function(e){var t=e.align;if(!t){var n=this.getPropType(e);if(n.startsWith("N"))return"end"}return null!==t&&void 0!==t&&t.toString().includes("left")?"start":null!==t&&void 0!==t&&t.toString().includes("right")?"end":null!==t&&void 0!==t&&t.toString().includes("center")?"center":void 0}},{key:"getContainerAlign",value:function(e){var t,n=(null!==(t=e.align)&&void 0!==t?t:"").toString(),r="",a="";return n.includes("left")&&(r="flex-start"),n.includes("right")&&(r="flex-end"),n.includes("top")&&(a="flex-start"),n.includes("bottom")&&(a="flex-end"),n.includes("center")&&("center"===n?(r="center",a="center"):""===r?r="center":a="center",""===a&&n.replace("center","").includes("center")&&(a="center")),{row:r,column:a}}},{key:"isNodeVisible",value:function(){return!0}},{key:"getScaledSize",value:function(e,t,n){var r;if(e)return e.toString().includes("px")?r=n*parseInt(e.toString().replace("px","")):e.toString().includes("%")&&(r=t*parseInt(e.toString().replace("%",""))/100),r}},{key:"getScaledPosition",value:function(e,t){var n=e;if(n){if(n.toString().includes("px")){if(n=n.replace("px",""),isNaN(Number(n)))return;return"".concat(Number(n)*t,"px")}return n}}},{key:"getFontSize",value:function(e){var t=window.innerWidth>window.innerHeight?"vh":"vw";return e||(e="8"),isNaN(Number(e))?e:"calc(".concat(Number(e)+3,"px + .5").concat(t,")")}},{key:"getPropType",value:function(e){var t,n,r=null!==(t=e.type)&&void 0!==t?t:"T";"T"===r&&("Hh#:#Mm"==(null!==(n=e.mask)&&void 0!==n?n:"")&&(r="TT"));return r}},{key:"getImage",value:function(e){var t;return e?(null!==(t=e)&&void 0!==t&&t.includes("./icons/")||(e=e.replace("./icons/","").replace("##APP##","").replace("##APPPATH##","").replace("\\icons\\","")),e):null}},{key:"getFloating",value:function(e){if(!e.floating||!e.top||!e.left||"true"!==e.floating)return{floating:!1};var t=e.top;t.includes("p")&&!t.includes("px")&&(t+="x");var n=e.left;return n.includes("p")&&!n.includes("px")&&(n+="x"),{floating:!0,top:t,left:n}}},{key:"getAnimationIn",value:function(e){switch(e){case"##RIGHT_IN##":return"";case"##LEFT_IN##":return"slideRight .3s";case"##PUSH_DOWN_IN##":return"slideDown .3s";case"##PUSH_IN##":return"slideUp .3s";case"##ALPHA_IN##":return"fadeIn .3s";case"##ZOOM_IN##":return"zoomIn .3s";default:return}}},{key:"getPropAttributes",value:function(e){var t,n,r,a,i,o,s,l,u,c,d,h,p,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{align:"B"===e.type?this.getContainerAlign(e):this.getPropAlign(e),autosave:"true"===e.autosave,autoslideDelay:!isNaN(Number(e.autoslideDelay))&&Number(e.autoslideDelay),bgColor:e.bgColor,bMargin:e.bMargin,borderColor:e.borderColor||e.foreColor||"black",borderCornerRadius:"".concat(null!==(t=e.borderCornerRadius)&&void 0!==t?t:2,"px"),borders:this.getBorders(e),borderWidth:"".concat(null!==(n=e.borderWidth)&&void 0!==n?n:1,"px"),breadcumbFontSize:this.getFontSize(e.breadcumbFontSize),breadcumbForeColor:e.breadcumbForeColor,breadcumbSelectedFontSize:this.getFontSize(e.breadcumbSelectedFontSize),breadcumbSelectedForeColor:e.breadcumbSelectedForeColor,buttonOption:e.buttonOption,calendarViewMode:e.calendarViewMode,cellBgColor:e.cellBgColor,cellBorderColor:e.cellBorderColor,cellEvenColor:null!==(r=e.cellEvenColor)&&void 0!==r?r:"transparent",cellForeColor:e.cellForeColor,cellOddColor:null!==(a=e.cellOddColor)&&void 0!==a?a:"transparent",cellOtherMonthBgColor:e.cellOtherMonthBgColor,cellSelectedBgColor:e.cellSelectedBgColor,cellSelectedBorderColor:e.cellSelectedBorderColor,cellSelectedForeColor:e.cellSelectedForeColor,contents:e.contents,disableEdit:e.disableEdit,disableVisible:e.disableVisible,editInRow:"true"===e.editInRow,elevation:null!==(i=e.elevation)&&void 0!==i?i:0,fieldSize:this.convertUnits(null!==(o=e.fieldSize)&&void 0!==o?o:12),fixedText:"true"===e.fixedText,floating:this.getFloating(e),floatingTooltip:null!==(s=e.floatingTooltip)&&void 0!==s&&s,fluidLoad:"true"===e.fluidLoad,fontBold:"true"===e.fontBold,fontSize:this.getFontSize(e.fontSize),foreColor:e.foreColor,galleryColumns:Number(null!==(l=e.galleryColumns)&&void 0!==l?l:1),height:this.convertUnits(e.height),href:e.href,image:this.getImage(e.image),imgChecked:this.getImage(e.imgChecked),imgCheckedDisabled:this.getImage(e.imgCheckedDisabled),imgHeight:this.convertUnits(e.imgHeight),imgUnchecked:this.getImage(e.imgUnchecked),imgUncheckedDisabled:this.getImage(e.imgUncheckedDisabled),imgWidth:this.convertUnits(e.imgWidth),isRadio:"radio"===e.checkType||"radio"===e.viewMode,isVisible:this.isNodeVisible(e,f),keepAspectRatio:"true"===e.keepAspectRatio,labelAlign:this.getLabelAlign(e.align),labelBox:"true"===e.labelBox,labelWidth:"TL"===e.type&&e.width?"100%":this.convertUnits(null!==(u=e.labelwidth)&&void 0!==u?u:8),lines:this.convertUnits(null!==(c=e.lines)&&void 0!==c?c:"auto",!0),linkedField:e.linkedField,linkedTo:e.linkedTo,lMargin:e.lMargin,locked:"true"===e.locked,margins:this.getMargins(e),method:e.method,multiLine:1!==Number(null!==(d=e.lines)&&void 0!==d?d:1),name:e.name,node:e.node,onClick:e.onClick,onEditorAction:e.onEditorAction,onFocusChanged:e.onFocusChanged,onScroll:e.onScroll,onTextChanged:e.onTextChanged,paddings:this.getPaddings(e),postOnchange:e.postOnchange,radioGroup:e.radioGroup,readOnly:"true"===(null!==(h=e.readOnly)&&void 0!==h?h:"true"),rMargin:e.rMargin,showInline:"true"===e.showInline,showInlineKeyboard:"true"===e.showInlineKeyboard,size:e.size,textAlign:null!==(p=e.textAlign)&&void 0!==p?p:e.align,textBgColor:e.textBgColor,textBgColorDisabled:e.textBgColorDisabled,textBorder:e.textBorder,textBorderBottom:e.textBorderBottom,textBorderLeft:e.textBorderLeft,textBorderRight:e.textBorderRight,textBorderTop:e.textBorderTop,textFontSize:this.getFontSize(e.textFontSize),textForeColor:e.textForeColor,textForeColorDisabled:e.textForeColorDisabled,title:e.title,tMargin:e.tMargin,tooltip:e.tooltip,tooltipColor:e.tooltipColor,tooltipForeColor:e.tooltipForeColor,type:this.getPropType(e),viewMode:e.viewMode,weekdaysLongname:"true"===e.weekdaysLongname,width:this.convertUnits(e.width)}}},{key:"getContainerAttributes",value:function(e){var t,n,r,a,i,o,s,l,u,c,d,h,p;return{align:this.getContainerAlign(e),animationIn:this.getAnimationIn(e.animationIn),animationOut:null,bgColor:e.bgColor,bMargin:e.bMargin,borderColor:null!==(t=e.borderColor)&&void 0!==t?t:"black",borderCornerRadius:"".concat(null!==(n=e.borderCornerRadius)&&void 0!==n?n:2,"px"),borders:this.getBorders(e),borderWidth:"".concat(null!==(r=e.borderWidth)&&void 0!==r?r:1,"px"),cellEvenColor:null!==(a=e.cellEvenColor)&&void 0!==a?a:"transparent",cellOddColor:null!==(i=e.cellOddColor)&&void 0!==i?i:"transparent",cellSelectedBgColor:e.cellSelectedBgColor,disableVisible:e.disableVisible,drawerOrientation:e.drawerOrientation,elevation:null!==(o=e.elevation)&&void 0!==o?o:0,fixed:null!==(s=e.fixed)&&void 0!==s?s:"",floating:this.getFloating(e),foreColor:e.foreColor,framebox:"true"===e.framebox,groupSwipe:"true"===e.groupSwipe,height:this.convertUnits(e.height),href:e.href,id:e.id,image:this.getImage(e.image),keepAspectRatio:"true"===e.keepAspectRatio,lMargin:e.lMargin,loadAll:"true"===e.loadAll,margins:this.getMargins(e),name:e.name,newLine:"true"===(null!==(l=e.newLine)&&void 0!==l?l:"true"),node:e.node,noTab:"true"===e.noTab,onFocus:e.onFocus,onScroll:e.onScroll,orientation:null!==(u=e.orientation)&&void 0!==u?u:"",paddings:this.getPaddings(e),rMargin:e.rMargin,scroll:"true"===e.scroll,scrollOrientation:null!==(c=e.scrollOrientation)&&void 0!==c?c:"vertical",tabBgColor:null!==(d=e.tabBgColor)&&void 0!==d?d:"white",tabFontSize:this.getFontSize(e.tabFontSize),tabForecolor:null!==(h=e.tabForecolor)&&void 0!==h?h:"black",tabPaddings:this.getTabPaddings(e),tabSelectedForecolor:null!==(p=e.tabSelectedForecolor)&&void 0!==p?p:"#3273dc",tMargin:e.tMargin,viewMode:e.viewMode,width:this.convertUnits(e.width),wrap:"true"===e.wrap}}},{key:"executeMethod",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=null===(a=t)||void 0===a?void 0:a.trim().toLowerCase(),o.startsWith("javascript:")&&(t=t.trim().substring(11)),o.includes("executenode")){e.next=9;break}if(!o.startsWith("refresh")){e.next=8;break}if(r){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",n.DoRunScriptAsync("ui.refresh('".concat(r,"')")));case 8:return e.abrupt("return",n.DoRunScriptAsync(t));case 9:if(t=t.substring(t.indexOf("(")).replace("(","").replace(")",""),!t.includes("(")||!t.includes(")")){e.next=19;break}return s=t.substring(t.indexOf("(")),t=t.replace(s,""),s=s.replace("(","").replace(")","").split(","),s=s.map((function(e){return e.toString().startsWith("'")||e.toString().startsWith('"')||e.toString().startsWith("'")||e.toString().startsWith('"')?e:"'".concat(e,"'")})),e.next=17,n.ExecuteNode.apply(n,[t].concat(Object(i["a"])(s)));case 17:e.next=21;break;case 19:return e.next=21,n.ExecuteNode(t);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](0),console.error(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"evalFormula",value:function(e,t){try{var n=this._mapFormulaFunctions.get(e);if(n)return n(t);var r=e,a=[{from:"+",to:" + "},{from:"-",to:" - "},{from:"/",to:" / "},{from:"*",to:" * "},{from:"&",to:" + "},{from:" and ",to:" && "},{from:" or ",to:" || "},{from:"<>",to:" != "},{from:">",to:" > "},{from:"<",to:" < "},{from:"=",to:" == "}],i=[],o=function(e){var t;while(-1!==(t=r.toLowerCase().indexOf(e.from)))i.push({index:t,oper:e.to}),r=r.replace(r.substr(t,e.from.length),Array(e.from.length+1).join("~"))};a.forEach(o);while(r.includes("~~"))r=r.replace("~~","~");var s=i.map((function(e){return e.index})).sort((function(e,t){return e-t})),l="",u=0;return r.split("~").forEach((function(e){""!==l&&u<s.length&&(l+=i.find((function(e){return e.index===s[u]})).oper,u++);var n=e;Object.keys(t).find((function(e){return e===n}))&&(n="self['".concat(n,"']")),l+=n})),l.includes("##FLD_")&&(l=l.replace(/##FLD_/g,"self['").replace(/##/g,"']")),this._mapFormulaFunctions.set(e,n=Function("self","try {return ".concat(l,'} catch(ex) {console.error("Error evaluating formula:", "\'').concat(l,"'\");console.warn(ex); return  false;}"))),n(t)}catch(c){console.error("Error evaluating formula",e,c)}}},{key:"watchAttributes",value:function(e,t,n){var i=this,s=function(r){if("disableVisible"===r||"disableEdit"===r)return e.value[r]=t.value[r];var o=t.value[r];while(null!==(s=o)&&void 0!==s&&s.toString().includes("##FLD")){var s,l=o.substring(o.indexOf("##FLD_")+6,o.indexOf("##",o.indexOf("##")+6));if(!l||!Object.keys(n).includes(l))return console.warn("Could not resolve ##FLD_ in ".concat(e.value.node," | ").concat(e.value.name," -> ").concat(r,'="').concat(t.value[r],'"'));o=o.replace("##FLD_".concat(l,"##"),n[l])}var u="prop"===t.value.node?i.getPropAttributes(Object(a["a"])(Object(a["a"])({},e.value),{},Object(c["a"])({},r,o))):i.getContainerAttributes(Object(a["a"])(Object(a["a"])({},e.value),{},Object(c["a"])({},r,o)));r.toLowerCase().contains("padding")?(e.value.paddings=u.paddings,"coll"===t.value.node&&(e.value.tabPaddings=u.tabPaddings)):r.toLowerCase().contains("margin")?e.value.margins=u.margins:r.toLowerCase().contains("border")&&(e.value.borders=u.borders),e.value[r]=u[r]};Object.keys(t.value).forEach((function(e){Object(d["I"])((function(){return t.value[e]}),(function(t,n){"object"===Object(r["a"])(t)?JSON.stringify(t)!==JSON.stringify(n)&&s(e):s(e)}))})),Object.keys(n).forEach((function(e){var r=function(){return Object.entries(t.value).forEach((function(t){var n=Object(o["a"])(t,2),r=n[0],a=n[1];"string"===typeof a&&a.includes("##FLD_".concat(e,"##"))&&s(r)}))};Object(d["I"])((function(){return n[e]}),(function(){return r()})),r()}))}},{key:"executeBindedEvent",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=Object(h["c"])(t),o){e.next=4;break}return e.abrupt("return");case 4:if(s=null===(i=o.bindedEvents)||void 0===i?void 0:i.find((function(e){return e.fieldName===n.name&&e.eventName===r})),!s||!s.action){e.next=14;break}if("function"!==typeof s.action){e.next=13;break}return l={target:n.name,objItem:n.name,data:s.params},Object.keys(a).forEach((function(e){return l[e]=a[e]})),e.next=11,s.action(l);case 11:e.next=14;break;case 13:t.executeNode(s.action).catch(console.error);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"onScrollEvent",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(a=t.scrollTop,i=t.scrollLeft,!n.onScroll){e.next=6;break}return e.next=6,r.DoRunScriptAsync("let e = { target: '".concat(n.name,"',objItem: '").concat(n.name,"',dy: ").concat(a,",dx: ").concat(i," };\n        ").concat(n.onScroll));case 6:return e.next=8,this.executeBindedEvent(r,n.name,"onscroll",{dy:a,dx:i});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}();Object(c["a"])(p,"_instance",void 0);var f=new p},"9d37":function(e,t,n){"use strict";n("99af"),n("a434");var r=n("e19f");String.prototype.equals=function(e){return 0===this.localeCompare(e)},String.prototype.equalsIgnoreCase=function(e){return 0===this.compareToIgnoreCase(e)},String.prototype.contains=function(e){return this.indexOf(e)>=0},String.prototype.compareToIgnoreCase=function(e){return this.toLowerCase().localeCompare(e.toLocaleLowerCase())},String.prototype.compareTo=function(e){return this.localeCompare(e)},String.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r["sprintf"].apply(void 0,[e].concat(n))},Array.prototype.add=function(e,t){this.splice(e,0,t)},Array.prototype.contains=function(e){return this.indexOf(e)>=0},Array.prototype.remove=function(e){"number"==typeof e?this.splice(e,1):this.splice(this.indexOf(e),1)}},"9dcf":function(e,t,n){"use strict";n("33a1")},a33b:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("d3b7"),n("ddb0"),n("bf19"),n("3019")),o=n("0912"),s=n("57ee"),l=n("3be9"),u=n("f0ed"),c=n("8920"),d=n("257e"),h=n("262e"),p=n("2caf"),f=n("9072"),m=(n("99af"),function(e){Object(h["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;Object(r["a"])(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object.setPrototypeOf(Object(d["a"])(e),(this instanceof n?this.constructor:void 0).prototype),e}return Object(a["a"])(n,[{key:"count",value:function(){return this.length}},{key:"get",value:function(e){return this[e]}},{key:"addNode",value:function(e){this.push(e)}},{key:"exist",value:function(e,t,n){var r=!1;return this.forEach((function(a){s["a"].areEquals(a.getName(),e)&&a.attrExists(t)&&s["a"].areEquals(a.getAttrValue(t),n)&&(r=!0)})),r}},{key:"clear",value:function(){while(this.length>0)this.pop()}}]),n}(Object(f["a"])(Array))),g=function(){function e(t,n,a,o,s,l){Object(r["a"])(this,e),this.serialVersionUID=500996622020954e4,this.m_children=new Array,this.m_childrenNodes=new i["a"],this.m_strName=n,this.m_parent=t,this.m_attrs=a||new c["a"],null!=t&&t.addChild(this,n,o,s),this.lstEvents=l}return Object(a["a"])(e,[{key:"AddPropToRoot",value:function(e,t,n,r,a){if(null!=e)if(s["a"].areEquals(e.getName(),u["a"].COLL_COLL))e.addFastChild(t,n,r,a);else{var i=e.getParentNode();null!=i&&this.AddPropToRoot(i,t,n,r,a)}}},{key:"attrs",get:function(){return this.m_attrs}},{key:"addChild",value:function(e,t,n,r){if(l["a"].isEmpty(n)||l["a"].isEmpty(r)){var a=this.getName();(u["a"].COLL_COLL.equals(a)||u["a"].PROP_ATTR_GROUP.equals(a)&&!(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME)))&&this.AddPropToRoot(this,e,t,n,r)}else this.m_childrenNodes.put(u["a"].formatKey(t,n,r),e),(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME))&&this.AddPropToRoot(this,e,t,n,r);this.m_children.push(e)}},{key:"addFastChild",value:function(e,t,n,r){switch(t){case u["a"].PROP_NAME:null==this.m_cachePropNodes&&(this.m_cachePropNodes=new i["a"]),this.m_cachePropNodes.put(u["a"].formatKey(t,n,r),e);break;case u["a"].PROP_ATTR_FRAME:case u["a"].PROP_ATTR_CONTENTNAME:null==this.m_cacheContainersNodes&&(this.m_cacheContainersNodes=new i["a"]),this.m_cacheContainersNodes.put(u["a"].formatKey(t,n,r),e);break;default:null==this.m_cacheOtherNodes&&(this.m_cacheOtherNodes=new i["a"]),this.m_cacheOtherNodes.put(t,e);break}}},{key:"getName",value:function(){return this.m_strName}},{key:"setName",value:function(e){this.m_strName=e}},{key:"getText",value:function(){return this.m_strText}},{key:"getBooleanText",value:function(e){return s["a"].ParseBoolValue(this.m_strText,e)}},{key:"setText",value:function(e){this.m_strText=e}},{key:"getAttributes",value:function(){return this.m_attrs}},{key:"getEvents",value:function(){return this.lstEvents}},{key:"getChildren",value:function(){return this.m_children}},{key:"merge",value:function(){new Array;return this.m_children}},{key:"addMergeChild",value:function(e,t){e.appendChild(t)}},{key:"findNodeAttr",value:function(e,t){for(var n=e.attributes,r=0;r<n.length;++r)if(n[r].nodeName==t)return n[r];return null}},{key:"isEquNode",value:function(e,t,n){if(e.nodeName==t.nodeName)for(var r=n.length,a=0;a<r;++a)if(n[a].nodename==e.nodeName){if("*"==n[a].attrname)return!0;var i=this.findNodeAttr(e,n[a].attrname);if(null==i)return!1;var o=this.findNodeAttr(t,n[a].attrname);return null!=o&&i.value==o.value}return!1}},{key:"findSameChild",value:function(e,t,n){for(var r=e.childNodes.length,a=e.childNodes,i=0;i<r;++i){var o=a[i];if(this.isEquNode(o,t,n))return o}return null}},{key:"mergeObj",value:function(e,t,n){var r=this.isEquNode(e,t,n);if(r&&e.hasChildNodes()&&t.hasChildNodes())for(var a=t.childNodes.length,i=t.childNodes,o=0;o<a;++o){var s=i[o];if("#text"!=s.nodeName){var l=this.findSameChild(e,s,n);null!=l?this.mergeObj(l,s,n):this.addMergeChild(e,s)}}}},{key:"getDocument",value:function(){throw new o["a"]("Not implement")}},{key:"getAttrValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.m_attrs.getValue(e);return null==n?t:n}},{key:"setAttrValue",value:function(e,t){this.m_attrs.setValue(e,t)}},{key:"deleteAttribute",value:function(e){this.m_attrs.deleteAttribute(e)}},{key:"CheckCacheConditions",value:function(e,t){if(null==e)return!1;if(e.isEmpty())return!1;for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return 1==r.length?t.equals(r[0]):r.length>1&&r.indexOf(t)>=0}},{key:"CheckIfCacheExists",value:function(e,t){return null!=e&&(!e.isEmpty()&&e.containsKey(t))}},{key:"getParentNode",value:function(){return this.m_parent}},{key:"setParentNode",value:function(e){this.m_parent=e}},{key:"getChildNodes",value:function(){if(null!=this.m_allChildren)return this.m_allChildren;this.m_allChildren=new m;for(var e=0;e<this.m_children.length;e++){var t=this.m_children[e];this.m_allChildren.addNode(t)}return this.m_allChildren}},{key:"hasChildNodes",value:function(){try{return null!=this.m_allChildren&&this.m_allChildren.count()>0||null!=this.m_children&&this.m_children.length>0}catch(e){return e.printStackTrace(),!1}}},{key:"attrExists",value:function(e){return this.m_attrs.getIndex(e)>=0}},{key:"setAttrs",value:function(e){this.m_attrs=e}},{key:"getAttrs",value:function(){return this.m_attrs}},{key:"getXml",value:function(){return null}},{key:"InsertBefore",value:function(e,t){this.addToCache(e);var n=this.m_children.indexOf(t);-1==n?this.m_children.push(e):this.m_children.add(n,e)}},{key:"InsertAfter",value:function(e,t){this.addToCache(e);var n=this.m_children.indexOf(t);-1==n?this.m_children.push(e):this.m_children.add(n+1,e)}},{key:"addToCache",value:function(e){var t=e.getName();if(e.attrExists(u["a"].PROP_ATTR_NAME)){var n=u["a"].PROP_ATTR_NAME,r=e.getAttrValue(u["a"].PROP_ATTR_NAME);if(u["a"].COLL_COLL.equals(t)||u["a"].PROP_ATTR_GROUP.equals(t)||u["a"].PROP_NAME.equals(t)||u["a"].PROP_ATTR_FRAME.equals(t)||u["a"].PROP_ATTR_CONTENTNAME.equals(t))if(l["a"].isEmpty(n)||l["a"].isEmpty(r)){var a=this.getName();(u["a"].COLL_COLL.equals(a)||u["a"].PROP_ATTR_GROUP.equals(a)&&!(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME)))&&this.AddPropToRoot(this,e,t,n,r)}else this.m_childrenNodes.put(u["a"].formatKey(t,n,r),e),(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME))&&this.AddPropToRoot(this,e,t,n,r)}}},{key:"Remove",value:function(e){var t=this;try{var n=this.m_children.indexOf(e);return n>-1&&(this.m_children.remove(n),this.m_childrenNodes.entrySet().forEach((function(n){n[1]==e&&t.m_childrenNodes.delete(n[0])})),!0)}catch(r){return r.printStackTrace(),!1}}},{key:"replaceChild",value:function(e,t){if(null!=this.m_children){var n=this.m_children.indexOf(e);n>=0&&(this.m_children.add(n,t),this.Remove(e))}null!=this.m_childrenNodes&&this.m_childrenNodes.clear()}},{key:"clone",value:function(){return new e(this,null,null,null,null)}},{key:"describeContents",value:function(){return 0}},{key:"selectNodes",value:function(e,t,n,r){return this.SelectNodes(e,t,n,r)}},{key:"SelectNodes",value:function(e,t,n,r){if(!l["a"].isEmpty(n))return this.SelectNodesInt3(e,t,n);if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME))return this.SelectNodesHashExist(this.m_cachePropNodes,e,t,r);if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME))return this.SelectNodesHashExist(this.m_cacheContainersNodes,e,t,r);for(var a=new m,i=0;i<this.m_children.length;i++){var o=this.m_children[i];if(o.getName().equals(e)){var s=o.getAttrValue(t);if(l["a"].isEmpty(s)){if(r)continue}else if(!r)continue;a.addNode(o)}}return a}},{key:"SelectNodesInt1",value:function(e){if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME))return new m(this.m_cachePropNodes.values());if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME))return this.SelectNodesHash2(this.m_cacheContainersNodes,e);for(var t=new m,n=0;n<this.m_children.length;n++){var r=this.m_children[n],a=r.getName();l["a"].equals(a,e)&&t.addNode(r)}return t}},{key:"SelectNodesHash2",value:function(e,t){var n=new m;return e.values().forEach((function(e){var r=e.getName();l["a"].equals(r,t)&&n.addNode(e)})),n}},{key:"SelectNodesHash4",value:function(e,t,n,r){var a=new m;return e.values().forEach((function(e){if(e.getName().equals(t)){var i=e.getAttrValue(n);l["a"].equals(i,r)&&a.addNode(e)}})),a}},{key:"SelectNodesInt3",value:function(e,t,n){if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME))return this.SelectNodesHash4(this.m_cachePropNodes,e,t,n);if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME))return this.SelectNodesHash4(this.m_cacheContainersNodes,e,t,n);for(var r=new m,a=0;a<this.m_children.length;a++){var i=this.m_children[a];if(i.getName().equals(e)){var o=i.getAttrValue(t);l["a"].equals(o,n)&&r.addNode(i)}}return r}},{key:"SelectNodesStr2",value:function(e,t){return this.SelectNodes(e,t,null,!0)}},{key:"SelectNodesHashExist",value:function(e,t,n,r){var a=new m;return e.values().forEach((function(e){if(e.getName().equals(t)){var i=e.getAttrValue(n);if(l["a"].isEmpty(i)){if(r)return}else if(!r)return;a.addNode(e)}})),a}},{key:"selectSingleNode",value:function(e,t,n){return this.SelectSingleNode(e,t,n)}},{key:"SelectSingleNode",value:function(e,t,n){return null==t?this.SelectSingleNodeInt1(e):null==n?this.SelectSingleNodeIntExist(e,t,!0):"boolean"===typeof n?this.SelectSingleNodeIntExist(e,t,n):this.SelectSingleNodeInt3(e,t,n)}},{key:"SelectSingleNodeInt1",value:function(e){if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME))return this.m_cachePropNodes.values()[0];if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME))return this.m_cacheContainersNodes.values()[0];if(null!=this.m_cacheOtherNodes&&!this.m_cacheOtherNodes.isEmpty()&&this.m_cacheOtherNodes.containsKey(e))return this.m_cacheOtherNodes.get(e);for(var t=0;t<this.m_children.length;t++){var n=this.m_children[t];if(l["a"].equals(n.getName(),e))return n;if(u["a"].PROP_ATTR_GROUP.equals(n.getName())&&(n=n.SelectSingleNode(e),null!=n))return n}return null}},{key:"SelectSingleNodeHash4",value:function(e,t,n,r){return e.values().forEach((function(e){var a=e.getName();if(l["a"].equals(a,t)&&l["a"].equals(e.getAttrValue(n),r))return e})),null}},{key:"SelectSingleNodeInt3",value:function(e,t,n){var r=null;if(l["a"].equals(u["a"].PROP_ATTR_NAME,t)){var a=u["a"].formatKey(e,t,n);if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME)&&this.CheckIfCacheExists(this.m_cachePropNodes,a))return this.m_cachePropNodes.get(a);if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME)&&this.CheckIfCacheExists(this.m_cacheContainersNodes,a))return this.m_cacheContainersNodes.get(a);r=this.m_childrenNodes.get(a)}else this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME)?r=this.SelectSingleNodeHash4(this.m_cachePropNodes,e,t,n):this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME)&&(r=this.SelectSingleNodeHash4(this.m_cacheContainersNodes,e,t,n));return null!=r?r:(this.m_children.forEach((function(r){var a=r.getName();if(a.equals(e)){var i=r.getAttrValue(t);if(l["a"].equals(i,n))return r}})),null)}},{key:"SelectSingleNodeHashExist",value:function(e,t,n,r){return e.values().forEach((function(e){var a=e.getName();if(a.equals(t)){var i=e.getAttrValue(n);if(r&&!l["a"].isEmpty(i))return e;if(!r&&l["a"].isEmpty(i))return e}})),null}},{key:"SelectSingleNodeIntExist",value:function(e,t,n){return this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME)?this.SelectSingleNodeHashExist(this.m_cachePropNodes,e,t,n):this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME)?this.SelectSingleNodeHashExist(this.m_cacheContainersNodes,e,t,n):(this.m_children.forEach((function(r){var a=r.getName();if(a.equals(e)){var i=r.getAttrValue(t);if(n&&!l["a"].isEmpty(i))return r;if(!n&&l["a"].isEmpty(i))return r}})),null)}},{key:"toJSON",value:function(){var e=this,t="childs",n={};return n[this.getName()]={},n[this.getName()]["attributes"]=this.m_attrs.toJSON(),this.m_children.length>0&&(n[this.getName()][t]=[],this.m_children.forEach((function(r){return n[e.getName()][t].push(r.toJSON())}))),n}}]),e}()},a7c5:function(e,t,n){},aa09:function(e,t,n){"use strict";n("fd6a")},acb3:function(e,t,n){},ae56:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("ade3"),a=n("1da1"),i=n("d4ec"),o=n("bee2"),s=(n("96cf"),n("a4d3"),n("e01a"),n("d3b7"),n("159b"),n("ac1f"),n("5319"),n("99af"),n("ddb0"),n("2ca0"),n("25f0"),n("498a"),n("8a79"),n("1276"),n("3019")),l=n("458e"),u=n("0912"),c=n("984b"),d=n("d2c7"),h=n("262e"),p=n("2caf"),f=function(e){Object(h["a"])(n,e);var t=Object(p["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,r),a.code=e,a}return n}(u["a"]),m=n("6dc9"),g=n("ef74"),b=n("733f"),_=n("3743"),v=(n("8672"),n("f57f")),O=n("54ab"),y=n("8277"),C=n("0e62"),S=n("57ee"),E=n("3be9"),T=n("f0ed"),k=n("927f"),w=function(){function e(t){Object(i["a"])(this,e),this.m_nSetValDepth=0,this.m_model={},this.UNIQUE_ID=Symbol("XoneDataObject"),this.m_bIsLoading=!0;try{this.m_bNewObject=!0,this.m_lstNormalProperties=new s["a"],this.m_lstOldValues=new s["a"],this.m_lstDirtyProperties=new l["a"],this.m_lstXlatProperties=new l["a"],this.m_lstDevelopedXlatProperties=new l["a"],this.m_owner=t,this.m_bPropagateDirty=!0,this.m_lstLinkItems=new l["a"],this.m_lstVariables=new s["a"],this.m_lstContents=new s["a"],this.m_lstDevelopingFields=new l["a"],this.m_messages=this.getOwnerApp().getMessageHolder(),this.m_lstCachedAttributes=new s["a"],this.m_lstOverridenFieldPropertyValueAttributes=new s["a"],this.mMapSysOrder=-1,this.m_reactLayout=new s["a"],this.m_formulaLocker=new Object,this.addObjectProperties()}finally{this.m_bIsLoading=!1}}return Object(o["a"])(e,[{key:"isDataObject",get:function(){return!0}},{key:"model",get:function(){return this.m_model},set:function(e){this.m_model=e}},{key:"addSingleProperty",value:function(e){var t=this,n=t.getValue(e);t.m_lstNormalProperties.put(e,n),t.m_model[e]=n,t.hasOwnProperty(e)||Object.defineProperty(t,e,{get:function(){return t.getNormalValue(e)},set:function(n){t.put(e,n)}})}},{key:"addObjectProperties",value:function(){var e=this;this.m_owner.getMultipleKey()||E["a"].isEmpty(this.getIdFieldName())||this.addSingleProperty(this.getIdFieldName()),this.m_owner.getNodeList("prop").forEach((function(t){return e.addSingleProperty(t.getAttrValue("name"))}))}},{key:"getNormalValue",value:function(e){return this.m_lstNormalProperties.get(e)}},{key:"setNormalValue",value:function(e,t){this.m_model[e]=t,this.m_lstNormalProperties.put(e,t),this.m_lstDirtyProperties.contains(e)||this.m_lstDirtyProperties.push(e),this.m_bDirty=!0}},{key:"PrepareSpecialCollection",value:function(e){return!0}},{key:"EvaluateRule",value:function(e){return!0}},{key:"OnCreate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.m_bIsCreating=!0,e.prev=1,this.m_owner.getSpecial()&&(this.m_bPropagateDirty=!1),this.m_bPropagateDirty=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("propagate-dirty"),this.m_bPropagateDirty),this.FieldExists("OBJTIMESTAMP")&&(this.m_bUseTimestamp=!0),this.m_bForceCurrChanges=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("forcechanges"),!1),this.m_bXlatExist=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("xlat-exist"),!0),a=this.m_owner,i=0;case 9:if(n=null,o=a.getNode("create"),null!=o&&(n=o.SelectNodes("action"),i=n.count()),null!=(a=a.getParentCollection())){e.next=14;break}return e.abrupt("break",15);case 14:if(0==i){e.next=9;break}case 15:if(null==n){e.next=30;break}s=0;case 17:if(!(s<n.count())){e.next=30;break}if(l=n.get(s),r=S["a"].ParseBoolValue(k["a"].getNodeAttr(l,"always"),!1),!t&&!r){e.next=27;break}if(this.EvaluateNodeRules(l)){e.next=23;break}return e.abrupt("continue",27);case 23:return e.next=25,this.ExecuteNodeAction(null,l,null);case 25:if(e.sent){e.next=27;break}return e.abrupt("return",!1);case 27:s++,e.next=17;break;case 30:return this.m_bDependent=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("dependent"),!0),this.m_bIsCreating=!1,e.abrupt("return",!0);case 35:throw e.prev=35,e.t0=e["catch"](1),u=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),u=u.replace("{0}","CXoneDataObject::OnCreate"),h=e.t0.message,E["a"].isEmpty(h)||(u=u.concat(h)),new c["a"](-10181,e.t0,u);case 42:case"end":return e.stop()}}),e,this,[[1,35]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"executeNode",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.next=3,this.ExecuteNode.apply(this,[t].concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteNode",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",!1);case 2:if("string"==typeof t&&(t=this.getOwnerCollection().getNode(t)),!O["a"].IsNothing(t)){e.next=5;break}return e.abrupt("return",!1);case 5:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.next=8,this.ExecuteNodeActions.apply(this,[t,"action",null].concat(r));case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteNodeActions",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(S["a"].IsEmptyString(n)&&(n="action"),a=t.SelectNodes(n),i=c.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=c[s];l=0;case 4:if(!(l<a.count())){e.next=21;break}if(u=a.get(l),e.prev=6,this.EvaluateNodeRules(u,r)){e.next=9;break}return e.abrupt("continue",18);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e["catch"](6),e.abrupt("continue",18);case 14:return e.next=16,this.ExecuteNodeAction.apply(this,[null,u,0].concat(o));case 16:if(e.sent){e.next=18;break}return e.abrupt("return",!1);case 18:l++,e.next=4;break;case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this,[[6,11]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ExecuteNodeAction",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.length>2&&void 0!==s[2]?s[2]:0,r=k["a"].getNodeAttr(n,"name"),!S["a"].IsEmptyString(r)){e.next=4;break}return e.abrupt("return",!1);case 4:e.t0=r,e.next="setval"===e.t0?7:"runscript"===e.t0?10:21;break;case 7:return e.next=9,this.DoSetVal(n);case 9:return e.abrupt("return",e.sent);case 10:for(e.prev=10,a=s.length,i=new Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=s[o];return e.next=14,this.DoRunScriptAsync.apply(this,[n].concat(i));case 14:return e.abrupt("return",e.sent);case 17:return e.prev=17,e.t1=e["catch"](10),console.error(e.t1),e.abrupt("return",!1);case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this,[[10,17]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"EvaluateNodeRules",value:function(e,t){return!0}},{key:"doRunScript",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.next=3,this.DoRunScriptAsync.apply(this,[t].concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"DoRunScriptAsync",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=u.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=u[i];o=(n=this.m_owner).prepareContext.apply(n,[this,t].concat(a)),s=o.scripts.length,new Array,l=0;case 5:if(!(l<s)){e.next=11;break}return e.next=8,this.getOwnerApp().RunScriptAsync(o.funcNames[l],o.slang,o.scripts[l],o.ctx,o.Arguments,o.argsName,o.argsValue);case 8:l++,e.next=5;break;case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"DoSetVal",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="",r="",a="",i=null,n=k["a"].GetNodeAttr(t,"field"),r=k["a"].GetNodeAttr(t,"value"),!S["a"].IsEmptyString(r)){e.next=7;break}return e.abrupt("return",!0);case 7:if(!E["a"].isEmpty(n)){e.next=10;break}throw o=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_SETVALFAIL,"CXoneDataObject::DoSetVal failed. Field attribute is missing."),new f(-1991,o);case 10:if(this.FieldExists(n)){e.next=16;break}throw s=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_SETVALFAIL,"{0} failed. Field '{1}' is not declared in collection '{2}."),s=s.replace("{0}","CXoneDataObject::DoSetVal"),s=s.replace("{1}",n),s=s.replace("{2}",this.m_owner.getName()),new f(-1991,s);case 16:return a=this.FieldPropertyValue(n,"type"),S["a"].IsEmptyString(a)&&(a=k["a"].GetNodeAttr(t,"type")),e.next=20,this.GetValueFromString(r,a);case 20:return i=e.sent,this.put(n,i),e.abrupt("return",!0);case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"FieldExists",value:function(e){return this.m_owner.FieldExists(e)}},{key:"ClearContents",value:function(){null!=this.m_lstContents&&this.m_lstContents.values().forEach((function(e){O["a"].IsNothing(e)||(e.unlock(),e.clear())}))}},{key:"resolveFieldName",value:function(e){if(!E["a"].isEmpty(e)&&!e.startsWith(T["a"].MACRO_TAG))return e;if(E["a"].isEmpty(e))return e;var t=this.m_owner.getProperties();if(null==t)return e;var n=e.indexOf(T["a"].MACRO_TAG,2);n<0&&(n=e.length);var r=e.substring(2,n),a=t.SelectSingleNode(T["a"].PROP_NAME,T["a"].PROP_ATTR_INDEX,r);return null==a?e:a.getAttrValue(T["a"].PROP_ATTR_NAME)}},{key:"reverseResolveFieldName",value:function(e){if(!this.m_owner.isIndexed())return e;if(E["a"].isEmpty(e))return e;var t=this.m_owner.getProperties();if(null==t)return e;var n="";try{n=this.m_owner.FieldPropertyValue(e,T["a"].PROP_ATTR_INDEX)}catch(a){return e}if(E["a"].isEmpty(n))return e;var r=new C["a"](T["a"].MACRO_TAG);return r.append(n),r.toString()}},{key:"Load",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,this.m_lstNormalProperties.clear(),this.ClearContents(),n=t.getColumnCount(),r=0;case 5:if(!(r<n)){e.next=23;break}if(a=this.resolveFieldName(t.getColumnName(r)),i=t.getValue(r,this.m_owner.getTypeFromXml(this.m_owner.PropType(a))),null==i){e.next=18;break}if(!O["a"].prototype.hasOwnProperty.call(i,"isResultset")||a.startsWith(T["a"].MACRO_TAG)||a.equals("ID")){e.next=15;break}if(o=i,this.LoadObjectContents(a,o)){e.next=13;break}return e.abrupt("return",!1);case 13:e.next=16;break;case 15:this[a]=i;case 16:e.next=19;break;case 18:this.m_lstNormalProperties.delete(a);case 19:this.m_owner.getMultipleKey()||a.equals(this.getIdFieldName())&&(this.m_owner.getStringKey()?(null!=i&&(this.m_strObjectId=i.toString()),this.m_lObjectId=-1):0==(this.m_lObjectId=v["a"].SafeToInt(i))?this.m_bReadOnly=!0:this.m_strObjectId=String.format("%d",this.m_lObjectId));case 20:r++,e.next=5;break;case 23:return this.m_lstDirtyProperties=new l["a"],this.m_owner.getMultipleKey()&&(this.m_strObjectId=this.GetMultipleKeyString(),this.m_lObjectId=-1),this.setDirty(!1),this.m_bNewObject=!1,e.next=29,this.OnLoad();case 29:return e.abrupt("return",e.sent);case 32:throw e.prev=32,e.t0=e["catch"](0),e.t0;case 35:case"end":return e.stop()}}),e,this,[[0,32]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"LoadObjectContents",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getContents(t);case 2:if(r=e.sent,null!=r){e.next=14;break}if(a=this.m_owner.FieldPropertyValue(t,T["a"].PROP_ATTR_CONTENTNAME),!E["a"].isEmpty(a)){e.next=8;break}return this.getOwnerApp().RegisterError(-1,"Cannot find contents with name '"+t+"'"),e.abrupt("return",!1);case 8:return e.next=10,this.getContents(a);case 10:if(r=e.sent,null!=r){e.next=14;break}return this.getOwnerApp().RegisterError(-1,"Cannot find contents with name '"+t+"'"),e.abrupt("return",!1);case 14:r.unlock(),r.clear();case 16:return e.next=18,n.next();case 18:if(!e.sent){e.next=35;break}return e.next=21,r.CreateObject(!1);case 21:if(i=e.sent,null!=i){e.next=25;break}return 0!=this.getOwnerApp().getError().getNumber()&&this.getOwnerApp().RegisterError(-1,"Cannot create new object for contents '"+t+"'"),e.abrupt("return",!1);case 25:return e.next=27,i.Load(n);case 27:if(e.sent){e.next=30;break}return 0!=this.getOwnerApp().getError().getNumber()&&this.getOwnerApp().RegisterError(-1,"Error loading object data for contents '"+t+"'"),e.abrupt("return",!1);case 30:if(r.addItem(i)){e.next=33;break}return 0!=this.getOwnerApp().getError().getNumber()&&this.getOwnerApp().RegisterError(-1,"Cannot add new object to contents '"+t+"'"),e.abrupt("return",!1);case 33:e.next=16;break;case 35:return r.setFull(!0),e.abrupt("return",!0);case 37:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"OnLoad",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=this.getOwnerCollection();case 2:n=t.getNodeList("prop","onload","true"),r=0;case 4:if(!(r<n.count())){e.next=11;break}return a=n.get(r),e.next=8,this.OnChange(k["a"].getNodeAttr(a,"name"));case 8:r++,e.next=4;break;case 11:t=t.getParentCollection();case 12:if(null!=t){e.next=2;break}case 13:t=this.getOwnerCollection();case 14:if(n=null,i=t.getNode("load"),null==i){e.next=20;break}if(n=i.SelectNodes("action"),!(n.count()>0)){e.next=20;break}return e.abrupt("break",22);case 20:t=t.getParentCollection();case 21:if(null!=t){e.next=14;break}case 22:if(null==n){e.next=35;break}o=0;case 24:if(!(o<n.count())){e.next=35;break}if(s=n.get(o),this.EvaluateNodeRules(s)){e.next=28;break}return e.abrupt("continue",32);case 28:return e.next=30,this.ExecuteNodeAction(null,s);case 30:if(e.sent){e.next=32;break}return e.abrupt("return",!1);case 32:o++,e.next=24;break;case 35:return e.abrupt("return",!0);case 38:throw e.prev=38,e.t0=e["catch"](0),l=e.t0.message,u=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),u=u.replace("{0}","CXoneDataObject::AfterLoad"),S["a"].IsEmptyString(l)||(u=u.concat(l)),new c["a"](-10181,e.t0,u);case 45:case"end":return e.stop()}}),e,this,[[0,38]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"OnChange",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.getNode("onchange"),null!=a){e.next=3;break}return e.abrupt("return");case 3:if(r=this.m_strChangeField,this.m_strChangeField=t,i=!0,o=[],o.push(new _["a"]("ChgField",this.m_strChangeField)),null==(n=a.SelectSingleNode("field","name",t))){e.next=12;break}return e.next=11,this.ExecuteNodeActions.apply(this,[n,T["a"].EMPTY_STRING,null].concat(o));case 11:i=e.sent;case 12:if(!i){e.next=16;break}if(null==(n=a.SelectSingleNode("field","name","##ANY##"))){e.next=16;break}return e.next=16,this.ExecuteNodeActions.apply(this,[n,T["a"].EMPTY_STRING,null].concat(o));case 16:this.m_strChangeField=r;case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ObjectItem",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:null,r=n,!S["a"].IsEmptyString(r)){e.next=5;break}if(!S["a"].IsEmptyString(r=this.FieldPropertyValue(t,"mapcol"))){e.next=5;break}return e.abrupt("return",null);case 5:if(a=this.get(t),null!=a){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,this.getOwnerApp().getCollection(r);case 10:if(i=e.sent,null!=i){e.next=13;break}return e.abrupt("return",null);case 13:if(o=a.toString(),!S["a"].IsEmptyString(o)){e.next=16;break}return e.abrupt("return",null);case 16:return e.abrupt("return",i.get(o));case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getContents",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_bContentsLoaded){e.next=5;break}return e.next=3,this.LoadContents();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if("number"!=typeof t){e.next=9;break}if(!(t>=this.m_lstContents.length)){e.next=8;break}return e.abrupt("return",null);case 8:t=this.m_lstContents.keys[t];case 9:if(null==this.m_lstContents&&(this.m_lstContents=new s["a"]),!E["a"].isEmpty(t)){e.next=12;break}return e.abrupt("return",null);case 12:if(this.m_lstContents.containsKey(t)){e.next=14;break}return e.abrupt("return",null);case 14:return e.abrupt("return",this.m_lstContents.get(t));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"LoadContents",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,l,u,h,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=null,n="",i="CXoneDataObject::LoadContents",e.prev=3,null==this.m_lstContents&&(this.m_lstContents=new s["a"]),this.m_lstContents.clear(),o=this.m_owner,t=o.getNodeList("contents"),!O["a"].IsNothing(o=o.getParentCollection())&&o.getNodeList("contents").forEach((function(e){t.exist(e.getName(),T["a"].PROP_ATTR_NAME,e.getAttrValue(T["a"].PROP_ATTR_NAME))||t.addNode(e)})),null!=t){e.next=11;break}return e.abrupt("return",!1);case 11:l=0;case 12:if(!(l<t.count())){e.next=36;break}return u=t.get(l),e.next=16,this.getOwnerApp().getCollection(n=k["a"].getNodeAttr(u,"src"));case 16:if(e.t0=a=e.sent,null!=e.t0){e.next=23;break}throw h=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_LOADCONTENTFAIL_01,"{0} failed. Cannot find collection '{1}' to create contents '{2}'"),h=h.replace("{0}",i),h=h.replace("{1}",n),h=h.replace("{2}",u.getAttrValue("name")),new c["a"](-9191,h);case 23:if(null!=(r=a.CreateClone())){e.next=28;break}throw p=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_LOADCONTENTFAIL_02,"{0} failed. Cannot clone collection '{1}'"),p=p.replace("{0}",i),p=p.replace("{1}",n),new c["a"](-9192,p);case 28:n=k["a"].getNodeAttr(u,"filter"),r.setLinkFilter(n),n=k["a"].getNodeAttr(u,"name"),this.AddContentsColl(n,r),S["a"].IsEmptyString(n=k["a"].getNodeAttr(u,"sort"))||r.setSort(n);case 33:l++,e.next=12;break;case 36:return e.abrupt("return",this.m_bContentsLoaded=!0);case 39:throw e.prev=39,e.t1=e["catch"](3),f=e.t1.message,m=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),m=m.replace("{0}",i),E["a"].isEmpty(f)||(m=m.concat(f)),new c["a"](-10131,e.t1,m);case 46:case"end":return e.stop()}}),e,this,[[3,39]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"AddContentsColl",value:function(e,t){this.m_lstContents.put(e,t),t.setOwnerObject(this)}},{key:"getId",value:function(){return this.m_lObjectId}},{key:"getIdFieldName",value:function(){return this.m_owner.getIdFieldName()}},{key:"getObjectName",value:function(){return this.m_owner.getObjectName()}},{key:"PrepareSqlString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(S["a"].IsEmptyString(e))return e;if(!e.contains("##"))return e;if(e.contains("##FLD_")&&(e=this.ReplaceFieldValueMacros(e,"##FLD_",t),!e.contains("##")))return e;var n=this.m_owner.PrepareSqlString(e,!1,!1);if(!n.contains("##"))return n;var r=n.trim();if(S["a"].IsEmptyString(r))return n;var a,i=n;if(i=S["a"].Replace(i,'"',"##QUOTES##"),i=S["a"].Replace(i,"##ID##",this.GetObjectIdString(!0)),!i.contains("##"))return i;if(i.contains("##CLIENTIDCOLL##")&&(a=this.GetClientIdColl(),S["a"].IsEmptyString(a)?i=S["a"].Replace(i,"=##CLIENTIDCOLL##"," IS NOT NULL "):(r=a.contains(",")?" IN ("+a+")":"="+a,i=S["a"].Replace(i,"=##CLIENTIDCOLL##",r)),!i.contains("##")))return i;if(i.contains("##MULTIKEY##")&&(i=S["a"].Replace(i,"##MULTIKEY##",this.GetMultipleKeyString(!0))),!i.contains("##"))return i;if(i.contains("##OWN_")){var o=this.m_owner.getOwnerObject();if(null!=o&&(i=o.ReplaceFieldValueMacros(i,"##OWN_",!1),!i.contains("##")))return i}if(i=i.replace('"',"'"),i=S["a"].Replace(i,"##QUOTES##",'"'),!i.contains("##"))return i;for(var s=0,l=0;-1!=(l=i.indexOf("##ISNULL("));){if(-1==(s=i.indexOf(")##",l+8)))break;n=i.substring(l+9,s);var u=this.get(n);if("string"==typeof u)r=u.toString(),r=S["a"].IsEmptyString(r)?"("+n+"='' OR {0} IS NULL)":n+"="+r;else{if(O["a"].IsInt(u)){var c=v["a"].SafeToDouble(u);Math.abs(c)<1e-6?r="("+n+"=0 OR {0} IS NULL)":(u=this.get(n),r=n+"="+this.DevelopObjectValue(u));break}r=n+"="+this.DevelopObjectValue(u)}n=i.substring(0,l)+r+i.substring(s,i.length-3),i=n}return i}},{key:"GetRawPropertyValue",value:function(e){throw new Error("Method not implemented.")}},{key:"ReplaceFieldValueMacros",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0,a="CXoneDataObject::ReplaceFieldValueMacros";for(r=e.indexOf(t);-1!=r;r=e.indexOf(t)){var i=void 0;if(-1==(i=e.indexOf("##",r+1))){var o=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_REPLFLDVALUEMACROFAIL,"{0} failed. Syntax error in expression '{1}'");throw o=o.replace("{0}",a),o=o.replace("{1}",e),new c["a"](-13667,o)}var s=e.substring(r+t.length,i);s.length>1&&"$"==s.charAt(0)&&"$"==s.charAt(1)&&(s=s.substring(1,s.length-1));var l=this.get(s);s=this.DevelopObjectValue(l),n&&!S["a"].IsEmptyString(s)&&s.startsWith("'")&&s.endsWith("'")&&(s=s.substring(1,s.length-1));var u=e.substring(r,i+2);e=S["a"].Replace(e,u,s)}return e}},{key:"FieldPropertyValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==this.m_owner)return null;var r="",a=e+":"+t;if(r=this.m_lstOverridenFieldPropertyValueAttributes.containsKey(a)?this.m_lstOverridenFieldPropertyValueAttributes.get(a):this.m_lstCachedAttributes.containsKey(a)?this.m_lstCachedAttributes.get(a):this.m_owner.FieldPropertyValue(e,t),n&&!S["a"].IsEmptyString(r)&&r.contains("##")){if(r.equals(T["a"].EMPTY_STRING))return null;if(r=this.PrepareSqlString(r,!1),r.equals("NULL"))return null;S["a"].IsEmptyString(r)||r.startsWith("'")&&r.endsWith("'")&&r.length>=2&&(t.equals("filter")||t.equals("linkfilter")||(r=r.substring(1,r.length-1)))}return r}},{key:"GetObjectIdString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";return S["a"].IsEmptyString(this.m_strObjectId)||e?this.m_lObjectId>0?(S["a"].IsEmptyString(this.m_strObjectId)&&(this.m_strObjectId=String.format("%d",this.m_lObjectId)),this.m_strObjectId):this.m_owner.getStringKey()?this.m_owner.getMultipleKey()?(this.m_strObjectId=this.GetMultipleKeyString(!1),this.GetMultipleKeyString(e)):(t=e?this.DevelopObjectValue(this.get(this.getIdFieldName())):this.m_strObjectId=this.get(this.getIdFieldName()).toString(),t):e?"NULL":"":this.m_strObjectId}},{key:"GetRawStringField",value:function(e){return""}},{key:"DevelopObjectValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.m_owner.DevelopObjectValue(e,t)}},{key:"OnNormalSearh",value:function(){}},{key:"getOwnerApp",value:function(){return this.m_owner.getOwnerApp()}},{key:"getIsCurrentItem",value:function(){return this.m_bIsCurrentItem}},{key:"setIsCurrentItem",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.m_bIsCurrentItem,r=null,!(this.m_bIsCurrentItem=t)){e.next=21;break}return r=this.GetRawPropertyValue(this.getIdFieldName()),this.m_strObjectId=S["a"].SafeToString(r),this.m_owner.getStringKey()?this.m_lObjectId=-1:this.m_lObjectId=v["a"].SafeToLong(r),this.ClearContents(),this.m_lstNormalProperties.clear(),this.m_lstOldValues.clear(),this.ClearAllVariables(),this.setDirty(!1),e.prev=11,e.next=14,this.OnLoad();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](11),console.error(e.t0);case 19:e.next=22;break;case 21:n&&(this.m_lObjectId=0,this.m_strObjectId=null);case 22:case"end":return e.stop()}}),e,this,[[11,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ClearAllVariables",value:function(){this.m_lstVariables.clear()}},{key:"GetMultipleKeyString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";if(this.m_owner.getMultipleKey())for(var n=0;n<this.m_owner.getKeyFields().length;n++){var r=this.m_owner.getKeyFields()[n],a=this[r];if(null!=a){var i=r+"="+this.DevelopObjectValue(a);t.length>0&&(t+=e?" AND ":","),t+=i}}else t=this.getIdFieldName()+"="+this.GetObjectIdString(e);return t}},{key:"GetClientIdColl",value:function(){return String.format("%d",this.m_lObjectId)}},{key:"put",value:function(e,t){this.PutItem(e,t)}},{key:"PutItem",value:function(e,t){var n,r=this,i="",o="",s="",l="",u="",h=!0,p=!0,f=!1,m=!1,g="CXoneDataObject::PutItem";this.m_bChangesMade=!1;try{if(this.m_nSetValDepth++,i=e,S["a"].IsEmptyString(i))return;if(i.startsWith("#")||i.startsWith("@"))return;if(i.startsWith("%"))return void this.PutBitmappedProperty(e,t);if(o=this.FieldPropertyValue(i,"bit"),!S["a"].IsEmptyString(o))return void this.PutBitmappedProperty(e,t);if(o=this.FieldPropertyValue(i,"method"),!S["a"].IsEmptyString(o))return;if(o=this.FieldPropertyValue(i,"volatile"),S["a"].ParseBoolValue(o,!1)&&(f=!0),i.startsWith("MAP_")&&(h=!1),this.m_lstNormalProperties.containsKey(i)?n=this.m_lstNormalProperties.get(i):(n=null,S["a"].IsEmptyString(u=this.FieldPropertyValue(i,"xlat"))||this.m_lstXlatProperties.push(i)),s=i,this.m_lstOldValues.delete(s),null!=n&&this.m_lstOldValues.put(s,n),"string"===typeof t&&(i=t.toString(),o=this.FieldPropertyValue(e,"type"),S["a"].IsEmptyString(o)&&(o="T"),o.equals("X")?S["a"].IsEmptyString(i)||(t=i):o.equals("TD")?(i=this.AdjustDate(i),t=i):o.equals("TM")?(i=this.AdjustMonthYear(i),t=i):o.equals("TB")?(i=this.FormatAcc(i),t=i):o.equals("TN")?(i=i.toUpperCase(),t=i):o.equals("TC")?(i=this.FormatCCC(i),i=this.AdjustAccNumber(i),t=i):o.equals("D")?t=S["a"].IsEmptyString(i)?null:S["a"].ParseDateString(this.getOwnerApp().currentContext(),i):o.startsWith("N")&&(t=1==o.length?v["a"].SafeToInt(i):v["a"].SafeToDouble(i)),"string"===typeof t&&(u=this.FieldPropertyValue(e,"protect"),S["a"].ParseBoolValue(u,!1)&&(l=this.FieldPropertyValue(e,"size"),S["a"].IsEmptyString(l)||(i=this.ProtectString(i,v["a"].SafeToInt(l)))),p&&(this.m_lstOldValues.put(e,n),(e.startsWith("MAP_")||this.m_bIsLoading&&!this.m_bIsCloning)&&(h=!1),this.setNormalValue(e,t),m=!0))),"string"!==typeof t&&!m){if(e.equals("ID")&&O["a"].IsNumeric(t)){var _=v["a"].SafeToInt(t);0==_&&(t=null)}if(u=this.FieldPropertyValue(e,"validate"),S["a"].ParseBoolValue(u,!1)&&!this.m_bIsCloning){!1}(p||f)&&(null!=n?this.m_lstOldValues.put(e,n):this.m_lstOldValues.delete(e),null==t?(this.setNormalValue(e,null),this.m_lstNormalProperties.delete(e)):this.setNormalValue(e,t))}var y=!1;if(y=(!O["a"].EqualObj(n,t)||f)&&(!this.m_bIsLoading||this.m_bIsCloning)&&p,y&&(h&&(this.setDirty(!0),this.m_lstDirtyProperties.contains(e)||this.m_lstDirtyProperties.push(e)),this.m_bChangesMade=!0,this.m_bUseTimestamp)){var C=new Date;null==this.m_dtTimeStamp?this.m_dtTimeStamp=b["a"].getInstance():this.m_dtTimeStamp.setTime(C),C=null}if(this.m_bDirty&&this.m_bPropagateDirty&&null!=this.m_owner.getOwnerObject()&&this.m_owner.getOwnerObject().setDirty(this.m_bDirty),this.m_bChangesMade){if(e.equals(this.getIdFieldName())&&(this.m_owner.getStringKey()||(this.m_lObjectId=v["a"].SafeToInt(t))),!S["a"].IsEmptyString(s=this.FieldPropertyValue(e,"updates"))){var T=this.PreprocessValue(e,s,t);this.SetPropertyValue(s,T)}this.m_bIsLoading||null==this.m_owner||this.RestoreMappedFields(e).then((function(t){if(!t){var n=r.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields.");throw n=n.replace("{0}",g),new c["a"](-23231,n)}var i=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.OnChange(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();i()})).catch((function(e){var t=r.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields. Reason: {1}");throw t=t.replace("{0}",g),t=t.replace("{1}",e),new c["a"](-23231,t)})),this.m_bUseTimestamp&&!e.equals("OBJTIMESTAMP")&&(e.startsWith("MAP_")||this.m_bIsLoading&&!this.m_bIsCloning||this.PutItem("OBJTIMESTAMP",this.m_dtTimeStamp)),this.m_bChangesMade=!0}this.postNewValue(e,t)}catch(x){var k=x.message,w=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. ");throw w=w.replace("{0}",g),E["a"].isEmpty(k)||(w=w.concat(k)),console.error(x),new c["a"](-10101,x,w)}}},{key:"GetItem",value:function(e){var t=this,n="GetItem";if(S["a"].IsEmptyString(e))return null;switch(e.charAt(0)){case"%":return this.GetBitmappedProperty(e);case"$":return this.GetFormulaProperty(e)}if(this.m_owner.IsFormulaProperty(e))return this.GetFormulaProperty(e);if(this.m_owner.IsBitProperty(e))return this.GetBitmappedProperty(e);var r=this.FieldPropertyValue(e,"type");if(!S["a"].IsEmptyString(r)&&r.equals("B")){var a,i;a=this.PropertyTitle(e),i=this.GetNormalProperty(e);var o=S["a"].SafeToString(i);return S["a"].IsEmptyString(o)||(a=o),a}var s=null;if(this.m_owner.getDeferredLoad()&&this.m_bIsCurrentItem){if(this.m_lstNormalProperties.containsKey(e)&&(s=this.m_lstNormalProperties.get(e)),null==s){if(null==(s=this.m_owner.GetCurrentItemValue(e))){var l=this.FieldPropertyValue(e,"linkedto");return S["a"].IsEmptyString(l)||this.m_owner.getConnection().IsOuterJoinSupported()||S["a"].IsEmptyString(this.FieldPropertyValue(e,"linkedfield"))||(this.RestoreMappedFields(l).then((function(e){if(!e){var r=t.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields.");throw r=r.replace("{0}",n),new c["a"](-23231,r)}})).catch((function(e){var r=t.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields. Reason: {1}");throw r=r.replace("{0}",n),r=r.replace("{1}",e),new c["a"](-23231,r)})),!this.m_lstNormalProperties.containsKey(e))?this.AdjustNullValue(e):this.m_lstNormalProperties.get(e)}null!=s&&(this[e]=s)}return this.ProcessValue(e,s)}return this.GetNormalProperty(e)}},{key:"GetFormulaProperty",value:function(e){throw new Error("Method not implemented.")}},{key:"GetBitmappedProperty",value:function(e){throw new Error("Method not implemented.")}},{key:"PropertyTitle",value:function(e){var t=e+":"+T["a"].PROP_ATTR_TITLE;if(this.m_lstOverridenFieldPropertyValueAttributes.containsKey(t))return this.m_lstOverridenFieldPropertyValueAttributes.get(t);if(this.m_lstCachedAttributes.containsKey(t))return this.m_lstCachedAttributes.get(t);if(null==this.m_owner)return this.FieldPropertyValue(e,T["a"].PROP_ATTR_TITLE);var n=this.m_owner.PropertyTitle(e);if(!S["a"].IsEmptyString(n)&&n.contains("##")){if(n.equals(S["a"].XONE_EMPTY_STRING))return T["a"].EMPTY_STRING;if(n=this.PrepareSqlString(n,!0),!S["a"].IsEmptyString(n)){if(n.equals("NULL"))return T["a"].EMPTY_STRING;(n.startsWith("'")||n.endsWith("'")&&n.length>=2)&&(n=n.substring(1,n.length-1))}}return n}},{key:"GetNormalProperty",value:function(e){var t,n=this,r=null,a="GetNormalProperty";if(this.m_lstNormalProperties.containsKey(e))r=this.m_lstNormalProperties.get(e);else if(this.m_owner.getConnection().IsOuterJoinSupported()||S["a"].IsEmptyString(t=this.FieldPropertyValue(e,"linkedto")))this.m_bIsCurrentItem&&(r=this.m_owner.GetCurrentItemValue(e),null!=r&&(this[e]=r));else{var i=this.FieldPropertyValue(e,"linkedfield");S["a"].IsEmptyString(i)||this.m_bIsLoading||(this.RestoreMappedFields(t).then((function(e){if(!e){var t=n.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields.");throw t=t.replace("{0}",a),new c["a"](-23231,t)}})).catch((function(e){var t=n.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields. Reason: {1}");throw t=t.replace("{0}",a),t=t.replace("{1}",e),new c["a"](-23231,t)})),this.m_lstNormalProperties.containsKey(e)&&(r=this.m_lstNormalProperties.get(e)))}return this.ProcessValue(e,r)}},{key:"ProcessValue",value:function(e,t){if(null==t&&this.m_lstXlatProperties.contains(e)&&!this.m_lstDevelopedXlatProperties.contains(e)){if(!this.DevelopXlatProperties(e,!0)){var n=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PROCESSVALFAIL,"CXoneDataObject::ProcessValue failed. Cannot develop xlat property '{0}'");throw n=n.replace("{0}",e),new c["a"](-19991,n)}this.m_lstDevelopedXlatProperties.push(e)}var r,a=null;if(null==t)return this.AdjustNullValue(e);var i=t;if("string"===typeof t){if(r=t.toString(),a=this.FieldPropertyValue(e,"type"),S["a"].IsEmptyString(a)&&(a="T"),a.equals("TW")){var o=v["a"].SafeToInt(t);r=this.getOwnerApp().GetWeekDayName(o)}else if(a.equals("X"))S["a"].IsEmptyString(r);else{var s=this.FieldPropertyValue(e,"protect");S["a"].IsEmptyString(s)||s.equals("0")||s.equals("false")||(r=this.UnprotectString(r,s));var l=r.length;switch(l){case 8:a.equals("TD")&&(r=String.format("%02d/%02d/%04d",v["a"].SafeToInt(r.substring(6,8)),v["a"].SafeToInt(r.substring(4,6)),v["a"].SafeToInt(r.substring(0,4))));break;case 22:a.equals("TC")&&r.substring(8,9).equals("#")&&r.substring(11,12).equals("#")&&(a=r.substring(0,4)+"-"+r.substring(4,8)+"-"+r.substring(9,11)+"-"+r.substring(12,22),r=a);break}}i=r}if(O["a"].IsFloat(t)){var u=v["a"].SafeToDouble(t);if(S["a"].IsEmptyString(a)&&(a=this.FieldPropertyValue(e,"type")),"N".equals(a)||"NC".equals(a))return v["a"].SafeToInt(u)}return(e.equals("MAP_MULTIPLE")||e.equals("MAP_REFINE"))&&this.m_lstNormalProperties.delete(e),i}},{key:"ownerCollection",get:function(){return this.m_owner}},{key:"getOwnerCollection",value:function(){return this.ownerCollection}},{key:"getValue",value:function(e){return this.GetItem(e)}},{key:"DevelopXlatProperties",value:function(e,t){throw new Error("Method not implemented.")}},{key:"AdjustNullValue",value:function(e){var t=this.FieldPropertyValue(e,"type"),n=null;if(S["a"].IsEmptyString(t)&&(S["a"].IsEmptyString(t=this.FieldPropertyValue(e,"linkedto"))||S["a"].IsEmptyString(t=this.FieldPropertyValue(t,"mapcol"))),S["a"].IsEmptyString(t))e.equals(this.getIdFieldName())&&(n=this.m_owner.getStringKey()?T["a"].EMPTY_STRING:0),e.equals(this.m_owner.getConnection().getRowIdFieldName())&&(n="");else switch(t.charAt(0)){case"T":case"X":n=T["a"].EMPTY_STRING;break;case"N":n=(1==t.length||t.equals("NC"),0);break;case"I":t.equalsIgnoreCase("img")&&(n=T["a"].EMPTY_STRING);break}return n}},{key:"getLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.m_owner.getLayout(e)}},{key:"setLayout",value:function(e){this.m_reactLayout=e}},{key:"getPropAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T["a"].PROP_NAME;return g["a"].getPropAttributes(this,e,t)}},{key:"NodePropertyValue",value:function(e,t,n){return this.getOwnerCollection().NodePropertyValue(e,t,n)}},{key:"QualifyField",value:function(e,t){return this.m_owner.QualifyField(e,t)}},{key:"getNodeList",value:function(e,t,n,r){return this.getOwnerCollection().getNodeList(e,t,n)}},{key:"getNode",value:function(e,t,n){return this.getOwnerCollection().getNode(e,t,n)}},{key:"UnprotectString",value:function(e,t){throw new Error("Method not implemented.")}},{key:"AdjustDate",value:function(e){throw new Error("Method not implemented.")}},{key:"AdjustMonthYear",value:function(e){throw new Error("Method not implemented.")}},{key:"FormatAcc",value:function(e){throw new Error("Method not implemented.")}},{key:"FormatCCC",value:function(e){throw new Error("Method not implemented.")}},{key:"AdjustAccNumber",value:function(e){throw new Error("Method not implemented.")}},{key:"ProtectString",value:function(e,t){throw new Error("Method not implemented.")}},{key:"PreprocessValue",value:function(e,t,n){}},{key:"SetPropertyValue",value:function(e,t){if("MAP_SYS_ORDER".equals(e))this.mMapSysOrder=v["a"].SafeToLong(t);else{var n=this.m_owner.MapField(e);this.put(n,t)}}},{key:"GetPropertyValue",value:function(e){var t=this.MapField(e);return this.get(t)}},{key:"MapField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.m_owner.MapField(e,t)}},{key:"DoRestoreMapValues",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,r,a){var i,o,s,l,u,h,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i="",o="",u=!0,s=this.m_owner.getNodeList("prop","linkedto",r),h=0;case 4:if(!(h<s.count())){t.next=41;break}if(p=s.get(h),S["a"].IsEmptyString(k["a"].getNodeAttr(p,"bit"))){t.next=8;break}return t.abrupt("continue",38);case 8:if(o=k["a"].getNodeAttr(p,"name"),i=k["a"].getNodeAttr(p,"linkedfield"),!(a&&a instanceof e)){t.next=21;break}if(a.FieldExists(i)){t.next=18;break}throw f=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_RESTOREMAPFLDFAIL_03,"{0} failed. Cannot find linked field '{1}' to restore field '{2}' in object {3}"),f=f.replace("{0}","CXoneDataObject::DoRestoreMapValues"),f=f.replace("{1}",i),f=f.replace("{2}",o),f=f.replace("{3}",a.getName()),new c["a"](-2444,f);case 18:l=a.get(i),t.next=37;break;case 21:if(!a||!a.isResultset){t.next=36;break}t.prev=22,l=a.getValue(i,this.m_owner.getTypeFromXml(this.m_owner.PropType(i))),t.next=34;break;case 26:return t.prev=26,t.t0=t["catch"](22),console.error(t.t0),n.setUseObjectsInRestore(!0),a.close(),t.next=33,this.RestoreMappedFields(r);case 33:return t.abrupt("return",t.sent);case 34:t.next=37;break;case 36:l=null;case 37:u&&this.put(o,l);case 38:h++,t.next=4;break;case 41:return t.abrupt("return",!0);case 42:case"end":return t.stop()}}),t,this,[[22,26]])})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"RestoreMapColValues",value:function(e,t){var n,r="",a=v["a"].SafeToInt(this.GetPropertyValue(e),-1);if(a<0)return!1;var i=t.split(","),o=a>=i.length?"":S["a"].SafeToString(i[a]).trim();n=this.m_owner.getNodeList("prop","linkedto",e);for(var s=0;s<n.count();s++){var l=n.get(s);S["a"].IsEmptyString(k["a"].getNodeAttr(l,"bit"))&&(r=k["a"].getNodeAttr(l,"name"),this.put(r,o))}return!0}},{key:"RestoreMappedFields",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,h,p,f,m,g,b,_,O,y,C,T,k,w,x,A,R,I,P;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="",r="",a="",i="",o=0,s=!1,l=!1,u=this.FieldPropertyValue(t,"mapcol-values"),E["a"].isEmpty(u)){e.next=7;break}return e.abrupt("return",this.RestoreMapColValues(t,u));case 7:if(u=this.FieldPropertyValue(t,"mapcol"),!E["a"].isEmpty(u)){e.next=10;break}return e.abrupt("return",!0);case 10:if(h=null,p=null,f=null,g=null,b="CXoneDataObject::RestoreMappedFields",_=this.m_owner.getNodeList("prop","linkedto",t),O=S["a"].ParseBoolValue(this.FieldPropertyValue(t,"retain"),!0),y=!1,!(_.count()>0)){e.next=97;break}if(!u.equals("##OWNERCOLL##")){e.next=30;break}if(null==this.m_owner.getOwnerObject()){e.next=23;break}h=this.m_owner.getOwnerObject().getOwnerCollection(),e.next=28;break;case 23:if(u=this.FieldPropertyValue(t,"default-mapcol"),S["a"].IsEmptyString(u)){e.next=28;break}return e.next=27,this.getOwnerApp().getCollection(u);case 27:h=e.sent;case 28:e.next=40;break;case 30:return e.prev=30,e.next=33,this.getOwnerApp().getCollection(u);case 33:h=e.sent,e.next=40;break;case 36:e.prev=36,e.t0=e["catch"](30),console.error(e.t0),h=null;case 40:if(null==h){e.next=91;break}if(f=this.GetPropertyValue(t),null!=f){e.next=46;break}return e.next=45,this.DoRestoreMapValues(h,t,g);case 45:return e.abrupt("return",e.sent);case 46:if(u=this.FieldPropertyValue(t,"mapfld"),i=h.FieldPropertyValue(u,"type"),S["a"].IsEmptyString(i)&&u.equals(h.getIdFieldName())&&(i=h.getStringKey()?"T":"N"),!i.startsWith("N")){e.next=57;break}if(o=v["a"].SafeToInt(f),!(o<=0)){e.next=55;break}return e.next=54,this.DoRestoreMapValues(h,t,g);case 54:return e.abrupt("return",e.sent);case 55:e.next=63;break;case 57:if(o=-1,C=S["a"].SafeToString(f),!S["a"].IsEmptyString(C)){e.next=63;break}return e.next=62,this.DoRestoreMapValues(h,t,g);case 62:return e.abrupt("return",e.sent);case 63:if(m=null,null!=(m=this.m_owner.getOwnerObject())&&(null!=(T=m.getOwnerCollection())&&h.getName().equals(T.getName())?(p=m.GetPropertyValue(u),-1!=o?(k=v["a"].SafeToLong(p),k!=o&&(m=null)):p.equals(f)||(m=null)):m=null),null!=m){e.next=72;break}return w=!1,h.getUseObjectsInRestore()&&(w=!0),e.next=70,h.getObject(u,f,w,w);case 70:m=e.sent,y=!O;case 72:if(null==m){e.next=79;break}return e.next=75,this.DoRestoreMapValues(h,t,m);case 75:if(e.sent){e.next=77;break}return e.abrupt("return",!1);case 77:e.next=89;break;case 79:if(h.getUseObjectsInRestore()||h.getSpecial()){e.next=89;break}return e.next=82,h.GetResultSet(u,f);case 82:if(x=e.sent,null!=x){e.next=85;break}return e.abrupt("return",!1);case 85:return e.next=87,this.DoRestoreMapValues(h,t,x);case 87:if(e.sent){e.next=89;break}return e.abrupt("return",!1);case 89:e.next=96;break;case 91:throw A=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_RESTOREMAPFLDFAIL_01,"{0} failed. Cannot get collection '{1}' to restore linked fields for field '{2}'."),A=A.replace("{0}",b),A=A.replace("{1}",u),A=A.replace("{2}",t),new c["a"](-3200,A);case 96:null==(m=this.m_owner.getOwnerObject())||this.m_bIsCreating||m.RestoreTranslatedValues(this,u=this.m_owner.getName(),a=t),y&&h.clear();case 97:if(S["a"].IsEmptyString(u=this.FieldPropertyValue(t,"xlat"))){e.next=159;break}return e.next=100,this.getContents(u);case 100:if(h=e.sent,null==h){e.next=159;break}if(l=!1,r=this.FieldPropertyValue(t,"cmpfield"),n=this.FieldPropertyValue(t,"cmpvalue"),S["a"].IsEmptyString(r)||S["a"].IsEmptyString(n)){e.next=159;break}if(!r.equals("self")||!n.equals("self")){e.next=113;break}return!h.getFull()&&this.m_lObjectId>0&&h.loadAll(),e.next=110,h.get(0);case 110:m=e.sent,e.next=124;break;case 113:return i=h.FieldPropertyValue(r,"type"),e.next=116,this.GetValueFromString(n,i);case 116:return p=e.sent,"string"===typeof p&&(n=p.toString(),i.equals("T")&&n.startsWith("'")&&n.endsWith("'")&&(n=n.substring(1,n.length-2)),p=n),s=!l||!this.m_bXlatExist,s=!this.m_bXlatExist,s||this.m_lObjectId>0&&(s=!0),e.next=123,h.getObject(r,p,!0,s);case 123:m=e.sent;case 124:if(null!=m){e.next=145;break}if(u=this.FieldPropertyValue(t,"create"),!S["a"].ParseBoolValue(u,!1)){e.next=145;break}return e.next=129,h.CreateObject();case 129:if(m=e.sent,null==m){e.next=137;break}this.m_bIsRestoring=!0,r.equals("self")||m.SetPropertyValue(r,p),this.m_bIsRestoring=!1,h.addItem(m),e.next=145;break;case 137:throw r=t,p=this.get(r),a=this.DevelopObjectValue(p),R=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_RESTOREMAPFLDFAIL_02,"{0} failed. Field '{1}' Value: {2}"),R=R.replace("{0}",b),R=R.replace("{1}",r),R=R.replace("{2}",a),new c["a"](-9e3,R);case 145:if(null==m){e.next=159;break}if(u=t,!S["a"].IsEmptyString(a=this.FieldPropertyValue(u,"targetfield"))){e.next=152;break}throw I=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_NOXLATTARGET,"{0} failed. Field '{1}' has no 'targetfield' or it's misspelled."),I=I.replace("{0}",b),I=I.replace("{1}",a),new c["a"](-8888,I);case 152:if(m.FieldExists(a)){e.next=157;break}throw P=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_XLATMISSINGFLD,"{0} failed. Field '{1}' is missing in derived object."),P=P.replace("{0}",b),P=P.replace("{1}",a),new c["a"](-8889,P);case 157:p=this.get(u),m.put(a,p);case 159:return e.abrupt("return",!0);case 160:case"end":return e.stop()}}),e,this,[[30,36]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"RestoreTranslatedValues",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,p,f,m,g,b,_,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s="",l="",u="",c="",d="",f=!1,null!=t&&!this.m_bIsRestoring){e.next=4;break}return e.abrupt("return",!0);case 4:if(m=this.m_owner.getNode("xlatrefresh"),null!=m){e.next=7;break}return e.abrupt("return",!0);case 7:o=this.m_owner.getNodeList("contents","src",n),g=0;case 9:if(!(g<o.count())){e.next=45;break}b=o.get(g),c=k["a"].getNodeAttr(b,"name"),i=m.SelectNodes("action","coll",c),_=0;case 14:if(!(_<i.count())){e.next=42;break}if(O=i.get(_),s=k["a"].getNodeAttr(O,"changefld"),s.equals(r)){e.next=19;break}return e.abrupt("continue",39);case 19:if(l=k["a"].GetNodeAttr(O,"targetfld"),a=this.m_owner.GetNode("prop","name",l),k["a"].GetNodeAttr(a,"type"),!S["a"].IsEmptyString(u=k["a"].GetNodeAttr(a,"cmpfield"))){e.next=24;break}return e.abrupt("continue",39);case 24:if(u.equals("self")){e.next=37;break}return s=k["a"].GetNodeAttr(a,"cmpvalue"),d=t.FieldPropertyValue(u,"type"),e.next=29,this.GetValueFromString(s,d);case 29:h=e.sent,"string"===typeof h&&(s=h.toString(),"'"==s.charAt(0)&&"'"==s.charAt(s.length-1)&&(s=s.length>2?s.substring(1,s.length-2):""),h=s),p=t.GetPropertyValue(u),s=p.getClass().getName().toLowerCase(),s.equals("int")||s.equals("byte")?p=v["a"].SafeToLong(p):(s.equals("single")||s.equals("decimal"))&&(p=v["a"].SafeToDouble(p)),f=h.equals(p),e.next=38;break;case 37:f=!0;case 38:f&&(u=k["a"].GetNodeAttr(O,"sourcefld"),h=null!=t?t.get(u):null,this.put(l,h));case 39:_++,e.next=14;break;case 42:g++,e.next=9;break;case 45:return e.abrupt("return",!0);case 46:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"GetValueFromString",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,d,h,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=b["a"].getInstance(),i="",o="",s=null,l="",u="",d="",h=0,e.prev=5,p=t,!S["a"].IsEmptyString(p)){e.next=9;break}return e.abrupt("return",p);case 9:if(!p.equals("##NULL##")&&!p.equals("##EMPTY##")){e.next=11;break}return e.abrupt("return",null);case 11:if((S["a"].IsEmptyString(n)||n.equals("type"))&&(n="T"),p.startsWith("'")&&p.endsWith("'")&&p.length>=2&&(p=p.substring(1,p.length-1)),(p.equals("##NOW##")||p.equals("##NOW_NOTIME##")||p.equals("##NOW_TIME##"))&&("D"==n.charAt(0)?((p.equals("##NOW##")||p.equals("##NOW_NOTIME##"))&&O["a"].ZeroCalendarTime(a),s=a):n.equals("TD")&&(s=String.format("%04d%02d%02d",a.get(b["a"].YEAR),a.get(b["a"].MONTH),a.get(b["a"].DAY_OF_MONTH)))),p.equals("##DAY##")&&(s=a.get(b["a"].DAY_OF_MONTH)),p.equals("##MONTH##")&&(s=a.get(b["a"].MONTH)),p.equals("##YEAR##")&&(s=a.get(b["a"].YEAR)),null!=s){e.next=67;break}if(p.contains("##")&&(p=this.PrepareSqlString(p)),!p.contains("##")){e.next=23;break}return e.next=22,this.m_owner.EvaluateAllMacros(p);case 22:p=e.sent;case 23:if((n.startsWith("T")||n.equals("AT")||n.equals("PH")||n.equals("WEB")||n.equals("IMG"))&&(p.equals("''")?p="":p.startsWith("'")&&p.endsWith("'")&&p.length>1&&(p=p.substring(1,p.length-1)),s=p),"N"==n.charAt(0))if(p.equals("NULL"))s=null;else if(n.equals("NC"))s=p.equals("on")||p.equals("1")||p.equals("yes")||p.equals("true")?1:0;else if(1==n.length)try{s=v["a"].SafeToLong(p)}catch(g){s=0}else try{s=v["a"].SafeToDouble(p)}catch(g){s=0}if(!n.startsWith("D")){e.next=67;break}if(i=p.trim(),S["a"].IsEmptyString(i)){e.next=67;break}if(s=p,!p.equals("NULL")){e.next=33;break}s=null,e.next=67;break;case 33:f=r,S["a"].IsEmptyString(f)&&(f=this.m_owner.getConnection().getDatemask()),f.startsWith("#")&&(f=f.substring(2,f.length-2)),h=f.equals("mdy")?0:f.equals("dmy")?1:2,m=p.split("/"),e.t0=h,e.next=0===e.t0?41:1===e.t0?45:(e.t0,49);break;case 41:return u=m[0],l=m[1],d=m[2],e.abrupt("break",53);case 45:return l=m[0],u=m[1],d=m[2],e.abrupt("break",53);case 49:return d=m[0],u=m[1],l=m[2],e.abrupt("break",53);case 53:o=this.getOwnerApp().getSysDatemask(),h=o.equals("mdy")?0:o.equals("dmy")?1:2,e.t1=h,e.next=0===e.t1?58:1===e.t1?61:2===e.t1?63:66;break;case 58:return i=u+"/"+l+"/"+d,m.length>3&&(i+=" "+m[3]),e.abrupt("break",66);case 61:return i=l+"/"+u+"/"+d,e.abrupt("break",66);case 63:return i=d+"/"+u+"/"+l,m.length>3&&(i+=" "+m[3]),e.abrupt("break",66);case 66:s=S["a"].ParseDateString(this.getOwnerApp().currentContext(),i);case 67:return e.abrupt("return",s);case 70:throw e.prev=70,e.t2=e["catch"](5),new c["a"](-7e3,e.t2);case 73:case"end":return e.stop()}}),e,this,[[5,70]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"postNewValue",value:function(e,t){}},{key:"postNewFieldProperty",value:function(e,t,n,r){g["a"].setLayoutFieldPropertyValue(this.m_reactLayout,e,t,n,r)}},{key:"PutBitmappedProperty",value:function(e,t){}},{key:"getParent",value:function(){return this.m_owner}},{key:"clone",value:function(){}},{key:"getContentsCount",value:function(){return this.m_lstContents.length}},{key:"getFieldPropertyValue",value:function(e,t){return this.FieldPropertyValue(e,t)}},{key:"getOldItem",value:function(e){}},{key:"setFieldPropertyValue",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e+":"+t;null!=n?n.startsWith("##FLD_")||this.m_lstCachedAttributes.put(a,n):this.m_lstCachedAttributes.containsKey(a)&&this.m_lstCachedAttributes.delete(a),r&&this.m_owner.getOwnerApp().addEvaluatedAttributesList(this.m_owner.getName(),a),this.postNewFieldProperty(T["a"].PROP_NAME,e,t,n,r)}},{key:"setNodePropertyValue",value:function(e,t,n,r){g["a"].setLayoutFieldPropertyValue(this.m_reactLayout,e,t,n,r)}},{key:"getName",value:function(){var e="";try{var t=new C["a"](this.getOwnerCollection().getName());t.append(".");var n=this.GetObjectIdString();E["a"].isEmpty(n)?t.append(this.getOwnerCollection().getObjectIndex(this)):t.append(n),e=t.toString()}catch(r){e="DataObject.0"}return e}},{key:"setOldItem",value:function(e,t){}},{key:"setOwnerColl",value:function(){}},{key:"setValue",value:function(e){}},{key:"get",value:function(e){return this.GetItem(e)}},{key:"getDirty",value:function(){return this.m_bDirty}},{key:"setDirty",value:function(e){this.m_bDirty=e}},{key:"getObjectIndex",value:function(){return this.getOwnerCollection().getObjectIndex(this)}},{key:"SafeGetVariableList",value:function(){return null!=this.m_lstVariables?this.m_lstVariables:this.m_lstVariables=new s["a"]}},{key:"getVariables",value:function(e){return this.getVariable(e)}},{key:"getVariable",value:function(e){return e.equals("##CHGFIELD##")?this.m_strChangeField:this.SafeGetVariableList().containsKey(e)?this.SafeGetVariableList().get(e):null}},{key:"putVariables",value:function(e,t){this.setVariable(e,t)}},{key:"setVariables",value:function(e,t){this.setVariable(e,t)}},{key:"setVariable",value:function(e,t){null==t?this.SafeGetVariableList().containsKey(e)&&this.SafeGetVariableList().delete(e):this.SafeGetVariableList().put(e,t)}},{key:"IsNew",value:function(){var e=this.m_bNewObject;if(!e)return e;if(this.m_owner.getStringKey())return e;try{var t=this.GetPropertyValue(this.m_owner.getIdFieldName()),n=v["a"].SafeToLong(t);if(n<=0)return e;var r=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("identity-key"),!0);return!r&&e}catch(a){return e}}},{key:"isNew",value:function(){return this.IsNew()}},{key:"loadFromJson",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"loadFromJson","string"===typeof t&&(t=JSON.parse(t)),e.next=4,this.loadFromJsonObject(this,t);case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadFromJsonObject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(n);case 1:if((e.t1=e.t0()).done){e.next=16;break}if(r=e.t1.value,a=n[r],!Array.isArray(a)){e.next=13;break}return e.next=7,t.getContents(r);case 7:if(i=e.sent,null!=i){e.next=10;break}throw new u["a"]("loadFromJson(): Content collection "+r+" not found");case 10:return e.next=12,this.loadFromJsonArray(i,a);case 12:return e.abrupt("continue",1);case 13:t[r]=a,e.next=1;break;case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadFromJsonArray",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<r.length())){t.next=9;break}return i=new e(n),t.next=5,this.loadFromJsonObject(i,r[a]);case 5:n.addItem(i,a);case 6:a++,t.next=1;break;case 9:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"bind",value:function(e,t,n){}},{key:"getObjectItem",value:function(e){}},{key:"getPropertyGroup",value:function(e){}},{key:"getPropertyTitle",value:function(e){}},{key:"getFixedUpdateObjectName",value:function(){return this.m_owner.getFixedUpdateObjectName()}},{key:"getFixedObjectName",value:function(){return this.m_owner.getFixedObjectName()}},{key:"save",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o,s,l,u,h,p,f,g,b,_,C,k,w,x,A,R,I,P,N,j,M,L,D,F,G,B,V,U,W,Y,H,X,q,z;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="",n="",a="",i="",o="",s="",l="",u=this.GetObjectIdString(!0),h=null,p=!0,!1,f=0,g=!0,!1,!S["a"].ParseBoolValue(a=this.m_owner.CollPropertyValue("readonly"),!1)){e.next=10;break}return this.m_bReadOnly=!0,e.abrupt("return",!0);case 10:if(b=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("transactions"),!1),_=this.m_owner.getConnection(),C="CXoneDataObject::Save",!this.m_bReadOnly&&!this.m_owner.getSpecial()){e.next=15;break}return e.abrupt("return",!0);case 15:if(null==this.m_owner.getOwnerObject()||!this.m_bDependent){e.next=18;break}if(!this.m_owner.getOwnerObject().IsNew()){e.next=18;break}return e.abrupt("return",!0);case 18:if(s=this.getIdFieldName(),o=u,o.contains("'")&&(o=S["a"].removeChars(o,"'")),o.contains(" ")&&(o=S["a"].removeChars(o," ")),o.contains(",")&&(o=S["a"].removeChars(o,",")),!this.m_bDirty){e.next=32;break}if(!this.m_bIsCurrentItem){e.next=31;break}if(k=!1,this.m_owner.getStringKey()?(S["a"].IsEmptyString(this.m_strObjectId)||0==this.m_strObjectId.compareToIgnoreCase("null"))&&(k=!0):this.m_lObjectId<=0&&(k=!0),!k){e.next=31;break}throw w="{0} failed. Object is current item and has no ID.",w=w.replace("{0}",C),new c["a"](-1990,w);case 31:this.IsNew()&&!0;case 32:if(x=new m["a"](this.m_owner.getConnection().getRowIdFieldName(),this.m_messages),x.SetTableName(this.getFixedUpdateObjectName()),e.prev=34,A=this.m_owner.getStringKey(),R=this.m_owner.getMultipleKey(),!this.m_bDirty){e.next=163;break}I=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("incremental-save"),!0),P=I?this.m_lstDirtyProperties:this.m_lstNormalProperties.keys(),N=0;case 41:if(!(N<P.length)){e.next=55;break}if(j=P[N],i=this.FieldPropertyValue(j,"type"),S["a"].IsEmptyString(i)){e.next=47;break}if(!i.equals("B")){e.next=47;break}return e.abrupt("continue",52);case 47:p=!0,A||!R&&j.equals(s)&&(p=!1),p&&(S["a"].IsEmptyString(this.getObjectName())||(j.startsWith("MAP_")&&(p=!1),"$"!=j.charAt(0)&&"#"!=j.charAt(0)||(p=!1),!j.equals(this.m_owner.getConnection().getRowIdFieldName())||S["a"].IsEmptyString(o)||o.equals("NULL")||(p=!1))),p&&(a=this.FieldPropertyValue(j,"readonly"),S["a"].ParseBoolValue(a,!1)&&(p=!1)),p&&(j.equals(this.m_owner.getConnection().getRowIdFieldName())&&(g=!1),i=j,n=S["a"].IsEmptyString(a=this.FieldPropertyValue(i,"alias"))?this.MapField(i,!0):a,M=null,this.m_lstNormalProperties.containsKey(j)&&(M=this.m_lstNormalProperties.get(j)),S["a"].IsEmptyString(a=this.FieldPropertyValue(j,"mapcol"))||null!=M&&(O["a"].IsNumeric(M)?(L=v["a"].SafeToLong(M),M=0==L?null:L):(a=M.toString(),M=S["a"].IsEmptyString(a)?null:a)),a=this.DevelopObjectValue(M),"string"===typeof M&&!S["a"].IsEmptyString(a)&&a.length>2&&this.m_owner.getConnection().HasEscapeChars()&&(a=this.m_owner.getConnection().EscapeString(a.substring(1,a.length-2)),a="'"+a+"'"),D=this.reverseResolveFieldName(n),x.SetFieldValue(D,a),S["a"].ParseBoolValue(this.FieldPropertyValue(j,T["a"].PROP_ATTR_EMBED),!1)&&x.SetFieldType(D,1));case 52:N++,e.next=41;break;case 55:if(!(x.GetFields().length>0)){e.next=163;break}if(this.IsNew()){e.next=73;break}return!1,R?x.SetWhereSentence(this.GetMultipleKeyString(!0)):x.SetWhereSentence("WHERE "+s+"="+u),x.SetSqlType(y["a"].SQLTYPE_UPDATE),x.SetFieldValue(s,this.getId()),x.addkey(s),t=x.RegenerateSql(),x.SetSqlType(y["a"].SQLTYPE_UPDATE),(this.m_owner.getIsDebugging()||this.m_owner.getOwnerApp().isDebugMode())&&T["a"].DebugLog(T["a"].TAG_DATABASE_LOG,t),e.next=67,this.m_owner.getConnection().ExecuteSqlStringAsync(null,x,!1,this.m_owner.getName(),Object(r["a"])({},s,u));case 67:if(e.t0=e.sent,null!=e.t0){e.next=70;break}return e.abrupt("return",!1);case 70:a=this.m_owner.getMultipleKey()?" WHERE "+this.GetMultipleKeyString(!0):" WHERE "+this.getIdFieldName()+"="+this.GetObjectIdString(!0),e.next=163;break;case 73:if(!0,l=this.getRowId(),!this.m_owner.getConnection().getIsReplicating()&&(A||R)){e.next=92;break}if(!g){e.next=89;break}case 77:if(l=this.m_owner.GenerateRowId(),!this.m_owner.IsUniqueRowId(l)){e.next=81;break}return e.abrupt("break",83);case 81:e.next=77;break;case 83:a=this.DevelopObjectValue(l),x.SetFieldValue(this.m_owner.getConnection().getRowIdFieldName(),a),x.addkey(this.m_owner.getConnection().getRowIdFieldName()),a=l,e.next=91;break;case 89:F=this.GetRawPropertyValue(this.m_owner.getConnection().getRowIdFieldName()),null!=F&&(l=F.toString(),a="'"+l+"'");case 91:x.SetSqlType(y["a"].SQLTYPE_INSERT);case 92:if(t=x.RegenerateSql(),(this.m_owner.getIsDebugging()||this.m_owner.getOwnerApp().isDebugMode())&&(T["a"].DebugLog(T["a"].TAG_DATABASE_LOG,t),this.getOwnerApp().writeConsoleString(t)),G=!1,b&&(b=_.supportsTransactions()),b&&_.beginTrans(),B=!1,!_.acceptsParsedSentences()){e.next=104;break}return e.next=101,_.ExecuteParsedSqlAsync(null,x,G,this.m_owner.getName());case 101:B=e.sent,e.next=107;break;case 104:return e.next=106,_.ExecuteSqlStringAsync(null,t,G,this.m_owner.getName());case 106:B=e.sent;case 107:if("boolean"!==typeof B||B){e.next=110;break}return b&&_.rollBack(),e.abrupt("return",!1);case 110:if(!B.hasOwnProperty("isResultset")){e.next=124;break}if(V=this.m_owner.CollPropertyValue("save-result"),E["a"].isEmpty(V)){e.next=124;break}return e.next=115,this.m_owner.getOwnerApp().getCollection(V);case 115:if(U=e.sent,null==U){e.next=124;break}return e.next=119,U.CreateObject();case 119:return W=e.sent,U.addItem(W),e.next=123,W.Load(B);case 123:this.m_owner.getOwnerApp().pushValue(W);case 124:if(A||R){e.next=162;break}if(!_.retrievesAutonumericKeys()){e.next=129;break}try{Y=a,Y.startsWith("'")||(Y="'"+Y),Y.endsWith("'")||(Y+="'"),f=_.RetrieveNumericKey(this.getFixedObjectName(),s,this.m_owner.getRowIdFieldName(),Y)}catch(K){f=-1}e.next=162;break;case 129:if(t="SELECT "+s+" FROM "+this.getFixedObjectName()+" WHERE "+this.m_owner.getRowIdFieldName()+"="+a,(this.m_owner.getIsDebugging()||this.m_owner.getOwnerApp().isDebugMode())&&T["a"].DebugLog(T["a"].TAG_DATABASE_LOG,"Save Find Record: "+t),null!=(h=this.m_owner.getConnection().CreateRecordset(t))){e.next=138;break}throw t="DELETE FROM "+this.m_owner.getFixedObjectName()+" WHERE "+this.m_owner.getRowIdFieldName()+"="+a,this.m_owner.getConnection().ExecuteSqlString(t),H=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_SAVEFAIL,"{0} failed. Cannot get Object ID."),H=H.replace("{0}",C),b&&_.rollBack(),new c["a"](-1999,H);case 138:return e.next=140,h.next();case 140:if(!e.sent){e.next=160;break}if(A){e.next=159;break}if(X=null,X=h.getValue(s,this.m_owner.getIdFieldType()),f=v["a"].SafeToLong(X),0!=f){e.next=157;break}if(!b){e.next=150;break}_.rollBack(),e.next=157;break;case 150:if(t="DELETE FROM "+this.m_owner.getFixedObjectName()+" WHERE "+this.m_owner.getRowIdFieldName()+"='"+l+"'",null!=this.m_owner.getConnection().ExecuteSqlString(t)){e.next=153;break}return e.abrupt("return",!1);case 153:throw q=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_SAVEFAIL_02,"{0} failed. Field '{1}' seems to be non-identity or it is not being updated."),q=q.replace("{0}",C),q=q.replace("{1}",s),new c["a"](-19899,q);case 157:e.next=160;break;case 159:f=-1;case 160:h.close(),h=null;case 162:this.m_bNewObject=!1;case 163:return f>0&&(S["a"].IsEmptyString(l)&&(l=this.getRowId()),A||(this.put(s,f),this.m_strObjectId=String.format("%s",f)),this.m_lObjectId=f,g&&this.put(this.m_owner.getRowIdFieldName(),x.GetRowId())),z=!0,e.abrupt("return",z);case 168:if(e.prev=168,e.t1=e["catch"](34),null!=h){try{h.close()}catch(J){}h=null}throw b&&_.rollBack(),e.t1;case 173:case"end":return e.stop()}}),e,this,[[34,168]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"ClearCaches",value:function(){this.m_lstCachedAttributes.clear()}},{key:"deleteObject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="",n=!1,r=!1,a="CXoneDataObject::DeleteObject",e.prev=4,!this.m_owner.getSpecial()){e.next=7;break}return e.abrupt("return",!0);case 7:if(n=!this.m_bFollowRules||this.CanDelete(),n&&(this.m_owner.getSpecial()||(r=!0)),!r){e.next=15;break}if(this.ExecuteDeleteActions()){e.next=15;break}throw this.m_bFollowRules=!0,i=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_DELETEOBJFAIL_01,"{0} failed. Pre-delete actions have not been executed."),i=i.replace("{0}",a),new c["a"](-6e3,i);case 15:if(S["a"].IsEmptyString(this.getObjectName())||this.GetObjectIdString().equals("NULL")){e.next=30;break}if(!n){e.next=28;break}return t="DELETE FROM "+this.getFixedObjectName()+" WHERE "+this.getIdFieldName()+"="+this.GetObjectIdString(!0),(this.m_owner.getIsDebugging()||this.m_owner.getOwnerApp().isDebugMode())&&T["a"].DebugLog(T["a"].TAG_DATABASE_LOG,t),o=this.m_owner.getConnection().getRowIdFieldName(),s=new m["a"](o),s.ParseSqlString(t),s.SetFieldValue(this.getIdFieldName(),this.getId()),s.addkey(this.getIdFieldName()),e.next=26,this.m_owner.getConnection().ExecuteSqlStringAsync(null,s,!1,this.m_owner.getName());case 26:e.next=30;break;case 28:return this.m_bFollowRules=!0,e.abrupt("return",!1);case 30:if(!n||!r){e.next=36;break}if(this.ExecuteDeleteActions(!0)){e.next=36;break}throw this.m_bFollowRules=!0,l=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_DELETEOBJFAIL_02,"{0} failed. Could not execute post-delete actions."),l=l.replace("{0}",a),new c["a"](-6001,l);case 36:return this.m_bFollowRules=!0,e.abrupt("return",!0);case 40:throw e.prev=40,e.t0=e["catch"](4),u=e.t0.message,h=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),h=h.replace("{0}",a),E["a"].isEmpty(u)||(h=h.concat(u)),new c["a"](-1001,e.t0,h);case 47:case"end":return e.stop()}}),e,this,[[4,40]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"CanDelete",value:function(){var e,t,n=this.GetObjectIdString(!0);try{if(S["a"].IsEmptyString(n))return!0;t=this.m_owner;do{e=null;var r=t.GetNode("delete");if(null!=r&&(e=r.SelectNodes("rule"),e.count()>0))break;t=t.getParentCollection()}while(null!=t);if(null!=e)for(var a=0;a<e.count();a++){var i=e.get(a);if(!this.EvaluateRule(i))return!1}if(S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("readonly"),!1)){var o=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_CANNOTDELETE,"Cannot delete object. Collection '{0}' is read-only.");throw o=o.replace("{0}",this.m_owner.getName()),new c["a"](-8101,o)}return!0}catch(u){var s=u.message,l=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. ");throw l=l.replace("{0}","CXoneDataObject::CanDelete"),E["a"].isEmpty(s)||(l=l.concat(s)),new c["a"](-10151,u,l)}}},{key:"ExecuteDeleteActions",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]&&h[0],r=this.GetObjectIdString(!0),e.prev=2,!S["a"].IsEmptyString(r)){e.next=5;break}return e.abrupt("return",!0);case 5:a=this.m_owner;case 6:if(i=a.GetNode("delete"),null!=i){e.next=9;break}return e.abrupt("return",!0);case 9:n=i.SelectNodes(t?"afteraction":"action"),o=0;case 11:if(!(o<n.count())){e.next=22;break}if(s=n.get(o),this.EvaluateNodeRules(s)){e.next=15;break}return e.abrupt("continue",19);case 15:return e.next=17,this.ExecuteNodeAction(null,s,2,null);case 17:if(e.sent){e.next=19;break}return e.abrupt("return",!1);case 19:o++,e.next=11;break;case 22:a=a.getParentCollection();case 23:if(null!=a){e.next=6;break}case 24:return e.abrupt("return",!0);case 27:throw e.prev=27,e.t0=e["catch"](2),l=e.t0.message,u=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),u=u.replace("{0}","CXoneDataObject::ExecuteDeleteActions"),E["a"].isEmpty(l)||(u=u.concat(l)),new c["a"](-10171,e.t0,u);case 34:case"end":return e.stop()}}),e,this,[[2,27]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRowId",value:function(){return S["a"].SafeToString(this.get(this.m_owner.getConnection().getRowIdFieldName()))}},{key:"setRowId",value:function(e){this.put(this.m_owner.getConnection().getRowIdFieldName(),e)}},{key:"setFollowRules",value:function(e){this.m_bFollowRules=e}}]),e}();w.PARSE_NODE_NAME=0,w.PARSE_EXPECTING_OPEN_PAR=1,w.PARSE_PARAM_VALUE=2,w.PARSE_EXPECTING_COMMA=3},ae9f:function(e,t,n){},b335:function(e,t,n){"use strict";n("0073")},b39f:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("8a79"),n("6dc9")),s=n("3be9"),l=function(){function e(t){Object(a["a"])(this,e),this.m_stringData=["Valor prueba texto","Texto corto","0002346","Otro texto","Un texto mas largo de prueba","Mas texto"],this.m_maxRows=100,this.isResultset=!0,this.m_nIterate=0,this.m_parsed=new o["a"]("ROWID"),this.m_parsed.ParseSqlString(t)}return Object(i["a"])(e,[{key:"getBytes",value:function(e){return null}},{key:"getColumnCount",value:function(){return this.m_parsed.getQueryFields().length}},{key:"getColumnTypes",value:function(){return[1,2,3,4,5,6,7,8]}},{key:"getColumnName",value:function(e){if(e<this.m_parsed.getQueryFields().length){var t=this.m_parsed.getQueryFields()[e].getResolvedName();return(t.endsWith("*")||s["a"].isEmpty(t))&&(t="Column"+e),t}return"Column"+e}},{key:"close",value:function(){this.m_nIterate=0}},{key:"getValue",value:function(e,t){switch(t){case 0:return Math.floor(999*Math.random())+1;case 2:return 999*Math.random()+1;case 3:return new Date;default:return this.m_stringData[Math.floor(6*Math.random())]}return"Test Value"}},{key:"getString",value:function(e){return"test string"}},{key:"getInt",value:function(e){return Math.floor(999*Math.random())+1}},{key:"getDate",value:function(e){return new Date}},{key:"next",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate++!=this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EOF",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveTo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t==this.m_maxRows||(this.m_nIterate=t)==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},b512:function(e,t){window.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}},b89e:function(e,t,n){},b94b:function(e,t,n){"use strict";n("964c")},bc4c:function(e,t,n){"use strict";n("35ff")},c8f5:function(e,t,n){"use strict";n("ce31")},ce31:function(e,t,n){},ce48:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"clear",value:function(){}},{key:"getDescription",value:function(){return this.m_description}},{key:"getFailedSql",value:function(){return this.m_failedSql}},{key:"setFailedSql",value:function(e){this.m_failedSql=e}},{key:"getNumber",value:function(){return this.m_code}},{key:"setNumber",value:function(e){this.m_code=e}},{key:"setDescription",value:function(e){this.m_description=e}}]),e}()},cfc9:function(e,t,n){"use strict";n("1b0b")},d2c7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={SYS_MSG_GENERALFAIL:"SYS_MSG_GENERALFAIL",SYS_MSG_DATASRCFAIL:"SYS_MSG_DATASRCFAIL",SYS_MSG_FILENOTFOUND:"SYS_MSG_FILENOTFOUND",SYS_MSG_FILENOTFOUND_01:"SYS_MSG_FILENOTFOUND_01",SYS_MSG_FORMULAERROR:"SYS_MSG_FORMULAERROR",SYS_MSG_COLL_CIRCULARCOLLDEF:"SYS_MSG_COLL_CIRCULARCOLLDEF",SYS_MSG_COLL_UNDEFINEDFIELD:"SYS_MSG_COLL_UNDEFINEDFIELD",SYS_MSG_COLL_NONAME:"SYS_MSG_COLL_NONAME",SYS_MSG_COLL_CANNOTCREATEOBJ:"SYS_MSG_COLL_CANNOTCREATEOBJ",SYS_MSG_COLL_SQLPARSEERROR:"SYS_MSG_COLL_SQLPARSEERROR",SYS_MSG_COLL_SQLPARSEERROR_01:"SYS_MSG_COLL_SQLPARSEERROR_01",SYS_MSG_COLL_CANNOTQUALIFY:"SYS_MSG_COLL_CANNOTQUALIFY",SYS_MSG_COLL_XPROPVALUEFAIL:"SYS_MSG_COLL_XPROPVALUEFAIL",SYS_MSG_COLL_PREPARESQLFAIL:"SYS_MSG_COLL_PREPARESQLFAIL",SYS_MSG_COLL_COLLCONNOPENERR:"SYS_MSG_COLL_COLLCONNOPENERR",SYS_MSG_COLL_LOADALLFAIL_02:"SYS_MSG_COLL_LOADALLFAIL_02",SYS_MSG_COLL_LOADALLFAIL_03:"SYS_MSG_COLL_LOADALLFAIL_03",SYS_MSG_COLL_CREATECLONEFAIL:"SYS_MSG_COLL_CREATECLONEFAIL",SYS_MSG_COLL_GETROWCOUNTFAIL:"SYS_MSG_COLL_GETROWCOUNTFAIL",SYS_MSG_COLL_EXECUTENODEFAIL:"SYS_MSG_COLL_EXECUTENODEFAIL",SYS_MSG_COLL_EMBEDFILTERFAIL:"SYS_MSG_COLL_EMBEDFILTERFAIL",SYS_MSG_COLL_LOOKUPOBJFAIL_02:"SYS_MSG_COLL_LOOKUPOBJFAIL_02",SYS_MSG_COLL_LOOKUPOBJFAIL_03:"SYS_MSG_COLL_LOOKUPOBJFAIL_03",SYS_MSG_COLL_EVALMACROFAIL_01:"SYS_MSG_COLL_EVALMACROFAIL_01",SYS_MSG_COLL_EVALMACROFAIL_02:"SYS_MSG_COLL_EVALMACROFAIL_02",SYS_MSG_COLL_FIELDEXISTSFAIL:"SYS_MSG_COLL_FIELDEXISTSFAIL",SYS_MSG_COLL_LOADCURRITEMFAIL_01:"SYS_MSG_COLL_LOADCURRITEMFAIL_01",SYS_MSG_OBJ_GENERATEFLDFAIL:"SYS_MSG_OBJ_GENERATEFLDFAIL",SYS_MSG_OBJ_SAVEFAIL:"SYS_MSG_OBJ_SAVEFAIL",SYS_MSG_OBJ_SAVEFAIL_02:"SYS_MSG_OBJ_SAVEFAIL_02",SYS_MSG_OBJ_DELETEOBJFAIL_01:"SYS_MSG_OBJ_DELETEOBJFAIL_01",SYS_MSG_OBJ_DELETEOBJFAIL_02:"SYS_MSG_OBJ_DELETEOBJFAIL_02",SYS_MSG_OBJ_CREATEFAIL_01:"SYS_MSG_OBJ_CREATEFAIL_01",SYS_MSG_OBJ_CREATEFAIL_02:"SYS_MSG_OBJ_CREATEFAIL_02",SYS_MSG_OBJ_CREATEFAIL_03:"SYS_MSG_OBJ_CREATEFAIL_03",SYS_MSG_OBJ_COPYPROPFAIL:"SYS_MSG_OBJ_COPYPROPFAIL",SYS_MSG_OBJ_LINKFAIL_01:"SYS_MSG_OBJ_LINKFAIL_01",SYS_MSG_OBJ_LINKFAIL_02:"SYS_MSG_OBJ_LINKFAIL_02",SYS_MSG_OBJ_CANNOTDELETE:"SYS_MSG_OBJ_CANNOTDELETE",SYS_MSG_OBJ_GETNORMALPROPFAIL:"SYS_MSG_OBJ_GETNORMALPROPFAIL",SYS_MSG_OBJ_PROCESSVALFAIL:"SYS_MSG_OBJ_PROCESSVALFAIL",SYS_MSG_OBJ_NOXLATTARGET:"SYS_MSG_OBJ_NOXLATTARGET",SYS_MSG_OBJ_XLATMISSINGFLD:"SYS_MSG_OBJ_XLATMISSINGFLD",SYS_MSG_OBJ_EXECUTEMETHODFAIL_01:"SYS_MSG_OBJ_EXECUTEMETHODFAIL_01",SYS_MSG_OBJ_EXECUTEMETHODFAIL_02:"SYS_MSG_OBJ_EXECUTEMETHODFAIL_02",SYS_MSG_OBJ_RESTOREMAPFLDFAIL_01:"SYS_MSG_OBJ_RESTOREMAPFLDFAIL_01",SYS_MSG_OBJ_RESTOREMAPFLDFAIL_02:"SYS_MSG_OBJ_RESTOREMAPFLDFAIL_02",SYS_MSG_OBJ_RESTOREMAPFLDFAIL_03:"SYS_MSG_OBJ_RESTOREMAPFLDFAIL_03",SYS_MSG_OBJ_LOADCONTENTFAIL_01:"SYS_MSG_OBJ_LOADCONTENTFAIL_01",SYS_MSG_OBJ_LOADCONTENTFAIL_02:"SYS_MSG_OBJ_LOADCONTENTFAIL_02",SYS_MSG_OBJ_REPLFLDVALUEMACROFAIL:"SYS_MSG_OBJ_REPLFLDVALUEMACROFAIL",SYS_MSG_OBJ_PUTITEMFAIL:"SYS_MSG_OBJ_PUTITEMFAIL",SYS_MSG_OBJ_GETFORMULAPROPFAIL_01:"SYS_MSG_OBJ_GETFORMULAPROPFAIL_01",SYS_MSG_OBJ_GETFORMULAPROPFAIL_02:"SYS_MSG_OBJ_GETFORMULAPROPFAIL_02",SYS_MSG_OBJ_GETEXTFORMULAFAIL:"SYS_MSG_OBJ_GETEXTFORMULAFAIL",SYS_MSG_OBJ_CHKUNIQFLDFAIL_01:"SYS_MSG_OBJ_CHKUNIQFLDFAIL_01",SYS_MSG_OBJ_CHKUNIQFLDFAIL_02:"SYS_MSG_OBJ_CHKUNIQFLDFAIL_02",SYS_MSG_OBJ_UPDDEPTHFAIL_01:"SYS_MSG_OBJ_UPDDEPTHFAIL_01",SYS_MSG_OBJ_UPDDEPTHFAIL_02:"SYS_MSG_OBJ_UPDDEPTHFAIL_02",SYS_MSG_OBJ_UPDATECNTFAIL:"SYS_MSG_OBJ_UPDATECNTFAIL",SYS_MSG_OBJ_SETVALFAIL:"SYS_MSG_OBJ_SETVALFAIL",SYS_MSG_OBJ_DOLINKFAIL:"SYS_MSG_OBJ_DOLINKFAIL",SYS_MSG_OBJ_SETFLDVALFAIL:"SYS_MSG_OBJ_SETFLDVALFAIL",SYS_MSG_OBJ_MAPVALFAIL:"SYS_MSG_OBJ_MAPVALFAIL",SYS_MSG_OBJ_EXECCOMPSQLFAIL_01:"SYS_MSG_OBJ_EXECCOMPSQLFAIL_01",SYS_MSG_OBJ_EXECCOMPSQLFAIL_02:"SYS_MSG_OBJ_EXECCOMPSQLFAIL_02",SYS_MSG_OBJ_RULEFAIL:"SYS_MSG_OBJ_RULEFAIL",SYS_MSG_OBJ_RULEFAIL_02:"SYS_MSG_OBJ_RULEFAIL_02",SYS_MSG_OBJ_FAILIFNULLFAIL:"SYS_MSG_OBJ_FAILIFNULLFAIL",SYS_MSG_OBJ_EOFRULEFAIL:"SYS_MSG_OBJ_EOFRULEFAIL",SYS_MSG_OBJ_COMPARENUMBERFAIL:"SYS_MSG_OBJ_COMPARENUMBERFAIL",SYS_MSG_OBJ_INCORRECTVALUE:"SYS_MSG_OBJ_INCORRECTVALUE",SYS_MSG_CONN_CONNFACTORY:"SYS_MSG_CONN_CONNFACTORY",SYS_MSG_CONN_LOADERROR:"SYS_MSG_CONN_LOADERROR",SYS_MSG_CONN_RPLLOADERROR:"SYS_MSG_CONN_RPLLOADERROR",SYS_MSG_CONN_INCORRECVALUE:"SYS_MSG_CONN_INCORRECVALUE",SYS_MSG_CONN_INNERCMDNULL:"SYS_MSG_CONN_INNERCMDNULL",SYS_MSG_CONN_INVALIDACTION:"SYS_MSG_CONN_INVALIDACTION",SYS_MSG_CONN_CMDNOTINITIALIZED:"SYS_MSG_CONN_CMDNOTINITIALIZED",SYS_MSG_CONN_CONNNOTINITIALIZED:"SYS_MSG_CONN_CONNNOTINITIALIZED",SYS_MSG_CONN_CLIENTFILENOTFOUND:"SYS_MSG_CONN_CLIENTFILENOTFOUND",SYS_MSG_CONN_SQLSYNTAXERROR:"SYS_MSG_CONN_SQLSYNTAXERROR",SYS_MSG_CONN_SQLPARSEERROR:"SYS_MSG_CONN_SQLPARSEERROR",SYS_MSG_CONN_INVALIDPARAMVAL:"SYS_MSG_CONN_INVALIDPARAMVAL",SYS_MSG_CONN_QUEUEINSERTERROR_01:"SYS_MSG_CONN_QUEUEINSERTERROR_01",SYS_MSG_CONN_QUEUEINSERTERROR_02:"SYS_MSG_CONN_QUEUEINSERTERROR_02",SYS_MSG_CONN_INCORRECTPARAM_01:"SYS_MSG_CONN_INCORRECTPARAM_01",SYS_MSG_CONN_INCORRECTPARAM_02:"SYS_MSG_CONN_INCORRECTPARAM_02",SYS_MSG_CONN_INVALIDCONNSTRING:"SYS_MSG_CONN_INVALIDCONNSTRING",SYS_MSG_APP_CANNOTCREATEMAINCONN:"SYS_MSG_APP_CANNOTCREATEMAINCONN",SYS_MSG_APP_OPENCONNERROR:"SYS_MSG_APP_OPENCONNERROR",SYS_MSG_APP_LOGONNOUSERCOLL:"SYS_MSG_APP_LOGONNOUSERCOLL",SYS_MSG_APP_LOGONUSERNOTFOUND:"SYS_MSG_APP_LOGONUSERNOTFOUND",SYS_MSG_APP_UNKNOWNSYSMACRO:"SYS_MSG_APP_UNKNOWNSYSMACRO",SYS_MSG_APP_ONLOGONFAILED:"SYS_MSG_APP_ONLOGONFAILED",SYS_MSG_APP_ENTIDLEVELFAILED_01:"SYS_MSG_APP_ENTIDLEVELFAILED_01",SYS_MSG_APP_NOCOMPANYCOLL:"SYS_MSG_APP_NOCOMPANYCOLL",SYS_MSG_APP_NOCOMPANY:"SYS_MSG_APP_NOCOMPANY",SYS_MSG_XERR_UNKNOWNMETHOD:"SYS_MSG_XERR_UNKNOWNMETHOD",SYS_MSG_CTX_STAKUNDERFLOW:"SYS_MSG_CTX_STAKUNDERFLOW",SYS_MSG_USR_READONLYFIELD:"SYS_MSG_USR_READONLYFIELD",SYS_MSG_SQL_STRIPFIELDERROR:"SYS_MSG_SQL_STRIPFIELDERROR",SYS_MSG_SQL_ADDFIELDERROR:"SYS_MSG_SQL_ADDFIELDERROR",SYS_MSG_SQL_EMPTYBUFFERERROR:"SYS_MSG_SQL_EMPTYBUFFERERROR",SYS_MSG_SQL_INCOMPLETETOKEN:"SYS_MSG_SQL_INCOMPLETETOKEN",SYS_MSG_SQL_SYNTAXERROR:"SYS_MSG_SQL_SYNTAXERROR",SYS_MSG_DBG_LINKDISCONNECTED:"SYS_MSG_DBG_LINKDISCONNECTED",SYS_MSG_VBS_BADPARAMCOUNT:"SYS_MSG_VBS_BADPARAMCOUNT"}},d2fd:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r,a=n("2909"),i=n("53ca"),o=n("1da1"),s=n("d4ec"),l=n("bee2"),u=(n("96cf"),n("a4d3"),n("e01a"),n("d3b7"),n("ac1f"),n("1276"),n("498a"),n("5319"),n("25f0"),n("159b"),n("99af"),n("2ca0"),n("8a79"),n("3be9")),c=n("57ee"),d=n("3019"),h=n("f0ed"),p=n("ae56"),f=n("0912"),m=n("984b"),g=n("d2c7"),b=n("f57f"),_=function(){function e(){Object(s["a"])(this,e)}return Object(l["a"])(e,null,[{key:"RsReadLong",value:function(e,t){var n=0;try{n=e.getInt(t)}catch(r){}return n}},{key:"RsReadInt",value:function(e,t){return this.RsReadLong(e,t)}},{key:"RsReadString",value:function(e,t){var n=h["a"].EMPTY_STRING;try{n=e.getString(t),n=c["a"].SafeToString(n)}catch(r){r.printStackTrace()}return n}}]),e}(),v=n("927f"),O=function(){function e(t,n){Object(s["a"])(this,e),this.m_lstMacros=new d["a"],this.m_ownerApp=t,this.m_ownerColl=n}return Object(l["a"])(e,[{key:"EvaluateAllMacros",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]&&d[1],null!=t){e.next=3;break}return e.abrupt("return",null);case 3:r=this.m_ownerColl.getLookupMacroName(),a=t,i=0;case 6:if(!(i<a.length)){e.next=27;break}if(i=a.indexOf("##",i),-1!=i){e.next=10;break}return e.abrupt("break",27);case 10:if(o=a.indexOf("##",i+2),-1!=o){e.next=13;break}return e.abrupt("break",27);case 13:if(s=a.substring(i,o+2),l=!0,n||c["a"].IsEmptyString(r)||r.equals(s)&&(l=!1),u=void 0,!l){e.next=23;break}return e.next=20,this.EvaluateMacro(s);case 20:u=e.sent,e.next=24;break;case 23:u=s;case 24:s.equals(u)?i=o+2:a=c["a"].Replace(a,s,u);case 25:e.next=6;break;case 27:return a.contains("##")&&(a=this.m_ownerApp.PrepareSqlString(a)),e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EvaluateMacro",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,d,h,p,f,b,O,y,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="CXoneDataCollection::EvaluateMacro",a=!1,o=this.m_ownerColl.getNode("macro","name",t),null!=o&&(r=v["a"].getNodeAttr(o,"filter"),a=c["a"].ParseBoolValue(r,!1)),!this.m_lstMacros.containsKey(t)){e.next=14;break}if(s=this.m_lstMacros.get(t),i=a?this.m_ownerColl.DevelopObjectValue(s):c["a"].SafeToString(s),c["a"].IsEmptyString(i)){e.next=14;break}if(r=this.m_ownerColl.getConnection().PrepareSqlString(i),!a){e.next=13;break}return e.next=12,this.m_ownerColl.BrowseData.PrepareFilter(r);case 12:r=e.sent;case 13:return e.abrupt("return",r);case 14:if(null!=o){e.next=16;break}return e.abrupt("return",t);case 16:if(i=v["a"].getNodeAttr(o,"value"),l="",u=null,!c["a"].IsEmptyString(i)){e.next=71;break}i="",d=o.SelectNodes("Node"),h=0;case 23:if(!(h<d.count())){e.next=71;break}if(p=d.get(h),!this.EvaluateNodeRules(p)){e.next=68;break}if(!"id-list".equals(v["a"].getNodeAttr(p,"name"))){e.next=68;break}if(i=v["a"].getNodeAttr(p,"mask"),l=v["a"].getNodeAttr(p,"sql"),null!=(u=this.m_ownerApp.getCurrentCompany())&&(l=u.PrepareSqlString(l)),f=null,b=null,e.prev=32,null!=(b=this.m_ownerColl.getConnection().GetNewConnection(!0))){e.next=38;break}throw O=this.m_ownerColl.GetMessage(g["a"].SYS_MSG_COLL_EVALMACROFAIL_01,"{0} failed. Error evaluating macro '{1}'. Cannot create new data connection."),O=O.replace("{0}",n),O=O.replace("{1}",t),new m["a"](-3998,O);case 38:return e.next=40,this.m_ownerColl.getConnection().CreateRecordsetAsync(b,l);case 40:if(e.t0=f=e.sent,null!=e.t0){e.next=47;break}throw b=null,y=this.m_ownerColl.GetMessage(g["a"].SYS_MSG_COLL_EVALMACROFAIL_02,"{0} failed. Error evaluating macro '{1}'. Error executing SQL query."),y=y.replace("{0}",n),y=y.replace("{1}",t),new m["a"](-3999,y);case 47:r="";case 48:return e.next=50,f.next();case 50:if(!e.sent){e.next=56;break}C=c["a"].SafeToString(_.RsReadLong(f,"N")),c["a"].IsEmptyString(r)||(r+=","),r+=C,e.next=48;break;case 56:f.close(),f=null,b=null,e.next=65;break;case 61:if(e.prev=61,e.t1=e["catch"](32),null!=f){try{f.close()}catch(S){}f=null}throw e.t1;case 65:return c["a"].IsEmptyString(r)&&(r="NULL"),i=c["a"].Replace(i,"##LIST##",r),e.abrupt("break",71);case 68:h++,e.next=23;break;case 71:return l=this.m_ownerColl.getConnection().PrepareSqlString(i),l.contains("##")&&(l=this.m_ownerColl.getConnection().ReplaceCustomOper(this.m_ownerColl,l,"##BIT##")),a&&(l=this.m_ownerColl.getConnection().PrepareFilter(l)),e.abrupt("return",l);case 75:case"end":return e.stop()}}),e,this,[[32,61]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EvaluateNodeRules",value:function(e){var t,n,r=null;t=e.SelectNodes("rule");for(var a=0;a<t.count();a++){var i=t.get(a);if(n=v["a"].getNodeAttr(i,"scope"),n.equals("current-enterprise")){if(null==r&&(r=this.m_ownerApp.getCompany()),null==r)return!1;if(!r.EvaluateRule(i))return!1}else;}return!0}}]),e}(),y=n("0e62"),C=n("54ab"),S=n("262e"),E=n("2caf"),T=function(e){Object(S["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(s["a"])(this,n),t.apply(this,arguments)}return n}(p["a"]),k=n("8672"),w=function(e){Object(S["a"])(n,e);var t=Object(E["a"])(n);function n(e){var r;Object(s["a"])(this,n),r=t.call(this,e);try{r.m_strHashType=e.FieldPropertyValue("PWD","hash-type"),c["a"].IsEmptyString(r.m_strEncode=e.FieldPropertyValue("PWD","encode"))&&(r.m_strEncode="base64")}catch(a){throw a}return r}return Object(l["a"])(n,[{key:"ValidateUserCredentials",value:function(e){var t=c["a"].SafeToString(e[0]),n=c["a"].SafeToString(this.get("PWD"));return c["a"].IsEmptyString(t)?c["a"].IsEmptyString(n):(c["a"].IsEmptyString(this.m_strHashType)||(t=k["a"].createHash(this.m_strHashType,this.m_strEncode,t)),n.equals(t))}}]),n}(p["a"]),A=n("458e"),R=n("a33b"),I=n("54c9"),P=n("ef74"),N=(n("7039"),n("ddb0"),n("6dc9")),j=n("733f"),M=n("8277"),L=function(){function e(t,n){Object(s["a"])(this,e),this.m_ownerApp=t,this.m_ownerColl=n}return Object(l["a"])(e,[{key:"LookupObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,d,h,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=null,i=null,o=null,s=null,l="CXoneDataCollection::LookupObject",e.prev=5,c["a"].IsEmptyString(this.m_ownerColl.getLookupMacroName())||this.m_ownerColl.setMacro(this.m_ownerColl.getLookupMacroName(),n),u=this.m_ownerColl.getConnection().PrepareSqlString(t,!1,r),e.next=10,this.m_ownerColl.EvaluateAllMacros(u);case 10:return u=e.sent,c["a"].IsEmptyString(this.m_ownerColl.getLookupMacroName())||this.m_ownerColl.setMacro(this.m_ownerColl.getLookupMacroName(),null),e.next=14,this.m_ownerColl.getConnection().CreateRecordsetAsync(u,{count:!0,coll:this.m_ownerColl.getName(),loadall:!0,page:{}});case 14:if(e.t0=o=e.sent,null!=e.t0){e.next=19;break}throw d=this.m_ownerColl.GetMessage(g["a"].SYS_MSG_COLL_LOOKUPOBJFAIL_02,"{0} failed. Error executing data access query."),d=d.replace("{0}",l),new m["a"](-5634,d);case 19:return e.next=21,o.next();case 21:if(!e.sent){e.next=52;break}if(this.m_ownerColl.strPk.contains(",")||(a="",s=o.getValue(this.m_ownerColl.strPk,this.m_ownerColl.Options.nPkType),this.m_ownerColl.Options.bStringPk||(s=b["a"].SafeToInt(s)),a=this.m_ownerColl.BrowseData.DevelopObjectValue(s)),c["a"].IsEmptyString(a)||this.m_ownerColl.BrowseData.ObjectList.containsKey(a)&&(i=this.m_ownerColl.BrowseData.ObjectList.get(a)),h=!1,null!=i){e.next=36;break}return e.next=28,this.m_ownerColl.CreateObject(!1);case 28:if(i=e.sent,null!=i){e.next=35;break}throw o.close(),o=null,p=this.m_ownerColl.GetMessage(g["a"].SYS_MSG_COLL_LOOKUPOBJFAIL_03,"{0} failed. CreateObject returned NULL."),p=p.replace("{0}",l),new m["a"](-5635,p);case 35:h=!0;case 36:if(f=!0,!h&&!this.m_ownerColl.Options.bVolatile){e.next=41;break}return e.next=40,i.Load(o);case 40:f=e.sent;case 41:if(o.close(),o=null,f){e.next=46;break}return i=null,e.abrupt("return",null);case 46:if(!h){e.next=50;break}if(this.m_ownerColl.addItem(i)){e.next=50;break}return i=null,e.abrupt("return",null);case 50:e.next=54;break;case 52:o.close(),o=null;case 54:return e.abrupt("return",i);case 57:if(e.prev=57,e.t1=e["catch"](5),null!=o){try{o.close()}catch(_){}o=null}throw e.t1;case 61:case"end":return e.stop()}}),e,this,[[5,57]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"LookupObjectByObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null,r=null,a=null,i=null,o="CXoneDataCollection::LookupObject",e.prev=5,e.next=8,this.m_ownerColl.getConnection().CreateRecordsetAsync(null,{count:!0,coll:this.m_ownerColl.getName(),loadall:!0,page:{}});case 8:if(e.t0=a=e.sent,null!=e.t0){e.next=13;break}throw s=this.m_ownerColl.GetMessage(g["a"].SYS_MSG_COLL_LOOKUPOBJFAIL_02,"{0} failed. Error executing data access query."),s=s.replace("{0}",o),new m["a"](-5634,s);case 13:return e.next=15,a.next();case 15:if(!e.sent){e.next=46;break}if(!this.m_ownerColl.strPk.contains(",")){n="";try{i=a.getValue(this.m_ownerColl.strPk,this.m_ownerColl.Options.nPkType),this.m_ownerColl.Options.bStringPk||(i=b["a"].SafeToInt(i)),n=this.m_ownerColl.BrowseData.DevelopObjectValue(i)}catch(t){}}if(c["a"].IsEmptyString(n)||this.m_ownerColl.BrowseData.ObjectList.containsKey(n)&&(r=this.m_ownerColl.BrowseData.ObjectList.get(n)),l=!1,null!=r){e.next=30;break}return e.next=22,this.m_ownerColl.CreateObject(!1);case 22:if(r=e.sent,null!=r){e.next=29;break}throw a.close(),a=null,u=this.m_ownerColl.GetMessage(g["a"].SYS_MSG_COLL_LOOKUPOBJFAIL_03,"{0} failed. CreateObject returned NULL."),u=u.replace("{0}",o),new m["a"](-5635,u);case 29:l=!0;case 30:if(d=!0,!l&&!this.m_ownerColl.Options.bVolatile){e.next=35;break}return e.next=34,r.Load(a);case 34:d=e.sent;case 35:if(a.close(),a=null,d){e.next=40;break}return r=null,e.abrupt("return",null);case 40:if(!l){e.next=44;break}if(this.m_ownerColl.addItem(r)){e.next=44;break}return r=null,e.abrupt("return",null);case 44:e.next=48;break;case 46:a.close(),a=null;case 48:return e.abrupt("return",r);case 51:if(e.prev=51,e.t1=e["catch"](5),null!=a){try{a.close()}catch(h){}a=null}throw e.t1;case 55:case"end":return e.stop()}}),e,this,[[5,51]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();(function(e){e[e["MOVE_PTR_FIRST"]=1]="MOVE_PTR_FIRST",e[e["MOVE_PTR_LAST"]=2]="MOVE_PTR_LAST",e[e["MOVE_PTR_NEXT"]=3]="MOVE_PTR_NEXT",e[e["MOVE_PTR_PREV"]=4]="MOVE_PTR_PREV"})(r||(r={}));var D=function(){function e(t){Object(s["a"])(this,e),this.m_dataColl=t;var n="";this.m_lookupObject=new L(t.getOwnerApp(),t),this.m_lstObjectList=new d["a"],this.m_lstOrderedList=new Array,this.m_lstObjectLru=new A["a"],this.m_lstFieldMappings=new d["a"],this.m_currentStart=0,this.m_currentLength=1,this.m_nCurrentIndex=0,this.m_bIsFetchDataRunning=!1,c["a"].IsEmptyString(n=this.DataColl.CollPropertyValue("connection"))?this.m_connection=this.DataColl.getOwnerApp().getConnection():(this.m_strConnectionName=n,this.m_connection=this.DataColl.getOwnerApp().getConnection(this.m_strConnectionName))}return Object(l["a"])(e,[{key:"DataColl",get:function(){return this.m_dataColl}},{key:"Options",get:function(){return this.m_dataColl.Options}},{key:"isEquivalent",value:function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!=r.length)return!1;for(var a=0;a<n.length;a++){var i=n[a];if(e[i]!==t[i])return!1}return!0}},{key:"AddItem",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=!0,a="",i="";if(null!=this.m_lstCopyList&&(this.m_lstCopyList=new A["a"]),"NULL".equals(i=e.GetObjectIdString())&&(i=null),!c["a"].IsEmptyString(i)){if(this.m_lstObjectList.containsKey(i)){var o=this.m_lstObjectList.get(i);if(null!=o){if(!(r=!this.isEquivalent(o,e)))return!0;this.m_lstOrderedList.contains(o)&&this.m_lstOrderedList.remove(o),this.m_lstObjectLru.contains(o)&&this.m_lstObjectLru.removeElement(o)}}r&&this.m_lstObjectList.put(i,e)}return this.Options.nThreshold>0&&(this.m_lstObjectLru.contains(e)&&this.m_lstObjectLru.removeElement(e),this.m_lstOrderedList.length>=this.Options.nThreshold&&(t=this.m_lstObjectLru[0],c["a"].IsEmptyString(a=t.GetObjectIdString())||this.m_lstObjectList.containsKey(a)&&this.m_lstObjectList.delete(a),this.m_lstOrderedList.remove(0),this.m_lstObjectLru.removeElement(t))),n>=0?this.m_lstOrderedList.length>n?this.m_lstOrderedList.add(n,e):this.m_lstOrderedList.push(e):this.m_lstOrderedList.contains(e)||this.m_lstOrderedList.push(e),this.Options.nThreshold>0&&this.m_lstObjectLru.push(e),this.m_bIsSpecial&&(this.m_nBrowseLength=this.m_lstOrderedList.length),!0}},{key:"ObjectIndex",value:function(e){if(!this.m_lstOrderedList.contains(e))return-1;for(var t=0;t<this.m_lstOrderedList.length;t++)if(this.m_lstOrderedList[t]===e)return t;return-1}},{key:"GetObjectInt",value:function(e){return this.m_lstOrderedList.length<=e?null:(e<0&&(e=0),this.m_lstOrderedList[e])}},{key:"ObjectList",get:function(){return this.m_lstObjectList}},{key:"GetObjectSring",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.m_lstObjectList.containsKey(t)){e.next=2;break}return e.abrupt("return",this.m_lstObjectList.get(t));case 2:if(n=this.DataColl.getIdFieldName(),r=null,r=this.Options.bStringPk?t:b["a"].SafeToInt(t),null!=r){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,this.GetObject(n,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"GetLocalObject",value:function(e,t){if("number"===typeof e)return this.GetObjectInt(e);if(null==t){var n=e;if(this.m_lstObjectList.containsKey(n))return this.m_lstObjectList.get(n)}for(var r=this.m_lstOrderedList.entries,a=0;a<r.length;a++){var i=r[a];if(C["a"].EqualObj(i.get(e),t))return i}return null}},{key:"GetObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(l.length>2&&void 0!==l[2])||l[2],r=!(l.length>3&&void 0!==l[3])||l[3],i=null,"number"!==typeof t){e.next=5;break}return e.abrupt("return",this.GetObjectInt(t));case 5:if(null!=n){e.next=9;break}return e.next=8,this.GetObjectSring(t);case 8:return e.abrupt("return",e.sent);case 9:if(((null===(a=t)||void 0===a?void 0:a.equals("MAP_$KEY"))||this.m_bIsSpecial)&&(r=!1),!r||null!=i){e.next=26;break}return e.next=13,this.GenerateKeySearch(t,n);case 13:return o=e.sent,e.next=16,this.GenerateSearchSql(o);case 16:return s=e.sent,e.t0=this,e.t1=s,e.t2=o,e.next=22,this.IsSqlPrefiltered();case 22:return e.t3=e.sent,e.next=25,e.t0.LookupObject.call(e.t0,e.t1,e.t2,e.t3);case 25:return e.abrupt("return",e.sent);case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"LookupObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_lookupObject.LookupObject(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="",r="",a="",i=null,e.prev=2,!c["a"].IsEmptyString(t)){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.ApplyFilters(!1);case 7:return r=e.sent,c["a"].IsEmptyString(r)||(r=" AND ("+r+")"),e.next=11,this.PrepareFilter(t);case 11:if(a=e.sent,r=a+r,!this.m_bSingleObject){e.next=23;break}return e.next=16,this.DataColl.getAccessString();case 16:e.t0=e.sent,e.t1="SELECT * FROM "+e.t0,e.t2=e.t1+" rrss WHERE ",e.t3=r,n=e.t2+e.t3,e.next=36;break;case 23:if(this.DataColl.Options.bUseRaw){e.next=33;break}return e.next=26,this.DataColl.getAccessString();case 26:e.t4=e.sent,e.t5="SELECT * FROM ("+e.t4,e.t6=e.t5+") rrss WHERE ",e.t7=r,n=e.t6+e.t7,e.next=36;break;case 33:return e.next=35,this.EmbedFilters(r);case 35:n=e.sent;case 36:return e.t8=this,e.t9=n,e.next=40,this.IsSqlPrefiltered();case 40:return e.t10=e.sent,e.next=43,e.t8.LookupObject.call(e.t8,e.t9,null,e.t10);case 43:return i=e.sent,e.abrupt("return",i);case 47:throw e.prev=47,e.t11=e["catch"](2),o=e.t11.message,s=this.DataColl.GetMessage(g["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),s=s.replace("{0}","CXoneDataCollection::findObject"),c["a"].IsEmptyString(o)||(s=s.concat(o)),new m["a"](-1002,e.t11,s);case 54:case"end":return e.stop()}}),e,this,[[2,47]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"PrepareSpecialCollection",value:function(){return this.m_dataColl.getNode("onprepare"),!1}},{key:"CountAsync",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.DataColl.getConnection().CountAsync(t,{count:!0,coll:this.DataColl.getName(),loadall:!1,page:{}});case 2:if(n=e.sent,!n){e.next=8;break}return e.next=6,n.next();case 6:if(!e.sent){e.next=8;break}return e.abrupt("return",n.getInt("N"));case 8:return e.abrupt("return",-1);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startBrowse",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u,d,p=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=p.length>0&&void 0!==p[0]&&p[0],n=p.length>1?p[1]:void 0,this.m_bIsSpecial=this.DataColl.Options.bIsSpecial,r="",a="",i="",o="",s=!1,!this.m_bIsSpecial){e.next=16;break}if(this.PrepareSpecialCollection()){e.next=14;break}return null!=this.DataColl.getOwnerObject()&&this.DataColl.getOwnerObject().PrepareSpecialCollection(this.DataColl),this.m_nBrowseLength=this.m_lstOrderedList.length,this.m_nCurrentIndex=0,e.next=12,this.LoadCurrentItem();case 12:if(!e.sent){e.next=14;break}return e.abrupt("return",this.DataColl);case 14:e.next=17;break;case 16:this.EndBrowse();case 17:if(1!=this.m_bIsFetchDataRunning){e.next=22;break}return e.next=20,function(){return new Promise((function(e){return setTimeout((function(){return e()}),100)}))}();case 20:e.next=17;break;case 22:return e.prev=22,this.m_bIsFetchDataRunning=!0,this.m_nCurrentRow=0,this.ClearCurrentItem(!0),e.t1=c["a"],e.next=29,this.DataColl.getAccessString();case 29:if(e.t2=o=e.sent,e.t0=e.t1.IsEmptyString.call(e.t1,e.t2),!e.t0){e.next=33;break}e.t0=!this.getConnection().acceptsEmptyQueries();case 33:if(!e.t0){e.next=35;break}return e.abrupt("return",null);case 35:if(r="",!this.DataColl.Options.bParseSQL){e.next=54;break}if(this.DataColl.Options.bSingleObject?r="SELECT * FROM "+o+" rrss":this.DataColl.Options.bUseRaw||(r="SELECT * FROM ("+o+") rrss"),!this.DataColl.Options.bUseRaw||this.DataColl.Options.bSingleObject){e.next=42;break}return e.next=41,this.IsSqlPrefiltered();case 41:s=e.sent;case 42:if(this.DataColl.Options.bUseRaw){e.next=49;break}return e.t3=r,e.next=46,this.ApplyFilters(!0);case 46:r=e.t3+=e.sent,e.next=52;break;case 49:return e.next=51,this.EmbedFilters(this.m_parsedAccessString);case 51:r=e.sent;case 52:e.next=56;break;case 54:r=o,s=!1;case 56:return i=this.PrepareSort(this.DataColl.getSort()),c["a"].IsEmptyString(i)||(a=" ORDER BY "+i,r+=a),r=this.PrepareSqlString(r,!1,s),null!=this.DataColl.getOwnerObject()&&r.contains("##")&&(r=this.DataColl.getOwnerObject().PrepareSqlString(r)),e.next=62,this.DataColl.EvaluateAllMacros(r,!0);case 62:if(r=e.sent,this.DataColl.Options.bDebug&&(a="\r\n"+r+"\r\n",this.DataColl.getOwnerApp().writeConsoleString(a)),(this.DataColl.getIsDebugging()||this.DataColl.getOwnerApp().isDebugMode())&&h["a"].DebugLog(h["a"].TAG_DATABASE_LOG,"StartBrowse: "+r),1!=t){e.next=71;break}return e.next=68,this.CountAsync(r);case 68:this.m_nBrowseLength=e.sent,e.next=72;break;case 71:this.m_nBrowseLength=-1;case 72:return e.next=74,this.getConnection().CreateRecordsetAsync(r,{count:t,coll:this.DataColl.getName(),loadall:!1,page:null!=n?n:{}});case 74:if(e.t4=this.m_rs=e.sent,null!=e.t4){e.next=79;break}throw l=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_COLLCONNOPENERR,"Error opening connection in collection '{0}'"),l=l.replace("{0}",this.DataColl.getName()),new m["a"](-1900,l);case 79:return e.next=81,this.MoveFirst();case 81:if(e.sent){e.next=85;break}return this.m_rs.close(),this.m_rs=null,e.abrupt("return",null);case 85:return this.DataColl.getOwnerApp().AddOpenColl(this.DataColl),e.abrupt("return",this.DataColl);case 89:throw e.prev=89,e.t5=e["catch"](22),this.m_bIsFetchDataRunning=!1,console.error(e.t5),this.EndBrowse(),u=this.DataColl.GetMessage(g["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),u=u.replace("{0}","CXoneDataCollection::StartBrowse"),d=e.t5.message,null!=d&&(u=u.concat(d)),new m["a"](-1008,e.t5,u);case 99:return e.prev=99,this.m_bIsFetchDataRunning=!1,e.finish(99);case 102:case"end":return e.stop()}}),e,this,[[22,89,99,102]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"browseLength",value:function(){return this.m_nBrowseLength}},{key:"GetRowCount",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,d,p,f,b,v,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=0,n="",r="",a="",i=null,o=!1,s="CXoneDataCollection::GetRowCount",e.prev=5,e.next=8,this.DataColl.getAccessString();case 8:if(r=e.sent,!c["a"].IsEmptyString(r)){e.next=12;break}if(!this.m_bIsSpecial){e.next=12;break}return e.abrupt("return",this.getCount());case 12:if(!this.m_bSingleObject){e.next=16;break}n="SELECT COUNT("+this.DataColl.strPk+") AS N FROM "+r+" rrss ",e.next=48;break;case 16:if(this.DataColl.Options.bUseRaw&&!r.toLowerCase().contains("group by")){e.next=28;break}return e.t0=r+" ",e.t1=c["a"],e.next=21,this.ApplyFilters(!0);case 21:e.t2=e.sent,e.t3=e.t1.Replace.call(e.t1,e.t2," WHERE "," HAVING "),l=e.t0+e.t3,n="SELECT COUNT("+this.DataColl.strPk+") AS N FROM ("+l+") rrss",o=!0,e.next=48;break;case 28:if(null!=this.m_parsedAccessString){e.next=33;break}return e.next=31,this.ParseAccessString();case 31:if(e.sent){e.next=33;break}return e.abrupt("return",-1);case 33:if(d=new N["a"](this.m_parsedAccessString),d.CopyData(this.m_parsedAccessString),d.getIsUnionQuery()){e.next=44;break}return a="COUNT("+this.QualifyField(this.DataColl.strPk)+")",d.clearQueryFields(),d.AddField(a,"N"),e.next=41,this.EmbedFilters(d,null);case 41:n=e.sent,e.next=48;break;case 44:for(p=0;p<d.getUnionQueries().length;p++)f=d.getUnionQueries()[p],a="COUNT("+this.QualifyField(this.DataColl.strPk,f)+")",f.clearQueryFields(),f.AddField(a,"N");return e.next=47,this.EmbedFilters(d,null);case 47:n=e.sent;case 48:return n=this.getConnection().PrepareSqlString(n,!1,o),e.next=51,this.DataColl.EvaluateAllMacros(n,!0);case 51:return n=e.sent,n=n.replace("\t"," "),n=n.replace("\r"," "),n=n.replace("\n"," "),this.DataColl.Options.bDebug&&(a="\r\n"+n+"\r\n",this.DataColl.getOwnerApp().writeConsoleString(a)),(this.DataColl.getIsDebugging()||this.DataColl.getOwnerApp().isDebugMode())&&h["a"].DebugLog(h["a"].TAG_DATABASE_LOG,"GetRowCount: "+n),e.next=59,this.DataColl.getConnection().CreateRecordsetAsync(n,{count:!0,coll:this.DataColl.getName(),loadall:!1,page:{}});case 59:if(e.t4=i=e.sent,null!=e.t4){e.next=64;break}throw b=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_GETROWCOUNTFAIL,"{0} failed. Row count query failed."),b=b.replace("{0}",s),new m["a"](-2e3,b);case 64:return e.next=66,i.next();case 66:if(!e.sent){e.next=74;break}if(t+=_.RsReadLong(i,"N"),!(this.m_nMaxRows>0)){e.next=72;break}if(!(t>this.m_nMaxRows)){e.next=72;break}return t=this.m_nMaxRows,e.abrupt("break",74);case 72:e.next=64;break;case 74:return i.close(),i=null,e.abrupt("return",t);case 79:if(e.prev=79,e.t5=e["catch"](5),null!=i){try{i.close()}catch(y){}i=null}throw v=e.t5.message,O=this.DataColl.GetMessage(g["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),O=O.replace("{0}",s),u["a"].isEmpty(v)||(O=O.concat(v)),new m["a"](-87878,e.t5,O);case 87:case"end":return e.stop()}}),e,this,[[5,79]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"MoveFirst",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_nBrowseOrder=1,!this.m_bIsSpecial){e.next=6;break}return this.m_nCurrentIndex=0,e.next=5,this.LoadCurrentItem();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.MovePtr(r.MOVE_PTR_FIRST);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"MoveNext",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_nBrowseOrder++,!this.m_bIsSpecial){e.next=6;break}return++this.m_nCurrentIndex>=this.m_nBrowseLength&&(this.m_nCurrentIndex=-1),e.next=5,this.LoadCurrentItem();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.MovePtr(r.MOVE_PTR_NEXT);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"MoveLast",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_nBrowseOrder=-1,!this.m_bIsSpecial){e.next=6;break}return this.m_nCurrentIndex=this.m_nBrowseLength>0?this.m_nBrowseLength-1:0,e.next=5,this.LoadCurrentItem();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.MovePtr(r.MOVE_PTR_LAST);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"MovePrevious",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(--this.m_nBrowseOrder<1&&(this.m_nBrowseOrder=1),!this.m_bIsSpecial){e.next=6;break}return this.m_nCurrentIndex-=this.m_nCurrentIndex>0?1:0,e.next=5,this.LoadCurrentItem();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.MovePtr(r.MOVE_PTR_PREV);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"MovePtr",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!1,a=!1,e.prev=2,null==this.m_rs){e.next=35;break}e.t0=t,e.next=e.t0===r.MOVE_PTR_FIRST?7:e.t0===r.MOVE_PTR_LAST?12:e.t0===r.MOVE_PTR_NEXT?14:e.t0===r.MOVE_PTR_PREV?28:30;break;case 7:return e.next=9,this.m_rs.next();case 9:return this.m_nCurrentRow=0,this.m_bHasTopRow&&null!=this.m_pTopRowItem&&(this.m_pTopRowItem=null),e.abrupt("break",30);case 12:return this.m_nMaxRows>0&&(this.m_nCurrentRow=this.m_nMaxRows-1),e.abrupt("break",30);case 14:if(i=!1,!(this.m_nMaxRows>0)){e.next=23;break}if(!(this.m_nCurrentRow<this.m_nMaxRows)){e.next=21;break}return this.m_nCurrentRow++,e.next=20,this.m_rs.next();case 20:i=e.sent;case 21:e.next=26;break;case 23:return e.next=25,this.m_rs.next();case 25:i=e.sent;case 26:return i||(this.m_rs.close(),this.m_rs=null,this.DataColl.getOwnerApp().RemoveOpenColl(this.DataColl)),e.abrupt("break",30);case 28:return--this.m_nCurrentRow<0&&(this.m_nCurrentRow=0),e.abrupt("break",30);case 30:return e.next=32,this.LoadCurrentItem();case 32:a=e.sent,e.next=36;break;case 35:n=!0;case 36:return n&&this.ClearCurrentItem(!0),e.abrupt("return",a);case 40:throw e.prev=40,e.t1=e["catch"](2),this.EndBrowse(),o=this.m_dataColl.GetMessage(g["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),o=o.replace("{0}","CXoneDataCollection::MovePtr"),s=e.t1.message,u["a"].isEmpty(s)?console.error(e.t1):o=o.concat(s),new m["a"](-1010,e.t1,o);case 48:case"end":return e.stop()}}),e,this,[[2,40]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EndBrowse",value:function(){try{if(null==this.getConnection()){var e=this.DataColl.GetMessage(g["a"].SYS_MSG_GENERALFAIL,"{0} failed. ");throw e=e.replace("{0}","CXoneDataCollection::GetConnection"),e=e.concat("Cannot find connection "+this.getConnectionName()),new m["a"](-1900,e)}return this.getConnection().cancelProcesses(0),this.m_bIsSpecial?(this.DataColl.clear(),!0):(this.ClearCurrentItem(!0),null!=this.m_rs&&(this.m_rs.close(),this.m_rs=null),this.DataColl.getOwnerApp().RemoveOpenColl(this.DataColl),!0)}catch(n){var t=this.DataColl.GetMessage(g["a"].SYS_MSG_GENERALFAIL,"{0} failed. ");throw t=t.replace("{0}","CXoneDataCollection::EndBrowse"),t=t.concat(n.getMessage()),new m["a"](-1009,n,t)}}},{key:"getConnectionName",value:function(){return this.m_strConnectionName}},{key:"getConnection",value:function(){return null==this.m_connection&&(this.m_connection=this.DataColl.getOwnerApp().getConnection(this.m_strConnectionName)),this.m_connection}},{key:"loadAllAsync",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,d,p,f,b,_,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]&&v[0],n=v.length>1?v[1]:void 0,r=null,s=null,l=1,d="XoneDataCollection::LoadAll",p=!1,!0!==this.DataColl.isLock()){e.next=9;break}return e.abrupt("return",this.DataColl);case 9:if(!this.m_bIsSpecial){e.next=13;break}return this.PrepareSpecialCollection(),this.DataColl.setFull(!0),e.abrupt("return",this.DataColl);case 13:if(1!=this.m_bIsFetchDataRunning){e.next=18;break}return e.next=16,function(){return new Promise((function(e){return setTimeout((function(){return e()}),100)}))}();case 16:e.next=13;break;case 18:if(e.prev=18,this.m_bIsFetchDataRunning=!0,this.DataColl.setFull(!1),this.Clear(),!this.Options.bCheckOwner){e.next=26;break}if(null==this.DataColl.getOwnerObject()){e.next=26;break}if(!this.DataColl.getOwnerObject().GetObjectIdString(!0).equals("NULL")){e.next=26;break}return e.abrupt("return",this.DataColl);case 26:return e.t1=u["a"],e.next=29,this.DataColl.getAccessString();case 29:if(e.t2=i=e.sent,e.t0=e.t1.isEmpty.call(e.t1,e.t2),!e.t0){e.next=33;break}e.t0=!this.getConnection().acceptsEmptyQueries();case 33:if(!e.t0){e.next=35;break}return e.abrupt("return",this.DataColl);case 35:if(a="",!this.Options.bParseSQL){e.next=54;break}if(this.Options.bSingleObject?a="SELECT * FROM "+i+" rrss":this.Options.bUseRaw||(a="SELECT * FROM ("+i+") rrss"),!this.Options.bUseRaw||this.Options.bSingleObject){e.next=42;break}return e.next=41,this.IsSqlPrefiltered();case 41:p=e.sent;case 42:if(this.Options.bUseRaw){e.next=49;break}return e.t3=a,e.next=46,this.ApplyFilters(!0);case 46:a=e.t3+=e.sent,e.next=52;break;case 49:return e.next=51,this.EmbedFilters(null);case 51:a=e.sent;case 52:e.next=56;break;case 54:a=i,p=!1;case 56:return c["a"].IsEmptyString(o=this.PrepareSort(this.DataColl.getSort()))||(i=" ORDER BY "+o,a+=i),a=this.PrepareSqlString(a,!1,p),null!=this.DataColl.getOwnerObject()&&(a=this.DataColl.getOwnerObject().PrepareSqlString(a)),e.next=61,this.DataColl.EvaluateAllMacros(a,!0);case 61:if(a=e.sent,this.Options.bDebug&&(i="\r\n"+a+"\r\n",this.DataColl.getOwnerApp().writeConsoleString(i)),(this.DataColl.getIsDebugging()||this.DataColl.getOwnerApp().isDebugMode())&&h["a"].DebugLog(h["a"].TAG_DATABASE_LOG,"LoadAll: "+a),this.getConnection().cancelProcesses(0),1!=t){e.next=71;break}return e.next=68,this.CountAsync(a);case 68:this.m_nBrowseLength=e.sent,e.next=72;break;case 71:this.m_nBrowseLength=-1;case 72:return e.next=74,this.getConnection().CreateRecordsetAsync(a,{count:!1,coll:this.DataColl.getName(),loadall:!1,page:null!=n?n:{start:0,length:1e3}});case 74:if(e.t4=r=e.sent,null!=e.t4){e.next=79;break}throw f=this.DataColl.GetMessage(g["a"].SYS_MSG_DATASRCFAIL,"{0} failed. Cannot open data source."),f=f.replace("{0}",d),new m["a"](-2999,f);case 79:return e.next=81,r.next();case 81:if(!e.sent){e.next=99;break}return e.next=84,this.DataColl.CreateObject(!1);case 84:if(s=e.sent,null!=s){e.next=89;break}throw b=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_LOADALLFAIL_02,"{0} cannot create a new object. CreateObject failed."),b=b.replace("{0}",d),new m["a"](-1005,b);case 89:if(s.SetPropertyValue("MAP_SYS_ORDER",l-1),s.Load(r)){e.next=94;break}throw _=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_LOADALLFAIL_03,"{0} failed. Call to XoneDataObject::Load failed."),_=_.replace("{0}",d),new m["a"](-10051,_);case 94:s.GetObjectIdString(),this.AddItem(s);case 96:l++,e.next=79;break;case 99:return r.close(),r=null,this.DataColl.setFull(!0),e.abrupt("return",this.DataColl);case 105:if(e.prev=105,e.t5=e["catch"](18),this.m_bIsFetchDataRunning=!0,null!=r){try{r.close()}catch(O){}r=null}throw e.t5;case 110:return e.prev=110,this.m_bIsFetchDataRunning=!1,e.finish(110);case 113:case"end":return e.stop()}}),e,this,[[18,105,110,113]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"PrepareSort",value:function(e){return e}},{key:"IsUnionQuery",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,null!=n){e.next=11;break}if(null!=this.m_parsedAccessString){e.next=10;break}return e.next=5,this.ParseAccessString();case 5:if(e.sent){e.next=10;break}throw r=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_SQLPARSEERROR_01,"{0} failed. Cannot parse SQL sentence for collection '{1}'"),r=r.replace("{0}","CXoneDataCollection::IsUnionQuery"),r=r.replace("{1}",this.DataColl.getName()),new m["a"](-10990,r);case 10:n=this.m_parsedAccessString;case 11:if(null!=n){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",n.getIsUnionQuery());case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ParseAccessString",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.m_parsedAccessString=new N["a"](this.getConnection().getRowIdFieldName(),this.DataColl.getOwnerApp().getMessageHolder()),e.next=3,this.DataColl.getAccessString();case 3:if(t=e.sent,!u["a"].isEmpty(t)){e.next=6;break}return e.abrupt("return",!0);case 6:return n=this.m_parsedAccessString.ParseSqlString(t)==M["a"].SQLTYPE_SELECT,n||(this.m_parsedAccessString=null),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"GenerateRowID",value:function(){return this.getConnection().GenerateRowId()}},{key:"MapField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;return c["a"].IsEmptyString(n)?e:(this.m_lstFieldMappings.containsKey(e)&&(n=this.m_lstFieldMappings.get(e)),-1!=n.indexOf(" ")&&t&&(n=this.getConnection().QuoteFieldName(n)),n)}},{key:"PrepareSqlString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(c["a"].IsEmptyString(e))return e;if(!e.contains("##"))return e;if(null==this.getConnection())return e;var r=e;if(r.contains("##FILTER##")&&(r=c["a"].Replace(r,"##FILTER##",c["a"].SafeToString(this.DataColl.getFilter())),!r.contains("##")))return r;if(r.contains("##LINKFILTER##")&&(r=c["a"].Replace(r,"##LINKFILTER##",c["a"].SafeToString(this.DataColl.getLinkFilter())),!r.contains("##")))return r;if(r.contains("##ACCESS_STRING##")&&(r=c["a"].Replace(r,"##ACCESS_STRING##",h["a"].EMPTY_STRING),!r.contains("##")))return r;r.contains("##ROWID##")&&(r=c["a"].Replace(r,"##ROWID##",c["a"].SafeToString(this.GenerateRowID())));var a=this.getConnection();return r=a.PrepareSqlString(r,t,n),r.contains("##BIT##")&&(r=a.ReplaceCustomOper(this.DataColl,r,"##BIT##")),r.contains("##")&&(r=this.DataColl.getOwnerApp().PrepareSqlString(r)),r}},{key:"DevelopFilterMacros",value:function(e){var t="";if(c["a"].IsEmptyString(e))return e;var n=e;if(n.contains("##")&&n.contains("##NOW")){var r=j["a"].getInstance();n.contains("##NOW_TIME##")&&(t=this.DevelopObjectValue(r),n=c["a"].Replace(n,"##NOW_TIME##",t)),n.contains("##NOW")&&(C["a"].ZeroCalendarTime(r),t=this.DevelopObjectValue(r),n.contains("##NOW_NOTIME##")&&(n=c["a"].Replace(n,"##NOW_NOTIME##",t)),n.contains("##NOW##")&&(n=c["a"].Replace(n,"##NOW##",t)))}return n}},{key:"DevelopCollFilters",value:function(e){var t,n="",r="",a="",i="";if(!e.contains("##"))return e;var o=e;if((o.contains("##ENTID##")||o.contains("##ENTIDCOLL##")||o.contains("##USERID##")||o.contains("##USERIDCOLL##")||o.contains("##ENTIDLEVEL##")||o.contains("##ENTIDOWNER##"))&&null!=(t=this.DataColl.getOwnerApp().getCurrentCompany())){n="="+t.GetObjectIdString(!0),c["a"].IsEmptyString(this.DataColl.getOwnerApp().getIdColl())?r=n:(i=this.DataColl.getOwnerApp().getIdColl(),r=-1==i.indexOf(",")&&-1==i.indexOf(" ")?"="+i:" IN ("+i+") "),a=c["a"].IsEmptyString(this.DataColl.getOwnerApp().getUserIdColl())?" IS NULL":" IN ("+this.DataColl.getOwnerApp().getUserIdColl()+")",o=c["a"].Replace(o,"=##ENTID##",n),o=c["a"].Replace(o,"=##ENTIDCOLL##",r),o=c["a"].Replace(o,"=##USERIDCOLL##",a),o.contains("##ENTIDLEVEL##")&&(c["a"].IsEmptyString(this.DataColl.getOwnerApp().getEntIdLevel())?r=n:(i=this.DataColl.getOwnerApp().getEntIdLevel(),r=-1==i.indexOf(",")&&-1==i.indexOf(" ")?"="+i:" IN ("+i+") "),o=c["a"].Replace(o,"=##ENTIDLEVEL##",r)),o.contains("##ENTIDOWNER##")&&(i=this.DataColl.getOwnerApp().getEntIdOwner(),r=c["a"].IsEmptyString(i)?n:"="+i,o=c["a"].Replace(o,"=##ENTIDOWNER##",r)),o=c["a"].Replace(o,'"',"'");var s=b["a"].SafeToInt(t.GetRawPropertyValue("MAP_IDCURRENTUSER"));n=0==s?" IS NULL":"="+s,o=c["a"].Replace(o,"=##USERID##",n)}return o.contains("##MID##")&&this.getConnection().getIsReplicating()&&(n="'"+this.getConnection().getMID()+"'",o=c["a"].Replace(o,"##MID##",n)),o.contains("##ID##")&&null!=this.DataColl.getOwnerObject()&&(n=this.DataColl.getOwnerObject().GetObjectIdString(!0),o=c["a"].Replace(o,"=##ID##",n.equals("NULL")?" IS NULL":"="+n)),o=this.getConnection().ReplaceCustomOper(this.DataColl,o,"##BIT##"),o}},{key:"DevelopObjectValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getConnection().DevelopObjectValue(e,t)}},{key:"GenerateSearchSql",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.Options.bUseRaw){e.next=23;break}if(this.Options.bParseSQL){e.next=5;break}return e.next=4,this.DataColl.getAccessString();case 4:return e.abrupt("return",e.sent);case 5:if(null!=this.m_parsedAccessString){e.next=10;break}return e.next=8,this.ParseAccessString();case 8:if(e.sent){e.next=10;break}return e.abrupt("return","");case 10:if(null!=this.m_parsedAccessString){e.next=14;break}n=h["a"].EMPTY_STRING,e.next=21;break;case 14:if(this.m_parsedAccessString.GetSqlType()!=M["a"].SQLTYPE_UNKNOWN){e.next=18;break}n=h["a"].EMPTY_STRING,e.next=21;break;case 18:return e.next=20,this.EmbedFilters(t);case 20:n=e.sent;case 21:e.next=40;break;case 23:if(!this.Options.bSingleObject){e.next=33;break}return e.next=26,this.DataColl.getAccessString();case 26:e.t0=e.sent,e.t1="SELECT * FROM "+e.t0,e.t2=e.t1+" rrss WHERE ",e.t3=t,n=e.t2+e.t3,e.next=40;break;case 33:return e.next=35,this.DataColl.getAccessString();case 35:e.t4=e.sent,e.t5="SELECT * FROM ("+e.t4,e.t6=e.t5+") rrss WHERE ",e.t7=t,n=e.t6+e.t7;case 40:return e.abrupt("return",n);case 41:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"GenerateKeySearch",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.QualifyField(t),!t.equals(this.DataColl.getIdFieldName())){e.next=6;break}return r=a+"="+this.FormatKeyValue(n.toString()),e.abrupt("return",r);case 6:if(r=a+"="+this.DevelopObjectValue(n),this.DataColl.IsLinkedField(t)&&this.DataColl.FieldPropertyValue(t,"type").equals("N"))try{0==b["a"].SafeToInt(n)&&(r="(("+r+") OR ("+a+" IS NULL))")}catch(x){}case 8:if(!c["a"].IsEmptyString(this.Options.strLookupMacroName)){e.next=13;break}return e.next=11,this.ApplyFilters(!1);case 11:i=e.sent,c["a"].IsEmptyString(i)||(r=r+" AND ("+i+")");case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"FormatKeyValue",value:function(e){return this.DataColl.getStringKey()?"'"+e+"'":c["a"].removeChars(e,"'")}},{key:"IsSqlPrefiltered",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.Options.bParseSQL){e.next=2;break}return e.abrupt("return",!1);case 2:if(null!=this.m_parsedAccessString&&0!=this.m_parsedAccessString.GetSqlType()){e.next=10;break}return e.next=5,this.ParseAccessString();case 5:if(e.sent){e.next=10;break}throw t=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_SQLPARSEERROR_01,"{0} failed. Cannot parse SQL sentence for collection '{1}'"),t=t.replace("{0}","CXoneDataCollection::IsSqlPrefiltered"),t=t.replace("{1}",this.DataColl.getName()),new m["a"](-6631,t);case 10:if(c["a"].IsEmptyString(this.m_parsedAccessString.GetWhereSentence())){e.next=12;break}return e.abrupt("return",!0);case 12:if(c["a"].IsEmptyString(this.m_parsedAccessString.getHavingSentence())){e.next=14;break}return e.abrupt("return",!0);case 14:if(!this.m_parsedAccessString.getIsUnionQuery()){e.next=25;break}n=0;case 16:if(!(n<this.m_parsedAccessString.getUnionQueries().length)){e.next=25;break}if(r=this.m_parsedAccessString.getUnionQueries()[n],c["a"].IsEmptyString(r.GetWhereSentence())){e.next=20;break}return e.abrupt("return",!0);case 20:if(c["a"].IsEmptyString(r.getHavingSentence())){e.next=22;break}return e.abrupt("return",!0);case 22:n++,e.next=16;break;case 25:return e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EmbedFilters",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,d,p,f,b,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null,"string"==typeof t?(n=t,t=null):r=t,a="CXoneDataCollection::EmbedFilters",!c["a"].IsEmptyString(n)){e.next=9;break}return e.next=6,this.ApplyFilters(!1);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=n;case 10:if(i=e.t0,null!=r){e.next=21;break}if(null!=this.m_parsedAccessString){e.next=20;break}return e.next=15,this.ParseAccessString();case 15:if(e.sent){e.next=20;break}throw o=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_SQLPARSEERROR_01,"{0} failed. Cannot parse SQL sentence for collection '{1}'"),o=o.replace("{0}",a),o=o.replace("{1}",this.DataColl.getName()),new m["a"](-1278,o);case 20:r=this.m_parsedAccessString;case 21:if(!c["a"].IsEmptyString(i)){e.next=23;break}return e.abrupt("return",r.RegenerateSql());case 23:if(s=new N["a"](r),s.CopyData(r)){e.next=29;break}throw l=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_EMBEDFILTERFAIL,"{0} failed. Error embedding filters in collection '{1}'"),l=l.replace("{0}",a),l=l.replace("{1}",this.DataColl.getName()),new m["a"](-1279,l);case 29:if(s.getIsUnionQuery())for(p=0;p<s.getUnionQueries().length;p++)f=s.getUnionQueries()[p],d=c["a"].IsEmptyString(f.GetWhereSentence())?i:"("+f.GetWhereSentence()+") AND "+i,f.SetWhereSentence(d);else _=!u["a"].isEmpty(s.getGroupBySentence()),b=_?s.getHavingSentence():s.GetWhereSentence(),d=c["a"].IsEmptyString(b)?i:"("+b+") AND "+i,_?(s.setHavingSentence(d),s.SetWhereSentence(h["a"].EMPTY_STRING)):(s.SetWhereSentence(d),s.setHavingSentence(h["a"].EMPTY_STRING));return e.abrupt("return",s.RegenerateSql());case 31:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"ApplyFilters",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:null,r="",a="",c["a"].IsEmptyString(this.DataColl.getLinkFilter())){e.next=8;break}return e.next=5,this.PrepareFilter(this.DataColl.getLinkFilter());case 5:e.t0=e.sent,e.t1="("+e.t0,a=e.t1+")";case 8:if(c["a"].IsEmptyString(this.DataColl.getFilter())){e.next=16;break}return c["a"].IsEmptyString(a)||(a+=" AND "),e.next=12,this.PrepareFilter(this.DataColl.getFilter(),n);case 12:e.t2=e.sent,e.t3="("+e.t2,r=e.t3+")",a+=r;case 16:if(c["a"].IsEmptyString(a)||t&&(a=" WHERE ("+a+") "),c["a"].IsEmptyString(a)){e.next=28;break}return a=this.DevelopCollFilters(a),a=this.DevelopFilterMacros(a),e.next=22,this.DataColl.EvaluateAllMacros(a,!0);case 22:if(a=e.sent,a=null!=this.DataColl.getOwnerObject()?this.DataColl.getOwnerObject().PrepareSqlString(a):this.PrepareSqlString(a,!1,!1),!a.contains("##")||null==this.DataColl.getOwnerObject()){e.next=28;break}return e.next=27,this.DataColl.getOwnerObject().getOwnerCollection().EvaluateAllMacros(a,!0);case 27:a=e.sent;case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"PrepareFilter",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,u,d,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="",a="",i=new y["a"],o=new y["a"],s="",l=0,u=0,d=!1,p=!1,f=!1,!c["a"].IsEmptyString(t)){e.next=8;break}return e.abrupt("return",t);case 8:if(this.Options.bUseRaw){e.next=10;break}return e.abrupt("return",t);case 10:if(null!=n){e.next=15;break}if(null!=this.m_parsedAccessString){e.next=14;break}return e.next=14,this.ParseAccessString();case 14:n=this.m_parsedAccessString;case 15:if(null==n){e.next=20;break}if(m=n.getTableFrom(),null==m){e.next=20;break}if(null!=m.getSecondTable()){e.next=20;break}return e.abrupt("return",t);case 20:l=0,u=t.length,d=p=f=!1;case 21:if(!(l<u)){e.next=56;break}e.t0=s=t.charAt(l),e.next=" "===e.t0||"="===e.t0||">"===e.t0||"<"===e.t0||"("===e.t0||")"===e.t0||","===e.t0?25:"'"===e.t0?46:50;break;case 25:if(!d||f){e.next=44;break}o=new y["a"];case 27:if(!(l<u)){e.next=33;break}if(" "!=t.charAt(l)&&this.IsClosingToken(t.charAt(l))){e.next=30;break}return e.abrupt("break",33);case 30:o.append(t.charAt(l)),l++,e.next=27;break;case 33:if(!(l<u)){e.next=39;break}if(" "==t.charAt(l)){e.next=36;break}return e.abrupt("break",39);case 36:o.append(t.charAt(l)),l++,e.next=33;break;case 39:p=!0,d=!1,l--,e.next=45;break;case 44:i.append(s);case 45:return e.abrupt("break",52);case 46:return c["a"].IsEmptyString(r)||(i.append(r),r=h["a"].EMPTY_STRING,d=p=!1),f=!f,i.append(s),e.abrupt("break",52);case 50:return d?r+=s:f?i.append(s):(d=!0,l--),e.abrupt("break",52);case 52:p&&(a=r.toLowerCase(),a.equals("is")||a.equals("and")||a.equals("or")||a.equals("in")||a.equals("between")||a.equals("not")||(r=this.QualifyField(r,n)),i.append(r),i.append(o.toString()),r="",p=!1);case 53:l++,e.next=21;break;case 56:return i.append(r),e.abrupt("return",i.toString());case 58:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"IsClosingToken",value:function(e){return"="==e||")"==e||"="==e||">"==e||"<"==e||" "==e}},{key:"GetResultSet",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.GenerateKeySearch(t,n);case 2:return r=e.sent,e.next=5,this.GenerateSearchSql(r);case 5:if(a=e.sent,!a.contains("##")){e.next=13;break}return e.t0=this,e.t1=a,e.next=11,this.IsSqlPrefiltered();case 11:e.t2=e.sent,a=e.t0.PrepareSqlString.call(e.t0,e.t1,!1,e.t2);case 13:return e.next=15,this.getConnection().CreateRecordsetAsync(a,{count:!1,coll:this.DataColl.getName(),loadall:!1,page:{}});case 15:return i=e.sent,e.next=18,i.next();case 18:return e.abrupt("return",i);case 19:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"IsNotFieldName",value:function(e){for(var t=" /{}\\,;\r\n\t:#",n=0;n<t.length;n++){var r=t.charAt(n);if(-1!=e.indexOf(r))return!0}return!1}},{key:"QualifyField",value:function(e,t){var n,r,a;if(!this.Options.bUseRaw||c["a"].IsEmptyString(e))return e;if(this.IsNotFieldName(e))return e;var i=null;if(null!=(i=this.DataColl.getOwnerApp().GetQualifyCache(this.DataColl.getName()))&&i.containsKey(e))return i.get(e);if(null===(n=this.DataColl.BitProps)||void 0===n?void 0:n.contains(e))return e;if(null===(r=this.DataColl.FormulaProps)||void 0===r?void 0:r.contains(e))return e;var o=this.DataColl.FieldPropertyValue(e,"qualifier");if(!c["a"].IsEmptyString(o))return null!=i&&i.put(e,o),o;if(null==t){if(null==this.m_parsedAccessString)return e;t=this.m_parsedAccessString}if(C["a"].IsNothing(t))return e;if(!e.equals(this.DataColl.strPk)&&!this.DataColl.FieldExists(e)){if(e.startsWith("MAP_"))throw a="No se puede cualificar el campo '"+e+"' porque no está definido en la colección '"+this.DataColl.getName()+"'",new f["a"](a);if(!e.equals(this.m_connection.getRowIdFieldName())&&!e.equals("OBJTIMESTAMP"))return e}var s,l=t.getQueryFields();if(e.startsWith("MAP_"))for(var u=0;u<l.length;u++){var d=l[u];if(d.getAlias().equals(e))return null!=i&&i.put(e,d.getName()),d.getName()}else{a="."+e;for(var h=0;h<l.length;h++){var p=l[h];if(p.getName().endsWith(a)){var m=null;if((c["a"].IsEmptyString(p.getAlias())||0==p.getAlias().compareToIgnoreCase(e))&&(m=p.getName()),!c["a"].IsEmptyString(m))return null!=i&&i.put(e,m),m}}}for(var g=0;g<l.length;g++){var b=l[g];if(b.getName().endsWith(".*"))return a=b.getName().substring(0,b.getName().indexOf(".*"))+"."+e,null!=i&&i.put(e,a),a}return null!=(s=t.getTableFrom())?c["a"].IsEmptyString(a=s.getAlias())?(c["a"].IsEmptyString(a)&&(a=e),null!=i&&i.put(e,a),a):(a=a+"."+e,null!=i&&i.put(e,a),a):e}},{key:"getCount",value:function(){return this.m_lstOrderedList.length}},{key:"Clear",value:function(){try{this.m_lstObjectList.clear(),this.m_lstOrderedList=new Array,null!=this.m_lstCopyList&&(this.m_lstCopyList=new A["a"]),this.m_lstObjectLru=new A["a"],this.m_bIsSpecial&&(this.m_nBrowseLength=-1)}catch(e){this.Options.bDebug&&console.log(e.message)}return!0}},{key:"LoadCurrentItem",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="CXoneDataCollection::LoadCurrentItem",r=!0,a=!1,e.prev=2,!this.m_bIsSpecial){e.next=12;break}if(this.m_pCurrentItem=null,this.m_nBrowseLength<0&&(this.m_nBrowseLength=this.m_lstOrderedList.length),!(0==this.m_nBrowseLength||this.m_nCurrentIndex<0)){e.next=8;break}return e.abrupt("return",!0);case 8:return e.next=10,this.GetObject(this.m_nCurrentIndex);case 10:return this.m_pCurrentItem=e.sent,e.abrupt("return",!0);case 12:if(null!=this.m_pCurrentItem&&this.m_bDeferredLoad&&(r=!1),null!=this.m_rs){e.next=17;break}r=a=!0,e.next=21;break;case 17:return e.next=19,this.m_rs.EOF();case 19:if(!e.sent){e.next=21;break}r=a=!0;case 21:if(r&&this.ClearCurrentItem(!0,!0),!a){e.next=24;break}return e.abrupt("return",!0);case 24:if(n=r?null:this.m_pCurrentItem,null!=n){e.next=34;break}return e.next=28,this.DataColl.CreateObject(!1);case 28:if(n=e.sent,null!=n){e.next=34;break}throw i=this.DataColl.GetMessage(g["a"].SYS_MSG_COLL_LOADCURRITEMFAIL_01,"{0} failed. Cannot create new object from collection '{1}'"),i=i.replace("{0}",t),i=i.replace("{1}",this.DataColl.getName()),new m["a"](-1818,i);case 34:if(n.SetPropertyValue("MAP_SYS_ORDER",this.m_nBrowseOrder-1),this.m_bDeferredLoad){e.next=42;break}return e.next=38,n.Load(this.m_rs);case 38:if(e.sent){e.next=40;break}return e.abrupt("return",!1);case 40:e.next=43;break;case 42:n.setIsCurrentItem(!0);case 43:return this.m_pCurrentItem=n,e.abrupt("return",!0);case 47:throw e.prev=47,e.t0=e["catch"](2),o=e.t0.message,s=this.DataColl.GetMessage(g["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),s=s.replace("{0}",t),u["a"].isEmpty(o)||(s=s.concat(o)),new m["a"](-10089,e.t0,s);case 54:case"end":return e.stop()}}),e,this,[[2,47]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"ClearCurrentItem",value:function(){this.m_pCurrentItem=null}},{key:"getCurrentItem",value:function(){return this.m_pCurrentItem}},{key:"removeItem",value:function(e){var t=null;if(null!=this.m_lstCopyList&&(this.m_lstCopyList=new A["a"],this.m_lstCopyList=null),t="number"==typeof e&&e<this.m_lstOrderedList.length?this.m_lstOrderedList[e]:"string"==typeof e?this.m_lstObjectList.get(e):e,!t)return!1;this.m_lstOrderedList.remove(t);var n=t.GetObjectIdString();return u["a"].isEmpty(n)||this.m_lstObjectList.containsKey(n)&&this.m_lstObjectList.delete(n),this.m_bIsSpecial&&(this.m_nBrowseLength=this.m_lstOrderedList.length),this.DataColl.setFull(!1),!0}}]),e}(),F=function(){function e(){Object(s["a"])(this,e)}return Object(l["a"])(e,null,[{key:"GenerateFunctionName",value:function(e){var t=new y["a"],n="",r=e.getParentNode().SelectNodes(e.getName());if(1==r.count())n=e.getAttrValue(h["a"].PROP_ATTR_NAME),t.append(e.getName()),c["a"].IsEmptyString(n)||(t.append("[@"),t.append(h["a"].PROP_ATTR_NAME),t.append("='"),t.append(n),t.append("']"));else{t.append(e.getName());for(var a=0;a<r.count();a++){var i=r.get(a);if(i===e){t.length()>0&&t.append("["),t.append(c["a"].SafeToString(a+1)),t.append("]");break}}}e.hasChildNodes()&&null!=e.getChildren()&&e.getChildren().length>0&&null!=e.SelectSingleNode("script")&&t.append("/script"),0==t.length()&&t.append(e.getName());var o=e.getParentNode();while(1){var s=o.getName();if(n=o.getAttrValue("name"),c["a"].IsEmptyString(n)||(s+="[@",t.append(h["a"].PROP_ATTR_NAME),t.append("='"),s+=n,t.append("']")),t.insert(0,"/"),t.insert(0,s),o=o.getParentNode(),o.getName().equals("coll")){t.insert(0,"|//"),t.insert(0,o.getAttrValue("name"));break}t.insert(0,"/")}return t.insert(0,"@"),t.toString()}},{key:"GenerateFunctionNameDebug",value:function(e){var t=new y["a"],n="",r=e.getParentNode().SelectNodes(e.getName());if(1==r.count())n=e.getAttrValue(h["a"].PROP_ATTR_NAME),t.append(e.getName()),c["a"].IsEmptyString(n)||(t.append("[@"),t.append(h["a"].PROP_ATTR_NAME),t.append("='"),t.append(n),t.append("']"));else{t.append(e.getName());for(var a=0;a<r.count();a++){var i=r.get(a);if(i===e){t.length()>0&&t.append("["),t.append(c["a"].SafeToString(a+1)),t.append("]");break}}}e.hasChildNodes()&&null!=e.getChildren()&&e.getChildren().length>0&&null!=e.SelectSingleNode("script")&&t.append("/script"),0==t.length()&&t.append(e.getName());var o=e.getParentNode();while(1){var s=o.getName();if(n=o.getAttrValue("name"),c["a"].IsEmptyString(n)||(s+="[@",t.append(h["a"].PROP_ATTR_NAME),t.append("='"),s+=n,t.append("']")),t.insert(0,"/"),t.insert(0,s),o=o.getParentNode(),o.getName().equals("coll")){t.insert(0,"|//"),t.insert(0,o.getAttrValue("name"));break}t.insert(0,"/")}return t.insert(0,"@"),t.toString()}}]),e}(),G=n("1ea0"),B=function(){function e(t,n,r){if(Object(s["a"])(this,e),this.UNIQUE_ID=Symbol("XoneDataCollection"),this.m_ownerApp=t,this.m_xmlNode=n,this.m_version=r,this.m_messages=t.getMessageHolder(),this.m_options={},this.m_strPk="ID",this.m_nPkType=0,this.m_parent=null,this.m_bLocked=!1,this.m_macrosEvaluator=new O(this.m_ownerApp,this),this.m_lstMacros=new d["a"],c["a"].IsEmptyString(this.m_strName=this.m_xmlNode.getAttrValue("name")))throw new f["a"](this.m_messages.GetMessage(g["a"].SYS_MSG_COLL_NONAME,"Cannot create a collection with an empty name."));this.m_lstKeyFields=new A["a"],this.m_lstFormulaProps=new Array,this.m_lstBitProps=new Array,this.m_cachePlatformNodes=new d["a"],this.m_browserData=new D(this)}return Object(l["a"])(e,[{key:"isDataCollection",get:function(){return!0}},{key:"getVersion",value:function(){return this.m_version}},{key:"BrowseData",get:function(){return this.m_browserData}},{key:"FieldPropertyValue",value:function(e,t){if(t){if(u["a"].isEmpty(e)||u["a"].isEmpty(t))throw new I["a"]("Empty field name passed to XoneDataCollection.FieldPropertyValue(). Collection name: "+this.getName());var n="";if(null==this.m_xmlNode)return h["a"].EMPTY_STRING;var r=null,a=this.m_ownerApp.GetCollPropValueCache(this.m_strName,"prop",e);if(null!=a&&a.containsKey(t))return a.get(t);if(r=this.m_xmlNode.SelectSingleNode("prop","name",e),null==r&&(r=this.m_xmlNode.SelectSingleNode("button","name",e)),null!=r){if(!c["a"].IsEmptyString(n=this.getOwnerApp().getPlatform())){var i=r.SelectSingleNode("platform","name",n);if(null!=i&&!c["a"].IsEmptyString(n=v["a"].getNodeAttr(i,t)))return null!=a&&a.put(t,n),this.CheckIfEvaluated(e,t,n)}var o=v["a"].getNodeAttr(r,t);if(!c["a"].IsEmptyString(o))return null!=a&&a.put(t,o),this.CheckIfEvaluated(e,t,o);if(t.equals("type")){var s=r.getName();if(s.equals("button"))return null!=a&&a.put(t,"B"),"B"}if(this.getOwnerApp().hasStylesheets()){var l=r.getAttrValue("type"),d=null,p=r.getAttrValue("class");if(c["a"].IsEmptyString(p)&&(p=this.m_xmlNode.getAttrValue("class")),c["a"].IsEmptyString(p))null==(d=this.m_ownerApp.FindStylesheetByClassName("prop:"+l,t))&&(d=this.m_ownerApp.FindStylesheetByClassName("prop",t));else{var f=p.split(" ");f.reverse();for(var b=0;b<f.length;b++){var _=f[b].trim();if(!u["a"].isEmpty(_)&&(null==(d=this.m_ownerApp.FindStylesheetByClassName("prop."+_+":"+l,t))&&null==(d=this.m_ownerApp.FindStylesheetByClassName("prop."+_,t))&&(d=this.m_ownerApp.FindStylesheetByClassName("."+_,t)),null!=d))break}}if(null!=d&&(n=d.getRuleValue(t),!c["a"].IsEmptyString(n)))return null!=a&&a.put(t,n),this.CheckIfEvaluated(e,t,n)}return null!=a&&a.put(t,h["a"].EMPTY_STRING),h["a"].EMPTY_STRING}if(!c["a"].IsEmptyString(this.m_options.strParentCollection)){if(null==this.getParentCollection()){var O=this.m_messages.GetMessage(g["a"].SYS_MSG_COLL_XPROPVALUEFAIL,"{0} failed for collection '{1}'. Cannot get parent collection '{2}'");throw O=O.replace("{0}","CXoneDataCollection::FieldPropertyValue"),O=O.replace("{1}",this.m_strName),O=O.replace("{2}",this.m_options.strParentCollection),new m["a"](-17171,O)}return this.getParentCollection().FieldPropertyValue(e,t)}return null!=a&&a.put(t,h["a"].EMPTY_STRING),h["a"].EMPTY_STRING}}},{key:"getName",value:function(){return this.m_strName}},{key:"getReplicate",value:function(){return c["a"].ParseBoolValue(this.CollPropertyValue("replicate"),!1)}},{key:"CheckIfEvaluated",value:function(e,t,n){try{if(!c["a"].IsEmptyString(n)&&n.contains("##")){if(n.equals(c["a"].XONE_EMPTY_STRING))return h["a"].EMPTY_STRING;var r=e+":"+t;this.m_ownerApp.addEvaluatedAttributesList(this.m_strName,r)}}catch(a){console.error(a)}return n}},{key:"getLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.m_xmlNode;return P["a"].getLayout(this,t||this.m_xmlNode,e)}},{key:"QualifyField",value:function(e,t){return this.BrowseData.QualifyField(e,t)}},{key:"getPropAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h["a"].PROP_NAME;return P["a"].getPropAttributes(this,e,t)}},{key:"NodePropertyValueBase",value:function(e,t,n,r){var a="";if(null==this.m_xmlNode)return h["a"].EMPTY_STRING;var i=new y["a"](t),o=e;while(!o.getName().equals(h["a"].COLL_COLL))i.insert(0,"/"),i.insert(0,o.getName()),o=o.getParentNode();var s=this.m_ownerApp.GetCollPropValueCache(this.m_strName,i.toString(),n);if(null!=s&&s.containsKey(r))return s.get(r);var l=null;if(l=c["a"].IsEmptyString(n)?e.SelectSingleNode(t):e.SelectSingleNode(t,h["a"].PROP_ATTR_NAME,n),null!=l){if(!c["a"].IsEmptyString(a=this.getOwnerApp().getPlatform())){var d=l.SelectSingleNode("platform",h["a"].PROP_ATTR_NAME,a);if(null!=d&&!c["a"].IsEmptyString(a=d.getAttrValue(r)))return null!=s&&s.put(r,a),this.CheckIfEvaluated(n,r,a)}if(a=l.getAttrValue(r),!c["a"].IsEmptyString(a))return null!=s&&s.put(r,a),this.CheckIfEvaluated(n,r,a);if(this.m_ownerApp.hasStylesheets()){var p=null,f=l.getAttrValue("class");if(c["a"].IsEmptyString(f)&&(f=this.m_xmlNode.getAttrValue("class")),c["a"].IsEmptyString(f))p=this.m_ownerApp.FindStylesheetByClassName(t,r);else{var g=f.split(" ");g.reverse();for(var b=0;b<g.length;b++){var _=g[b].trim();if(!u["a"].isEmpty(_)&&(null==(p=this.m_ownerApp.FindStylesheetByClassName(t+"."+_,r))&&(p=this.m_ownerApp.FindStylesheetByClassName("."+_,r)),null!=p))break}}if(null!=p&&(a=p.getRuleValue(r),!c["a"].IsEmptyString(a)))return null!=s&&s.put(r,a),this.CheckIfEvaluated(n,r,a)}return null!=s&&s.put(r,h["a"].EMPTY_STRING),h["a"].EMPTY_STRING}if(!c["a"].IsEmptyString(this.Options.strParentCollection)){if(null==this.getParentCollection())throw new m["a"](-17171,"CXoneDataCollection::NodePropertyValue ha fallado en la colección '"+this.m_strName+"'. La colección padre ('"+this.Options.strParentCollection+"') no se puede obtener.");return this.getParentCollection().NodePropertyValueBase(e,t,n,r)}return null!=s&&s.put(r,h["a"].EMPTY_STRING),h["a"].EMPTY_STRING}},{key:"NodePropertyValue",value:function(e,t,n){var r="";if(null==this.m_xmlNode)return h["a"].EMPTY_STRING;var a=null,i=this.m_ownerApp.GetCollPropValueCache(this.m_strName,e,t);if(null!=i&&i.containsKey(n))return i.get(n);if(a=e.equals(this.m_xmlNode.getName())?this.m_xmlNode:this.m_xmlNode.SelectSingleNode(e,h["a"].PROP_ATTR_NAME,t),null!=a){if(!c["a"].IsEmptyString(r=this.getOwnerApp().getPlatform())){var o=a.SelectSingleNode(h["a"].PLATFORM_NAME,h["a"].PROP_ATTR_NAME,r);if(null!=o&&!c["a"].IsEmptyString(r=v["a"].getNodeAttr(o,n)))return null!=i&&i.put(n,r),this.CheckIfEvaluated(t,n,r)}if(r=a.getAttrValue(n),!c["a"].IsEmptyString(r))return null!=i&&i.put(n,r),this.CheckIfEvaluated(t,n,r);if(this.m_ownerApp.hasStylesheets()){var s=null,l=a.getAttrValue("class");if(c["a"].IsEmptyString(l)&&(l=this.m_xmlNode.getAttrValue("class")),c["a"].IsEmptyString(l))s=this.m_ownerApp.FindStylesheetByClassName(e,n);else{var d=l.split(" ");d.reverse();for(var p=0;p<d.length;p++){var f=d[p].trim();if(!u["a"].isEmpty(f)&&(null==(s=this.m_ownerApp.FindStylesheetByClassName(e+"."+f,n))&&(s=this.m_ownerApp.FindStylesheetByClassName("."+f,n)),null!=s))break}}if(null!=s&&(r=s.getRuleValue(n),!c["a"].IsEmptyString(r)))return null!=i&&i.put(n,r),this.CheckIfEvaluated(t,n,r)}return null!=i&&i.put(n,h["a"].EMPTY_STRING),h["a"].EMPTY_STRING}if(!c["a"].IsEmptyString(this.Options.strParentCollection)){if(null==this.getParentCollection()){var b=this.m_messages.GetMessage(g["a"].SYS_MSG_COLL_XPROPVALUEFAIL,"{0} failed for collection '{1}'. Cannot get parent collection '{2}'.");throw b=b.replace("{0}","CXoneDataCollection::NodePropertyValue"),b=b.replace("{1}",this.m_strName),b=b.replace("{2}",this.Options.strParentCollection),new m["a"](-17171,b)}return this.getParentCollection().NodePropertyValue(e,t,n)}return null!=i&&i.put(n,h["a"].EMPTY_STRING),h["a"].EMPTY_STRING}},{key:"SetNodePropertyValue",value:function(e,t,n,r){if(null!=this.m_xmlNode){var a=this.m_ownerApp.GetCollPropValueCache(this.m_strName,e,t);null!=a&&a.put(n,r)}}},{key:"GroupPropertyValue",value:function(e,t){var n="";if(null==this.m_xmlNode)return h["a"].EMPTY_STRING;var r=null,a=this.m_ownerApp.GetCollPropValueCache(this.m_strName,"group",e);if(null!=a&&a.containsKey(t))return a.get(t);if(r=this.m_xmlNode.SelectSingleNode("group","id",e),null!=r){if(!c["a"].IsEmptyString(n=this.getOwnerApp().getPlatform())){var i=r.SelectSingleNode("platform","name",n);if(null!=i&&!c["a"].IsEmptyString(n=v["a"].getNodeAttr(i,t)))return null!=a&&a.put(t,n),n}if(n=v["a"].getNodeAttr(r,t),c["a"].IsEmptyString(n)&&!c["a"].IsEmptyString(this.Options.strParentCollection)&&null!=this.getParentCollection()&&(n=this.getParentCollection().GroupPropertyValue(e,t)),!c["a"].IsEmptyString(n))return null!=a&&a.put(t,n),n;if(this.m_ownerApp.hasStylesheets()){var o=null,s=r.getAttrValue("class");if(c["a"].IsEmptyString(s)&&(s=this.m_xmlNode.getAttrValue("class")),c["a"].IsEmptyString(s))o=this.m_ownerApp.FindStylesheetByClassName("group",t);else{var l=s.split(" ");l.reverse();for(var d=0;d<l.length;d++){var p=l[d].trim();if(!u["a"].isEmpty(p)&&(null==(o=this.m_ownerApp.FindStylesheetByClassName("group."+p,t))&&(o=this.m_ownerApp.FindStylesheetByClassName("."+p,t)),null!=o))break}}if(null!=o&&(n=o.getRuleValue(t),!c["a"].IsEmptyString(n)))return null!=a&&a.put(t,n),n}return null!=a&&a.put(t,h["a"].EMPTY_STRING),h["a"].EMPTY_STRING}if(!c["a"].IsEmptyString(this.Options.strParentCollection)){if(null==this.getParentCollection()){var f=this.m_messages.GetMessage(g["a"].SYS_MSG_COLL_XPROPVALUEFAIL,"{0} failed for collection '{1}'. Cannot get parent collection '{2}'");throw f=f.replace("{0}","CXoneDataCollection::GroupPropertyValue"),f=f.replace("{1}",this.m_strName),f=f.replace("{2}",this.Options.strParentCollection),new m["a"](-17171,f)}return this.getParentCollection().GroupPropertyValue(e,t)}return null!=a&&a.put(t,h["a"].EMPTY_STRING),h["a"].EMPTY_STRING}},{key:"CollPropertyValue",value:function(e){var t="",n=this.m_ownerApp.GetCollPropUndefinedValues(this.m_strName);if(null!=n&&n.contains(e))return t;var r=this.m_ownerApp.GetCollPropValueCache(this.m_strName);if(null!=r&&r.containsKey(e))return r.get(e);if(e.equals("##DBMS##"))return this.BrowseData.getConnection().getDbmsTag();var a=this.m_ownerApp.getPlatform();if(!c["a"].IsEmptyString(a)){var i=null;this.m_cachePlatformNodes.containsKey(a)?i=this.m_cachePlatformNodes.get(a):this.m_cachePlatformNodes.put(a,i=this.m_xmlNode.SelectSingleNode("platform","name",a)),null!=i&&(t=i.getAttrValue(e))}if(c["a"].IsEmptyString(t)&&(t=v["a"].getNodeAttr(this.m_xmlNode,e)),c["a"].IsEmptyString(t)){if(this.m_ownerApp.hasStylesheets()){var o=null,s=this.m_xmlNode.getAttrValue("class");if(c["a"].IsEmptyString(s)?o=this.m_ownerApp.FindStylesheetByClassName("coll",e):null==(o=this.m_ownerApp.FindStylesheetByClassName("coll."+s,e))&&(o=this.m_ownerApp.FindStylesheetByClassName("."+s,e)),null!=o){var l=o.getRuleValue(e);if(!c["a"].IsEmptyString(l))return null!=r&&r.put(e,l),l}}try{if(!c["a"].IsEmptyString(this.Options.strParentCollection)&&null!=this.getParentCollection())return this.getParentCollection().CollPropertyValue(e)}catch(u){console.error(u)}t=""}return t}},{key:"getFirstParentCollection",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.m_parent){e.next=2;break}return e.abrupt("return",this.m_parent);case 2:if(!c["a"].IsEmptyString(this.Options.strParentCollection)){e.next=4;break}return e.abrupt("return",null);case 4:if(!this.m_strName.equals(this.Options.strParentCollection)){e.next=6;break}throw new m["a"](-2322,"CXoneDataCollection::ParentCollection has failed for collection "+this.m_strName+". Cannot define a parent collection as its own.");case 6:return e.next=8,this.m_ownerApp.getCollection(this.Options.strParentCollection);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getParentCollection",value:function(){return this.m_parent}},{key:"ExtractConnections",value:function(){for(var e=this.m_xmlNode.SelectNodes("connection"),t=0;t<e.count();t++){var n=e.get(t),r=n.getAttrValue("name");if(!c["a"].IsEmptyString(r)&&null==this.m_ownerApp.getConnection(r)&&!this.m_ownerApp.LoadConnection(n))return!1}return!0}},{key:"GetNodeList",value:function(e,t,n,r){return this.getNodeList(e,t,n,r)}},{key:"getNodeList",value:function(e,t,n,r){return null==this.m_xmlNode?null:this.m_xmlNode.SelectNodes(e,t,n,r)}},{key:"GetNode",value:function(e,t,n){return this.getNode(e,t,n)}},{key:"getNode",value:function(e,t,n){if(null==this.m_xmlNode)return null;var r=this.m_xmlNode.SelectSingleNode(e,t,n);if(null==r&&!c["a"].IsEmptyString(this.m_options.strParentCollection))try{var a=this.getParentCollection();null!=a&&(r=a.getNode(e,t,n))}catch(i){console.error(i)}return r}},{key:"getNodeAttr",value:function(e,t){if(null==this.m_xmlNode)return null;var n=this.getNode(e);if(null==n&&!c["a"].IsEmptyString(this.m_options.strParentCollection))try{var r=this.getParentCollection();null!=r&&(n=r.getNode(e))}catch(o){console.error(o)}if(null==n)return null;var a=n.getAttrValue(t);if(null==a&&!c["a"].IsEmptyString(this.m_options.strParentCollection))try{var i=this.getParentCollection();null!=i&&(a=i.getNodeAttr(e,t))}catch(o){console.error(o)}return a}},{key:"Load",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this.m_xmlNode){e.next=2;break}return e.abrupt("return",!0);case 2:if(this.ExtractConnections()){e.next=5;break}return h["a"].DebugLog(h["a"].TAG_FRAMEWORK,"DataCollection.Load(): Cannot extract connections from collection "+this.m_xmlNode),e.abrupt("return",!1);case 5:if(this.m_options.bLoadLayouts=c["a"].ParseBoolValue(this.CollPropertyValue("load-layouts"),!0),this.m_options.bisIndexed=c["a"].ParseBoolValue(t=this.CollPropertyValue("indexed"),!1),this.m_options.bCheckOwner=c["a"].ParseBoolValue(t=this.CollPropertyValue("check-owner"),!1),this.m_options.bIsSpecial=c["a"].ParseBoolValue(t=this.CollPropertyValue("special"),!1),this.m_options.bStringPk=c["a"].ParseBoolValue(t=this.CollPropertyValue("stringkey"),!1),this.m_options.bObjLoadAll=c["a"].ParseBoolValue(t=this.CollPropertyValue("obj-loadall"),!0),this.m_options.bVolatile=c["a"].ParseBoolValue(this.CollPropertyValue("volatile"),!1),this.m_options.bDeferredLoad=c["a"].ParseBoolValue(this.CollPropertyValue("deferred-load"),!0),this.m_options.bDebug=c["a"].ParseBoolValue(this.CollPropertyValue("sql-debug"),!1),this.m_options.bUseRaw=c["a"].ParseBoolValue(t=this.CollPropertyValue("userawsql"),!0),c["a"].IsEmptyString(t)&&null!=this.BrowseData.getConnection()&&(this.m_options.bUseRaw=!this.BrowseData.getConnection().getSubqueries()),this.m_options.bParseSQL=c["a"].ParseBoolValue(this.CollPropertyValue("sql-parser"),!0),this.m_strPk="ID",c["a"].IsEmptyString(t=this.CollPropertyValue("idfieldname"))||(this.m_strPk=t,this.m_options.nPkType=c["a"].ParseBoolValue(this.CollPropertyValue("stringkey"),!1)?1:0,this.m_strPk.contains(",")&&(this.m_options.bMultipleKey=!0)),c["a"].IsEmptyString(t=this.CollPropertyValue("object-prefix"))||(this.m_options.strPrefix=t),this.m_strLinkFilter=this.CollPropertyValue("filter"),this.m_strSort=this.CollPropertyValue("sort"),this.m_options.strLookupMacroName=this.CollPropertyValue("lookup-macro"),this.m_options.strAccessString=this.CollPropertyValue("sql"),c["a"].IsEmptyString(this.m_options.strAccessString)||(this.m_options.bSingleObject=-1==this.m_options.strAccessString.indexOf(" ")),this.m_options.strProgId=this.CollPropertyValue("progid"),this.m_options.strClassName=this.CollPropertyValue("classname"),this.m_options.strParentCollection=this.CollPropertyValue("inherits"),!u["a"].isEmpty(this.m_options.strParentCollection)&&this.m_options.strParentCollection.equals(this.m_xmlNode.getName())&&(this.m_options.strParentCollection=h["a"].EMPTY_STRING),c["a"].IsEmptyString(this.m_options.strParentCollection)){e.next=34;break}if(c["a"].areEquals(this.m_strName,this.m_options.strParentCollection)){e.next=34;break}return e.next=33,this.getFirstParentCollection();case 33:this.m_parent=e.sent;case 34:for(c["a"].IsEmptyString(t=this.CollPropertyValue("threshold"))||(this.m_options.nThreshold=b["a"].SafeToInt(t)),c["a"].IsEmptyString(t=this.CollPropertyValue("maxrows"))||(this.m_options.nMaxRows=b["a"].SafeToInt(t)),this.m_options.strObjectName=this.CollPropertyValue("objname"),c["a"].IsEmptyString(this.m_options.strObjectName)&&(this.m_options.bIsSpecial||(this.m_options.strObjectName=this.m_xmlNode.getName())),this.m_options.strUpdateObject=this.CollPropertyValue("updateobj"),null!=this.getParentCollection()&&(this.m_options.bHasXlatProps=!1),this.m_options.bHasXlatProps||(n=this.getNodeList("prop","xlat",null,!0),n.count()>0&&(this.m_options.bHasXlatProps=!0)),r=this.m_xmlNode.SelectNodes("prop","formula",h["a"].EMPTY_STRING,!0),a=0;a<r.count();a++)i=r.get(a),this.m_lstFormulaProps.push(i.getAttrValue("name"));for(r=this.m_xmlNode.SelectNodes("prop","bit",h["a"].EMPTY_STRING,!0),o=0;o<r.count();o++)s=r.get(o),this.m_lstBitProps.push(s.getAttrValue("name"));return e.abrupt("return",!0);case 46:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"BitProps",get:function(){return this.m_lstBitProps}},{key:"FormulaProps",get:function(){return this.m_lstFormulaProps}},{key:"getIsDebugging",value:function(){return this.Options.bDebug}},{key:"getLocalObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.BrowseData.GetLocalObject(e,t)}},{key:"get",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,e.abrupt("return",this.getObject(t,n));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=!(i.length>2&&void 0!==i[2])||i[2],a=!(i.length>3&&void 0!==i[3])||i[3],e.abrupt("return",this.BrowseData.GetObject(t,n,r,a));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"findObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.BrowseData.findObject(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"GenerateRowId",value:function(){return this.getConnection().GenerateRowId(this.getFixedObjectName())}},{key:"IsUniqueRowId",value:function(e){return this.getConnection().isUniqueRowID(this.getFixedObjectName(),e)}},{key:"getRowIdFieldName",value:function(){return this.getConnection().getRowIdFieldName()}},{key:"getFixedObjectName",value:function(){return this.getFixedUpdateObjectName()}},{key:"getFixedUpdateObjectName",value:function(){return this.getConnection().FixObjectName(this.getObjectName())}},{key:"MapField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.BrowseData.MapField(e,t)}},{key:"GetResultSet",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.BrowseData.GetResultSet(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"DevelopObjectValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.BrowseData.DevelopObjectValue(e,t)}},{key:"getObjectName",value:function(){return this.Options.strObjectName}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.BrowseData.AddItem(e,t)}},{key:"IsLinkedField",value:function(e){try{return!c["a"].IsEmptyString(this.FieldPropertyValue(e,"mapcol"))&&!c["a"].IsEmptyString(this.FieldPropertyValue(e,"mapfld"))}catch(t){return!1}}},{key:"getIdFieldName",value:function(){return this.m_strPk}},{key:"getIdFieldType",value:function(){return this.m_nPkType}},{key:"getAccessString",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.m_options.strAccessString,t.contains("##")){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,this.m_macrosEvaluator.EvaluateAllMacros(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setAccessString",value:function(e){this.m_options.strAccessString=e}},{key:"accessString",get:function(){return this.m_options.strAccessString}},{key:"getCollPropertyValue",value:function(e){return this.CollPropertyValue(e)}},{key:"getStringKey",value:function(){return this.m_options.bStringPk}},{key:"getLookupMacroName",value:function(){return this.m_options.strLookupMacroName}},{key:"EvaluateAllMacros",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.next=3,this.m_macrosEvaluator.EvaluateAllMacros(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"SafeGetVariableList",value:function(){return null!=this.m_lstVariables?this.m_lstVariables:this.m_lstVariables=new d["a"]}},{key:"getVariables",value:function(e){return this.getVariable(e)}},{key:"getVariable",value:function(e){return this.SafeGetVariableList().containsKey(e)?this.SafeGetVariableList().get(e):null}},{key:"setVariables",value:function(e,t){this.setVariable(e,t)}},{key:"setVariable",value:function(e,t){null==t?this.SafeGetVariableList().containsKey(e)&&this.SafeGetVariableList().delete(e):this.SafeGetVariableList().put(e,t)}},{key:"getMacro",value:function(e){return this.m_lstMacros.containsKey(e)?this.m_lstMacros.get(e):null}},{key:"setMacro",value:function(e,t){var n=t;null==n&&(n=""),this.m_lstMacros.put(e,n),null!=this.accessString&&this.accessString.contains(e)&&this.setAccessString(null)}},{key:"strPk",get:function(){return this.m_strPk},set:function(e){this.m_strPk=e}},{key:"GetMessage",value:function(e,t){return this.m_messages.GetMessage(e,t)}},{key:"Options",get:function(){return this.m_options}},{key:"createObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:null,n=s.length>1&&void 0!==s[1]&&s[1],e.next=4,this.CreateObject();case 4:if(r=e.sent,n&&this.addItem(r),"object"==Object(i["a"])(t))for(a in t)o=t[a],r.put(a.toString(),o);return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"CreateObject",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],n=null,r=h["a"].EMPTY_STRING,r=c["a"].IsEmptyString(r=this.Options.strClassName)?this.Options.strClassName=this.m_ownerApp.GetClassName(this.Options.strProgId):this.m_ownerApp.CheckClassName(this.Options.strClassName),n=c["a"].IsEmptyString(r)||r.equalsIgnoreCase("xonedataobject")?new p["a"](this):r.equalsIgnoreCase("xoneuser")?new w(this):r.equalsIgnoreCase("xonecompany")?new T(this):new p["a"](this),e.next=7,n.OnCreate(t);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOwnerApp",value:function(){return this.m_ownerApp}},{key:"getMultipleKey",value:function(){return this.Options.bMultipleKey}},{key:"getKeyFields",value:function(){return this.m_lstKeyFields}},{key:"PropType",value:function(e){var t=this.FieldPropertyValue(e,"type");return e.equals(this.m_strPk)?this.Options.bStringPk?"T":"N":(c["a"].IsEmptyString(t)&&(t="T"),t)}},{key:"PropVisibility",value:function(e){var t=this.FieldPropertyValue(e,"visible");return c["a"].IsEmptyString(t)||t.equals("true")?t="1":t.equals("false")&&(t="0"),t}},{key:"isIndexed",value:function(){return!1}},{key:"getProperties",value:function(){return this.m_xmlNode}},{key:"getUseObjectsInRestore",value:function(){return this.m_bUseObjectsInRestore}},{key:"setUseObjectsInRestore",value:function(e){this.m_bUseObjectsInRestore=e}},{key:"PropertyTitle",value:function(e){var t="",n="",r=null,a=null;if(!c["a"].IsEmptyString(t=this.FieldPropertyValue(e,"title")))return t;if(!c["a"].IsEmptyString(t=this.FieldPropertyValue(e,"caption")))return t;var i=this;do{if(null!=(r=i.getNode("prop","name",e)))break;if(null!=(r=i.getNode("button","name",e)))break;i=i.getParentCollection()}while(null!=i);if(null==r)return e;if(c["a"].IsEmptyString(n=this.getOwnerApp().getPlatform())||(a=r.SelectSingleNode("platform","name",n)),n="",null!=a&&c["a"].IsEmptyString(n=v["a"].getNodeAttr(a,"title"))&&(n=a.getAttrValue("caption")),c["a"].IsEmptyString(n)&&(n=v["a"].getNodeAttr(r,"title"),c["a"].IsEmptyString(n)&&(n=r.getAttrValue("caption"),c["a"].IsEmptyString(n)&&(n=r.getText()),c["a"].IsEmptyString(n)))){var o=!1;if(r.getName().equals("button"))o=!0;else{var s=r.getAttrValue("type");c["a"].IsEmptyString(s)||s.equals("B")&&(o=!0)}o||(n=e)}return c["a"].SafeToString(n)}},{key:"IsFormulaProperty",value:function(e){return 0!=this.m_lstFormulaProps.length&&!!this.m_lstFormulaProps.contains(e)}},{key:"IsBitProperty",value:function(e){return 0!=this.m_lstBitProps.length&&!!this.m_lstBitProps.contains(e)}},{key:"getDeferredLoad",value:function(){return this.Options.bDeferredLoad}},{key:"GetCurrentItemValue",value:function(e){throw new Error("Method not implemented.")}},{key:"FieldExists",value:function(e){if(null!=this.m_xmlNode.SelectSingleNode("prop","name",e))return!0;if(null!=this.m_xmlNode.SelectSingleNode("button","name",e))return!0;if(this.m_strPk.equals(e))return!0;if(!c["a"].IsEmptyString(this.Options.strParentCollection)){if(null==this.getParentCollection()){var t=this.m_messages.GetMessage(g["a"].SYS_MSG_COLL_FIELDEXISTSFAIL,"CXoneDataCollection::FieldExists failed. Collection '{0}' inherits '{1}' and it cannot be found.");throw t=t.replace("{0}",this.m_strName),t=t.replace("{1}",this.Options.strParentCollection),new m["a"](-17778,t)}return this.getParentCollection().FieldExists(e)}return!1}},{key:"getSpecial",value:function(){return this.isSpecial}},{key:"isSpecial",get:function(){return this.m_options.bIsSpecial}},{key:"getObjectIndex",value:function(e){return this.BrowseData.ObjectIndex(e)}},{key:"getTypeFromXml",value:function(t){if(u["a"].isEmpty(t))return e.PROP_TYPE_STRING;switch(t){case"T":case"TN":case"DR":case"IMG":case"PH":case"TT":return e.PROP_TYPE_STRING;case"N":case"NC":return e.PROP_TYPE_INTEGER;case"D":case"DT":return e.PROP_TYPE_DATE;case"Z":return e.PROP_TYPE_RESULTSET;default:var n=t.charAt(0);return"N"==n?e.PROP_TYPE_DOUBLE:e.PROP_TYPE_STRING}}},{key:"lock",value:function(){this.m_bLocked=!0}},{key:"unlock",value:function(){this.m_bLocked=!1}},{key:"isLock",value:function(){return this.m_bLocked}},{key:"clear",value:function(){return!!this.m_bLocked||this.ClearCollection()}},{key:"ClearCollection",value:function(){if(this.m_bIsClearing||this.m_bLocked)return!0;try{this.m_bIsClearing=!0,this.BrowseData.Clear(),this.m_bFull=this.m_bIsClearing=!1,this.m_bIsSpecial&&(this.m_nBrowseLength=-1)}catch(e){this.Options.bDebug&&console.log(e.message)}return!0}},{key:"getSort",value:function(){return this.m_strSort}},{key:"setSort",value:function(e){this.m_strSort=e}},{key:"setLinkFilter",value:function(e){this.m_strLinkFilter=e}},{key:"getLinkFilter",value:function(){return this.m_strLinkFilter}},{key:"getFilter",value:function(){return this.m_strFilter}},{key:"setFilter",value:function(e){this.m_strFilter=e}},{key:"getOwnerObject",value:function(){return this.m_pOwnerObject}},{key:"setOwnerObject",value:function(e){this.m_pOwnerObject=e}},{key:"createClone",value:function(){return this.CreateClone()}},{key:"CreateClone",value:function(){var t=null;return t=new e(this.getOwnerApp(),this.getProperties(),this.getVersion()),t.Load()?(t.setSort(this.m_strSort),t.setFilter(this.m_strFilter),this.CopyMacros(t),this.CopyVariables(t),t):null}},{key:"CopyVariables",value:function(e){this.SafeGetVariableList().entrySet().forEach((function(t){return e.setVariables(t[0],t[1])}))}},{key:"CopyMacros",value:function(e){this.m_lstMacros.entrySet().forEach((function(t){return e.setMacro(t[0],t[1])}))}},{key:"loadAll",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1?r[1]:void 0,e.abrupt("return",this.BrowseData.loadAllAsync(t,n));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadAllAsync",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1?r[1]:void 0,e.abrupt("return",this.BrowseData.loadAllAsync(t,n));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startBrowse",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1?r[1]:void 0,e.abrupt("return",this.BrowseData.startBrowse(t,n));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveNext",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.BrowseData.MoveNext());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"endBrowse",value:function(){return this.BrowseData.EndBrowse()}},{key:"currentItem",get:function(){return this.getCurrentItem()}},{key:"getCurrentItem",value:function(){return this.BrowseData.getCurrentItem()}},{key:"getConnection",value:function(){return this.BrowseData.getConnection()}},{key:"isFull",value:function(){return this.getFull()}},{key:"getFull",value:function(){return this.m_bFull}},{key:"setFull",value:function(e){this.m_bFull=e}},{key:"getCount",value:function(){return this.BrowseData.getCount()}},{key:"count",value:function(){return this.getCount()}},{key:"length",get:function(){return this.getCount()}},{key:"PrepareSqlString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.BrowseData.PrepareSqlString(e,t,n)}},{key:"browseLength",value:function(){return this.BrowseData.browseLength()}},{key:"ExecuteCollAction",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=o.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=o[i];return e.next=3,this.executeCollAction.apply(this,[t,n].concat(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeCollAction",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null,a="",!c["a"].IsEmptyString(t)){e.next=4;break}return e.abrupt("return",null);case 4:if(i=this.GetNode(t),null!=i){e.next=8;break}return this.Options.bDebug&&console.log("Colección '"+this.getName()+"' ExecuteCollAction no encuentra el nodo '"+t+"'"),e.abrupt("return",null);case 8:if(r=c["a"].IsEmptyString(n)?i.SelectSingleNode("action"):i.SelectSingleNode("action","name",n),null==r){e.next=19;break}for(a=v["a"].GetNodeAttr(r,"type"),c["a"].IsEmptyString(a)&&(a="runscript"),o=u.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=u[l];if(!a.equals("runscript")){e.next=17;break}return e.next=16,this.doRunScript(r,s);case 16:return e.abrupt("return",e.sent);case 17:e.next=20;break;case 19:this.Options.bDebug&&(c["a"].IsEmptyString(a=n)&&(a=""),console.log("Colección '"+this.getName()+"' ExecuteCollAction no encuentra el nodo action[name='"+a+"']"));case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"prepareContext",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o,s="",l="",u="",d=new G["a"](e),h="",p=[],f=[],m=[],g=[];if(t instanceof R["a"]){r&&Array.isArray(r)&&r.length>0?d.ExtractArguments.apply(d,[t].concat(Object(a["a"])(r))):r=null,o=t.SelectNodes("script");for(var b=0;b<o.count();b++){var _=o.get(b),O=_;if(u=v["a"].getNodeAttr(_,"name"),!c["a"].IsEmptyString(u)){if(null==(O=this.getNode("script","name",u)))continue;s=null}l=v["a"].getNodeAttr(O,"language"),c["a"].IsEmptyString(l)&&(l=this.getOwnerApp().getDefaultLanguage()),s=O.getText(),d.GetParams()&&!d.GetParams().isEmpty()&&d.GetParams().entrySet().forEach((function(e){e[1]instanceof Date?e[1]="new Date('".concat(C["a"].SafeToDateString(e[1]),"')"):!1!==C["a"].IsNumeric(e[1])||c["a"].SafeToString(e[1]).startsWith("'")||c["a"].SafeToString(e[1]).endsWith("'")||(e[1]="'".concat(e[1],"'")),s="let ".concat(e[0],"=").concat(e[1],"; \n                            ").concat(s),m.push(e[0]),g.push(e[1])})),h=F.GenerateFunctionName(t),p.push(s),f.push(h)}}else s=t.replace("javascript:",""),p.push(s),f.push(h);return{ctx:d,scripts:p,funcNames:f,slang:l,Arguments:r,argsName:m,argsValue:g}}},{key:"doRunScript",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.next=3,this.DoRunScriptAsync.apply(this,[t].concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"DoRunScriptAsync",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=l.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=l[a];i=this.prepareContext.apply(this,[this,t].concat(r)),o=i.scripts.length,new Array,s=0;case 5:if(!(s<o)){e.next=11;break}return e.next=8,this.getOwnerApp().RunScriptAsync(i.funcNames[s],i.slang,i.scripts[s],i.ctx,i.Arguments,i.argsName,i.argsValue);case 8:s++,e.next=5;break;case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getItem",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];return e.next=3,this.WrapGetItem(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"WrapGetItem",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=null,n=l.length,r=new Array(n),a=0;a<n;a++)r[a]=l[a];e.t0=r.length,e.next=1===e.t0?5:2===e.t0?15:20;break;case 5:if("string"!==typeof r[0]){e.next=10;break}return e.next=8,this.get(r[0].toString());case 8:return t=e.sent,e.abrupt("break",23);case 10:return i=b["a"].SafeToInt(r[0]),e.next=13,this.get(i);case 13:return t=e.sent,e.abrupt("break",23);case 15:return o=r[0].toString(),e.next=18,this.get(o,r[1]);case 18:return t=e.sent,e.abrupt("break",23);case 20:throw s=this.m_messages.GetMessage(g["a"].SYS_MSG_VBS_BADPARAMCOUNT,"VBS Runtime Error. Incorrect number of parameters for '{0}'"),s=s.replace("{0}","Item"),new m["a"](-91111,s);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteItem",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t instanceof p["a"]&&(t=t.getObjectIndex()),e.next=3,this.get(t);case 3:if(n=e.sent,!n){e.next=10;break}if(n.setFollowRules(this.m_bFollowRules),this.m_options.bIsSpecial){e.next=9;break}if(n.deleteObject()){e.next=9;break}return e.abrupt("return",!1);case 9:this.removeItem(t);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeItem",value:function(e){return this.BrowseData.removeItem(e),this.m_bFull=!1,!0}},{key:"loadFromJson",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t="loadFromJson",n=l.length,r=new Array(n),a=0;a<n;a++)r[a]=l[a];return h["a"].CheckNullParameters(t,r),h["a"].CheckIncorrectParamRange(t,r,1,2),i=r[0],o=r.length>1?r[1]:null,s=o&&c["a"].ParseBoolValue(o["strictMode"],!1),"string"===typeof i&&(i=JSON.parse(i)),this.ClearCollection(),e.next=11,this.loadFromJsonArray(this,i,s);case 11:return e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadFromJsonArray",value:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=0;a<n.length;a++)i=new p["a"](t),i.loadFromJson(n[a]),t.addItem(i);case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}();B.PROP_TYPE_INTEGER=0,B.PROP_TYPE_STRING=1,B.PROP_TYPE_DOUBLE=2,B.PROP_TYPE_DATE=3,B.PROP_TYPE_RESULTSET=0},d361:function(e,t,n){},dc59:function(e,t,n){},dcf0:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return __SCRIPT_WRAPPER})),__webpack_require__.d(__webpack_exports__,"b",(function(){return __SCRIPT_WRAPPERASYNC}));var C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1da1"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("498a"),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("38cf"),core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("bf19"),core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_12__),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_13__),appData,self,ui,selfDataColl,__SCRIPT_WRAPPER=function __SCRIPT_WRAPPER(appDataVal,uiVal,selfVal,functionString,Arguments){appData=appDataVal,ui=uiVal,self=selfVal,"string"==typeof functionString?eval(functionString):functionString.call(this,Arguments)},__SCRIPT_WRAPPERASYNC=function(){var _ref=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function _callee(appDataVal,uiVal,selfVal,selfDataCollVal,functionString,Arguments){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(appData=appDataVal,ui=uiVal,self=selfVal,selfDataColl=selfDataCollVal,"string"!=typeof functionString){_context.next=9;break}return _context.next=7,eval(functionString);case 7:_context.next=11;break;case 9:return _context.next=11,functionString.call(this,Arguments);case 11:case"end":return _context.stop()}}),_callee,this)})));return function(e,t,n,r,a,i){return _ref.apply(this,arguments)}}();function GetPosGPS(e,t){return _GetPosGPS.apply(this,arguments)}function _GetPosGPS(){return _GetPosGPS=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=0,a=0,i=0,ui.startGps(),e.next=6,appData.getCollection("ContentConectarGPS");case 6:return o=e.sent,e.next=9,o.startBrowse();case 9:return e.next=11,o.getCurrentItem();case 11:if(s=e.sent,"undefined"!==typeof s&&(null!==s&&1==s.STATUS?s.HGPS.length>0&&(""!==s.LATITUD&&(r=parseFloat(s.LATITUD)),s.LONGITUD.length>0&&(a=parseFloat(s.LONGITUD))):(r=appData.getCurrentEnterprise().getVariables("LATITUD"),a=appData.getCurrentEnterprise().getVariables("LONGITUD"))),o=null,s=null,appData.getCurrentEnterprise().getVariables("LATITUD")===r&&appData.getCurrentEnterprise().getVariables("LONGITUD")===a||(appData.getCurrentEnterprise().setVariables("LATITUD",r),appData.getCurrentEnterprise().setVariables("LONGITUD",a),i=1),"tracking"!==t){e.next=35;break}if(1!==i){e.next=33;break}return e.next=20,appData.getCollection(n);case 20:return l=e.sent,e.next=23,l.createObject();case 23:return u=e.sent,l.addItem(u),u.LATITUD=r,u.LONGITUD=a,e.next=29,u.save();case 29:replica.start(),l.clear(),l=null,u=null;case 33:e.next=37;break;case 35:n.LATITUD=r,n.LONGITUD=a;case 37:case"end":return e.stop()}}),e)}))),_GetPosGPS.apply(this,arguments)}function PosicionamientoGPS(){return _PosicionamientoGPS.apply(this,arguments)}function _PosicionamientoGPS(){return _PosicionamientoGPS=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==appData.getCurrentEnterprise().getVariables("MIUBICACION")){e.next=5;break}38.886442,-7.004351,e.next=18;break;case 5:return n=0,ui.setMaxWaitDialog(2),ui.updateWaitDialog("Detectando localizacion del dispositivo",1),t=0,e.next=11,appData.getCollection("GPSColl");case 11:return r=e.sent,e.next=14,r.loadAll();case 14:a=r.getObject(0);while(0==n)r.clear(),void 0!=a&&(1!=a.STATUS||a.HGPS.length>0&&(""!==a.LATITUD&&parseFloat(a.LATITUD),a.LONGITUD.length>0&&parseFloat(a.LONGITUD))),t++,200===t&&(n=1,38.886442,-7.004351);200===t&&appData.getCurrentEnterprise().setVariables("MIUBICACION",10),r=null;case 18:ui.updateWaitDialog("Localizacion Terminada",2);case 19:case"end":return e.stop()}}),e)}))),_PosicionamientoGPS.apply(this,arguments)}function ComprobarConexion(){return _ComprobarConexion.apply(this,arguments)}function _ComprobarConexion(){return _ComprobarConexion=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=0,e.prev=1,e.next=4,appData.getCollection("ContentComprobarConexion");case 4:return n=e.sent,e.next=7,n.startBrowse();case 7:return e.next=9,n.getCurrentItem();case 9:if(e.t0=e.sent,null===e.t0){e.next=16;break}return e.next=13,n.getCurrentItem();case 13:if(e.t1=e.sent.RESULTADO,"##OK##"!==e.t1){e.next=16;break}t=1;case 16:return n.endBrowse(),n.clear(),n=null,e.abrupt("return",t);case 22:return e.prev=22,e.t2=e["catch"](1),e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,null,[[1,22]])}))),_ComprobarConexion.apply(this,arguments)}var bBreakUpdateGpsLoop=!1,allMarkers=[];function startUpdateGpsLoop(){var e=new Promise((function(e,t){bBreakUpdateGpsLoop=!1;var n=ui.getView(self);while(!bBreakUpdateGpsLoop){if(!n)break;try{actualizarGps()}catch(r){ui.showToast("Hubo un error")}n.refreshValue("MAP_LONGITUD","MAP_LATITUD","MAP_FGPS")}}));e.then((function(){ui.showToast("Todo OK en promesa")}),(function(){ui.showToast("Error en promesa")}))}function stopUpdateGpsLoop(){bBreakUpdateGpsLoop=!0}function startGpsCallback(){var e={nodeName:"callbackgps",timeBetweenUpdates:1e4,minimumMetersDistanceRange:0,foreground:!0,title:"Titulo",text:"Texto"};ui.startGps(e),ui.showSnackbar("Invocado con callback 50 segs")}function startGpsInterval(){var e={timeBetweenUpdates:0,minimumMetersDistanceRange:0};ui.startGps(e)}function comprobarEstadoGps(){var e=appData.getGlobalMacro("##DEVICE_OS##");if("android"==e){var t=ui.checkGpsStatus();0===t&&ui.showToast("No hay GPS, no se puede activar."),1==t&&ui.showToast("Está activada la localización por GPS."),2==t&&ui.showToast("Está activada la localización por redes wifi y de telefonía."),3==t&&(ui.showToast("No está activado el GPS ni la ubicación por redes wifi y telefonía, a ver si nos lo activan."),ui.askUserForGpsPermission()),4==t&&ui.showToast("Está activada la localización por GPS y redes wifi y de telefonía."),-1==t&&ui.showToast("Error inesperado, compruebe la consola de mensajes.")}}function actualizarGps(){return _actualizarGps.apply(this,arguments)}function _actualizarGps(){return _actualizarGps=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("GPSColl");case 2:return t=e.sent,e.next=5,t.startBrowse();case 5:return e.prev=5,e.next=8,t.getCurrentItem();case 8:if(n=e.sent,n){e.next=11;break}throw"GPS no disponible. objCollGps es: "+n;case 11:if(1==n.STATUS){e.next=13;break}throw"GPS no disponible. STATUS vale: "+n.STATUS;case 13:if(n.LONGITUD){e.next=15;break}throw"Sin cobertura GPS";case 15:self.MAP_LONGITUD=n.LONGITUD,self.MAP_LATITUD=n.LATITUD,self.MAP_ALTITUD=n.ALTITUD,self.MAP_VELOCIDAD=n.VELOCIDAD,self.MAP_RUMBO=n.RUMBO,self.MAP_FGPS=n.FGPS,self.MAP_HGPS=n.HGPS,self.MAP_STATUS=n.STATUS,self.MAP_SATELITES=n.SATELITES,self.MAP_FUENTE=n.FUENTE,self.MAP_PRECISION=n.PRECISION,ui.getView(self).refresh("MAP_LONGITUD,MAP_LATITUD,MAP_ALTITUD,MAP_VELOCIDAD,MAP_RUMBO,MAP_FGPS,MAP_HGPS,MAP_STATUS,MAP_SATELITES,MAP_FUENTE,MAP_PRECISION");case 27:return e.prev=27,t.endBrowse(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[5,,27,30]])}))),_actualizarGps.apply(this,arguments)}function onMapClicked(e){ui.showToast("onMapClicked(): latitude: "+e.latitude+" longitude: "+e.longitude);var t=getControl(e.target),n={latitude:e.latitude,longitude:e.longitude,draggable:!0,icon:"icon.png",tag:"Soy un marker"},r=t.addMarker(n);allMarkers.push(r)}function onMapLongClicked(e){ui.showToast("onMapLongClicked(): latitude: "+e.latitude+" longitude: "+e.longitude)}function onMarkerDraggedEnd(e){return _onMarkerDraggedEnd.apply(this,arguments)}function _onMarkerDraggedEnd(){return _onMarkerDraggedEnd=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ui.msgBox("¿Aquí está bien?","Mensaje",4);case 2:n=e.sent,6!=n&&t.marker.remove(),ui.showToast("Tag: "+t.tag+" latitude: "+t.latitude+" longitude: "+t.longitude);case 5:case"end":return e.stop()}}),e)}))),_onMarkerDraggedEnd.apply(this,arguments)}function onMapReady(e){ui.showToast("El mapa ha sido creado")}function onLocationReady(e){ui.showToast("Localización encontrada por primera vez.\nLatitud: "+e.latitude+"\nLongitud:"+e.longitude)}function onLocationChanged(e){ui.showToast("Localización cambiada.\nLatitud: "+e.latitude+"\nLongitud:"+e.longitude)}function onDistanceMeter(e){ui.showToast("Distancia en metros: "+e.distance)}function showMarkers(){for(var e=allMarkers.length,t=0;t<e;t++){var n=allMarkers[t];n.setVisible(!0)}}function hideMarkers(){for(var e=allMarkers.length,t=0;t<e;t++){var n=allMarkers[t];n.setVisible(!1)}}function setMarkersDraggable(e){for(var t=allMarkers.length,n=0;n<t;n++){var r=allMarkers[n];r.setDraggable(e)}}function removeMarkers(){for(var e=allMarkers.length,t=0;t<e;t++){var n=allMarkers[t];n.remove()}allMarkers.splice(0,allMarkers.length)}function doChangeMapPois(e){return _doChangeMapPois.apply(this,arguments)}function _doChangeMapPois(){return _doChangeMapPois=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,self.getContents("ClientesCoord");case 2:return n=e.sent,"t1.NOMBRE = 'Madrid'"==n.getFilter()?n.setFilter(""):n.setFilter("t1.NOMBRE = 'Madrid'"),n.unlock(),n.clear(),e.next=8,n.loadAll();case 8:n.lock(),ui.refresh(t);case 10:case"end":return e.stop()}}),e)}))),_doChangeMapPois.apply(this,arguments)}function doRefresh(e){if(!e)throw"El nombre del control no puede estar vacío";ui.refresh(e)}function getUserLocation(e){var t=getControl(e);if(t){var n=t.getUserLocation();null===n?ui.showToast("No se ha podido obtener la localización del usuario"):ui.showToast("Latitud: "+n.latitude+"\nLongitud: "+n.longitude)}}function isUserLocationEnabled(e){var t=getControl(e);t&&ui.showToast("Enabled: "+t.isUserLocationEnabled())}function enableUserLocation(e){var t=getControl(e);t&&t.enableUserLocation()}function disableUserLocation(e){var t=getControl(e);t&&t.disableUserLocation()}function drawLine(e){var t=getControl(e);t&&(t.drawLine("ruta 1","#FF0000","normal",37.348394305664385,-9.723497182130814,37.348394305664385,-.002672821283340454),t.drawLine("ruta 1","#00FF00","dashed",38.47718888472095,-9.644861854612827,38.63807799294125,-.1756015419960022),t.drawLine("ruta 2","#0000FF","dotted",41.053614029734,-9.531369879841805,40.98011827779008,.7152241095900536),t.drawLine("ruta 2","#FFFF00","mixed",43.67910133655382,-10.153294019401073,43.03194923828824,3.0807440355420117))}function drawLine2(e){var t=getControl(e);if(t){var n={line:"ruta 1",strokeColor:"#FF0000",mode:"normal",locations:[{latitude:37.348394305664385,longitude:-9.723497182130814},{latitude:37.348394305664385,longitude:-.002672821283340454}]};t.drawLine(n),n={line:"ruta 1",strokeColor:"#00FF00",mode:"dashed",locations:[{latitude:38.47718888472095,longitude:-9.644861854612827},{latitude:38.63807799294125,longitude:-.1756015419960022}]},t.drawLine(n),n={line:"ruta 2",strokeColor:"#0000FF",mode:"dotted",locations:[{latitude:41.053614029734,longitude:-9.531369879841805},{latitude:40.98011827779008,longitude:.7152241095900536}]},t.drawLine(n),n={line:"ruta 2",strokeColor:"#FFFF00",mode:"mixed",locations:[{latitude:43.67910133655382,longitude:-10.153294019401073},{latitude:43.03194923828824,longitude:3.0807440355420117}]},t.drawLine(n)}}function drawRoute(e){var t=getControl(e);if(t){var n={route:"ruta 1",sourceLatitude:38.8685452,sourceLongitude:-6.8170906,destinationLatitude:40.4167747,destinationLongitude:-3.70379019,mode:"driving",strokeColor:"#FFFF00",strokeWidth:5};t.drawRoute(n)}}function drawArea(e){var t=getControl(e);if(t){var n={id:"Area #2",fillcolor:"#7F00FF00",color:"#FF0000FF",width:5,pattern:"normal",data:["43.3712591, -8.4188010","43.2603479, -2.9334110","38.7166700, -9.1333300"]};t.drawArea(n)}}function drawEncodeArea(e){var t=getControl(e);if(t){var n={id:"Area #1",fillcolor:"#7F0000FF",color:"#FFFF0000",width:5,pattern:"normal",data:toEncoded(["38.8685452, -6.8170906","40.4167747, -3.70379019","41.3850632, 2.1734035","39.4561165, -0.3545661"])};t.drawEncodeArea(n)}}function removeArea(e){var t=getControl(e);t&&t.removeArea("Area #1")}function clearAllAreas(e){var t=getControl(e);t&&t.clearAllAreas()}function routeTo(e){var t=getControl(e);if(t){var n={route:"ruta 1",sourceLatitude:40.4167747,sourceLongitude:-3.70379019,destinationLatitude:41.3850632,destinationLongitude:2.1734035,mode:"driving",strokeColor:"#FFFF00",strokeWidth:5,source:"external"};t.routeTo(n)}}function clearRoute(e){var t=getControl(e);t&&t.clearRoute("ruta 1")}function clearAllRoutes(e){var t=getControl(e);t&&t.clearAllRoutes()}function clearLine(e){var t=getControl(e);t&&t.clearLine("ruta 1")}function clearAllLines(e){var t=getControl(e);t&&t.clearAllLines()}function showPoisMenu(e){var t=getControl(e);t&&t.showPoisMenu()}function hidePoisMenu(e){var t=getControl(e);t&&t.hidePoisMenu()}function togglePoisMenu(e){var t=getControl(e);t&&t.togglePoisMenu()}function zoomTo(e){var t=getControl(e);t&&t.zoomTo(38.886546,-7.0043193)}function zoomToEncodeData(e){var t=getControl(e);t&&t.zoomToEncodeData(toEncoded(["38.8685452, -6.8170906","40.4167747, -3.70379019"]))}function zoomToBounds(e){var t=getControl(e);t&&t.zoomToBounds(["35.946850084, -9.39288367353","43.7483377142, 3.03948408368"])}function zoomToMyLocation(e){var t=getControl(e);t&&t.zoomToMyLocation(20)}function restrictMapToBounds(e){var t=getControl(e);t&&t.restrictMapToBounds(["35.946850084, -9.39288367353","43.7483377142, 3.03948408368"])}function startDistanceMeter(e){var t=getControl(e);if(t){var n={latitude:38.886546,longitude:-7.0043193,startMarkerIcon:"start_distance_marker_icon.png",endMarkerIcon:"end_distance_marker_icon.png"};t.startDistanceMeter(n),t.zoomTo(38.886546,-7.0043193)}}function stopDistanceMeter(e){var t=getControl(e);t&&t.stopDistanceMeter()}function testInexistente(e){return _testInexistente.apply(this,arguments)}function _testInexistente(){return _testInexistente=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,self.getContents("ClientesCoord");case 2:return n=e.sent,e.next=5,n.createObject();case 5:if(r=e.sent,r.NOMBRE="Test POI",r.DIRECCION="Calle Falsa",n.unlock(),n.clear(),n.addItem(r),n.lock(),a=ui.getView(self),a){e.next=15;break}return e.abrupt("return");case 15:a.refresh(t);case 16:case"end":return e.stop()}}),e)}))),_testInexistente.apply(this,arguments)}function distanceTo(){var e=[{latitude:38.8685452,longitude:-6.8170906},{latitude:40.4167747,longitude:-3.70379019}],t=(new GpsTools).distanceTo(e);ui.showToast("Distancia entre Badajoz y Madrid: "+t+" metros.")}function getAddressFromPosition(){return _getAddressFromPosition.apply(this,arguments)}function _getAddressFromPosition(){return _getAddressFromPosition=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(new GpsTools).getAddressFromPosition("38.8862106, -7.0040345"),n="Localidad: "+t.locality+"\nSublocalidad: "+t.subLocality+"\nÁrea administración: "+t.adminArea+"\nSubárea de administración: "+t.subAdminArea+"\nCaracterísticas: "+t.features+"\nPaís: "+t.country+"\nCódigo país: "+t.countryCode+"\nCalle: "+t.street+"\nNúmero: "+t.number+"\nDirección: "+t.address+"\nCódigo postal: "+t.postal,e.next=4,ui.msgBox(n,"Resultado",0);case 4:case"end":return e.stop()}}),e)}))),_getAddressFromPosition.apply(this,arguments)}function containsLocation(){return _containsLocation.apply(this,arguments)}function _containsLocation(){return _containsLocation=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ui.msgBox("¿Es Teruel una ciudad contenida en un polígono formado por La Coruña -> Bilbao -> Lisboa?","Mensaje",0);case 2:if(t=(new GpsTools).containsLocation("40.3633442, -1.0893794",["43.3712591, -8.4188010","43.2603479, -2.9334110","38.7166700, -9.1333300"]),!t){e.next=8;break}return e.next=6,ui.msgBox("Por ahí anda Teruel","Mensaje",0);case 6:e.next=10;break;case 8:return e.next=10,ui.msgBox("No, Teruel no está ahí","Mensaje",0);case 10:return e.next=12,ui.msgBox("¿Es Teruel una ciudad contenida en un polígono formado por Badajoz -> Madrid -> Barcelona -> Valencia?","Mensaje",0);case 12:if(t=(new GpsTools).containsLocation("40.3633442, -1.0893794",["38.8685452, -6.8170906","40.4167747, -3.70379019","41.3850632, 2.1734035","39.4561165, -0.3545661"]),!t){e.next=18;break}return e.next=16,ui.msgBox("Por ahí anda Teruel","Mensaje",0);case 16:e.next=20;break;case 18:return e.next=20,ui.msgBox("No, Teruel no está ahí","Mensaje",0);case 20:case"end":return e.stop()}}),e)}))),_containsLocation.apply(this,arguments)}function getLastKnownLocation(){return _getLastKnownLocation.apply(this,arguments)}function _getLastKnownLocation(){return _getLastKnownLocation=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=(new GpsTools).getLastKnownLocation(),t){e.next=4;break}return ui.showToast("No hay última localización conocida"),e.abrupt("return");case 4:return e.next=6,ui.msgBox("Latitud: "+t.latitude+"\nLongitud: "+t.longitude+"\nPrecisión (metros): "+t.accuracy+"\nAltitud (metros elipsis WSG 84): "+t.altitude+"\nRumbo (grados): "+t.bearing+"\nVelocidad (metros/segundo): "+t.speed+"\nFecha: "+t.time.toString(),"Mensaje",0);case 6:case"end":return e.stop()}}),e)}))),_getLastKnownLocation.apply(this,arguments)}function encoded(){var e=toEncoded(["38.8685452, -6.8170906","40.4167747, -3.70379019"]);ui.showToast(e)}function toEncoded(e){return e?(new GpsTools).encode(e):null}function doFollowUserLocation(e,t){var n=getControl(e);n&&n.setFollowUserLocation(t)}function doSetMapType(e,t){var n=getControl(e);n&&n.setMapType(t)}function getControl(e){if(!e)throw"El nombre del control no puede estar vacío";var t=ui.getView(self);if(!t)return null;var n=t[e];return n?void 0===n?null:n:null}function AddTableCellText(e,t,n,r,a,i){e.setCellBorder("none"),!0===n&&e.setCellBorder("left"),!0===a&&e.setCellBorder("right"),!0===r&&e.setCellBorder("top"),i&&e.setCellBorder("bottom"),e.addCellText(t)}function GeneratePDFDocument(){return _GeneratePDFDocument.apply(this,arguments)}function _GeneratePDFDocument(){return _GeneratePDFDocument=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=createObject("XOnePDF"),t.create("PDFbyXOne.pdf"),t.open(),t.setFont("helvetica"),t.setFontSize(12),t.setFontStyle("normal"),t.setFontColor("#000000"),t.createTable(1),t.setTableCellWidths(400),AddTableCellText(t,"",0,0,0,0),t.setAlignment("center"),AddTableCellText(t,"Prueba Crear PDF",0,0,0,0),t.addTable(),t.setFontSize(9),t.createTable(1),t.setTableCellWidths(400),AddTableCellText(t," ",0,0,0,0),t.addTable(),t.createTable(3),t.setTableCellWidths(280,70,50),AddTableCellText(t,"",0,0,0,0),t.setAlignment("left"),AddTableCellText(t,"Serie: ",1,1,0,0),t.setAlignment("center"),AddTableCellText(t,self.MAP_PDFSERIE,0,1,1,0),t.addTable(),t.createTable(6),t.setTableCellWidths(60,70,60,90,30,90),t.setAlignment("left"),AddTableCellText(t,"FECHA ",1,1,0,1),t.setAlignment("center"),AddTableCellText(t,getDate(self.MAP_PDFFECHA),0,1,1,1),t.setAlignment("left"),AddTableCellText(t," ",0,1,0,1),t.setAlignment("center"),AddTableCellText(t,"",0,1,1,1),t.setAlignment("left"),AddTableCellText(t,"Nº ",0,1,0,1),t.setAlignment("center"),AddTableCellText(t,self.MAP_PDFNUMERO,0,1,1,1),t.addTable(),t.createTable(1),t.setTableCellWidths(400),AddTableCellText(t,"",0,0,0,0),t.setAlignment("left"),AddTableCellText(t,cstr(self.MAP_PDFTEXT),0,0,0,0),t.addTable(),t.addImageSetXY("faro.jpg",200,100,150,75),t.close(),t.flattenPdf(""),e.next=52,ui.msgBox("Quiere Abrir el PDF?","PDF GENERADO",4);case 52:if(e.t0=e.sent,6!==e.t0){e.next=55;break}t.launchPDF("PDFbyXOne.pdf");case 55:t=null;case 56:case"end":return e.stop()}}),e)}))),_GeneratePDFDocument.apply(this,arguments)}function getDate(e){return e.toString().substr(0,11)}function VBScriptSupport(){this.cstr=function(e){return safeToString(e)},this.now=function(){return new Date},this.len=function(e){return safeToString(e).length},this.cint=function(e){return parseInt(e)},this.left=function(e,t){return t<=0?new String:t>String(e).length?safeToString(e):safeToString(e).substring(0,t)},this.replace=function(e,t,n){return e=safeToString(e),t=safeToString(t),n=safeToString(n),t=escapeRegularExpression(t),e.replace(t,n),e},this.day=function(e){return e=safeToDate(e),e.getDate()},this.month=function(e){return e=safeToDate(e),e.getMonth()},this.year=function(e){return e=safeToDate(e),e.getFullYear()},this.right=function(e,t){if(e=new String(e),t<=0||t>e.length)return e;var n=e.length;return e.substring(n,n-t)},this.mid=function(e,t,n){if(t<0||n<0)return e;var r,a=new String(e).length;return r=t+n>a?a:t+n,new String(e).substring(t,r)},this.inStr=function(e,t){for(i=0;i<len(e);i++)if(t==mid(e,i,1))return i;return-1},this.lcase=function(e){return isString(e)?e.toLowerCase():new String(e).toLowerCase()},this.ucase=function(e){return isString(e)?e.toUpperCase():new String(e).toUpperCase()},this.abs=function(e){return Math.abs(e)},this.trim=function(e){return e=safeToString(e),e.trim()},this.split=function(e,t){return e.split(t)},this.dateDiff=function(e,t,n){switch(t=safeToDate(t),n=safeToDate(n),nDiff=Math.abs(t.getTime()-n.getTime()),e){case"h":return nDiff/36e5;case"n":return nDiff/6e4;default:throw new Error("dateDiff(): Unknown date period "+e)}},this.dateAdd=function(e,t,n){switch(n=safeToDate(n),e){case"yyyy":return n.setYear(n.getYear()+t),n;case"q":return n;case"m":return n.setMonth(n.getMonth()+t),n;case"y":return n;case"d":return n.setDate(n.getDate()+t),n;case"w":return n;case"ww":return n;case"h":return n.setHours(n.getHours()+t),n;case"n":return n.setMinutes(n.getMinutes()+t),n;case"s":return n.setSeconds(n.getSeconds()+t),n;default:throw new Error("dateAdd(): Unknown date period "+e)}}}var vbSupport=new VBScriptSupport;function isNothing(e){return null===e||"undefined"==e}function isSomething(e){return null!==e&&"undefined"!=e}function getClassName(e){return isNothing(e)?null:e.constructor.name}function isFloatNumber(e){return e===+e&&e!==(0|e)}function isIntegerNumber(e){return e===+e&&e===(0|e)}function isNumber(e){return!isNothing(e)&&(!isNaN(parseFloat(e))&&isFinite(e))}function isString(e){return"string"===typeof e||e instanceof String}function isEmptyString(e){return!!isString(e)&&(!e||0===e.length)}function isDate(e){return e instanceof Date}function safeToString(e){return isNothing(e)?new String:new String(e)}function safeToDate(e){return isDate(e)?e:new Date(replaceAll(safeToString(e),"-","/"))}function escapeRegularExpression(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function replaceAll(e,t,n){return t=escapeRegularExpression(t),e.split(t).join(n)}function ponerCallbackNfc(){var e=new XOneNFC;e.setOnTagDiscoveredCallback(tagNfcEncontrado)}function tagNfcEncontrado(e){var t="ID tag NFC (hex): "+e.getHexId();if(e.isTechnologyAvailable("ndef")){e.setType("ndef");var n=e.getNdefMessage(),r=n.getAllRecords();if(!r||r.length<=0)t+="\nNo hay records NDEF en este tag";else for(var a=0;a<r.length;a++){var i=r[a],o=i.getMimeType(),s=i.getText();t=t+"\nRecord #1\nMime type: "+o+"\nText: "+s}self.MAP_DATA=t,ui.refreshValue("MAP_DATA")}else e.isTechnologyAvailable("nfc_v")?(e.setType("nfc_v"),e.connect(),ui.showToast("Es NFC-V: "+e.readNfcV())):ui.showToast("Tag NFC inválido")}function enableDnieReader(){if(""!==self.MAP_CAN_NUMBER){var e={readProfileData:!0,readUserImage:!0,readSignatureImage:!0,canNumber:self.MAP_CAN_NUMBER,onDnieRead:function(e){self.MAP_TEXT="DNI number: "+e.getDniNumber()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Document type: "+e.getDocumentType()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Name: "+e.getName()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Surname: "+e.getSurname()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Date of birth: "+e.getDateOfBirth()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Date of expiry: "+e.getDateOfExpiry()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Nationality: "+e.getNationality()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Issuer: "+e.getIssuer()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Optional data: "+e.getOptionalData()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Sex: "+e.getSex()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Birth place: "+e.getBirthPlace()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Address: "+e.getAddress()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Custody info: "+e.getCustodyInfo()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Icao name: "+e.getIcaoName()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Other info: "+e.getOtherInfo()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Profession: "+e.getProfession()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Phone: "+e.getPhone()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Title: "+e.getTitle()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Summary: "+e.getSummary(),self.MAP_USER_IMAGE=e.getUserImage(appData.getFilesPath()+"user_"+e.getDniNumber()+".png"),self.MAP_SIGNATURE_IMAGE=e.getSignatureImage(appData.getFilesPath()+"signature_"+e.getDniNumber()+".png"),ui.refreshValue("MAP_TEXT"),ui.refresh("MAP_TEXT","MAP_USER_IMAGE","MAP_SIGNATURE_IMAGE")},onDnieReadError:function(e){self.MAP_TEXT="Error: "+e,ui.refreshValue("MAP_TEXT")},onProgressUpdated:function(e,t){self.MAP_TEXT="Reading DNIe.\nProgress: "+t+"\n"+e,ui.refreshValue("MAP_TEXT")}},t=createObject("XOneNFC");t.enableDnieReader(e),ui.showSnackbar("Pase su DNI electrónico por el lector NFC")}else ui.showSnackbar("Introduzca el CAN del DNI electrónico")}function disableDnieReader(){var e=createObject("XOneNFC");e.disableDnieReader()}function generatePdfDemo(){var e="<P> <TABLE border='1'> <CAPTION align='top'> A more complex table-within-a table. </CAPTION> <TR> <TH> Outer Table </TH> <TD> <TABLE border='1'> <CAPTION align='top'> An inner table showing a variety of headings and data items. </CAPTION> <TR> <TH colspan='5'> Inner Table </TH> </TR> <TR> <TH rowspan='2' colspan='2'> CORNER </TH> <TH colspan='3'> Head1 </TH> </TR> <TR> <TH rowspan='2'> Head2 </TH> <TH colspan='2'> Head3 </TH> </TR> <TR> <TH> Head4 </TH> <TH> Head5 </TH> <TH> Head6 </TH> </TR> <TR> <TD> A </TD> <TD rowspan='2' valign='middle' bgcolor= 'yellow'> Two Tall </TD> <TD bgcolor='green'> <UL> <LI> Lists can be table data </LI> <LI> Images can be table data </LI> </UL> </TD> <TD colspan='2' align='center'> Two Wide </TD> </TR> <TR valign='middle'> <TD> aaaaa </TD> <TD align='center'> A <A href='form.html'>Form</A> in a table: <FORM Method='POST' Action= 'http://www.december.com/cgi-bin/formmail.secure.cgi'> <INPUT type='hidden' name='recipient' value='nobody@december.com'><INPUT type= 'hidden' name='subject' value= 'Table Example'> Your age: <INPUT type= 'text' name='user-age' size='2'><BR> What is your favorite ice cream?<BR> <SELECT name='favorite-icecream'> <OPTION> Vanilla </OPTION> <OPTION> Chocolate </OPTION> <OPTION> Cherry Garcia </OPTION> <OPTION> Pizza Pancake </OPTION> <OPTION> None of the above! </OPTION> </SELECT><BR> <INPUT type='submit' value='OK'> <INPUT type='reset' value='Cancel'> </FORM> </TD> <TD> <TABLE> <CAPTION> No border </CAPTION> <TR> <TH> Little </TH> </TR> <TR> <TD> Table </TD> </TR> </TABLE> </TD> <TD> Multiple<BR> line<BR> item </TD> </TR> </TABLE> </TD> </TR> </TABLE> <P> For more practical examples, see the Periodic Table of the Elements, <A href= 'http://www.webelements.com/'>WebElements</A>. </P> <P> You can see a <A href='tablem.html'>variety of table cellspacing and cellpadding attributes demonstrated</A>. </P>",t=createObject("XOnePDF");t.permissions("assembly"),t.create(appData.getFilesPath()+"PDFbyXOne.pdf"),t.open(),t.fromHtml(e),t.close(),t.launchPDF()}function signPdfDemo(){var e=createObject("FileManager"),t=e.fileExists(appData.getFilesPath()+"PDFbyXOne.pdf");if(0==t)if(""!=self.MAP_CAN_NUMBER)if(""!=self.MAP_PIN){var n={readSignatureCertificate:!0,canNumber:self.MAP_CAN_NUMBER,pin:self.MAP_PIN,onDnieRead:function(e){var t=createObject("XOnePDF"),n=appData.getFilesPath()+"PDFbyXOne.pdf",r=appData.getFilesPath()+"PDFbyXOne_signed.pdf";t.signPdfWithKey(n,r,e.getSignatureKey(),e.getSignatureCertificateChain()),t.launchPDF(r)},onDnieReadError:function(e){self.MAP_TEXT="Error: "+e,ui.refreshValue("MAP_TEXT")},onProgressUpdated:function(e,t){self.MAP_TEXT="Reading DNIe.\nProgress: "+t+"%\n"+e,ui.refreshValue("MAP_TEXT")}},r=createObject("XOneNFC");r.enableDnieReader(n),ui.showSnackbar("Pase su DNI electrónico por el lector NFC")}else ui.showSnackbar("Introduzca el PIN del DNI electrónico");else ui.showSnackbar("Introduzca el CAN del DNI electrónico");else ui.showSnackbar("El fichero PDF a firmar no existe. Genérelo primero.")}function sendSignedPdf(){var e=createObject("FileManager"),t=appData.getFilesPath()+"PDFbyXOne_signed.pdf",n=e.fileExists(t);0==n?ui.sendMail("","","PDF firmado","Adjunto PDF firmado con DNI electrónico",t):ui.showSnackbar("El fichero PDF firmado no existe. Fírmelo primero.")}function inicializarCal(){return _inicializarCal.apply(this,arguments)}function _inicializarCal(){return _inicializarCal=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("ContentdatosCalendario");case 2:t=e.sent,i=1;case 4:if(!(i<=5)){e.next=21;break}return a=new Date,e.next=8,t.createObject();case 8:return n=e.sent,t.addItem(n),r="00"+5*i,r=Right(r,2),n.FECHA=a.getFullYear()+"-"+a.getMonth()+"-"+r,n.HORAINI="19:00",n.HORAFIN="23:00",1===i||3===i?(n.TIPO="Info: Azul",n.DESCRIPCION="Tarea de información"):2===i||5===i?(n.TIPO="Visita: Naranja",n.DESCRIPCION="Visita al cliente"):(n.TIPO="Pedido: Verde",n.DESCRIPCION="Visita con pedido creado"),e.next=18,n.save();case 18:i++,e.next=4;break;case 21:n=null,t=null;case 23:case"end":return e.stop()}}),e)}))),_inicializarCal.apply(this,arguments)}function ShowMessageDebug(e,t){return _ShowMessageDebug.apply(this,arguments)}function _ShowMessageDebug(){return _ShowMessageDebug=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==appData.getCurrentEnterprise().getVariables("Debug")){e.next=7;break}if("msgbox"!==t){e.next=6;break}return e.next=4,ui.msgBox(n,"¡App_log_xone!",0);case 4:e.next=7;break;case 6:"showtoast"===t?ui.showToast("App_log_xone->"+n):"consola"===t&&appdata.writeConsoleString("App_log_xone->"+n);case 7:case"end":return e.stop()}}),e)}))),_ShowMessageDebug.apply(this,arguments)}function lockContents(e){return _lockContents.apply(this,arguments)}function _lockContents(){return _lockContents=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=null,r=0;case 2:if(!(r<t.length)){e.next=10;break}return e.next=5,self.getContents(t[r]);case 5:n=e.sent,null!=n&&n.lock();case 7:r++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))),_lockContents.apply(this,arguments)}function inicializeChats(){return _inicializeChats.apply(this,arguments)}function _inicializeChats(){return _inicializeChats=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return self.MAP_GRUPOSEL=1,self.MAP_VERFLOTANTE=0,self.MAP_RECORDON=0,self.MAP_PHONE="",self.MAP_USERLOGIN=user.LOGIN,e.next=7,self.getContents("Chat");case 7:e.sent.setMacro("##MACRO##",user.LOGIN),self.MAP_FOTO_FONDO="fondo_chat.png";case 9:case"end":return e.stop()}}),e)}))),_inicializeChats.apply(this,arguments)}function createChat(e,t){return _createChat.apply(this,arguments)}function _createChat(){return _createChat=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=0,e.next=3,self.getContents("Chat");case 3:return a=e.sent,a.unlock(),e.next=7,a.findObject("(USUARIO='"+t+"' AND USUARIO2='"+n+"') OR (USUARIO='"+n+"' AND USUARIO2='"+t+"')");case 7:if(i=e.sent,null!=i){e.next=17;break}return e.next=11,a.createObject();case 11:return i=e.sent,i.USUARIO=t,i.USUARIO2=n,i.FECHA=new Date,e.next=17,i.save();case 17:return r=i.getObjectIndex(),a.lock(),e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),_createChat.apply(this,arguments)}function openChat(e,t){return _openChat.apply(this,arguments)}function _openChat(){return _openChat=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getContents("Chat");case 2:return r=e.sent,r.unlock(),e.next=6,r.loadAll();case 6:return a=r.get(t),n.MAP_INDICESEL=t,n.MAP_IDCHATSEL=a.ID,n.MAP_IMGTIPO=a.MAP_IMAGEN,n.MAP_CHATTITULO=a.MAP_TITULO,n.MAP_CCUSUARIO=a.USUARIO2,r.lock(),ui.getView(n).refresh("MAP_BTVERGENTE","MAP_IMGTIPO","MAP_CHATTITULO"),e.next=16,n.executeNode("abrirDrawer(2)");case 16:case"end":return e.stop()}}),e)}))),_openChat.apply(this,arguments)}function openListUser(){return _openListUser.apply(this,arguments)}function _openListUser(){return _openListUser=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return self.MAP_VERFLOTANTE=1,e.next=3,self.getContents("nUsuarios");case 3:return e.sent.unlock(),e.next=6,self.getContents("nUsuarios");case 6:return e.next=8,e.sent.loadAll();case 8:return e.next=10,self.getContents("nUsuarios");case 10:return e.sent.lock(),e.next=13,self.getContents("nUsuarios");case 13:e.sent.createSearchIndex(["NOMBRE,"]),ui.getView(self).refreshAll("frmnuevochat");case 15:case"end":return e.stop()}}),e)}))),_openListUser.apply(this,arguments)}function closeListUser(){self.MAP_VERFLOTANTE=0,ui.getView(self).refresh("frmnuevochat")}function salir(){0!=self.MAP_VERFLOTANTE?(self.MAP_VERFLOTANTE=0,ui.refresh("frmnuevochat,frmInfoCentralfloating")):1==self.MAP_GRUPOSEL?appData.failWithMessage(-11888,"##EXIT##"):(ui.refresh("Chat"),self.MAP_GRUPOSEL=1,irGrupo(1))}function setTimeRecording(e){var t=self[e].split(":"),n=Number(t[0]),r=Number(t[1]);r<60?r++:(n++,r=0),r<10&&(r="0"+r.toString()),self[e]=n.toString()+":"+r.toString(),ui.refreshValue(e),1==self.MAP_RECORDON&&ui.executeActionAfterDelay("onSetTime",1)}function AccionesChatEspecial(e,t){return _AccionesChatEspecial.apply(this,arguments)}function _AccionesChatEspecial(){return _AccionesChatEspecial=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="nuevochat"===e.t0?3:"ok"===e.t0?6:"llamada"===e.t0?13:"fotoabrir"===e.t0?20:"voz"===e.t0?23:"textoChange"===e.t0?25:"enviar"===e.t0?27:"textoU"===e.t0?64:70;break;case 3:return e.next=5,openListUser();case 5:return e.abrupt("break",70);case 6:return e.next=8,createChat(user.LOGIN,self.MAP_CCUSUARIO);case 8:return r=e.sent,closeListUser(),e.next=12,openChat(r,self);case 12:return e.abrupt("break",70);case 13:if(0!=self.MAP_PHONE.toString().length){e.next=18;break}return e.next=16,ui.msgBox("La persona con la que quiere contactar no tiene relleno el número de teléfono","Notificación",0);case 16:e.next=19;break;case 18:ui.makePhoneCall(self.MAP_PHONE);case 19:return e.abrupt("break",70);case 20:return self.MAP_TIPO=1,ui.startCamera("MAP_FOTO","photo"),e.abrupt("break",70);case 23:return 0==self.MAP_RECORDON?(self.MAP_TIPO=2,self.MAP_RECORDON=1,self.MAP_SHOWADDTEXT=1,self.MAP_TIMERECORD="0:00",ui.startAudioRecord("onrecordfinished","MAP_VOZGRABADA",0),ui.executeActionAfterDelay("onSetTime",1),ui.refresh("frmNormal,MAP_ADDTEXT"),ui.getView(self).refreshAll("frmRecording")):(self.MAP_TIPO=0,self.MAP_RECORDON=0,self.MAP_SHOWADDTEXT=0,self.MAP_TIMERECORD="0:00",ui.stopAudioRecord(),ui.refresh("frmRecording,MAP_ADDTEXT"),ui.getView(self).refreshAll("frmNormal")),e.abrupt("break",70);case 25:return null!=n&&(self.MAP_TIPO=0,n.newText.length>0&&0==self.MAP_SHOWADDTEXT?(self.MAP_SHOWADDTEXT=1,a=self.getFieldPropertyValue("MAP_TITLE","width"),a=a.replace("p",""),a=parseInt(a)+100,self.setFieldPropertyValue("MAP_TITLE","width",a.toString()+"p"),self.MAP_TITLE=n.newText,ui.refresh("MAP_TITLE,MAP_ADDFOTO,MAP_ADDRECORD,MAP_ADDTEXT")):0==n.newText.length&&(self.MAP_SHOWADDTEXT=0,a=self.getFieldPropertyValue("MAP_TITLE","width"),a=a.replace("p",""),a=parseInt(a)-100,self.setFieldPropertyValue("MAP_TITLE","width",a.toString()+"p"),self.MAP_TITLE=n.newText,ui.refresh("MAP_TITLE,MAP_ADDFOTO,MAP_ADDRECORD,MAP_ADDTEXT"))),e.abrupt("break",70);case 27:e.t1=self.MAP_TIPO,e.next=0===e.t1?30:1===e.t1?39:2===e.t1?48:63;break;case 30:return e.t2=sendMessage,e.next=33,self.getContents("Chatear");case 33:return e.t3=e.sent,e.t4=self,e.next=37,(0,e.t2)(e.t3,e.t4,"MAP_TITLE",!0);case 37:return self.MAP_TIPO=0,e.abrupt("break",63);case 39:return e.t5=sendMessage,e.next=42,self.getContents("Chatear");case 42:return e.t6=e.sent,e.t7=self,e.next=46,(0,e.t5)(e.t6,e.t7,"MAP_FOTO",!0);case 46:return self.MAP_TIPO=0,e.abrupt("break",63);case 48:return ui.stopAudioRecord(),e.t8=sendMessage,e.next=52,self.getContents("Chatear");case 52:return e.t9=e.sent,e.t10=self,e.next=56,(0,e.t8)(e.t9,e.t10,"MAP_VOZGRABADA",!0);case 56:return self.MAP_TIPO=0,self.MAP_RECORDON=0,self.MAP_SHOWADDTEXT=0,self.MAP_TIMERECORD="0:00",ui.refresh("frmRecording,MAP_ADDTEXT"),ui.getView(self).refreshAll("frmNormal"),e.abrupt("break",63);case 63:return e.abrupt("break",70);case 64:if(null==n){e.next=69;break}return e.next=67,self.getContents("nUsuarios");case 67:e.sent.doSearch(n.newText),ui.refresh("@nUsuarios");case 69:return e.abrupt("break",70);case 70:case"end":return e.stop()}}),e)}))),_AccionesChatEspecial.apply(this,arguments)}function AccionesChat(e){return _AccionesChat.apply(this,arguments)}function _AccionesChat(){return _AccionesChat=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="ver"===e.t0?3:"verfoto"===e.t0?6:"vervoz"===e.t0?8:10;break;case 3:return e.next=5,openChat(self.getObjectIndex(),self.getOwnerCollection().getOwnerObject());case 5:return e.abrupt("break",10);case 6:return ui.openFile(self.MAP_FOTO),e.abrupt("break",10);case 8:return ui.openFile(self.MAP_VOZ),e.abrupt("break",10);case 10:case"end":return e.stop()}}),e)}))),_AccionesChat.apply(this,arguments)}function sendMessage(e,t,n,r){return _sendMessage.apply(this,arguments)}function _sendMessage(){return _sendMessage=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0==n[r].length){e.next=24;break}return e.next=3,appData.getCollection("MensajesReader");case 3:return i=e.sent,e.next=6,i.createObject();case 6:return o=e.sent,a?(o.USUARIOTO=self.MAP_CCUSUARIO,o.USUARIOFROM=user.LOGIN):(o.USUARIOTO=user.LOGIN,o.USUARIOFROM=self.MAP_CCUSUARIO),o.FECHA=new Date,o.MENSAJE=self[r],o.TIPO=self.MAP_TIPO,o.IDCHAT=self.MAP_IDCHATSEL,e.next=14,o.save();case 14:return ui.startReplica(),t.unlock(),e.next=18,addUserMessage(t,o,-1,o.ROWID);case 18:t.lock(),self[r]="",o=null,i.clear(),i=null,ui.refresh("MensajesUsuarios",r);case 24:case"end":return e.stop()}}),e)}))),_sendMessage.apply(this,arguments)}function fillMessagesContent(e,t,n){return _fillMessagesContent.apply(this,arguments)}function _fillMessagesContent(){return _fillMessagesContent=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("MensajesReader");case 2:return a=e.sent,a.setFilter("IDCHAT="+self.MAP_IDCHATSEL),t.unlock(),t.clear(),e.next=8,t.loadAll();case 8:return a.setSort("FECHA ASC"),e.next=11,a.startBrowse();case 11:return e.next=13,a.getCurrentItem();case 13:if(e.t1=e.sent,e.t2=void 0,e.t0=e.t1!==e.t2,!e.t0){e.next=21;break}return e.next=19,a.getCurrentItem();case 19:e.t3=e.sent,e.t0=null!=e.t3;case 21:if(!e.t0){e.next=31;break}return e.next=24,a.getCurrentItem();case 24:return i=e.sent,e.next=27,addUserMessage(t,i,0,i.ROWID);case 27:return e.next=29,a.moveNext();case 29:e.next=11;break;case 31:a.endBrowse(),a.clear(),a=null,t.lock(),ui.refresh("Chatear");case 36:case"end":return e.stop()}}),e)}))),_fillMessagesContent.apply(this,arguments)}function addUserMessage(e,t,n,r){return _addUserMessage.apply(this,arguments)}function _addUserMessage(){return _addUserMessage=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.createObject();case 2:i=e.sent,t.addItem(i),i.FECHA=n.FECHA,i.USUARIOFROM=n.USUARIOFROM,i.USUARIOTO=n.USUARIOTO,e.t0=n.TIPO,e.next=0===e.t0?10:1===e.t0?12:2===e.t0?14:3===e.t0?16:18;break;case 10:return i.MENSAJE=n.MENSAJE,e.abrupt("break",18);case 12:return i.MAP_FOTO=n.MENSAJE,e.abrupt("break",18);case 14:return null!=n.MENSAJE&&(o=n.MENSAJE.substring(n.MENSAJE.lastIndexOf("/")+1),i.MAP_VOZ=o),e.abrupt("break",18);case 16:return i.MAP_ADJUNTO=n.MENSAJE,e.abrupt("break",18);case 18:i.TIPO=n.TIPO,i.IDCHAT=n.IDCHAT,i.MAP_FECHAHORA=n.FECHA,n.USUARIOFROM==user.LOGIN?(i.MAP_COLORVIEW="#A5DF00",i.MAP_FORECOLOR="#666666",i.MAP_FORECOLORFECHA="#B3FFFFFF",i.MAP_ESPACIO=1):(i.MAP_COLORVIEW="#e5e5ea",i.MAP_FORECOLOR="#000000",i.MAP_FORECOLORFECHA="#80000000",i.MAP_ESPACIO=0,i.MAP_IMAGE="trasparente.png"),ui.refresh("Chatear");case 23:case"end":return e.stop()}}),e)}))),_addUserMessage.apply(this,arguments)}function irGrupo(e){ui.showGroup(e,"##RIGHTN##",150,"##RIGHTN_OUT##",150)}var literales=null;function iniciarLiterales(){literales={stVersionLog:"- Version Log.",stScreensRework:"- Screens rework.",stNewSup:"- New supervisor option.",stMustIndicateWarehouse:"You must indicate the warehouse."}}iniciarLiterales(),String.prototype.repeat=function(e){for(var t="",n=0;n<e;n++)t+=this;return t};var MAP_OBJETO_HIJO=null,pdfGlobal;function addZero(e){return e<10&&(e="0"+e),e}function doAuthLogout(){(new OAuth2).withOptions({authority:"https://gaccess-int.gamesacorp.com/identity/",clientID:"APP_0275_GOTMOBILITY",clientSecret:"C7331D93-9109-4F87-B2BA-17C77711B54E",scope:"openid profile",persistenceKey:"key_1234",responseType:"code id_token",redirectUri:"com.xone.oauth2:/gamesaredirect"}).logout()}function doAuthLogin(){(new OAuth2).withOptions({authority:"https://gaccess-int.gamesacorp.com/identity/",clientID:"APP_0275_GOTMOBILITY",clientSecret:"C7331D93-9109-4F87-B2BA-17C77711B54E",scope:"openid profile",responseType:"code id_token",persistenceKey:"key_1234",redirectUri:"com.xone.oauth2:/gamesaredirect"}).authenticate({onSuccess:function(e){console.log(e)},onError:function(e){console.log(e)}})}function doLoginNew(){return _doLoginNew.apply(this,arguments)}function _doLoginNew(){return _doLoginNew=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={userName:self.MAP_USER,password:self.MAP_PASSWORD,entryPoint:"Menu",onLoginSuccessful:function(){ui.showToast("Login OK!")},onLoginFailed:function(){ui.showToast("Login failed!")}},e.next=3,appData.login(t);case 3:case"end":return e.stop()}}),e)}))),_doLoginNew.apply(this,arguments)}function doLogout(){appData.logout()}function exit(){appData.exit()}function funcionesFecha(){var e=new Date,t=new Array("Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"),n=e.getFullYear(),r=addZero(e.getMonth()+1),a=addZero(e.getDate()),i=(e.getDay(),t[e.getDay()],addZero(e.getHours())),o=addZero(e.getMinutes()),s=addZero(e.getSeconds()),l=e.getMilliseconds(),u=e.getTime(),c=e.getTimezoneOffset(),d="Fecha local: "+a+"/"+r+"/"+n;d+="\nDia semana: "+e.getDay()+", "+t[e.getDay()],d+="\nHora: "+i+":"+o+":"+s+"."+l,d+="\nMilisegundos desde 1970: "+u,d+="\nDiferencia GMT minutos: "+c;var h=new Date,p=h.getUTCFullYear(),f=addZero(h.getUTCMonth()+1),m=addZero(h.getUTCDate()),g=h.getUTCDay()+", "+t[h.getUTCDay()],b=addZero(h.getUTCHours()),_=addZero(h.getUTCMinutes()),v=addZero(h.getUTCSeconds()),O=h.getUTCMilliseconds(),y=Date.UTC(p,f,m,b,_,v,O),C="\nFecha UTC: "+m+"/"+f+"/"+p;C+="\nDia semana UTC: "+g,C+="\nHora UTC: "+b+":"+_+":"+v+"."+O,C+="\nMilisegundos desde 1970 en UTC: "+y;var S=e.toString(),E=h.toUTCString(),T=e.toDateString(),k=e.toLocaleString(),w=e.toLocaleDateString(),x=e.toTimeString(),A=e.toLocaleTimeString(),R=e.toISOString(),I=e.toJSON(),P="\ntoString(): \n"+S;return P+="\ntoUTCString(): \n    "+E,P+="\ntoDateString(): "+T,P+="\ntoLocaleString(): \n"+k,P+="\ntoLocaleDateString(): \n    "+w,P+="\ntoTimeString(): \n    "+x,P+="\ntoLocaleTimeString(): "+A,P+="\ntoISOString(): \n    "+R,P+="\ntoJSON(): \n    "+I,d+="\n"+C,d+="\n"+P,d}function userMsgBox(e,t,n){return _userMsgBox.apply(this,arguments)}function _userMsgBox(){return _userMsgBox=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("EspecialMsgbox");case 2:return a=e.sent.createClone(),e.next=5,a.createObject();case 5:return i=e.sent,a.addItem(i),i.MAP_TITULO=t,i.MAP_MENSAJE=n,i.MAP_TIPO=r,e.next=12,ui.msgBox(i);case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),_userMsgBox.apply(this,arguments)}function frameScroll(e){e.dy<=10&&1===self.MAP_SHOWOVERSCROLL?(self.MAP_SHOWOVERSCROLL=0,ui.getView(self).refresh("froverscroll")):e.dy>10&&0===self.MAP_SHOWOVERSCROLL&&(self.MAP_SHOWOVERSCROLL=1,ui.getView(self).refresh("froverscroll"))}function EscanearMatricula(e){var t=createObject("XOneOCR");return t.scanLicensePlate(e)}function EscanearTexto(e){var t=createObject("XOneOCR");return t.scanText(e,"áéíóúÁÉÍÓÚqwertyuiopasdfghjklzxcvbnñmQWERTYUIOPASDFGHJKLZXCVBNÑM")}function prev(e,t,n){e.MAP_GROUP>1&&goPage(e,e.MAP_GROUP-1,n)}function next(e,t,n){e.MAP_GROUP<e.MAP_TOTAL_PAGES&&goPage(e,e.MAP_GROUP+1,n)}function goPage(e,t,n){ui.showGroup(t,"##ALPHA_IN##",500,"##ALPHA_OUT##",500),e.MAP_GROUP=t}function cstr(e){return void 0===e||null===e?"":e.toString()}function formatDateTime(e,t){var n=e.getHours(),r=e.getMinutes(),a=n>=12?"pm":"am";n%=12,n=n||12,r=r<10?"0"+r:r;var i=n+":"+r+" "+a;switch(t){case 0:return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+"  "+i;case 1:return e.getDate()+1+"/"+e.getMonth()+"/"+e.getFullYear();case 2:return e.getDate()+1+"/"+e.getMonth()+"/"+e.getFullYear().toString().substring(2,4);case 3:return i;case 4:return n+":"+r}return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+"  "+i}function len(e){return cstr(e).length}function Left(e,t){return t<=0?"":t>String(e).length?e:String(e).substring(0,t)}function Right(e,t){if(t<=0)return"";if(t>String(e).length)return e;var n=String(e).length;return String(e).substring(n,n-t)}function testClick(e){return _testClick.apply(this,arguments)}function _testClick(){return _testClick=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ui.msgBox(t.target,"Test",0);case 2:case"end":return e.stop()}}),e)}))),_testClick.apply(this,arguments)}function scanAvailableNetworks(){return _scanAvailableNetworks.apply(this,arguments)}function _scanAvailableNetworks(){return _scanAvailableNetworks=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,self.MAP_LOADING=1,ui.refresh("frmLoading"),e.next=5,self.getContents("ContentWifis");case 5:e.sent.clear(),t=new WifiManager,t.isWifiAdapterEnabled()?(onWifiNetworksFound.OBJETO=self,t.scanAvailableNetworks(onWifiNetworksFound),ui.showToast("Escaneando redes WiFi...")):ui.executeActionAfterDelay("scanAvailableNetworks",5),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))),_scanAvailableNetworks.apply(this,arguments)}function onWifiNetworksFound(e){return _onWifiNetworksFound.apply(this,arguments)}function _onWifiNetworksFound(){return _onWifiNetworksFound=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:self=onWifiNetworksFound.OBJETO,"",n=new WifiManager,r=1,a=0;case 5:if(!(a<t.length)){e.next=24;break}return i=t[a],o=!1,e.next=10,self.getContents("ContentWifis");case 10:if(s=e.sent,null==s){e.next=21;break}if(l=s.getItem("MAP_SSID",i.getSsid()),l){e.next=21;break}return s.lock(),e.next=17,s.createObject();case 17:u=e.sent,s.addItem(u),u&&("OPEN"==i.getNetworkSecurity()?(u.MAP_IMAGE="wifi-open.png",o=!0):(u.MAP_IMAGE="wifi-lock.png",o=!1),saberSiWifiGuardada(i.getSsid())?(u.MAP_ESTADO="Guardado",u.MAP_ORDEN=r,r++,u.MAP_IDESTADO=0):(u.MAP_ESTADO="",u.MAP_ORDEN=99999,u.MAP_IDESTADO=-1),c=n.getActiveWifiInfo(),null!=c&&c.getSsid()==i.getSsid()&&(u.MAP_ESTADO="Conexión establecida",u.MAP_IMAGE=o?"wifi-open-conected.png":"wifi-lock-conected.png",u.MAP_ORDEN=0,u.MAP_IDESTADO=1),i.getSsid().length>0?u.MAP_SSID=i.getSsid():u.MAP_SSID="Red desconocida",u.MAP_SECURITY=i.getNetworkSecurity()),s.unlock();case 21:a++,e.next=5;break;case 24:return self.MAP_LOADING=0,ui.refresh("ContentWifis,frmLoading"),e.next=28,self.getContents("ContentWifis");case 28:e.sent.doSort("MAP_ORDEN ASC");case 29:case"end":return e.stop()}}),e)}))),_onWifiNetworksFound.apply(this,arguments)}function saberSiWifiGuardada(e){for(var t=createObject("WifiManager"),n=t.listSavedNetworks(),r=0;r<n.length;r++)if(e==n[r].getSsid())return!0;return!1}function GenerarPDFBasico(e,t,n){return _GenerarPDFBasico.apply(this,arguments)}function _GenerarPDFBasico(){return _GenerarPDFBasico=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.create(t),n.permissions("assembly"),n.permissions("print"),n.setEncryption("","1234","128bits"),n.open(),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setAlignment("center"),n.setFontSize(9),n.setFontColor("#000000"),1==r&&showGridDebug(n),n.setFont("helvetica"),n.setFontSize(9),n.setFontStyle("normal"),n.setFontColor("#000000"),n.addText("Esto es un ejemplo de texto, en la posicion: "+n.getVerticalPosition().toString()),n.newLine(),n.addText("Segunda Línea, en la posicion: "+n.getVerticalPosition().toString()),n.newLine(),n.createTable(3),n.setCellBorder("none"),n.setTableWidth(100),n.setTableCellWidths(33,33,33),n.setAlignment("left"),n.addCellText("Texto a la izquierda"),n.setAlignment("center"),n.addCellText("Texto centrado"),n.setAlignment("right"),n.addCellText("Texto a la derecha"),n.addTable(),n.createTable(1),n.setCellBorder("all"),n.setTableWidth(100),n.setAlignment("center"),n.setFontStyle("bold"),n.setFontSize(12),n.setFontColor("#FFFFFF"),n.addCellText("Con las tablas es más sencillo alinear el texto","#000000"),n.setAlignment("left"),n.setFontStyle("normal"),n.setFontSize(10),n.setFontColor("#000000"),n.addCellText("El ancho de una tabla NO FLOTANTE es 418, desde la posición 88 hasta la 506, da igual el ancho que se especifique para la tabla ó para las columnas"),n.setAlignment("center"),n.setFontStyle("bold"),n.setFontSize(12),n.setFontColor("#FFFFFF"),n.addCellText("El ancho de las celdas será un porcentaje con respecto a la suma de los anchos de las columnas","#000000"),n.setFontColor("#000000"),n.setAlignment("left"),n.setFontStyle("normal"),n.setFontSize(10),n.addCellText("Da igual el ancho que se ponga para una tabla NO FLOTANTE, el ancho de la celda será determinado mediante una regla de 3 para averiguar el porcentaje correspondiente a la cantidad asignada."),n.addCellText("Por ejemplo: 3 columnas 60 de ancho para cada una:"+String.fromCharCode(10)+"SetTableCellWidths 60,60,60  ->  60+60+60 = 180 que sería el 100% de la tabla"+String.fromCharCode(10)+"Para averiguar el porcentaje, calculamos 60x100 / 180 = 33.3%."),n.addTable(),n.createTable(3),n.setTableCellWidths(60,60,60),n.setAlignment("center"),n.addCellText("SetTableCellWidths 60,60,60"),n.addCellText("60+60+60=180 -> 100%"),n.addCellText("60x100 / 180 = 33.3%"),n.addTable(),n.createTable(1),n.setCellBorder("all"),n.setAlignment("center"),n.setFontStyle("bold"),n.setFontColor("#FFFFFF"),n.addCellText("Lo más sencillo será hacer coincidir los anchos de las columnas con 100 y así tendremos el porcentaje que tomará cada celda de ancho.","#000000"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontStyle("normal"),n.addCellText("Por ejemplo: SetTableCellWidths 20,50,15,15."),n.addTable(),n.setAlignment("center"),n.createTable(4),n.setTableCellWidths(20,50,15,15),n.addCellText("20%"),n.addCellText("50%"),n.addCellText("15%"),n.addCellText("15%"),n.addTable(),n.createTable(1),n.setTableWidth(418),n.setAlignment("center"),n.setFontStyle("bold"),n.setFontSize(12),n.setFontColor("#000000"),n.addCellText("Tabla 'FLOTANTE' de 418 de ancho"),n.addTableSetXY(88,542),n.setFontColor("#000000"),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(2),n.setTableWidth(340),n.setTableCellWidths(180,160),n.addCellText("Texto en tabla 'flotante', el alto de la tabla lo marcará el contenido."),n.setAlignment("center"),n.addCellText("Situada en:"+String.fromCharCode(10)+String.fromCharCode(13)+"Eje X=120, Eje Y=500"),n.addTableSetXY(120,500),n.createTable(3),n.setAlignment("center"),n.setTableWidth(460),n.setTableCellWidths(30,40,30),n.addCellText("Una flotante puede ocupar lo que se quiera.","#99FFFF"),n.addCellText("Y posicionarla en cualquier lugar.","#99FFFF"),n.addCellText("Los anchos definidos 30,40,30","#99FFFF"),n.addTableSetXY(60,430),n.addImageSetXY("./icons/coordenada00.png",0,0),n.close(),e.next=111,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 111:a=e.sent,6==a&&n.launchPDF();case 113:case"end":return e.stop()}}),e)}))),_GenerarPDFBasico.apply(this,arguments)}function showGridDebug(e){var t,n;for(e.setAlignment("center"),e.setFontSize(9),e.setFontStyle("bold"),e.setFontColor("#0000CC"),n=2;n<26;n++)t=parseInt(20*n),e.createTable(1),e.setTableWidth(20),e.addCellText(t.toString()),e.addTableSetXY(t,840),e.addRectangle(t,20,0,820,0,"#FF0000","#FF0000"),e.createTable(1),e.setTableWidth(20),e.addCellText(t.toString()),e.addTableSetXY(t,20);for(e.setFontColor("#009900"),n=0;n<42;n++)t=parseInt(20*n),e.createTable(1),e.setTableWidth(30),e.addCellText(t.toString()),e.addTableSetXY(10,t),e.addRectangle(10,t,540,0,0,"#FF0000","#FF0000"),e.createTable(1),e.setTableWidth(30),e.addCellText(t.toString()),e.addTableSetXY(540,t);e.setFontStyle("normal"),e.setFontColor("#000000")}function AddCellTexttable(e,t,n,r,a){e.setCellBorder("none"),0==r?e.setCellBorder("top"):1==r&&e.setCellBorder("bottom"),e.addCellText(a)}function addNewLine(e){e.createTable(1),e.setCellBorder("none"),e.addCellText(" "),e.addTable()}function CreatePDF(e,t){try{appData.error.clear(),t.delete(e),appData.error.clear()}catch(n){}t.permissions("assembly"),t.create(e),t.setEncryption("","1234","128bits")}function getTime(e){return e=getEmptyFromNull(e),e.toString().substring(11)}function GenerarPDF1(e,t,n){return _GenerarPDF.apply(this,arguments)}function _GenerarPDF(){return _GenerarPDF=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return CreatePDF(t,n),n.open(),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),1==r&&showGridDebug(n),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,1,1,1,""),n.addTable(),addNewLine(n),n.createTable(1),n.setTableWidth(150),n.setCellBorder("none"),n.setAlignment("left"),n.addCellImage("./icons/LogoPrint.png",150,73),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("right"),AddCellTexttable(n,1,1,1," CIF: B01234567"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setFontStyle("bold"),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,getDate(new Date)),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,getTime(new Date)),n.addTable(),n.createTable(2),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Ticket: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,t),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Montador: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"Manuel Chaves"),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,1,""),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,0,""),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Cliente: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"Cliente del curso"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Cod.Cliente: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"378-522"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Finca: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"La finca 3"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Cod.Proyecto: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"123-456"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," N.ORDEN: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"123456"),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,1,""),n.addTable(),n.createTable(3),n.setFontStyle("bold"),n.setTableCellWidths(100,25,25),n.setAlignment("left|bottom"),AddCellTexttable(n,2,1,0," Tarea "),AddCellTexttable(n,2,1,0," Inicio "),AddCellTexttable(n,2,1,0," Fin "),n.addTable(),n.createTable(1),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,1,""),n.addTable(),addNewLine(n),n.createTable(3),n.setTableCellWidths(100,25,25),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,"Tarea Numero Uno"),AddCellTexttable(n,2,1,-1,"11:45"),AddCellTexttable(n,2,1,-1,"12:00"),n.addTable(),n.createTable(3),n.setTableCellWidths(100,25,25),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,"Tarea Numero Dos"),AddCellTexttable(n,2,1,-1,"12:00"),AddCellTexttable(n,2,1,-1,"12:30"),n.addTable(),n.createTable(3),n.setTableCellWidths(100,25,25),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,"Tarea Numero Tres"),AddCellTexttable(n,2,1,-1,"12:30"),AddCellTexttable(n,2,1,-1,"13:00"),n.addTable(),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,"Total Horas"),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"1.15 h"),n.addTable(),addNewLine(n),addNewLine(n),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Subtotal = 1.15h x 40 ?/h ="),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"46 Eur"),n.addTable(),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Gastos"),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"12 Eur"),n.addTable(),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Desplazamiento = 1 Ud * 20 Eur/Ud ="),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"20 ?"),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,1,""),n.addTable(),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," TOTAL "),n.setFontStyle("bold"),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"78 ?"),n.addTable(),addNewLine(n),n.createTable(2),n.setTableWidth(150),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Cliente: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"Antonio Rodriguez López"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," DNI: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"08.123.456"),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Firma del cliente: "),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setCellBorder("none"),n.setAlignment("left"),n.addCellImage("4b0a07e4-2213-47eb-83a1-e28d15662f0a.jpg",120,120),n.addTable(),n.close(),e.next=207,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 207:a=e.sent,6==a&&n.launchPDF();case 209:case"end":return e.stop()}}),e)}))),_GenerarPDF.apply(this,arguments)}function CrearPdf_Factura(e,t,n){return _CrearPdf_Factura.apply(this,arguments)}function _CrearPdf_Factura(){return _CrearPdf_Factura=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ui.updateWaitDialog("Generando PDF...",0);try{n.delete(t)}catch(s){}for(n.create(t),n.setEncryption("","1234","128bits"),n.beginHeader(),n.createTable(1),n.setCellBorder("none"),n.setAlignment("left"),n.setTableCellWidths(100),n.addImageSetXY("logo_cabecera_pdf.png",86,750,80,40),n.setFont("courier"),n.setFontSize(15),n.setFontColor("#0000AA"),n.setFontStyle("bold"),n.addCellText(" "),n.addCellText("FACTURA:  123.123"),n.addCellText("23569   Cárnicas del Suroeste S.L."),n.setFontSize(12),n.setFontStyle("normal"),n.addCellText("CIF: 08.123.123    TLF: +34 123 123 456"),n.addCellText("La dirección del cliente, 34 A  06001"),n.addCellText("MERIDA  -  BADAJOZ"),n.addCellText("ESPAÑA"),n.addCellText("FECHA: 03/02/2015"),n.setFontSize(7),n.addCellText("Bens constantes desta factura, colocados à disposição do adquirente nesta data"),n.addCellText(" "),n.addTable(),n.createTable(3),n.setTableWidth(250),n.setTableCellWidths(25,20,55),n.setCellBorder("all"),n.setAlignment("center"),n.addCellText("FACTURA","#EEEEEE"),n.addCellText("FECHA","#EEEEEE"),n.setAlignment("left"),n.addCellText("FORMA PAGO","#EEEEEE"),n.setAlignment("center"),n.addCellText("123.123"),n.addCellText("03/02/2015"),n.setAlignment("left"),n.addCellText("90 días"),n.addTableSetXY(90,700),n.setFont("helvetica"),n.setFontSize(8),n.setFontColor("#0000AA"),n.createTable(7),n.setTableCellWidths(10,40,10,10,10,10,10),n.setCellBorder("none"),n.setCellBorder("left"),n.setCellBorder("top"),n.setCellBorder("bottom"),n.setAlignment("left"),n.addCellText("CODIGO","#EEEEEE"),n.setCellBorder("left"),n.setCellBorder("bottom"),n.setCellBorder("top"),n.addCellText("DESCRIPCION","#EEEEEE"),n.setAlignment("right"),n.addCellText("BULTOS","#EEEEEE"),n.addCellText("K/U","#EEEEEE"),n.addCellText("T.CANT","#EEEEEE"),n.addCellText("IMPORTE","#EEEEEE"),n.setCellBorder("left"),n.setCellBorder("right"),n.setCellBorder("bottom"),n.setCellBorder("top"),n.addCellText("TOTAL","#EEEEEE"),n.addTable(),n.endHeader(),n.beginFooter(),n.createTable(1),n.setTableWidth(418),n.setCellBorder("none"),n.addCellImage("logo_pie_pdf.png",600,70),n.setFont("courier"),n.setAlignment("center"),n.setFontSize(10),n.setFontStyle("normal"),n.setFontColor("#FFFFFF"),a=n.getCurrentPage(),n.addCellText("PAG: "+a),n.addTableSetXY(88,104),n.endFooter(),n.open(),ui.updateWaitDialog("Generando PDF...",20),n.newLine(),1==r&&showGridDebug(n),n.setAlignment("left"),n.setFontSize(9),n.setFontColor("#000000"),n.setCellBorder("none"),i=0,ui.updateWaitDialog("Generando PDF...",40),i=0;i<59;i++)n.createTable(7),n.setTableCellWidths(10,40,10,10,10,10,10),n.setCellBorder("none"),59==i||n.getVerticalPosition()<=130?(n.setCellBorder("left"),n.setAlignment("left"),n.setCellBorder("bottom"),n.addCellText("000"+i.toString()),n.setCellBorder("none"),n.setCellBorder("left"),n.setCellBorder("bottom"),n.addCellText("Pollo asado"),n.setAlignment("right"),n.addCellText("2.00"),n.addCellText("1.00"),n.addCellText("2.33"),n.addCellText("4.66"),n.setCellBorder("none"),n.setCellBorder("left"),n.setCellBorder("bottom"),n.setCellBorder("right"),n.addCellText("4.66"),n.getVerticalPosition()<130&&n.newPage()):(n.setCellBorder("left"),n.setAlignment("left"),n.addCellText("000"+i.toString()),n.addCellText("Pollo asado al vacío"+n.getVerticalPosition().toString()),n.setAlignment("right"),n.addCellText("2.00"),n.addCellText("1.00"),n.addCellText("2.33"),n.addCellText("4.66"),n.setCellBorder("none"),n.setCellBorder("left"),n.setCellBorder("right"),n.addCellText("4.66")),n.addTable();return ui.updateWaitDialog("Generando PDF...",90),n.setFontSize(7),n.setFontStyle("normal"),n.setFontColor("#000000"),n.addTextLine(" "),n.addTextLine(" "),n.addTextLine(" "),n.addTextLine("Declaro pelo presente documento que os artigos adquiridos a XXXXXX. para su expediçiao que se descreve neste documento serão agravados mo destino pelo I.V.A. dada a minha condiçao de sujeto pasivo do I.V.A. em Portugal"),n.setFontSize(12),n.setFontStyle("bold"),n.addTextLine(" "),n.addText("EXENTO DE IVA "),n.setFontSize(8),n.setFontStyle("bold"),n.addText("Art. 25 de la Ley del IVA"),n.setFontSize(8),n.setFontStyle("normal"),n.addText("           FORMA DE PAGO: "),n.setFontSize(12),n.setFontStyle("bold"),n.addTextLine("Efectivo"),n.setFont("courier"),n.setFontSize(9),n.setFontStyle("normal"),n.setFontColor("#0000AA"),n.addText("BULTOS: 60"),n.setFontSize(12),n.setFontColor("#0000AA"),n.addTextSetX("TOTAL FACTURA: XXX.XX ?",350),n.close(),ui.updateWaitDialog("Generando PDF...",100),e.next=128,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 128:o=e.sent,6==o&&n.launchPDF();case 130:case"end":return e.stop()}}),e)}))),_CrearPdf_Factura.apply(this,arguments)}function getStrFill(e,t,n){var r="";return e.length<n&&(n=2*(n-e.length),r=t.repeat(n-1)),r=e+r,r}function getBoolStr(e){return 1==self[e]?"true":"false"}function getEmptyFromNull(e){return null==e?"":e}function GenerarPDFChecks(e,t,n){return _GenerarPDFChecks.apply(this,arguments)}function _GenerarPDFChecks(){return _GenerarPDFChecks=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0;try{n.delete(t)}catch(c){}n.create(t),n.permissions("assembly"),n.permissions("print"),n.setEncryption("","1234","128bits"),n.open(),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setAlignment("center"),n.setFontColor("#000000"),n.setFontSize(9),1==r&&showGridDebug(n),n.createTable(3),n.setTableWidth(415),n.setTableCellWidths(90,235,90),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(3)),n.setFontStyle("bold"),n.setFontColor("#FFFFFF"),n.setFontSize(12),n.addCellText(String.fromCharCode(10)+"INSPECCION","#000000"),n.setFontSize(10),n.setFontColor("#000000"),n.addCellText("FSI-1.4"+String.fromCharCode(10)+String.fromCharCode(13)+"V.1"),n.addTable(),n.setFontSize(2),addNewLine(n),n.setFontSize(10),n.addRectangle(408,786,99,0,1,"#000000","#000000"),n.addImageSetXY("./icons/logo_xone.png",118,770,30,30),n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("bold"),n.setAlignment("left"),n.createTable(2),n.setTableWidth(415),n.setTableCellWidths(60,355),n.addCellText("SERVICIO"),n.addCellText(getEmptyFromNull(self.CODSERVICIO)),n.addTable(),n.createTable(6),n.setTableWidth(415),n.setTableCellWidths(60,178,42,60,40,35),n.addCellText("INSPECTOR"),n.setFontSize(7),n.addCellText(getEmptyFromNull(self.MAP_USUARIO)),n.setFontSize(8),n.addCellText("FECHA"),n.addCellText(getDate(self.FECHA)),n.addCellText("HORA"),n.addCellText(getEmptyFromNull(self.HORA)),n.addTable(),n.createTable(2),n.setTableWidth(415),n.setTableCellWidths(60,355),n.addCellText("V/S"+String.fromCharCode(10)+String.fromCharCode(13)+"ASIGNADOS"),n.addCellText(" "),n.addTable(),n.setCellBorder("all"),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontSize(10),n.createTable(2),n.setTableWidth(358),n.setTableCellWidths(179,179),n.addCellText("abcdefghijklmnñopqrstuvwxyz"),n.addCellText("abcdefghijklmnñopqrstuvwxyz"),n.addCellText("abcdefghijklmnñopqrstuvwxyz"),n.addCellText("abcdefghijklmnñopqrstuvwxyz"),n.addTableSetXY(149,736),n.setFontSize(2),addNewLine(n),i=n.getVerticalPosition()-10,o=11,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("CONTROL DE DOCUMENTACIÓN","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(4)),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(5)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontSize(9),n.setFontStyle("bold"),n.createTable(8),n.setTableWidth(414),n.setTableCellWidths(220,25,25,25,79,20,20,20),n.setAlignment("center"),n.addCellText(" "),n.addCellText("SI"),n.addCellText("NO"),n.addCellText("N/A*"),n.addCellText(" "),n.addCellText("B"),n.addCellText("M"),n.addCellText("R"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(8),a=1;case 107:if(!(a<=3)){e.next=141;break}a=parseInt(a),n.createTable(2),n.setTableWidth(380),n.setTableCellWidths(380,100),n.addCellText(getStrFill("Lo que sea",".",40)),n.addCellText("ESTADO"),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",307,i-o,9,"check",getBoolStr("MAP_01_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",331,i-o,9,"check",getBoolStr("MAP_01_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",354,i-o,9,"check",getBoolStr("MAP_01_"+a+"_NA"),"true"),e.t0=self["ESTADO"+a],e.next="BIEN"===e.t0?122:"MAL"===e.t0?126:"REGULAR"===e.t0?130:134;break;case 122:return n.addCheckboxSetXY(" ",452,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",138);case 126:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",138);case 130:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","true","true"),e.abrupt("break",138);case 134:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",138);case 138:a++,e.next=107;break;case 141:i-=6,n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(8),a=1;case 147:if(!(a<=4)){e.next=173;break}a=parseInt(a),n.createTable(3),n.setTableWidth(414),n.setTableCellWidths(402,110,78),n.addCellText(getStrFill("Lo que sea 2",".",40)),e.t1=a.toString(),e.next="1"===e.t1?156:"2"===e.t1?159:162;break;case 156:return n.addCellText("Fecha última revisión"),""==getEmptyFromNull(self.FECHAUR4)?n.addCellText("__ / __ / ____"):n.addCellText(getDate(self.FECHAUR4)),e.abrupt("break",165);case 159:return n.addCellText("Fecha última revisión"),""==getEmptyFromNull(self.FECHAUR5)?n.addCellText("__ / __ / ____"):n.addCellText(getDate(self.FECHAUR5)),e.abrupt("break",165);case 162:return n.addCellText(""),n.addCellText(""),e.abrupt("break",165);case 165:i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",307,i-o,9,"check",getBoolStr("MAP_01_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",331,i-o,9,"check",getBoolStr("MAP_01_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",354,i-o,9,"check",getBoolStr("MAP_01_"+a+"_NA"),"true");case 170:a++,e.next=147;break;case 173:for(i=n.getVerticalPosition()-10,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("REVISIÓN DE MEDIOS AUXILIARES","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(9)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontSize(9),n.setFontStyle("bold"),n.setAlignment("center"),n.createTable(4),n.setTableWidth(414),n.setTableCellWidths(324,30,30,30),n.addCellText(""),n.addCellText("SI"),n.addCellText("NO"),n.addCellText("N/A*"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;a<=6;a++)a=parseInt(a),n.createTable(1),n.setTableWidth(414),n.addCellText(getStrFill("Lo que sea 3",".",80)),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",425,i-o,9,"check",getBoolStr("MAP_02_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",456,i-o,9,"check",getBoolStr("MAP_02_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",485,i-o,9,"check",getBoolStr("MAP_02_"+a+"_NA"),"true");i=n.getVerticalPosition()-10,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("CUMPLIMIENTO DEONTOLÓGICO","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(3)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontStyle("bold"),n.setAlignment("center"),n.setFontSize(9),n.createTable(8),n.setTableWidth(414),n.setTableCellWidths(157,20,20,20,157,20,20,20),n.addCellText(" "),n.addCellText("B"),n.addCellText("M"),n.addCellText("R"),n.addCellText(" "),n.addCellText("B"),n.addCellText("M"),n.addCellText("R"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;case 237:if(!(a<=2)){e.next=289;break}a=parseInt(a),s=parseInt(2*a+2),n.createTable(2),n.setTableWidth(400),n.setTableCellWidths(210,190),n.addCellText(getStrFill("Aa",".",34)),n.addCellText(getStrFill("Bb",".",34)),i-=o,n.addTableSetXY(96,i),e.t2=self["ESTADO"+s.toString()],e.next="BIEN"===e.t2?250:"MAL"===e.t2?254:"REGULAR"===e.t2?258:262;break;case 250:return n.addCheckboxSetXY(" ",245,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",264,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",283,i-o,9,"check","false","true"),e.abrupt("break",266);case 254:return n.addCheckboxSetXY(" ",245,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",264,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",283,i-o,9,"check","false","true"),e.abrupt("break",266);case 258:return n.addCheckboxSetXY(" ",245,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",264,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",283,i-o,9,"check","true","true"),e.abrupt("break",266);case 262:return n.addCheckboxSetXY(" ",245,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",264,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",283,i-o,9,"check","false","true"),e.abrupt("break",266);case 266:s++,e.t3=self["ESTADO"+s.toString()],e.next="BIEN"===e.t3?270:"MAL"===e.t3?274:"REGULAR"===e.t3?278:282;break;case 270:return n.addCheckboxSetXY(" ",452,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",286);case 274:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",286);case 278:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","true","true"),e.abrupt("break",286);case 282:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",286);case 286:a++,e.next=237;break;case 289:for(i=n.getVerticalPosition()-10,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("CONTROL OPERACIONAL","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(12)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontStyle("bold"),n.setAlignment("center"),n.setFontSize(9),n.createTable(4),n.setTableWidth(414),n.setTableCellWidths(324,30,30,30),n.addCellText(""),n.addCellText("SI"),n.addCellText("NO"),n.addCellText("N/A*"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;a<=8;a++)a=parseInt(a),n.createTable(1),n.setTableWidth(414),n.addCellText(getStrFill("Lo que sea 4",".",80)),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",425,i-o,9,"check",getBoolStr("MAP_04_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",456,i-o,9,"check",getBoolStr("MAP_04_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",485,i-o,9,"check",getBoolStr("MAP_04_"+a+"_NA"),"true");i=n.getVerticalPosition()-9,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("EVALUACIÓN EFICACIA Y FORMACIÓN","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(3)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontStyle("bold"),n.setAlignment("center"),n.setFontSize(9),n.createTable(4),n.setTableWidth(414),n.setTableCellWidths(324,30,30,30),n.addCellText(""),n.addCellText("MB"),n.addCellText("B"),n.addCellText("R"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=8;case 349:if(!(a<=9)){e.next=378;break}a=parseInt(a),n.createTable(1),n.setTableWidth(414),n.addCellText(getStrFill("Lo que sea 5",".",80)),i-=o,n.addTableSetXY(90,i),e.t4=self["ESTADO"+a],e.next="MUY BIEN"===e.t4?359:"BIEN"===e.t4?363:"REGULAR"===e.t4?367:371;break;case 359:return n.addCheckboxSetXY(" ",425,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",456,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",485,i-o,9,"check","false","true"),e.abrupt("break",375);case 363:return n.addCheckboxSetXY(" ",425,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",456,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",485,i-o,9,"check","false","true"),e.abrupt("break",375);case 367:return n.addCheckboxSetXY(" ",425,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",456,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",485,i-o,9,"check","true","true"),e.abrupt("break",375);case 371:return n.addCheckboxSetXY(" ",425,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",456,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",485,i-o,9,"check","false","true"),e.abrupt("break",375);case 375:a++,e.next=349;break;case 378:for(i=n.getVerticalPosition()-10,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("INSTRUCCIONES DE EMERGENCIA","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(6)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontSize(9),n.setFontStyle("bold"),n.setAlignment("center"),n.createTable(3),n.setTableWidth(414),n.setTableCellWidths(334,40,40),n.addCellText(""),n.addCellText("SI"),n.addCellText("NO"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;a<=4;a++)a=parseInt(a),n.createTable(1),n.setTableWidth(414),n.addCellText(getStrFill("Lo que sea 6",".",80)),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",440,i-o,9,"check",getBoolStr("MAP_06_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",480,i-o,9,"check",getBoolStr("MAP_06_"+a+"_NO"),"true");i=n.getVerticalPosition()-11,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("PREVENCIÓN DE RIESGOS","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(11)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontStyle("bold"),n.setAlignment("center"),n.setFontSize(9),n.createTable(4),n.setTableWidth(414),n.setTableCellWidths(351,18,20,25),n.addCellText(""),n.addCellText("SI"),n.addCellText("NO"),n.addCellText("N/A*"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;case 437:if(!(a<=6)){e.next=467;break}a=parseInt(a),n.createTable(1),n.setTableWidth(414),l="",e.t5=a.toString(),e.next="1"===e.t5?445:"2"===e.t5?452:"6"===e.t5?454:456;break;case 445:return n.addCellText("¿Existe en el Servicio la evaluación de riesgos y la planificación de actividad preventiva?"),i-=o,n.addTableSetXY(90,i),n.createTable(1),n.setTableWidth(414),l="¿Se evidencian las Firmas de Entrega de dichos documentos por los Trabajadores?",e.abrupt("break",458);case 452:return l=self.fieldPropertyValue("MAP_ETQ07_2","title")+" "+self.fieldPropertyValue("MAP_ETQ07_21","title"),e.abrupt("break",458);case 454:return l=self.fieldPropertyValue("MAP_ETQ07_6","title")+" "+self.fieldPropertyValue("MAP_ETQ07_61","title"),e.abrupt("break",458);case 456:return l="¿Se evidencian las Firmas de Entrega de dichos documentos por los Trabajadores?",e.abrupt("break",458);case 458:n.addCellText(getStrFill(l,".",85)),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",445,i-o,9,"check",getBoolStr("MAP_07_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",466,i-o,9,"check",getBoolStr("MAP_07_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",487,i-o,9,"check",getBoolStr("MAP_07_"+a+"_NA"),"true");case 464:a++,e.next=437;break;case 467:return n.setFontSize(8),n.setCellBorder("none"),n.createTable(2),n.setTableWidth(410),n.setTableCellWidths(40,380),n.addCellText(" "),n.addCellText("*N/A no aplicable"),n.addTable(),n.setCellBorder("all"),n.setFontSize(9),n.setFontStyle("bold"),n.setAlignment("left"),n.createTable(3),n.setTableCellWidths(220,220,220),n.addCellText("Firma Inspector"+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)),n.addCellText("Firma Jefe de Equipo/R. Turno"+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)),n.addCellText("Firma Jefe de Servicio/Delegado"+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)),n.addTable(),getEmptyFromNull(self.FIRMA1).length>0&&n.addImageSetXY(getEmptyFromNull(self.FIRMA1),125,32,50,50),getEmptyFromNull(self.FIRMA2).length>0&&n.addImageSetXY(getEmptyFromNull(self.FIRMA2),265,32,50,50),getEmptyFromNull(self.FIRMA3).length>0&&n.addImageSetXY(getEmptyFromNull(self.FIRMA3),410,32,50,50),n.close(),e.next=491,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 491:u=e.sent,6==u&&n.launchPDF();case 493:case"end":return e.stop()}}),e)}))),_GenerarPDFChecks.apply(this,arguments)}function setTextStyle(e,t,n,r,a,i){e.setFont("Roboto-Regular.ttf"),e.setFontStyle(n),e.setAlignment(r),e.setFontColor(i),e.setFontSize(a)}function GenerarPDF3(e,t,n){return _GenerarPDF2.apply(this,arguments)}function _GenerarPDF2(){return _GenerarPDF2=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{n.delete(t)}catch(s){}return n.create(t),n.permissions("assembly"),n.permissions("print"),n.setEncryption("","1234","128bits"),n.open(),setTextStyle(n,"gillsans.ttf","normal","center",14,"#000000"),1==r&&showGridDebug(n),a=46,546,i=810,i-=70,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","bold","center",14,"#000000"),n.addCellText("SOLICITUD","#FFFFFF"),setTextStyle(n,"gillsans.ttf","normal","center",10,"#000000"),n.addTableSetXY(a,i),i-=20,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("ACTIVO FISICO","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","center",10,"#000000"),n.addTableSetXY(a,i),i-=16,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" Denominación:  "),n.addCellText(" Codigo Identificación (KKS):  "),n.addTableSetXY(a,i),i-=28,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(50,50),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" Solicitante (Nombre y Area):"+String.fromCharCode(13)+"  "+String.fromCharCode(13).repeat(1)),n.addCellText(" Ejecutor (Nombre):"+String.fromCharCode(13)+"  "),n.addTableSetXY(a,i),i-=34,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("ALCANCE ORDEN","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText(String.fromCharCode(13).repeat(5)),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("ALCANCE OPERACION","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText(String.fromCharCode(13).repeat(5)),n.addTableSetXY(a,i),i-=15,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9),n.addCellText(" "),n.addTableSetXY(a,i),i-=75,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9),n.addCellText(" "),n.addTableSetXY(a,i),i-=58,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(50,50),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" Fecha Requerida:  "),n.addCellText(" Duración prevista:  "),n.addTableSetXY(a,i),i-=14,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText(" PROCEDIMIENTO ASOCIADO:  "+String.fromCharCode(13)+"  "),n.addTableSetXY(a,i),i-=22,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(80,20),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("TRABAJO CON RIESGO ESPECIAL","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(9)+"SI"+" ".repeat(11)+"NO"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+412,i-13,10,"check","true","true"),n.addCheckboxSetXY(" ",a+451,i-13,10,"check","false","true"),i-=16,n.createTable(3),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(34,33,33),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(7)+"Eléctrico"),n.addCellText(" ".repeat(7)+"Trabajos en altura"),n.addCellText(" ".repeat(7)+"Trabajos en zanjas"),n.addCellText(" ".repeat(7)+"Espacios confinados"),n.addCellText(" ".repeat(7)+"Presencia de gas"),n.addCellText(" ".repeat(7)+""),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+6,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+176,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+342,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+6,i-26,10,"check","true","true"),n.addCheckboxSetXY(" ",a+176,i-26,10,"check","true","true"),i-=28,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" Observaciones, precauciones y protección adicionales: "+String.fromCharCode(13)+"  "+String.fromCharCode(13)),n.addTableSetXY(a,i),i-=45,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","center",9,"#FF0000"),n.addCellText("NOTA: SI SE MODIFICAN O AMPLIAN LAS ACTIVIDADES DESCRITAS EN EL ALCANCE DEL TRABAJO SERÁ NECESARIO REVISAR ESTE PERMISO ANTES DE CONTINUAR CON LOS TRABAJOS"),n.addTableSetXY(a,i),i-=34,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("REQUERIMIENTOS","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addTableSetXY(a,i),i-=16,n.createTable(4),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(20,30,20,30),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" DESCARGO"),n.addCellText(" ".repeat(7)+"SI"+" ".repeat(11)+"NO"),n.addCellText(" PRUEBAS"),n.addCellText(" ".repeat(7)+"SI"+" ".repeat(11)+"NO"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+110,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+150,i-12,10,"check","false","true"),n.addCheckboxSetXY(" ",a+360,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+400,i-12,10,"check","false","true"),i-=14,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),n.addCellText(" Observaciones:"+String.fromCharCode(13).repeat(5)),n.addTableSetXY(a,i),i-=13,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("  "),n.addTableSetXY(a,i),i-=51,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(80,20),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("CONDICIONES DEL SISTEMA REQUERIDAS POR MANTENIMIENTO","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(8)+"SI"+" ".repeat(11)+"NO"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+412,i-13,10,"check","true","true"),n.addCheckboxSetXY(" ",a+451,i-13,10,"check","false","true"),i-=16,n.createTable(3),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(34,33,33),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(7)+"Drenado"),n.addCellText(" ".repeat(7)+"Despresurizado"),n.addCellText(" ".repeat(7)+"Bloqueado Mecánicamente"),n.addCellText(" ".repeat(7)+"Barrido"),n.addCellText(" ".repeat(7)+"Inertizado"),n.addCellText(" ".repeat(7)+"Bloqueado Eléctricamente"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+6,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+176,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+342,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+6,i-26,10,"check","true","true"),n.addCheckboxSetXY(" ",a+176,i-26,10,"check","true","true"),n.addCheckboxSetXY(" ",a+342,i-26,10,"check","true","true"),i-=28,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",10),n.addCellText(" Observaciones, precauciones y protección adicionales: "+String.fromCharCode(13).repeat(5)),n.addTableSetXY(a,i),i-=13,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("  "),n.addTableSetXY(a,i),i-=51,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(80,20),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("ENTREGA DEL SISTEMA EN LAS CONDICIONES REQUERIDAS","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(9)+"SI"+" ".repeat(11)+"NO"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+412,i-13,10,"check","true","true"),n.addCheckboxSetXY(" ",a+451,i-13,10,"check","false","true"),i-=16,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",10),n.addCellText(" Observaciones: "+String.fromCharCode(13).repeat(5)),n.addTableSetXY(a,i),i-=13,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("  "),n.addTableSetXY(a,i),n.createTable(1),n.setCellBorder("none"),n.addCellText(" "+String.fromCharCode(13).repeat(85)),n.addTable(),setTextStyle(n,"gillsans.ttf","normal","center",14,"#000000"),a=46,546,i=810,n.createTable(3),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(20,55,25),n.addCellText(String.fromCharCode(10).repeat(3)),setTextStyle(n,"gillsans.ttf","bold","center",16,"#000000"),n.addCellText(String.fromCharCode(13)+"Central Termosolar  ","#FFFFFF"),setTextStyle(n,"gillsans.ttf","normal","center",10,"#000000"),n.addCellText(String.fromCharCode(13)+"MECANICO"+String.fromCharCode(13).repeat(2)+"Nº OT: 4065833  -  0010","#99FF99"),n.addTableSetXY(a,i),n.addRectangle(421,780,125,0,1,"#000000","#000000"),i-=90,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(50,50),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("FIRMAS DE APERTURA","#CCCCCC"),n.addCellText("CONFORME","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",8,"#000000"),n.addCellText(String.fromCharCode(13).repeat(10)+" Ejecutor / Nombre / Fecha / Hora"),n.addCellText(String.fromCharCode(13).repeat(10)+" Supervisor de turno / Nombre / Fecha / Hora"),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("TRABAJO FINALIZADO","#CCCCCC"),n.addCellText("CONFORME","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",8,"#000000"),n.addCellText(String.fromCharCode(13).repeat(10)+" Ejecutor / Nombre / Fecha / Hora"),n.addCellText(String.fromCharCode(13).repeat(10)+" Supervisor de turno / Nombre / Fecha / Hora"),n.addTableSetXY(a,i),n.close(),e.next=294,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 294:o=e.sent,6==o&&n.launchPDF();case 296:case"end":return e.stop()}}),e)}))),_GenerarPDF2.apply(this,arguments)}function GenerarPDF3Apaisado(e,t,n){return _GenerarPDF3Apaisado.apply(this,arguments)}function _GenerarPDF3Apaisado(){return _GenerarPDF3Apaisado=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{n.delete(t)}catch(s){}return n.create(t,865,600),n.permissions("assembly"),n.permissions("print"),n.setEncryption("","1234","128bits"),n.open(),1==r&&showGridDebug(n),setTextStyle(n,"gillsans.ttf","normal","center",14,"#000000"),a=20,845,i=600,i-=25,n.createTable(3),n.setCellBorder("none"),n.setTableWidth(825),n.setTableCellWidths(10,80,10),n.addCellText(String.fromCharCode(10).repeat(3)),setTextStyle(n,"gillsans.ttf","bold","center",16,"#000000"),n.addCellText(String.fromCharCode(13)+"Central Termosolar  ","#FFFFFF"),n.addCellText(" "),n.addTableSetXY(a,i),i-=70,n.createTable(12),n.setTableWidth(825),n.setTableCellWidths(8,1,12,17,1,35,6,1,6,6,1,6),n.setCellBorder("none"),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.addCellText("Nº Permiso"),n.addCellText(" "),n.setCellBorder("all"),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("  -  "),n.setCellBorder("none"),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.addCellText("Supervisor de Turno / Fecha"),n.addCellText(" "),n.setCellBorder("all"),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("Nombre del tio con los apellidos y la fecha"),n.setCellBorder("none"),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.addCellText("Caja"),n.addCellText(" "),n.setCellBorder("all"),setTextStyle(n,"gillsans.ttf","normal","center",9,"#000000"),n.addCellText(" "),n.setCellBorder("none"),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.addCellText("Unidad"),n.addCellText(" "),n.setCellBorder("all"),setTextStyle(n,"gillsans.ttf","normal","center",9,"#000000"),n.addCellText(" "),n.addTableSetXY(20,i),i-=23,n.createTable(3),n.setTableWidth(825),n.setTableCellWidths(39,42,19),setTextStyle(n,"gillsans.ttf","bold","center",10,"#000000"),n.setCellBorder("none"),n.addCellText(" "),n.setCellBorder("all"),n.addCellText("Secuencia Ejecución y pruebas"),n.addCellText("Secuencia de reposición"),n.addTableSetXY(a,i),i-=14,n.createTable(7),n.setTableWidth(825),n.setTableCellWidths(39,15,9,9,9,9,10),setTextStyle(n,"gillsans.ttf","normal","center",8,"#000000"),n.setCellBorder("none"),n.addCellText(" "),n.setCellBorder("all"),n.addCellText("COLOCACIÓN"),n.addCellText("PREPARACIÓN"+String.fromCharCode(13)+"PARA PRUEBA"),n.addCellText("VUELTA A"+String.fromCharCode(13)+"DESCARGO"),n.addCellText("PREPARACIÓN"+String.fromCharCode(13)+"PARA PRUEBA"),n.addCellText("LEVANTAMIENTO"),n.addCellText("SI NO ES POSIBLE"+String.fromCharCode(13)+"REPONER"),n.addTableSetXY(a,i),i-=20,n.createTable(9),n.setTableWidth(825),n.setTableCellWidths(12,4,23,15,9,9,9,9,10),setTextStyle(n,"gillsans.ttf","normal","center",8,"#000000"),n.setCellBorder("all"),n.addCellText("Nº Total Tarjetas"),n.addCellText(" "),setTextStyle(n,"gillsans.ttf","normal","center",7,"#000000"),n.addCellText(" "),n.addCellText("Posición en descargo"),n.addCellText("Posición en 1ª prueba"),n.addCellText("Posición en descargo"),n.addCellText("Posición en 2ª prueba"),n.addCellText("Posición reposición"),n.addCellText("Reposición pendiente"),n.addTableSetXY(a,i),i-=12,n.createTable(16),n.setCellBorder("all"),n.setTableWidth(825),n.setTableCellWidths(4,12,23,4,6,5,4,5,4,5,4,5,4,5,5,5),setTextStyle(n,"gillsans.ttf","normal","center",9,"#000000"),n.addCellText("Nº"+String.fromCharCode(13)+"Tarjeta"),n.addCellText(String.fromCharCode(13)+"KKS"),n.addCellText(String.fromCharCode(13)+"DESCRIPCIÓN"),n.addCellText("Nº"+String.fromCharCode(13)+"Orden"),n.addCellText("Nº"+String.fromCharCode(13)+"Candado"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addCellText("Nº"+String.fromCharCode(13)+"Orden"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addCellText("Nº"+String.fromCharCode(13)+"Orden"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addCellText("Nº"+String.fromCharCode(13)+"Orden"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addCellText("Nº"+String.fromCharCode(13)+"Orden"),n.addCellText(String.fromCharCode(13)+"Estado"),setTextStyle(n,"gillsans.ttf","normal","center",7,"#000000"),n.addCellText("Otros"+String.fromCharCode(13)+"Descargos"),setTextStyle(n,"gillsans.ttf","normal","center",9,"#000000"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addTableSetXY(a,i),i=140,n.createTable(7),n.setTableWidth(825),n.setTableCellWidths(39,15,9,9,9,9,10),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.setCellBorder("all"),n.addCellText("NOMBRE Y FIRMA DEL OPERADOR"+String.fromCharCode(13).repeat(2)+"FECHA Y HORA"),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText("NOMBRE Y FIRMA DEL SUPERVISOR DE TURNO"+String.fromCharCode(13).repeat(2)+"FECHA Y HORA"),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addTableSetXY(a,i),i-=80,n.createTable(7),n.setTableWidth(825),n.setTableCellWidths(39,15,9,9,9,9,10),setTextStyle(n,"gillsans.ttf","normal","center",8,"#000000"),n.setCellBorder("none"),n.addCellText(" "),n.setCellBorder("all"),n.addCellText("COLOCACIÓN"),n.addCellText("PREPARACIÓN"+String.fromCharCode(13)+"PARA PRUEBA"),n.addCellText("VUELTA A"+String.fromCharCode(13)+"DESCARGO"),n.addCellText("PREPARACIÓN"+String.fromCharCode(13)+"PARA PRUEBA"),n.addCellText("LEVANTAMIENTO"),n.addCellText("SI NO ES POSIBLE"+String.fromCharCode(13)+"REPONER"),n.addTableSetXY(a,i),n.close(),e.next=161,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 161:o=e.sent,6==o&&n.launchPDF();case 163:case"end":return e.stop()}}),e)}))),_GenerarPDF3Apaisado.apply(this,arguments)}function setLanguage(e){switch(e){case"es-ES":self.setFieldPropertyValue("MAP_IDIOMA","title","Seleccione un idioma: "),self.setFieldPropertyValue("MAP_LABEL","title","Etiqueta: "),self.setFieldPropertyValue("MAP_TEXT","title","Texto: "),self.setFieldPropertyValue("MAP_PASSWORD","title","Contraseña: "),self.setFieldPropertyValue("MAP_TEXTAREA","title","Multilínea: "),self.setFieldPropertyValue("MAP_NUMBER","title","Número: "),self.setFieldPropertyValue("MAP_DECIMAL","title","N. Decimal: "),self.setFieldPropertyValue("MAP_NUMTEXT","title","Número-Texto: "),self.setFieldPropertyValue("MAP_DECTEXT","title","Decimal-Texto: "),self.setFieldPropertyValue("MAP_DATE","title","Fecha: "),self.setFieldPropertyValue("MAP_HOUR","title","Hora: "),self.setFieldPropertyValue("MAP_TELEFONO","title","Teléfono: "),self.setFieldPropertyValue("MAP_CHECKBOX","title","Casilla de Verificacion (0/1): "),self.setFieldPropertyValue("TIPOIDENTIFICADOR","title","Combo: "),self.setFieldPropertyValue("TIPOIDENTIFICADOR2","title","Lupa: "),self.setFieldPropertyValue("MAP_TEXTAT","title","Adjunto: "),self.setFieldPropertyValue("MAP_BT_EJEMPLO","title","Ejemplo de titulo");break;case"en-US":self.setFieldPropertyValue("MAP_IDIOMA","title","Select a language: "),self.setFieldPropertyValue("MAP_LABEL","title","Tag: "),self.setFieldPropertyValue("MAP_TEXT","title","Text: "),self.setFieldPropertyValue("MAP_PASSWORD","title","Password: "),self.setFieldPropertyValue("MAP_TEXTAREA","title","Multiline: "),self.setFieldPropertyValue("MAP_NUMBER","title","Number: "),self.setFieldPropertyValue("MAP_DECIMAL","title","N. Decimal: "),self.setFieldPropertyValue("MAP_NUMTEXT","title","Number-Text: "),self.setFieldPropertyValue("MAP_DECTEXT","title","Decimal-Text: "),self.setFieldPropertyValue("MAP_DATE","title","Date: "),self.setFieldPropertyValue("MAP_HOUR","title","Time: "),self.setFieldPropertyValue("MAP_TELEFONO","title","Phone: "),self.setFieldPropertyValue("MAP_CHECKBOX","title","Checkbox (0/1): "),self.setFieldPropertyValue("TIPOIDENTIFICADOR","title","Combo: "),self.setFieldPropertyValue("TIPOIDENTIFICADOR2","title","Magnifier: "),self.setFieldPropertyValue("MAP_TEXTAT","title","Attachment: "),self.setFieldPropertyValue("MAP_BT_EJEMPLO","title","Attachment: ");break;case"pt-PT":self.setFieldPropertyValue("MAP_IDIOMA","title","Selecionar um idioma: "),self.setFieldPropertyValue("MAP_LABEL","title","Etiqueta: "),self.setFieldPropertyValue("MAP_TEXT","title","Texto: "),self.setFieldPropertyValue("MAP_PASSWORD","title","Senha: "),self.setFieldPropertyValue("MAP_TEXTAREA","title","Multilina: "),self.setFieldPropertyValue("MAP_NUMBER","title","Número: "),self.setFieldPropertyValue("MAP_DECIMAL","title","N. Decimal: "),self.setFieldPropertyValue("MAP_NUMTEXT","title","Número-Texto: "),self.setFieldPropertyValue("MAP_DECTEXT","title","Decimal-Texto: "),self.setFieldPropertyValue("MAP_DATE","title","Data: "),self.setFieldPropertyValue("MAP_HOUR","title","Hora: "),self.setFieldPropertyValue("MAP_TELEFONO","title","Teléfono: "),self.setFieldPropertyValue("MAP_CHECKBOX","title","Caixa de verificação (0/1): "),self.setFieldPropertyValue("TIPOIDENTIFICADOR","title","Combo: "),self.setFieldPropertyValue("TIPOIDENTIFICADOR2","title","Lupa: "),self.setFieldPropertyValue("MAP_TEXTAT","title","Anexo: "),self.setFieldPropertyValue("MAP_BT_EJEMPLO","title","Attachment: ");break;case"ru":self.setFieldPropertyValue("MAP_IDIOMA","title","Выбрать язык : "),self.setFieldPropertyValue("MAP_LABEL","title","тег: "),self.setFieldPropertyValue("MAP_TEXT","title","текст: "),self.setFieldPropertyValue("MAP_PASSWORD","title","пароль: "),self.setFieldPropertyValue("MAP_TEXTAREA","title","многострочный: "),self.setFieldPropertyValue("MAP_NUMBER","title","номер: "),self.setFieldPropertyValue("MAP_DECIMAL","title","N. Десятичная: "),self.setFieldPropertyValue("MAP_NUMTEXT","title","номер-текст: "),self.setFieldPropertyValue("MAP_DECTEXT","title","Десятичная-текст: "),self.setFieldPropertyValue("MAP_DATE","title","дата: "),self.setFieldPropertyValue("MAP_HOUR","title","время: "),self.setFieldPropertyValue("MAP_TELEFONO","title","телефон: "),self.setFieldPropertyValue("MAP_CHECKBOX","title","флажок (0/1): "),self.setFieldPropertyValue("TIPOIDENTIFICADOR","title","Combo: "),self.setFieldPropertyValue("TIPOIDENTIFICADOR2","title","Увеличительное стекло: "),self.setFieldPropertyValue("MAP_TEXTAT","title","приложенный: "),self.setFieldPropertyValue("MAP_BT_EJEMPLO","title","Пример названия");break}}function DevolverIframeVideoYoutube(e,t){if(""==e)return ui.showToast("Error, URL de youtube inválida"),"";var n=e.length,r=e.indexOf("watch?v=",1);if(-1!=r){if(r>=n)return"";e=e.substring(r+8,n);var a=e.indexOf("&",1);return a>-1&&(e=e.substring(1,a-1)),"<iframe id='video' type='text/html' width='100%' height='100%' src='https://www.youtube.com/embed/"+e+"?rel=0&autoplay=0' frameborder='0'/>"}return"<iframe id='video' type='text/html' width='100%' height='100%' src='"+e+"?rel=0&autoplay=0' frameborder='0'/>"}function doRegisterNewFingerprint(){var e={onSuccess:function(e){var t=e.getPublicKey();user.PUBLICKEY!=t?(user.PUBLICKEY=t,user.save(),ui.showToast("Autenticación por huella dactilar habilitada para usuario "+user.LOGIN),appData.failWithMessage(-11888,"##EXIT##")):(ui.showToast("Ya está registrado!"),appData.failWithMessage(-11888,"##EXIT##"))},onFailure:function(e,t){void 0==e?6==ui.msgBox("Huella no registrada. Añada una nueva en los ajustes de seguridad del dispositivo , ¿Quiere hacerlo ahora?","¡Información!",4)&&fingerprintManager.launchFingerprintSettings():ui.showToast("Error huella dactilar.\nCódigo: "+e+"\nMensaje: "+t)}};fingerprintManager.setCallback(e),fingerprintManager.listen(),ui.showToast("Pase su dedo por el lector de huellas dactilares")}function doRegisterNewFingerprintIOS(){var e={onSuccess:function(e){var t=e.getPublicKey();user.PUBLICKEY!=t?(user.PUBLICKEY=t,user.save(),ui.showToast("Autenticación por huella dactilar habilitada para usuario "+user.LOGIN)):ui.showToast("Ya está registrado!")},onFailure:function(e,t){ui.showToast("Error huella dactilar.\nCódigo: "+e+"\nMensaje: "+t)}};fingerprintManager.setCallback(e),fingerprintManager.launch()}function doFingerprintAuth(){var e={onSuccess:function(e){var t=e.getPublicKey(),n=getUserByPublicKey(t);null==n?(ui.showToast("Huella no asignada a ningun usuario."),fingerprintManager.listen()):(fingerprintManager.stopListening(),hacerLogin(n.LOGIN,n.PWD))},onFailure:function(e,t){void 0==e?ui.showToast("Huella no registrada. Entre en la aplicacion y asigne la huella al usuario."):ui.showToast("Error huella dactilar.\nCódigo: "+e+"\nMensaje: "+t),10===e?fingerprintManager.stopListening():fingerprintManager.listen()}};fingerprintManager.setCallback(e),fingerprintManager.listen()}function doFingerprintAuthIOS(){var e={onSuccess:function(e){var t=e.getPublicKey(),n=getUserByPublicKey(t);null==n?ui.showToast("Huella no asignada a ningun usuario."):hacerLogin(n.LOGIN,n.PWD)},onFailure:function(e,t){void 0==e?ui.showToast("Huella no registrada. Entre en la aplicacion y asigne la huella al usuario."):ui.showToast("Error huella dactilar.\nCódigo: "+e+"\nMensaje: "+t)}};fingerprintManager.setCallback(e),fingerprintManager.launch()}function hacerLogin(e,t){return _hacerLogin.apply(this,arguments)}function _hacerLogin(){return _hacerLogin=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("Usuarios");case 2:return r=e.sent,e.next=5,r.findObject("LOGIN='"+t.toString()+"'");case 5:if(a=e.sent,void 0===a||null==a){e.next=18;break}if(a.PWD!=n){e.next=14;break}return self["MAP_T_ERROR"]="",ui.refresh("MAP_T_ERROR"),e.next=12,doLogin(t,n);case 12:e.next=16;break;case 14:self["MAP_T_ERROR"]="Usuario o contraseña incorrectos.",ui.refresh("MAP_T_ERROR,frmError");case 16:e.next=20;break;case 18:self["MAP_T_ERROR"]="Usuario o contraseña incorrectos.",ui.refresh("MAP_T_ERROR,frmError");case 20:case"end":return e.stop()}}),e)}))),_hacerLogin.apply(this,arguments)}function getOS(){return appData.getGlobalMacro("##DEVICE_OS##")}function doLogin(e,t){return _doLogin.apply(this,arguments)}function _doLogin(){return _doLogin=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={userName:t,password:n,entryPoint:"Menu"},e.next=3,appData.login(r);case 3:case"end":return e.stop()}}),e)}))),_doLogin.apply(this,arguments)}function getUserByPublicKey(e){return _getUserByPublicKey.apply(this,arguments)}function _getUserByPublicKey(){return _getUserByPublicKey=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("Usuarios");case 2:return n=e.sent,e.next=5,n.findObject("PUBLICKEY = '"+t+"'");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),_getUserByPublicKey.apply(this,arguments)}function testReplica(){var e=replica.testConnection();ui.showToast("Connection: "+e),e=replica.testAuthentication(),ui.showToast("Authentication: "+e)}function doDRCamera(){var e=self;ui.startCamera({width:640,onSuccess:function(t){e.setFieldPropertyValue("DIBUJO","img",t),ui.refresh()},onCancelled:function(){}})}function jstestClick(e){return _jstestClick.apply(this,arguments)}function _jstestClick(){return _jstestClick=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data.msg){e.next=10;break}return e.next=3,ui.msgBox(t.target+": "+t.data.msg,t.data.title+" "+t.data.collName,0);case 3:if(null==t.data.collName){e.next=8;break}if(!(t.data.collName.length>0)){e.next=8;break}return e.next=7,appData.getCollection(t.data.collName);case 7:n=e.sent;case 8:e.next=17;break;case 10:return e.next=12,ui.msgBox("Abre el objeto "+t.data,"Titulo",0);case 12:if(null==t.data){e.next=17;break}if(!(t.data.length>0)){e.next=17;break}return e.next=16,appData.getCollection(t.data);case 16:n=e.sent;case 17:return e.next=19,n.createObject();case 19:r=e.sent,n.addItem(r),appData.pushValue(r);case 22:case"end":return e.stop()}}),e)}))),_jstestClick.apply(this,arguments)}function handleError(e){}function eventoOnTextChanged(e){self["MAP_DESCRIPCIONEVENTO"]="onTextChanged! target: "+e.target+"\nObjItem: "+e.objItem+"\nTecla pulsada: "+e.keyPressed+"\noldText: "+e.oldText+"\nnewText: "+e.newText,ui.getView(self).refresh("MAP_DESCRIPCIONEVENTO")}function FiltraMarcados(e){return _FiltraMarcados.apply(this,arguments)}function _FiltraMarcados(){return _FiltraMarcados=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return self.MAP_BUSCAR_TEXT=t.newText,e.next=3,self.executeNode("applyfilter");case 3:case"end":return e.stop()}}),e)}))),_FiltraMarcados.apply(this,arguments)}function eventoOnFocusChanged(e){self.MAP_DESCRIPCIONEVENTO="onFocusChanged! target: "+e.target+"\nObjItem: "+e.objItem+"\nTiene foco: "+e.isFocused,ui.getView(self).refresh("MAP_DESCRIPCIONEVENTO")}function eventoOnFocusChanged3(e){self.MAP_DESCRIPCIONEVENTO3="onFocusChanged! target: "+e.target+"\nObjItem: "+e.objItem+"\nTiene foco: "+e.isFocused,ui.getView(self).refresh("MAP_DESCRIPCIONEVENTO3")}function jstestClickNode(e,t){return _jstestClickNode.apply(this,arguments)}function _jstestClickNode(){return _jstestClickNode=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.msg){e.next=8;break}return e.next=3,ui.msgBox(t.target+": "+n.msg,n.title+" "+n.collName,0);case 3:return e.next=5,appData.getCollection(n.collName);case 5:r=e.sent,e.next=13;break;case 8:return e.next=10,ui.msgBox("Abre el objeto "+n,"Titulo",0);case 10:return e.next=12,appData.getCollection(n);case 12:r=e.sent;case 13:return e.next=15,r.createObject();case 15:a=e.sent,r.addItem(a),appData.pushValue(a);case 18:case"end":return e.stop()}}),e)}))),_jstestClickNode.apply(this,arguments)}function scrollArrow(e,t){1==t?e.dy<=10&&1==self.MAP_VALORVER?(self.MAP_VALORVER=0,ui.getView(self).refresh("frmblotante")):e.dy>10&&0==self.MAP_VALORVER&&(self.MAP_VALORVER=1,ui.getView(self).refresh("frmblotante")):e.dy<=10&&1==self.MAP_ATTSHOWOVERSCROLL?(self.MAP_ATTSHOWOVERSCROLL=0,ui.getView(self).refresh("attfroverscroll")):e.dy>10&&0==self.MAP_ATTSHOWOVERSCROLL&&(self.MAP_ATTSHOWOVERSCROLL=1,ui.getView(self).refresh("attfroverscroll"))}function sysMessage(e,t){return _sysMessage.apply(this,arguments)}function _sysMessage(){return _sysMessage=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"",e.t0=t,e.next=1e3===e.t0?4:1001===e.t0?6:1002===e.t0?8:1003===e.t0?10:15;break;case 4:return" Actualización descargándose (un mensaje por cada actualización).",e.abrupt("break",15);case 6:return" Actualización aplicada (un mensaje por cada actualización).",e.abrupt("break",15);case 8:return" Se han aplicado todas las actualizaciones (al comprobar las actualizaciones puede haber más de una, éste se invoca al aplicar todas).",e.abrupt("break",15);case 10:return e.next=12,ui.msgBox("Advertencia, se ha programado una actualización de base de datos. Se van a replicar todos los datos y se cerrará la aplicación.","Mensaje",0);case 12:return r=replica.processReplicatorQueue(liveResponse),r?appData.failWithMessage(-11888,"##EXITAPP##"):ui.showToast("Error al procesar la cola de salida"),e.abrupt("break",15);case 15:case"end":return e.stop()}}),e)}))),_sysMessage.apply(this,arguments)}function EnviarMail(e){return _EnviarMail.apply(this,arguments)}function _EnviarMail(){return _EnviarMail=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="",0===self.MAP_CORREO.length&&(n="Es obligatorio indicar el correo de destino"),0===self.MAP_ASUNTO.length&&0===n.length&&(n="Es obligatorio indicar el asunto del correo"),0===self.MAP_CUERPO.length&&0===n.length&&(n="Es obligatorio indicar el cuerpo del correo"),0!==n.length){e.next=20;break}if("NO"!==t){e.next=12;break}return e.next=8,ui.msgBox("¿Desea adjuntar un fichero?","Aviso",4);case 8:r=e.sent,6===r?(self.MAP_VISIBLE=1,ui.refresh("MAP_TEXTAT,boton0,boton1")):ui.sendMail(self.MAP_CORREO,"direccion_con_copia@xone.es",self.MAP_ASUNTO,self.MAP_CUERPO,""),e.next=18;break;case 12:if(0!==self.MAP_TEXTAT.length){e.next=17;break}return e.next=15,ui.msgBox("Error: Es Obligatorio indicar el fichero adjunto","AVISO",0);case 15:e.next=18;break;case 17:ui.sendMail(self.MAP_CORREO,"direccion_con_copia@xone.es",self.MAP_ASUNTO,self.MAP_CUERPO,self.MAP_TEXTAT);case 18:e.next=22;break;case 20:return e.next=22,ui.msgBox("Error: "+n,"AVISO",0);case 22:case"end":return e.stop()}}),e)}))),_EnviarMail.apply(this,arguments)}function CodigoBarras(){return _CodigoBarras.apply(this,arguments)}function _CodigoBarras(){return _CodigoBarras=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="",0===self.MAP_TIPOCB.length&&(t="Es obligatorio indicar el tipo de codigo de barras a leer"),0===self.MAP_CHECKBOX1&&0===self.MAP_CHECKBOX2&&(t="Es obligatorio indicar la aplicacion a utilizar"),0!==t.length){e.next=7;break}1===self.MAP_CHECKBOX1?ui.startScanner("",self.MAP_TIPOCB,""):ui.startScanner("quickmark",self.MAP_TIPOCB,""),e.next=9;break;case 7:return e.next=9,ui.msgBox("Error: "+t,"AVISO",0);case 9:case"end":return e.stop()}}),e)}))),_CodigoBarras.apply(this,arguments)}function takePicture(){var e=getControl("MAP_CAMERA");if(e){var t={filename:"test.jpg",saveToGallery:!0,width:360,height:360,onFinished:function(e){e?(ui.showToast("Abriendo nueva foto..."),ui.openFile(e)):ui.showToast("Error de cámara")}};e.takePicture(t)}}function record(){var e=getControl("MAP_CAMERA");if(e){var t={quality:self.MAP_CAMERA_QUALITY,maxDuration:1e4,withMicAudio:!0,onFinished:function(e){self.MAP_RECORDING=0,ui.refresh("MAP_START_RECORDING,MAP_STOP_RECORDING,MAP_START_PREVIEW,MAP_STOP_PREVIEW"),e?(ui.showToast("Nuevo vídeo..."),ui.openFile(e)):ui.showToast("Error de cámara")}};e.record(t),self.MAP_RECORDING=1,ui.refresh("MAP_START_RECORDING,MAP_STOP_RECORDING,MAP_START_PREVIEW,MAP_STOP_PREVIEW")}}function stopRecording(){var e=getControl("MAP_CAMERA");e&&e.stopRecording()}function startPreview(){var e=getControl("MAP_CAMERA");e&&e.startPreview()}function stopPreview(){var e=getControl("MAP_CAMERA");e&&e.stopPreview()}function isOpened(){var e=getControl("MAP_CAMERA");if(e){var t=e.isCameraOpened();ui.showToast("Abierta: "+t)}}function isAutoFocus(){var e=getControl("MAP_CAMERA");if(e){var t=e.isAutoFocus();ui.showToast("Autofoco: "+t)}}function getSupportedAspectRatios(){return _getSupportedAspectRatios.apply(this,arguments)}function _getSupportedAspectRatios(){return _getSupportedAspectRatios=Object(C_projects_XOneWebFramework_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=getControl("MAP_CAMERA"),t){e.next=3;break}return e.abrupt("return");case 3:for(n=t.getSupportedAspectRatios(),r="Relaciones de aspecto soportadas: ",a=0;a<n.length;a++)r=r+"\n"+n[a];return e.next=8,ui.msgBox(r,"Mensaje",0);case 8:case"end":return e.stop()}}),e)}))),_getSupportedAspectRatios.apply(this,arguments)}function doSetOnCodeScanned(){var e=getControl("MAP_CAMERA");e&&e.setOnCodeScanned((function(e){var t=ui.msgBox("Valor: "+e.data+"\nTipo: "+e.type,"¿Código OK?",4);return 6==t}))}function doSetFlashMode(e){var t=getControl("MAP_CAMERA");t&&t.setFlashMode(e)}function doToggleFlashMode(){var e=getControl("MAP_CAMERA");if(e){var t=e.getFlashMode();"on"==t?(e.setFlashMode("off"),self.setFieldPropertyValue("MAP_TOGGLE_FLASH_MODE","img","flash-off.png")):"off"==t?(e.setFlashMode("auto"),self.setFieldPropertyValue("MAP_TOGGLE_FLASH_MODE","img","flash-auto.png")):"auto"==t?(e.setFlashMode("torch"),self.setFieldPropertyValue("MAP_TOGGLE_FLASH_MODE","img","flash-torch.png")):"torch"==t&&(e.setFlashMode("on"),self.setFieldPropertyValue("MAP_TOGGLE_FLASH_MODE","img","flash-on.png")),ui.refresh("MAP_TOGGLE_FLASH_MODE")}}function doToggleCamera(){var e=getControl("MAP_CAMERA");if(e){var t=e.getCamera();"front"==t?e.setCamera("back"):"back"==t&&e.setCamera("front")}}function doToggleAutoFocus(){var e=getControl("MAP_CAMERA");e&&e.setAutoFocus(!e.isAutoFocus())}},dd6c:function(e,t,n){},ddd6:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h}));var r=n("d4ec"),a=n("bee2"),i=n("ade3"),o=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("159b"),n("a630"),n("caad"),n("2532"),n("b0c0"),n("7db0"),n("25f0"),n("ac1f"),n("1276"),n("07ac"),n("5c40")),s=(n("ae56"),n("88a8")),l=function(){function e(){if(Object(r["a"])(this,e),Object(i["a"])(this,"viewsMap",new Map),e._instance)return e._instance;e._instance=this}return Object(a["a"])(e,[{key:"addView",value:function(e){this.viewsMap.set(e.getXoneDataObject().getHashId(),e)}},{key:"getView",value:function(e){return this.viewsMap.has(e.getHashId())?this.viewsMap.get(e.getHashId()):null}},{key:"cleanRemovedViews",value:function(){var e=this,t=Object(o["e"])((function(){return s["a"].getBreadcumbs().map((function(e){return e.xoneHashId}))}));Object(o["P"])((function(){return t.value.length}),(function(){return Array.from(e.viewsMap.keys()).forEach((function(n){t.value.includes(n)||e.viewsMap.delete(n)}))}))}}]),e}();Object(i["a"])(l,"_instance",void 0);var u=new l;Promise.resolve().then((function(){return u.cleanRemovedViews()}));var c=function(e){return u.getView(e)},d=function(){function e(t){var n=this;Object(r["a"])(this,e),Object(i["a"])(this,"_bindedEvents",[]),Object(i["a"])(this,"_xoneDataObject",void 0),Object(i["a"])(this,"refreshValue",(function(e){n.refresh(e)})),this._xoneDataObject=t,u.addView(this)}return Object(a["a"])(e,[{key:"bindedEvents",get:function(){return this._bindedEvents}},{key:"addControl",value:function(e){this[e.name]=e}},{key:"getXoneDataObject",value:function(){return this._xoneDataObject}},{key:"bind",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t||t.length<3)return console.error("Error calling bind method. You need 3 arguments at least.");var r=this._bindedEvents.find((function(e){return e.field===t[0]&&e.eventName===t[1].toString().toLowerCase()}));r||(r={fieldName:t[0],eventName:t[1].toString().toLowerCase()}),3===t.length?r.action=t[2]:(r.params=t[2],r.action=t[3]),this._bindedEvents.push(r)}},{key:"exit",value:function(){s["a"].clearBreadcumbsFromXoneHashId(this._xoneDataObject["_XoneHashId"])}},{key:"refresh",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=1===n.length?n[0].toString().split(","):n;a.forEach((function(t){var n;null!==(n=e[t])&&void 0!==n&&n.refresh&&e[t].refresh()})),0===n.length&&Object.values(this).forEach((function(e){e&&e.refresh&&e.refresh()}))}},{key:"refreshAll",value:function(){this.refresh()}}]),e}(),h=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(r["a"])(this,e),Object(i["a"])(this,"name",void 0),Object(i["a"])(this,"element",void 0),Object(i["a"])(this,"refresh",(function(){})),Object(i["a"])(this,"refreshValue",(function(){})),this.name=t;while(n&&!n.classList.contains("xone-prop")&&!n.classList.contains("xone-frame"))n=n.parentElement;this.element=n}},de62:function(e,t,n){},df22:function(e,t,n){"use strict";n("dd6c")},dfb4:function(e,t,n){"use strict";n("6bfe")},e749:function(e,t,n){"use strict";n("700e")},e9ed:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),s=n("2caf"),l=(n("96cf"),n("99af"),n("2ca0"),n("7ef1")),u=(n("d3b7"),n("54ab")),c=(n("b64b"),n("0912")),d=n("f57f"),h=n("57ee"),p=function(){function e(t,n,r){Object(a["a"])(this,e),this.m_stringData=["Valor prueba texto","Texto corto","0002346","Otro texto","Un texto mas largo de prueba","Mas texto"],this.m_maxRows=100,this.m_keys=[],this.isResultset=!0,this.m_connection=t,this.m_nIterate=-1,this.m_sentence=n,this.m_options=r,this.m_data=[],this.m_maxRows=this.m_data.length,this.m_keys=[]}return Object(i["a"])(e,[{key:"populate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_connection.fetchDataAsync(this.m_sentence,t||this.m_options);case 2:if(n=e.sent,1!=n.hasError){e.next=5;break}throw new c["a"](n.err);case 5:return this.m_data=Array.isArray(n.data)?n.data:[],this.m_maxRows=this.m_data.length,this.m_keys=0==this.m_maxRows?[]:Object.keys(this.m_data[0]),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBytes",value:function(e){return null}},{key:"getColumnCount",value:function(){return 0==this.m_maxRows?0:this.m_keys.length}},{key:"getColumnTypes",value:function(){return[1,2,3,4,5,6,7,8]}},{key:"getColumnName",value:function(e){return 0==this.m_maxRows?0:this.m_keys[e]}},{key:"close",value:function(){this.m_nIterate=-1,this.m_data=null,this.m_maxRows=0}},{key:"resolverField",value:function(e){return"number"==typeof e?this.m_keys[e]:e}},{key:"getValue",value:function(e,t){switch(t){case 0:return d["a"].SafeToInt(this.m_data[this.m_nIterate][this.resolverField(e)]);case 2:return d["a"].SafeToDouble(this.m_data[this.m_nIterate][this.resolverField(e)]);case 3:return u["a"].SafeToDate(this.m_data[this.m_nIterate][this.resolverField(e)]);default:return h["a"].SafeToString(this.m_data[this.m_nIterate][this.resolverField(e)])}}},{key:"getString",value:function(e){return this.getValue(e,1)}},{key:"getInt",value:function(e){return this.getValue(e,0)}},{key:"getDate",value:function(e){return this.getValue(e,3)}},{key:"PageLen",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.length)||-1}},{key:"PageCache",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.cache)||-1}},{key:"next",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",++this.m_nIterate<this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EOF",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate>=this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveTo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t==this.m_maxRows||(this.m_nIterate=t)==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),f=function(){function e(){Object(a["a"])(this,e),this.m_sentence="Select STATUS,LATITUD,LONGITUD,ALTITUD,RUMBO,FGPS,HGPS,VELOCIDAD,SATELITES from GPS"}return Object(i["a"])(e,[{key:"getTestResult",value:function(){return{hasError:!1,data:[{ID:1,STATUS:1,LATITUD:38.886524,LONGITUD:-7.0038,ALTITUD:Math.floor(999*Math.random())+1,RUMBO:Math.floor(359*Math.random())+1,FGPS:new Date,HGPS:u["a"].SafeToHours(),VELOCIDAD:Math.floor(199*Math.random())+1,SATELITES:Math.floor(7*Math.random())+1}]}}},{key:"countAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return 10}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchDataAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getTestResult());case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeQueryAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new p(this,t),e.next=3,n.populate();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"executeUpdateAsync",value:function(e){throw new Error("Method not implemented.")}},{key:"executeNonQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{hasError:!1,data:[{result:1}]});case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"executeAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.executeNonQuery();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeQuery",value:function(e){return new p(this,this.m_sentence)}},{key:"createStatement",value:function(){throw new Error("Method not implemented.")}},{key:"isClosed",value:function(){throw new Error("Method not implemented.")}},{key:"commit",value:function(){throw new Error("Method not implemented.")}},{key:"beginTrans",value:function(){throw new Error("Method not implemented.")}},{key:"rollback",value:function(){throw new Error("Method not implemented.")}},{key:"execute",value:function(e,t){throw new Error("Method not implemented.")}},{key:"executeUpdate",value:function(e){throw new Error("Method not implemented.")}},{key:"executeOperation",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"getDBMS",value:function(){throw new Error("Method not implemented.")}},{key:"outerJoinsSupported",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsParsedSentences",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsEmptyQueries",value:function(){throw new Error("Method not implemented.")}},{key:"LastRowsAffected",value:function(){throw new Error("Method not implemented.")}},{key:"LastInsertedRowId",value:function(){throw new Error("Method not implemented.")}},{key:"cancelProcesses",value:function(e){throw new Error("Method not implemented.")}},{key:"setCryptoData",value:function(e){throw new Error("Method not implemented.")}},{key:"getCryptoData",value:function(){throw new Error("Method not implemented.")}},{key:"cryptoSupported",value:function(){throw new Error("Method not implemented.")}},{key:"getTokenFromAuth",value:function(e,t){throw new Error("Method not implemented.")}}]),e}(),m=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,r,i){var o;return Object(a["a"])(this,n),o=t.call(this,r,i),o.m_context=e,o.m_connection=null,o}return Object(i["a"])(n,[{key:"TopAllowed",value:function(){return!1}},{key:"LimitAllowed",value:function(){return!1}},{key:"HasEscapeChars",value:function(){return!1}},{key:"acceptsParsedSentences",value:function(){return!1}},{key:"acceptsEmptyQueries",value:function(){return!1}},{key:"retrievesAutonumericKeys",value:function(){return!1}},{key:"GetNewConnection",value:function(e){return this.m_connection=new f}},{key:"GetCurrentConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null!==this.m_connection?this.m_connection:this.GetNewConnection(e)}},{key:"CreateRecordset",value:function(e){return"string"==typeof e?this.GetCurrentConnection().executeQuery(e):null}},{key:"CreateRecordsetAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"string"!=typeof t){e.next=7;break}for(n=this.GetCurrentConnection(),r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=6,n.executeQueryAsync.apply(n,[t].concat(a));case 6:return e.abrupt("return",e.sent);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteSqlString",value:function(e,t,n){return{}}},{key:"CountAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}for(r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=4,(n=this.GetCurrentConnection()).countAsync.apply(n,[t].concat(a));case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteSqlStringAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ExecuteParsedSql",value:function(e,t,n){return{}}},{key:"ExecuteParsedSqlAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ReplaceCustomOper",value:function(e,t,n){return t}},{key:"InsertTop",value:function(e,t){return e}},{key:"QuoteFieldName",value:function(e){return e}},{key:"EscapeString",value:function(e){return e.startsWith("'")?e:"'".concat(e,"'")}},{key:"Terminate",value:function(){}},{key:"IsOuterJoinSupported",value:function(){return!1}},{key:"RetrieveNumericKey",value:function(e,t,n,r){return 0}},{key:"isUniqueRowID",value:function(e,t){return!0}},{key:"getDbmsTag",value:function(){return"test"}}]),n}(l["a"])},ed67:function(e,t,n){},ef74:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("2ca0"),n("4d90"),n("b0c0"),n("f57f")),o=n("54ab"),s=n("3be9"),l=n("f0ed"),u=n("53ca"),c=n("3835"),d=(n("4fad"),{coll:{cellEvenColor:"cell-even-color",cellOddColor:"cell-odd-color",cellSelectedBgColor:"cell-selected-bgcolor",groupSwipe:"group-swipe",loadAll:"loadall",name:"name",noTab:"notab",tabBgColor:"tab-bgcolor",tabBPadding:"tab-bpadding",tabFontSize:"tab-fontsize",tabForecolor:"tab-forecolor",tabLPadding:"tab-lpadding",tabRPadding:"tab-rpadding",tabSelectedForecolor:"tab-selected-forecolor",tabTPadding:"tab-tpadding"},group:{align:"align",bgColor:"bgcolor",bMargin:"bmargin",borderCornerRadius:"border-corner-radius",bPadding:"bpadding",drawerOrientation:"drawer-orientation",elevation:"elevation",fixed:"fixed",foreColor:"forecolor",height:"height",id:"id",image:{value:["imgbk","img","image","path"]},keepAspectRatio:"keep-aspect-ratio",lMargin:"lmargin",lPadding:"lpadding",name:"name",onFocus:"onfocus",orientation:"orientation",rMargin:"rmargin",rPadding:"rpadding",tMargin:"tmargin",tPadding:"tpadding",width:"width"},frame:{align:"align",animationIn:"animation-in",animationOut:"animation-out",bgColor:"bgcolor",bMargin:"bmargin",borderColor:"border-color",borderCornerRadius:"border-corner-radius",borderWidth:"border-width",bPadding:"bpadding",disableVisible:"disablevisible",elevation:"elevation",floating:"floating",foreColor:"forecolor",framebox:"framebox",height:"height",href:"href",image:{value:["imgbk","img","image","path"]},keepAspectRatio:"keep-aspect-ratio",left:"left",lMargin:"lmargin",lPadding:"lpadding",mapCol:"mapcol",mapFld:"mapfld",name:"name",newLine:"newline",onScroll:"onscroll",rMargin:"rmargin",rPadding:"rpadding",scroll:"scroll",scrollOrientation:"scroll-orientation",tMargin:"tmargin",top:"top",tPadding:"tpadding",viewMode:"viewmode",width:"width",wrap:"wrap"},prop:{align:"align",autosave:"autosave",autoslideDelay:"autoslide-delay",bgColor:"bgcolor",bMargin:"bmargin",borderColor:"border-color",borderCornerRadius:"border-corner-radius",borderWidth:"border-width",bPadding:"bpadding",breadcumbFontSize:"breadcumb-fontsize",breadcumbForeColor:"breadcumb-forecolor",breadcumbSelectedFontSize:"breadcumb-selected-fontsize",breadcumbSelectedForeColor:"breadcumb-selected-forecolor",buttonOption:"button-option",calendarViewMode:"calendar-viewmode",cellBgColor:"cell-bgcolor",cellBorderColor:"cell-border-color",cellEvenColor:"cell-even-color",cellForeColor:"cell-forecolor",cellOddColor:"cell-odd-color",cellOtherMonthBgColor:"cell-other-month-bgcolor",cellSelectedBgColor:"cell-selected-bgcolor",cellSelectedBorderColor:"cell-selected-border-color",cellSelectedForeColor:"cell-selected-forecolor",checkType:"check-type",contents:"contents",disableEdit:"disableedit",disableVisible:"disablevisible",editInRow:"edit-inrow",elevation:"elevation",fieldSize:"fieldsize",fixedText:"fixed-text",floating:"floating",floatingTooltip:"floating-tooltip",fluidLoad:"fluid-load",fontBold:"fontbold",fontSize:"fontsize",foreColor:"forecolor",galleryColumns:"gallery-columns",height:"height",href:"href",image:{value:["img","image","path","imgbk"]},imgChecked:"img-checked",imgCheckedDisabled:"img-checked-disabled",imgHeight:"img-height",imgUnchecked:"img-unchecked",imgUncheckedDisabled:"img-unchecked-disabled",imgWidth:"img-width",keepAspectRatio:"keep-aspect-ratio",labelBox:"labelbox",labelwidth:"labelwidth",left:"left",lines:"lines",linkedField:"linkedfield",linkedTo:"linkedto",lMargin:"lmargin",locked:"locked",lPadding:"lpadding",mask:"mask",method:"method",name:"name",newLine:"newline",onClick:"onclick",onEditorAction:"oneditoraction",onFocusChanged:"onfocuschanged",onScroll:"onscroll",onTextChanged:"ontextchanged",postOnchange:"postonchange",radioGroup:"radio-group",readOnly:"readonly",rMargin:"rmargin",rPadding:"rpadding",showInline:"showinline",showInlineKeyboard:"showinline-keyboard",size:"size",textAlign:"text-align",textBgColor:"text-bgcolor",textBgColorDisabled:"text-bgcolor-disabled",textBorder:"text-border",textBorderBottom:"text-border-bottom",textBorderLeft:"text-border-left",textBorderRight:"text-border-right",textBorderTop:"text-border-top",textFontSize:"text-fontsize",textForeColor:{default:"##COMPANYFORECOLOR##",value:["text-forecolor","textfore-color","forecolor"]},textForeColorDisabled:"text-forecolor-disabled",title:{value:["title","caption"]},tMargin:"tmargin",tooltip:"tooltip",tooltipColor:{value:["expanded-hint-color","floating-tooltip-color"]},tooltipForecolor:"tooltip-forecolor",top:"top",tPadding:"tpadding",type:"type",viewMode:"viewmode",visible:"visible",weekdaysLongname:"weekdays-longname",width:"width"}}),h=["bgColor","cellBgColor","cellBorderColor","cellForeColor","cellOtherMonthBgColor","cellSelectedBgColor","cellSelectedBorderColor","cellSelectedForeColor","foreColor","textBgColor","textBgColorDisabled","textForeColor","textForeColorDisabled"],p=function(){var e={},t=function(t){var n=Object(c["a"])(t,2),r=n[0],a=n[1];if("object"===Object(u["a"])(r)&&r.value&&(r=r.value[0]),"object"===Object(u["a"])(a)&&a.value)return a.value.forEach((function(t){return e[t]=r}));e[a]=r};return Object.entries(d.coll).forEach(t),Object.entries(d.frame).forEach(t),Object.entries(d.prop).forEach(t),e}(),f=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"getLayout",value:function(e,t,n){var r=this,a={attributes:this.getPropAttributes(e,t)};if(t.hasChildNodes()){var o=Object.prototype.hasOwnProperty.call(d,t.getName())?"controls":"others";a[o]=[],t.getChildren().forEach((function(t){return(!t.getName().equalsIgnoreCase(l["a"].PROP_NAME)||(i["a"].SafeToInt(e.NodePropertyValue(l["a"].PROP_NAME,t.getAttrValue(l["a"].PROP_ATTR_NAME),l["a"].PROP_ATTR_VISIBLE),1)&n)>0)&&a[o].push(r.getLayout(e,t,n))}))}return a}},{key:"getPropAttributes",value:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l["a"].PROP_NAME;"string"==typeof t?(n=e.getNode(a,l["a"].PROP_ATTR_NAME,t),r=t):(n=t,r=n.getAttrValue(l["a"].PROP_ATTR_NAME),a=n.getName());var i=a.equalsIgnoreCase(l["a"].PROP_NAME);if(o["a"].IsNothing(n))return{};var u={node:a};for(var c in d[a])if(Object.prototype.hasOwnProperty.call(d[a],c)){var h=d[a][c];try{var p=this.developValue(e,i,a,r,h);s["a"].isEmpty(p)||(u[c]=this.normailzeWebAttribute(c,p))}catch(f){console.error(f)}}return u}},{key:"developValue",value:function(e,t,n,r,a){if("string"==typeof a)return this.getValue(e,t,n,r,a);var i=this.evaluateMacro(e,"default"in a?a["default"]:""),o="";return"value"in a&&(o=Array.isArray(a["value"])?this.getArrayValue(e,t,n,r,a["value"]):this.getValue(e,t,n,r,a["value"])),s["a"].isEmpty(o)?i:o}},{key:"getArrayValue",value:function(e,t,n,r,a){for(var i="",o=0;o<a.length&&s["a"].isEmpty(i=this.getValue(e,t,n,r,a[o]));o++);return i}},{key:"getValue",value:function(e,t,n,r,a){return t?e.FieldPropertyValue(r,a):e.NodePropertyValue(n,r,a)}},{key:"normalizeWebColor",value:function(e){return!e.startsWith("##")&&e.startsWith("#")&&e.length>7?"#"+e.substr(e.length-6,6)+e.substr(1,e.length-7).padStart(2,"0"):e}},{key:"normailzeWebAttribute",value:function(e,t){return h.indexOf(e)>=0?this.normalizeWebColor(t):t}},{key:"evaluateMacro",value:function(e,t){return t.startsWith("##")?t.equals("##COMPANYCOLOR##")?e.getOwnerApp().getAppNode().attrs.companycolor||l["a"].DEFAULT_BGCOLOR:t.equals("##COMPANYFORECOLOR##")?e.getOwnerApp().getAppNode().attrs.forecolor||l["a"].DEFAULT_FORECOLOR:t:t}},{key:"resolvedAttrName",value:function(e){return p.hasOwnProperty(e)?p[e]:e}},{key:"setLayoutFieldPropertyValue",value:function(t,n,r,a,i){var o=null===t||void 0===t?void 0:t.attributes,s=e.resolvedAttrName(a);if(o&&o.node==n&&o.name==r)return o.hasOwnProperty(s),o[s]=i,!0;if((null===t||void 0===t?void 0:t.controls)&&Array.isArray(t.controls))for(var l=0;l<t.controls.length;l++)if(e.setLayoutFieldPropertyValue(t.controls[l],n,r,a,i))return!0;return!1}}]),e}();f.m_fastResolver={}},efa6:function(e,t,n){},f0ed:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=n("54c9"),o=n("3be9"),s=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"isDebuggable",value:function(e){return!1}},{key:"DebugLog",value:function(e,t){}},{key:"formatKey",value:function(e,t,n){return"##"+e+"##"+t+"##"+n+"##"}},{key:"CheckNullParameters",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(null==n)throw new i["a"]("Error de ejecución. Faltan parámetros para '"+e+"'")}},{key:"CheckIncorrectParamCount",value:function(e,t,n){if(null==t){if(0==n)return;throw new i["a"]("Error de ejecución. Número incorrecto de parámetros para '"+e+"'")}if(t.length!=n)throw new i["a"]("Error de ejecución. Número incorrecto de parámetros para '"+e+"'")}},{key:"CheckIncorrectParamRange",value:function(e,t,n,r){if(null==t){if(0==n)return;throw new i["a"]("Error de ejecución. Número incorrecto de parámetros para '"+e+"'")}if(t.length<n)throw new i["a"]("Error de ejecución. Número incorrecto de parámetros para '"+e+"'");if(t.length>r&&-1!=r)throw new i["a"]("Error de ejecución. Número incorrecto de parámetros para '"+e+"'")}},{key:"setLastAppExecutedField",value:function(e,t,n){}},{key:"getThrowableMessage",value:function(t){if(null==t)return e.EMPTY_STRING;var n=t.getClass().getSimpleName(),r=t.getMessage();return o["a"].isEmpty(r)||(n=n+"(): "+r),n}}]),e}();s.DEFAULT_BGCOLOR="#FFB22C1B",s.DEFAULT_FORECOLOR="#FF000000",s.FAIL_EXITAPP="##EXITAPP##",s.FAIL_EXIT="##EXIT##",s.FAIL_LOGIN="##LOGIN_START##",s.MACRO_LOGIN_START=s.FAIL_LOGIN,s.MACRO_LOGIN_USERCOLL="##LOGIN_USERCOLL##",s.MACRO_LOGIN_NEWUSER="##LOGIN_NEWUSER##",s.MACRO_LOGIN_NEWPASS="##LOGIN_NEWPASS##",s.MACRO_LOGIN_COLL_OBJECT_INDEX="##LOGIN_COLL_OBJECT_INDEX##",s.MACRO_STARTREPLICA="##STARTREPLICA##",s.TAG_DATABASE_LOG="XOneDatabase",s.PROP_ATTR_EMBED="embed",s.PROP_DEFAULT_FIELDSIZE=14,s.PROP_DEFAULT_LABELWIDTH=10,s.PROP_DEFAULT_CONTENTLINES=10,s.TRUE_VALUE="true",s.FALSE_VALUE="false",s.DEFAUT_FILES_PATH="files/",s.DATE_SEPARATOR="/",s.HOUR_SEPARATOR=":",s.DANISH_HOUR_SEPARATOR="\\.",s.LAST_EXECUTED_APP_FILE_NAME="lastexecuted.ini",s.LAST_EXECUTED_APP_FIELD_NAME="appname",s.LAST_EXECUTED_USER_FIELD_NAME="user",s.LICENSE_FIELD_NAME="License",s.SERVER_FIELD_NAME="ServerADDR",s.TAG_FRAMEWORK="XOneFramewrok",s.TAG_MAPPINGFILE="mappings",s.TAG_APPNODE="app.xml",s.EMPTY_STRING="",s.PROP_NAME="prop",s.PROP_ATTR_FRAME="frame",s.PROP_ATTR_CONTENTNAME="contents",s.PROP_ATTR_GROUP="group",s.PROP_ATTR_NAME="name",s.PROP_ATTR_VISIBLE="visible",s.PROP_ATTR_TITLE="title",s.PROP_ATTR_INDEX="index",s.PROP_ATTR_TYPE="type",s.MASK_EDIT_VISIBLE=1,s.MASK_LIST_VISIBLE=2,s.MASK_CONTENT_VISIBLE=4,s.MASK_DROPDOWN_VISIBLE=8,s.MACRO_DEFAULT="##DEFAULT##",s.MACRO_TAG="##",s.COLL_COLLPROPS="collprops",s.COLL_COLL="coll",s.COLL_LOGIN_COLL="login-coll",s.COLL_LOGOFF_COLL="logoff-coll",s.PLATFORM_NAME="platform"},f56a:function(e,t,n){},f57f:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=(n("c35a"),n("a9e3"),n("d3b7"),n("25f0"),n("25eb"),n("8ba4"),n("54ab")),o=n("57ee"),s=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"SafeToLong",value:function(e){return this.SafeToInt(e)}},{key:"SafeToDouble",value:function(e){return e&&null!==e?Number.parseFloat(o["a"].SafeToString(e)):0}},{key:"SafeToBool",value:function(e){return null!==e&&o["a"].ParseBoolValue(e.toString())}},{key:"SafeToInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i["a"].IsNothing(e))return t;try{var n=Number.parseInt(o["a"].SafeToString(e));return Number.isInteger(n)?n:t}catch(r){return console.error(r),t}}}]),e}()},f581:function(e,t,n){},f762:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return P}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("a4d3"),n("e01a"),n("d3b7"),n("ac1f"),n("5319"),n("25f0"),n("498a"),n("1276"),n("159b"),n("ddb0"),n("8a79"),n("2ca0"),n("a630"),n("3ca3"),n("9d37"),n("d2fd")),s=n("3019"),l=n("3be9"),u=n("f0ed"),c=n("48b5"),d=n("7ef1"),h=n("4585"),p=n("0e62"),f=n("57ee"),m=n("4329"),g=n("54c9"),b=n("0912"),_=n("98f9"),v=n("927f"),O=n("fad8"),y=n("1ea0"),C=n("d2c7"),S=n("984b"),E=n("55d5"),T=n("6efc"),k=n("4aaf"),w=n("f57f"),x=n("849a"),A=n("75be"),R=n("ce48"),I=n("286c"),P=function(){function t(){Object(a["a"])(this,t),this.m_lstCollections=new s["a"],this.m_lstCollPropValueCaches=new s["a"],this.m_bCacheAttrValues=!0,this.exports={},u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"A new AppData is being instantiated."),this.m_strPlatform="web",this._objectID=Symbol("XoneApplication"),this.m_PushExit=!1,this.m_strAppName="XOne Android  Application",this.m_lstConnections=new s["a"],this.m_lstCollections=new s["a"],this.m_lstSysCollNames=new s["a"],this.m_lstQualifyCaches=new s["a"],this.m_objectDeveloper=new h["a"],this.m_strConsole=new p["a"],this.m_lstParamStack=new Array,this.m_lstGlobalMacros=new s["a"],this.m_nDebugPort=7797,this.m_dbgLocker=new Object,this.m_messages=new c["a"]("EN"),this.m_lstCssList=new Array,this.m_lstCollPropUndefinedValues=new s["a"],this.m_lstConditionCssList=new s["a"],this.m_strFixedVisualCondition=this.m_strVisualConditions="",this.m_lstOpenColls=new Array,this.bIsCharWidthCompatibility=!1,this.bIsImageValuePriorized=!1,this.m_lstVisualCondDescriptors=new s["a"],this.m_lstCachedScripts=new s["a"],this.m_globalItems=new s["a"],this.m_bLoadLayouts=!0,this.m_nOperIdLength=150,this.m_nRowIdLength=100,this.m_lstCollExceptions=t.getCollExceptions(),this.m_lstPropExceptions=t.getPropExceptions(),this.m_error=new Array,this.m_isBrowser=!("undefined"!==typeof e&&"[object global]"=={}.toString.call(e)),this.isBrowser?this.m_loader=new A["a"]:this.m_loader=new x["a"]}return Object(i["a"])(t,[{key:"isApplication",get:function(){return!0}},{key:"getSysDatemask",value:function(){return"ymd"}},{key:"isDebugMode",value:function(){return!1}},{key:"addEvaluatedAttributesList",value:function(e,t){null==this.m_lstEvaluatedAttributes&&(this.m_lstEvaluatedAttributes=new s["a"]),this.m_lstEvaluatedAttributes.containsKey(e)||this.m_lstEvaluatedAttributes.put(e,new Array),this.m_lstEvaluatedAttributes.get(e).push(t)}},{key:"GetWeekDayName",value:function(e){throw new Error("Method not implemented.")}},{key:"currentContext",value:function(){throw new Error("Method not implemented.")}},{key:"isBrowser",get:function(){return this.m_isBrowser}},{key:"AddOpenColl",value:function(e){this.m_lstOpenColls.contains(e)||this.m_lstOpenColls.push(e)}},{key:"RemoveOpenColl",value:function(e){this.m_lstOpenColls.contains(e)&&this.m_lstOpenColls.remove(e)}},{key:"RunScriptAsyncNOFunc",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o,s,l,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i="(async () => {\n"+r+"\n})()",console.log("FunctionCall: ",t),console.log("Script: ",i),o=u.length,s=new Array(o>4?o-4:0),l=4;l<o;l++)s[l-4]=u[l];return e.next=6,this.__SCRIPT_WRAPPERASYNC(this,this.getUser(),this.m_ui,a.getObjectHost(),a.getCollectionHost(),i,s);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"RunScriptAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a,i,o,s){var l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l="(async () => {\n"+r+"\n})()",console.log("FunctionCall: ",t),console.log("Script: ",l),e.next=5,this.__SCRIPT_WRAPPERASYNC(this,this.m_ui,a.getObjectHost(),a.getCollectionHost(),this.getUser(),r,i);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,i,o,s){return e.apply(this,arguments)}return t}()},{key:"__extendStatics",value:function(e,t){return Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}},{key:"__extends",value:function(e,t){Object.setPrototypeOf(e,t)}},{key:"getDefaultLanguage",value:function(){return"javascript"}},{key:"getPlatform",value:function(){return this.m_strPlatform}},{key:"GetClassName",value:function(e){return e}},{key:"CheckClassName",value:function(e){return e}},{key:"getIdColl",value:function(){throw new Error("Method not implemented.")}},{key:"getCurrentCompany",value:function(){return this.getCurrentEnterprise()}},{key:"getUserIdColl",value:function(){return this.m_strUserIdColl}},{key:"getUser",value:function(){return this.m_user}},{key:"getCurrency",value:function(){return this.m_currency}},{key:"getEntIdLevel",value:function(){return this.m_strEntIdLevel}},{key:"getEntIdColl",value:function(){return this.m_strEntIdColl}},{key:"getEntIdOwner",value:function(){return this.m_strEntIdOwner}},{key:"getUserInterface",value:function(){return this.m_ui}},{key:"setUserInterface",value:function(e){this.m_ui=e}},{key:"AddConnection",value:function(e){return null!=e&&this.m_lstConnections.put(e.getName(),e),!0}},{key:"CreateConnection",value:function(e){var t=null,r=null;if(null!=e&&(t=e.getAttrValue(u["a"].PROP_ATTR_NAME)),f["a"].IsEmptyString(t)&&(t=d["a"].MAIN_CONNECTION),null==e)r=new I["a"](this.m_context,t,this),0==t.localeCompare(d["a"].MAIN_CONNECTION)&&(r.setOperIdLength(this.m_nOperIdLength),r.setRowIdLength(this.m_nRowIdLength));else{var a=e.getAttrValue("connstring"),i=m["a"].parseConnectionString(a),o=i.get("provider");if(!l["a"].isEmpty(o)){if(0==o.compareToIgnoreCase("cgsoft remote provider")||0==o.compareToIgnoreCase("xone remote provider")){var s=i.get("progid");if(0==s.compareToIgnoreCase("CGSSocketCE.ConnectCE")){var c=n("e9ed");r=new c.default(this.m_context,t,this)}else if(0==s.compareToIgnoreCase("CGSRSS.CProxy"));else if(0==s.compareToIgnoreCase("CGSProxy.CProxy"));else if(s.indexOf("JSONConnection")>=0){var h=n("1b44");r=new h.default(this.m_context,t,this)}else try{null!=r&&null!=this.m_user&&(r.addExtendedProperty("xoneuser",this.m_user.GetRawStringField("LOGIN")),r.addExtendedProperty("xonepass",this.m_user.GetRawStringField("PWD")))}catch(_){_.printStackTrace()}}null==r&&(r=new I["a"](this.m_context,t,this))}if(null!=r){var p=e.getAttrValue("datemask");l["a"].isEmpty(p)||r.setDatemask(p);var g=e.getAttrValue("rowidfieldname");l["a"].isEmpty(g)||r.setRowIdFieldName(g);var b=e.getAttrValue("sqlfieldname");l["a"].isEmpty(b)||r.setSqlFieldName(b)}null==r&&(r=new I["a"](this.m_context,t,this))}return r.SetPlatform(this.m_strPlatform),r.setNodeData(e),r.getName().equals(d["a"].MAIN_CONNECTION)&&(r.setIsReplicating(this.m_bIsReplicating),r.setDatemask(this.m_strDatemask)),f["a"].IsEmptyString(r.getDatemask())&&r.setDatemask(this.m_strDatemask),r.getName().equals(d["a"].MAIN_CONNECTION)&&this.m_nMasterMid>0&&(r.setMID(this.m_nMasterMid),r.setDBID(this.m_nMasterMid),r.setIsReplicating(!0)),r}},{key:"LoadConnection",value:function(e){var t=this.CreateConnection(e);return null!=t&&this.AddConnection(t)}},{key:"getConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e;return f["a"].IsEmptyString(e)&&(t=d["a"].MAIN_CONNECTION),this.m_lstConnections.containsKey(t)?this.m_lstConnections.get(t):null}},{key:"login",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,c,d,h,p,m,b,_,v,C,S,E,T=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t="Login",n=T.length,r=new Array(n),a=0;a<n;a++)r[a]=T[a];if(u["a"].CheckNullParameters(t,r),u["a"].CheckIncorrectParamCount(t,r,1),i=r[0],o=f["a"].SafeToString(i["userName"],null),s=f["a"].SafeToString(i["password"],null),c=f["a"].ParseBoolValue(i["isGoogleSignOn"],!1),d=f["a"].SafeToString(i["entryPoint"],this.getEntryPointCollection(this.getCurrentVisualConditions())),h=i["onLoginSuccessful"],p=i["onLoginFailed"],i["onLoginCallResults"],c){e.next=17;break}if(null!=o){e.next=15;break}throw new g["a"](t+"(): Null user name parameter");case 15:if(null!=s){e.next=17;break}throw new g["a"](t+"(): Null password parameter");case 17:if(!l["a"].isEmpty(d)){e.next=19;break}throw new g["a"](t+"(): Empty entry point parameter");case 19:return e.next=21,this.getCollection(d);case 21:if(m=e.sent,null!=m){e.next=24;break}throw new g["a"](t+"(): Entry point collection "+d+" not found");case 24:return this.setOverridenEntryPoint(d),b=this.getUser(),null!=b&&u["a"].DebugLog(u["a"].TAG_FRAMEWORK,t+"(): User is already logged in"),e.prev=27,e.next=30,this.logonUser(o,s,u["a"].EMPTY_STRING);case 30:return _=e.sent,v=null,C=new y["a"](null),e.next=35,this.getXOneScriptObjects(C);case 35:if(S=e.sent,null==_){e.next=42;break}u["a"].setLastAppExecutedField(this.m_context,o,this.m_strAppName+"##"+u["a"].LAST_EXECUTED_USER_FIELD_NAME),null!=h&&O["a"].run(this,h,C,S),this.m_ui.launchEntryPoint(),e.next=46;break;case 42:if(null==p){e.next=46;break}return E=null!=v?u["a"].getThrowableMessage(v):"Login failed",e.next=46,O["a"].runAsync(this,p,C,S,null,E);case 46:return e.abrupt("return",_);case 49:return e.prev=49,e.t0=e["catch"](27),null===p||void 0===p||p.call(),e.abrupt("return",null);case 53:case"end":return e.stop()}}),e,this,[[27,49]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getXOneScriptObjects",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=new s["a"],n.put("appData",this),r=this.getUserInterface(),null!=r&&n.put("ui",r),null!=this.m_user&&n.put("user",this.m_user),null==t){e.next=14;break}return r=t.getObjectHost(),null!=r&&n.put("self",r),e.next=10,t.getCollectionHost();case 10:if(r=e.sent,null!=r&&n.put("selfDataColl",r),a=t.GetParams(),null!=a){i=null;while(null!=(i=a.next()))n.put(i.value[0],i.value[1])}case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logonUser",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]&&h[3],e.next=3,this.getSysCollection("Usuarios");case 3:if(i=e.sent,null!=i){e.next=6;break}throw new b["a"](this.m_messages.GetMessage(C["a"].SYS_MSG_APP_LOGONNOUSERCOLL,r));case 6:return e.next=8,i.get("LOGIN",t);case 8:if(o=e.sent,i.getConnection().removeExtendedProperty("logincall"),null!=o){e.next=14;break}throw s=this.m_messages.GetMessage(C["a"].SYS_MSG_APP_LOGONUSERNOTFOUND,r),s=s.replace("{0}",t),new b["a"](s);case 14:if(a){e.next=31;break}if(l=null,Object.prototype.hasOwnProperty.call(o,"ValidateUserCredentials")&&(l=o),null==l){e.next=23;break}if(u=[n],l.ValidateUserCredentials(u)){e.next=21;break}return e.abrupt("return",null);case 21:e.next=31;break;case 23:if(c=o.get("PWD"),!f["a"].IsEmptyString(n)){e.next=29;break}if(f["a"].IsEmptyString(c)){e.next=27;break}return e.abrupt("return",null);case 27:e.next=31;break;case 29:if(n.equals(c)){e.next=31;break}return e.abrupt("return",null);case 31:return this.m_user=o,e.next=34,o.ObjectItem("IDEMPRESA");case 34:if(d=e.sent,null!=d){e.next=37;break}return e.abrupt("return",o);case 37:return this.LoadCompanyData(d),e.abrupt("return",o);case 39:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"GetSysCollName",value:function(e){return this.m_lstSysCollNames.containsKey(e)?this.m_lstSysCollNames.get(e):e}},{key:"getSysCollection",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getCollection(this.GetSysCollName(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addLoginCollection",value:function(e,t){null==this.mapLoginCollections&&(this.mapLoginCollections=new s["a"]),v["a"].getValuesByConditions(this.mapLoginCollections,e,t)}},{key:"getLoginCollectionName",value:function(e){if(!f["a"].IsEmptyString(e)){var t=this.getCurrentVisualConditionsDescriptors();for(var n in t)if(this.mapLoginCollections.containsKey(n))return this.mapLoginCollections.get(n)}if(this.mapLoginCollections.containsKey(u["a"].MACRO_DEFAULT)){var r=this.mapLoginCollections.get(u["a"].MACRO_DEFAULT);if(!l["a"].isEmpty(r))return r}var a=this.getConfigFile().SelectSingleNode(u["a"].COLL_COLLPROPS).SelectSingleNode(u["a"].COLL_COLL,u["a"].COLL_LOGIN_COLL,u["a"].TRUE_VALUE);return null!=a?a.getAttrValue(u["a"].PROP_ATTR_NAME):null}},{key:"addEntryPointCollection",value:function(e,t){null==this.mapEntryPointCollections&&(this.mapEntryPointCollections=new s["a"]),v["a"].getValuesByConditions(this.mapEntryPointCollections,e,t)}},{key:"getEntryPointCollection",value:function(e){if(!l["a"].isEmpty(this.sOverridenEntryPointCollection))return this.sOverridenEntryPointCollection;if(!f["a"].IsEmptyString(e)){var t=this.getCurrentVisualConditionsDescriptors();for(var n in t)if(this.mapEntryPointCollections.containsKey(n))return this.mapEntryPointCollections.get(n)}return this.mapEntryPointCollections.containsKey(u["a"].MACRO_DEFAULT)?this.mapEntryPointCollections.get(u["a"].MACRO_DEFAULT):null}},{key:"setOverridenEntryPoint",value:function(e){this.sOverridenEntryPointCollection=e}},{key:"logout",value:function(){var e="Logout",t=this.getUser();if(null==t)throw new _["a"](e+"(): User is not logged in");var n=t.getOwnerCollection();null!=n&&n.Clear(),this.m_user=null,this.clearCompanyData()}},{key:"IniciarApp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setAppPath(t),this.__SCRIPT_WRAPPERASYNC=n,this.m_fileManager=r,e.next=5,r.readFileAsync(this.m_strAppPath+"/"+u["a"].TAG_APPNODE);case 5:return i=e.sent,e.next=8,r.readFileAsync(this.m_strAppPath+"/"+u["a"].TAG_MAPPINGFILE+".xne");case 8:this.m_jsonConfigFile=e.sent,this.LoadConfigFile(this.m_strAppPath,i,this.m_jsonConfigFile,!0,2),this.Initialize(a);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"Initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["a"].EMPTY_STRING;null==this.m_ui&&(this.m_ui={startReplica:function(){},showToast:function(){},launchEntryPoint:function(){},msgBox:function(){},startGps:function(){}});var t=this.getConnection();if(null==t){if(null==(t=this.CreateConnection(null)))throw new S["a"](-9e3,this.m_messages.GetMessage(C["a"].SYS_MSG_APP_CANNOTCREATEMAINCONN,"Cannot create main connection. Possible cause: memory error."));t.setConnString(e),f["a"].IsEmptyString(this.m_strObjectPrefix)||t.setPrefix(this.m_strObjectPrefix),this.AddConnection(t)}else f["a"].IsEmptyString(t.getConnString())&&t.setConnString(e);var n=t.GetNewConnection(!0);if(null==n){var r=this.m_messages.GetMessage(C["a"].SYS_MSG_APP_OPENCONNERROR,"Cannot open connection. ConnString='{0}'");throw r=r.replace("{0}",t.getConnString()),new S["a"](-9001,r)}return this.m_bIsReady=!0}},{key:"LoadConfigFile",value:function(e,t,n,r,a){this.m_nVersionMapping=a;var i=k["a"].getInstance();if(i.Deserialize(null,e,n,r),this.m_xmlConfigFile=i.getRootNode(),null!=t){if(!this.LoadAppFile(e,t,r))return null}else if(!this.LoadAppNode(this.m_xmlConfigFile.SelectSingleNode("app")))return null;return i}},{key:"LoadAppFile",value:function(e,t,n){var r=k["a"].getInstance();r.Deserialize(null,e,t,n);var a=r.getRootNode();return this.m_xmlAppNode=a.SelectSingleNode("app"),null==this.m_xmlAppNode&&a.getName().equals("app")&&(this.m_xmlAppNode=a),this.LoadAppNode(this.m_xmlAppNode)}},{key:"LoadAppNode",value:function(e){if(null==e)return!0;this.m_xmlAppNode=e,this.m_xmlAppNode.getAttrValue("version");var t=v["a"].getNodeAttr(e,"name");f["a"].IsEmptyString(t)||(this.m_strAppName=t),this.m_strDefaultLanguage=f["a"].SafeToString(v["a"].getNodeAttr(e,"default-language"),"VBScript"),this.m_bDebug=f["a"].ParseBoolValue(v["a"].getNodeAttr(e,"debug"),!1),this.m_bSqlProfilerMode=f["a"].ParseBoolValue(v["a"].getNodeAttr(e,"sql-profiler"),!1),this.m_bLogMemoryUsage=f["a"].ParseBoolValue(v["a"].getNodeAttr(e,"log-memory-usage"),!1);var n=v["a"].getNodeAttr(e,"script-optimization-level");l["a"].isEmpty(n)?u["a"].isDebuggable(this.m_context)?this.m_nScriptOptimizationLevel=-1:this.m_nScriptOptimizationLevel=9:this.m_nScriptOptimizationLevel=w["a"].SafeToInt(n,9),this.m_nScriptOptimizationLevel<-1?this.m_nScriptOptimizationLevel=-1:this.m_nScriptOptimizationLevel>13&&(this.m_nScriptOptimizationLevel=13),f["a"].IsEmptyString(t=v["a"].getNodeAttr(e,"version"))&&(t="1.0"),this.setGlobalMacro("##VERSION##",t);for(var r,a=e.SelectNodes("connection"),i=0;i<a.count();i++){var o=a.get(i);r=this.CreateConnection(o),null!=r&&this.AddConnection(r)}if(!f["a"].IsEmptyString(t=v["a"].getNodeAttr(e,"prefix"))){if(null==(r=this.getConnection())){if(null==(r=this.CreateConnection(null)))return!1;this.AddConnection(r)}r.setPrefix(t)}a=e.SelectNodes("syscoll-name");for(var s=0;s<a.count();s++){var c=a.get(s),d=v["a"].getNodeAttr(c,"system-name"),h=v["a"].getNodeAttr(c,"collection-name");f["a"].IsEmptyString(d)||f["a"].IsEmptyString(h)||this.m_lstSysCollNames.put(d,h)}a=e.SelectNodes("style");for(var p=0;p<a.count();p++){var m=a.get(p),g=m.getAttrValue("encoding"),b=m.getAttrValue("url"),_=m.getAttrValue("conditions"),O=f["a"].ParseBoolValue(m.getAttrValue("strict-mode"),!1),y=this.LoadAndSaveNewCssFile(b,g,O);if(f["a"].IsEmptyString(_))this.m_lstCssList.push(y);else{var C=this.m_lstConditionCssList.get(_);null==C&&(C=new Array,this.m_lstConditionCssList.put(_,C)),C.push(y)}this.m_bHasStylesheets=!0}return this.addEntryPointCollection(this.m_xmlAppNode.selectSingleNode("entry-point"),this.m_xmlAppNode.getAttrValue("entry-point")),this.addLoginCollection(this.m_xmlAppNode.selectSingleNode("login-coll"),this.m_xmlAppNode.getAttrValue("login-coll")),!0}},{key:"LoadAndSaveNewCssFile",value:function(e,t,n){return this.LoadNewCssFile(e,t,n)}},{key:"LoadNewCssFile",value:function(e,t,n){var r=this.m_loader.LoadFile(this.getSourcePath(e),this.mIsEncryptFiles);if(null==r)throw new S["a"](-100,"File not Found: "+e);try{return new T["a"](e,r,t,n)}catch(i){var a=u["a"].getThrowableMessage(i);throw new S["a"](-100,i,"Error loading CSS file: "+e+"\r\n"+a)}}},{key:"getCollection",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l["a"].isEmpty(t),!this.m_lstCollections.containsKey(t)){e.next=5;break}return n=this.m_lstCollections.get(t),null==n&&u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.GetCollection(): Collection list contains a key for "+t+" but it is null. AppData hashCode: "+this.hashCode()),e.abrupt("return",n);case 5:return e.next=7,this.LoadCollection(t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"LoadCollection",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,null!=this.m_xmlConfigFile){e.next=4;break}return l["a"].isEmpty(t)?u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.LoadCollection(): Error loading collection, empty collection name parameter, mappings xml object is null. AppData hashCode: "):u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.LoadCollection(): Error loading collection "+t+", mappings xml object is null. AppData hashCode: "+this.hashCode()),e.abrupt("return",null);case 4:if(r=this.m_xmlConfigFile.SelectSingleNode("collprops"),null!=r&&(n=r.SelectSingleNode("coll","name",t)),a=null,i=2,null!=n){e.next=17;break}return e.next=11,this.LoadExternalCollection(t);case 11:if(a=e.sent,null!=a){e.next=15;break}return u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.LoadCollection(): Collection "+t+" not found as an external file. AppData hashCode: "+this.hashCode()),e.abrupt("return",null);case 15:n=a.second,i=a.first;case 17:if(!this.m_lstCollections.containsKey(t)){e.next=19;break}return e.abrupt("return",this.m_lstCollections.get(t));case 19:return s=new o["a"](this,n,i),this.m_lstCollections.put(t,s),e.next=23,s.Load();case 23:if(e.sent){e.next=27;break}return this.m_lstCollections.delete(t),u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.LoadCollection(): Collection "+t+" found but DataCollection.Load() failed. AppData hashCode: "+this.hashCode()),e.abrupt("return",null);case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"LoadExternalCollection",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_fileManager.readFileAsync(this.m_strAppPath+"/"+t+".xne");case 2:return r=e.sent,a=k["a"].getInstance(),a.Deserialize(null,this.m_strAppPath,r,!0),(null===(n=i=a.getRootNode())||void 0===n?void 0:n.getName().equals("coll"))||(i=a.getRootNode().SelectSingleNode("coll")),e.abrupt("return",{first:2,second:i});case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hashCode",value:function(){return this._objectID.toString()}},{key:"getCompany",value:function(){return this.m_company}},{key:"GetCollPropValueCache",value:function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"coll",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"values";if(!this.m_bCacheAttrValues)return null;if(l["a"].isEmpty(e))throw new b["a"]("Empty collection name parameter passed to GetCollPropValueCache");if(this.m_lstCollPropValueCaches.containsKey(e)||(t=new s["a"],this.m_lstCollPropValueCaches.put(e,t)),t=this.m_lstCollPropValueCaches.get(e),t.containsKey(a)||(n=new s["a"],t.put(a,n)),n=t.get(a),l["a"].isEmpty(i))throw new E["a"]("Empty node name parameter passed to GetCollPropValueCache");return n.containsKey(i)||(r=new s["a"],n.put(i,r)),r=n.get(i),r}},{key:"GetCollPropUndefinedValues",value:function(e){if(!this.m_bCacheAttrValues)return null;if(null==this.m_lstCollPropUndefinedValues)return null;if(this.m_lstCollPropUndefinedValues.containsKey(e))return this.m_lstCollPropUndefinedValues.get(e);var t=new Array;return this.m_lstCollPropUndefinedValues.put(e,t),t}},{key:"getMessageHolder",value:function(){return this.m_messages}},{key:"getConfigFile",value:function(){return this.m_xmlConfigFile}},{key:"ParseVisualConditions",value:function(){var e=this.m_strVisualConditions.trim();if(!f["a"].IsEmptyString(e)&&!this.m_lstVisualCondDescriptors.containsKey(e)){var t=this.m_strVisualConditions.split(":"),n=0,r=t.length-1,a=new Array;while(n<=r)this.CreateVisualCombinations(t,n++,r--,a);this.m_lstVisualCondDescriptors.put(e,a)}}},{key:"CreateVisualCombinations",value:function(e,t,n,r){var a;if(t!=n){var i=t,o=n;while(o>=t){a=new p["a"];for(var s=o;s>=t;s--)a.isEmpty()||a.insert(0,":"),a.insert(0,e[s]);var l=u["a"].EMPTY_STRING;r.contains(l=a.toString())||r.push(l),o--}while(i<=n){a=new p["a"];for(var c=i;c<=n;c++)a.isEmpty()||a.append(":"),a.append(e[c]);var d=u["a"].EMPTY_STRING;r.contains(d=a.toString())||r.push(d),i++}}else r.contains(e[t])||r.push(e[t])}},{key:"setVisualConditions",value:function(e,t){var n=e||u["a"].EMPTY_STRING;t?this.m_strFixedVisualCondition=this.m_strVisualConditions=n:this.m_strVisualConditions=this.m_strFixedVisualCondition+":"+n,this.m_lstCollPropValueCaches.clear(),this.m_lstCollPropUndefinedValues.clear(),this.m_lstCollections.values().forEach((function(e){for(var t=0;t<e.getCount();t++)e.get(t).then((function(e){return e.ClearCaches()}))})),this.ParseVisualConditions()}},{key:"getCurrentVisualConditions",value:function(){return this.m_strVisualConditions}},{key:"getVisualConditionsDescriptors",value:function(){return this.m_lstVisualCondDescriptors}},{key:"getCurrentVisualConditionsDescriptors",value:function(){return this.m_lstVisualCondDescriptors.containsKey(this.m_strVisualConditions)?this.m_lstVisualCondDescriptors.get(this.m_strVisualConditions):null}},{key:"getAppPath",value:function(){return this.m_strAppPath}},{key:"getSourcePath",value:function(e){return this.m_strAppPath+"/"+e}},{key:"setAppPath",value:function(e){this.m_strAppPath=this.m_strFilesPath=e,this.m_strFilesPath.endsWith("/")||(this.m_strFilesPath+="/"),this.m_strFilesPath+=u["a"].DEFAUT_FILES_PATH}},{key:"setApplicationName",value:function(e){this.m_strAppName=e}},{key:"updateVisualConditionsFromMacro",value:function(e,t){switch(e){case"##CURRENT_ORIENTATION##":this.setVisualConditions(t,!1);break;case"##CURRENT_SIZE##":this.setVisualConditions(t,!1);break;case"##DEVICE_OS##":this.setVisualConditions(t,!0);break;default:break}}},{key:"setGlobalMacro",value:function(e,t){null==this.m_lstGlobalMacros&&(this.m_lstGlobalMacros=new s["a"]),this.m_lstGlobalMacros.put(e,t),this.updateVisualConditionsFromMacro(e,t)}},{key:"getGlobalMacro",value:function(e){return null==this.m_lstGlobalMacros?null:this.m_lstGlobalMacros.containsKey(e)?this.m_lstGlobalMacros.get(e):null}},{key:"GetAllGlobalMacros",value:function(){var e=new s["a"];return null==this.m_lstGlobalMacros||this.m_lstGlobalMacros.length<=0||this.m_lstGlobalMacros.entrySet().forEach((function(t){return e.put(t[0],t[1])})),e}},{key:"LoadCompanyData",value:function(e){this.m_bExternalEntIdColl||(this.m_strEntIdColl=null),this.m_bExternalEntIdLevel||(this.m_strEntIdLevel=null),this.m_bExternalEntIdOwner||(this.m_strEntIdOwner=null),null!=(this.m_company=e)&&(this.m_strEntTable=e.getObjectName(),this.m_strEntPk=e.getIdFieldName(),this.m_nEntPkType=f["a"].ParseBoolValue(e.getOwnerCollection().CollPropertyValue("stringkey"),!1)?1:0,this.m_bExternalEntIdColl||(this.m_strEntIdColl=this.GenerateEntIdColl(this.m_company.GetObjectIdString(!0))),this.m_bExternalEntIdLevel||(this.m_strEntIdLevel=this.GenerateEntIdLevel(this.m_company.GetObjectIdString(!0))),this.m_bExternalEntIdOwner||(this.m_strEntIdOwner=this.GenerateEntIdOwner())),this.m_company=e,null!=this.m_user&&this.m_company.put("MAP_IDCURRENTUSER",this.m_user.getId())}},{key:"GenerateEntIdOwner",value:function(){return u["a"].EMPTY_STRING}},{key:"GenerateEntIdLevel",value:function(e){return this.m_company.get("ID")}},{key:"GenerateEntIdColl",value:function(e){return this.m_company.get("ID")}},{key:"clearCompanyData",value:function(){this.m_strEntIdColl=null,this.m_strEntIdLevel=null,this.m_strEntIdOwner=null,this.m_company=null,this.m_strEntTable=null,this.m_strEntPk=null,this.m_nEntPkType=0,this.m_currency=null}},{key:"PrepareSqlString",value:function(e){return e.contains("##")?(this.m_lstGlobalMacros.entries.forEach((function(t,n){return e=e.replace(n,t)})),this.PrepareUserMacrosSqlString(e)):e}},{key:"PrepareUserMacrosSqlString",value:function(e){if(!e.contains("##USER_"))return e;try{return this.m_user.ReplaceFieldValueMacros(e,"##USER_")}catch(t){return e}}},{key:"FindStylesheetByFileAndClassName",value:function(e,t){var n=new Array;return this.m_lstCssList.forEach((function(t){var r=t.getName();0==e.compareTo(r)&&n.push(t)})),this.FindStylesheetByClassNameList(t,n)}},{key:"FindStylesheetByClassName",value:function(e,t){if(e.startsWith("coll.")||e.equals("coll")){if(this.m_lstCollExceptions.contains(t))return null}else if((e.startsWith("prop.")||e.equals("prop"))&&this.m_lstPropExceptions.contains(t))return null;var n,r;if(!f["a"].IsEmptyString(this.m_strVisualConditions)&&null!=this.m_lstConditionCssList&&this.m_lstConditionCssList.length>0){var a=this.m_strVisualConditions.trim(),i=this.m_lstVisualCondDescriptors.get(a);if(null==i)return null;for(var o=0;o<i.length;o++){var s=i[o];if(this.m_lstConditionCssList.containsKey(s)&&(n=this.m_lstConditionCssList.get(s),null!=(r=this.FindStylesheetByClassAttrList(e,t,n))))return r}}return r=this.FindStylesheetByClassAttrList(e,t,this.m_lstCssList),r}},{key:"FindStylesheetByClassAttrList",value:function(e,t,n){if(null==n)return null;var r=n.length;while(r>0){r--;var a=n[r],i=a.getRuleBySelector(e);if(null!=i){if(i.contains(t))return i;if(i.contains("extends")){var o=i.getRuleValue("extends"),s=this.FindStylesheetByClassName(o,t);if(null!=s)return s}}}return null}},{key:"FindStylesheetByClassNameList",value:function(e,t){var n=t.length;while(n>0){n--;var r=t[n],a=r.getRuleBySelector(e);if(null!=a)return a}return null}},{key:"hasStylesheets",value:function(){return this.m_bHasStylesheets}},{key:"GetQualifyCache",value:function(e){if(this.m_lstQualifyCaches.containsKey(e))return this.m_lstQualifyCaches.get(e);var t=new s["a"];return this.m_lstQualifyCaches.put(e,t),t}},{key:"RegisterError",value:function(e,t){var n=this.getError();null!=n&&(n.setNumber(e),n.setDescription(t),n.setFailedSql(null))}},{key:"getError",value:function(){if(null==this.m_error)return null;var e=this.m_error.pop();return null==e&&(e=new R["a"],this.m_error.push(e)),e}},{key:"ContainsError",value:function(){return null!=this.m_error&&this.m_error.length>0}},{key:"getAppNode",value:function(){return this.m_xmlAppNode}},{key:"bind",value:function(){}},{key:"createCollection",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,a=e;if(f["a"].IsEmptyString(a)&&n&&(a=n.getAttrValue(u["a"].PROP_ATTR_NAME)),f["a"].IsEmptyString(a))return null;this.m_lstCollections.containsKey(a)&&(t=this.m_lstCollections.get(a),this.m_lstCollections.delete(a));var i=this.m_xmlConfigFile.SelectSingleNode(u["a"].COLL_COLLPROPS);if(null==i)return null;var s=i.SelectSingleNode(u["a"].COLL_COLL,u["a"].PROP_ATTR_NAME,a);return null!=s?i.replaceChild(s,n):i.addChild(n,n.getName(),u["a"].PROP_ATTR_NAME,a),t=new o["a"](this,n,r),t.Load()?(this.m_lstCollections.put(a,t),t):null}},{key:"getSelectiveReplication",value:function(){return this.m_bSelectiveReplication}},{key:"setSelectiveReplication",value:function(e){this.m_bSelectiveReplication=e}},{key:"createObject",value:function(e){return{}}},{key:"decryptString",value:function(e){}},{key:"encryptString",value:function(e){}},{key:"error",value:function(){}},{key:"executeSql",value:function(e){}},{key:"failWithMessage",value:function(e,t){switch(t){case u["a"].FAIL_EXITAPP:this.getUserInterface().exitApp();break;case u["a"].FAIL_EXIT:this.getUserInterface().exit();break;case u["a"].FAIL_LOGIN:this.getUserInterface().login();break;case u["a"].MACRO_STARTREPLICA:this.getUserInterface().startReplica();break;default:var n=this.getError();n.setNumber(e),n.setDescription(t);break}}},{key:"getAllowedEnterprises",value:function(){}},{key:"getAllowedUsers",value:function(){}},{key:"getCollectionCount",value:function(){return this.m_lstCollections.length}},{key:"getConnString",value:function(){}},{key:"getCurrentEnterprise",value:function(){return this.m_company}},{key:"getFilesPath",value:function(){return this.m_strFilesPath}},{key:"getReplicationId",value:function(){}},{key:"getReservedObject",value:function(){}},{key:"isReplicating",value:function(){}},{key:"popValue",value:function(){}},{key:"pushValue",value:function(e){this.m_ui.openEditView(e)}},{key:"pushValueAndExit",value:function(e){}},{key:"registerPush",value:function(){}},{key:"safeRound",value:function(e){}},{key:"setConnString",value:function(e){}},{key:"setIsReplicating",value:function(e){}},{key:"variantToString",value:function(e){}},{key:"writeConsoleString",value:function(e){}}],[{key:"getCollExceptions",value:function(){return Array.from(["connection","objname","updateobj","progid","stringkey","loadall","withopen","idfieldname","useextdata"])}},{key:"getPropExceptions",value:function(){return Array.from(["mapcol","mapfld","bit","formula","name","group","frame","type","linkedto","linkedfield"])}}]),t}()}).call(this,n("c8ba"))},fad8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("dcf0")),s=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"run",value:function(e,t,n,r,a){Object(o["a"])(e,e.getUserInterface(),n.getObjectHost(),t,a)}},{key:"runAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a,i){var s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.length>5&&void 0!==s[5]?s[5]:"",e.abrupt("return",Object(o["b"])(t,t.getUserInterface(),r.getObjectHost(),n,i));case 2:case"end":return e.stop()}}),e)})));function t(t,n,r,a,i){return e.apply(this,arguments)}return t}()}]),e}()},fbbd:function(e,t,n){"use strict";n("18a1")},fd6a:function(e,t,n){},ff33:function(e,t,n){"use strict";n("779d")}});
//# sourceMappingURL=app.7528f82a.js.map