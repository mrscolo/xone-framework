(function(e){function t(t){for(var r,a,s=t[0],l=t[1],u=t[2],c=0,d=[];c<s.length;c++)a=s[c],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);h&&h(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},a={app:0},i={app:0},o=[];function s(e){return l.p+"js/"+({about:"about",coll:"coll"}[e]||e)+"."+{about:"ffa656fe",coll:"62140de2"}[e]+".js"}function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.e=function(e){var t=[],n={coll:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about",coll:"coll"}[e]||e)+"."+{about:"31d6cfe0",coll:"06c9389b"}[e]+".css",i=l.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],c=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(c===r||c===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],c=u.getAttribute("data-href");if(c===r||c===i)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],h.parentNode.removeChild(h),n(o)},h.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(h)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var u,c=document.createElement("script");c.charset="utf-8",c.timeout=120,l.nc&&c.setAttribute("nonce",l.nc),c.src=s(e);var d=new Error;u=function(t){c.onerror=c.onload=null,clearTimeout(h);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=void 0}};var h=setTimeout((function(){u({type:"timeout",target:c})}),12e4);c.onerror=c.onload=u,document.head.appendChild(c)}return Promise.all(t)},l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/xone-framework/",l.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var h=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0274":function(e,t,n){"use strict";n("2d89")},"0432":function(e,t,n){},"0584":function(e,t,n){},"06c52":function(e,t,n){"use strict";n("9f29")},"07ed":function(e,t,n){"use strict";n("38b7")},"0912":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=function(){function e(t){Object(r["a"])(this,e),this.m_message=t}return Object(a["a"])(e,[{key:"getClass",value:function(){return{getSimpleName:function(){return"Exception"}}}},{key:"getMessage",value:function(){return this.m_message}}]),e}()},"0952":function(e,t,n){"use strict";n("3b84")},"09da":function(e,t,n){"use strict";n("5977")},"0cc7":function(e,t,n){},"0cfd":function(e,t,n){},"0e62":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("a630"),n("3ca3"),n("a15b"),n("d3b7"),n("25f0"),n("57ee")),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(r["a"])(this,e),this.m_data=Array.from(t)}return Object(a["a"])(e,[{key:"append",value:function(e){var t=i["a"].SafeToString(e);return this.m_data.push(t),this}},{key:"toString",value:function(){return this.m_data.join("")}},{key:"insert",value:function(e,t){this.m_data.add(e,t)}},{key:"length",value:function(){return this.toString().length}},{key:"isEmpty",value:function(){return 0===this.m_data.length}},{key:"charAt",value:function(e){return this.toString().charAt(e)}}]),e}()},1:function(e,t){},10:function(e,t){},11:function(e,t){},"11d8":function(e,t,n){"use strict";n("6208")},12:function(e,t){},"120f":function(e,t,n){},13:function(e,t){},"13c3":function(e,t,n){},14:function(e,t){},"17db":function(e,t,n){"use strict";n("b7a7")},"185a":function(e,t,n){"use strict";n("0432")},"1b44":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),s=n("2caf"),l=(n("96cf"),n("99af"),n("2ca0"),n("b39f")),u=n("7ef1"),c=n("99d5"),d=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,r,i){var o;return Object(a["a"])(this,n),o=t.call(this,r,i),o.m_context=e,o}return Object(i["a"])(n,[{key:"TopAllowed",value:function(){return!1}},{key:"LimitAllowed",value:function(){return!1}},{key:"HasEscapeChars",value:function(){return!1}},{key:"acceptsParsedSentences",value:function(){return!0}},{key:"acceptsEmptyQueries",value:function(){return!1}},{key:"retrievesAutonumericKeys",value:function(){return!1}},{key:"GetNewConnection",value:function(){return this.m_connection=new c["a"](this.getConnString(),this.getName())}},{key:"GetCurrentConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.m_connection?this.m_connection:this.GetNewConnection(e)}},{key:"CreateRecordset",value:function(e){return new l["a"](e)}},{key:"CreateRecordsetAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=6;break}for(n=this.GetCurrentConnection(),r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=5,n.executeQueryAsync.apply(n,[t].concat(a));case 5:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"CountAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}for(r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=4,(n=this.GetCurrentConnection()).countAsync.apply(n,[t].concat(a));case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteSqlString",value:function(e,t,n){return 0}},{key:"ExecuteSqlStringAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ExecuteParsedSql",value:function(e,t,n){return 0}},{key:"ExecuteParsedSqlAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ReplaceCustomOper",value:function(e,t,n){return t}},{key:"InsertTop",value:function(e,t){return e}},{key:"QuoteFieldName",value:function(e){return e}},{key:"EscapeString",value:function(e){return e.startsWith("'")?e:"'".concat(e,"'")}},{key:"Terminate",value:function(){}},{key:"IsOuterJoinSupported",value:function(){return!1}},{key:"RetrieveNumericKey",value:function(e,t,n,r){return 0}},{key:"isUniqueRowID",value:function(e,t){return!0}},{key:"getDbmsTag",value:function(){return"OnlineJSON"}}]),n}(u["a"])},"1d6a":function(e,t,n){"use strict";n("8025")},"1ea0":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("2909"),a=n("d4ec"),i=n("bee2"),o=(n("159b"),n("99af"),n("3019")),s=n("ae56"),l=n("3743"),u=n("57ee"),c=n("f0ed"),d=function(){function e(t){Object(a["a"])(this,e),this.m_object=null,this.m_coll=null,t instanceof s["a"]?(this.m_object=t,this.m_coll=t.getOwnerCollection()):this.m_coll=t,this.m_lstLocalIncludes=new Array}return Object(i["a"])(e,[{key:"getObjectHost",value:function(){return this.m_object}},{key:"getCollectionHost",value:function(){return this.m_coll}},{key:"getLocalIncludes",value:function(){return this.m_lstLocalIncludes}},{key:"SetParam",value:function(e,t){null==this.m_lstParams&&(this.m_lstParams=new o["a"]),u["a"].IsEmptyString(e)||(null!=t?this.m_lstParams.put(e,t):this.m_lstParams.delete(e))}},{key:"GetParams",value:function(){return this.m_lstParams}},{key:"ExtractArguments",value:function(e){for(var t=this,n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if(a){var o=null;null!=e&&(o=e.SelectNodes("param")),a.forEach((function(n,a){var i=null;if(Array.isArray(n))t.ExtractArguments.apply(t,[e].concat(Object(r["a"])(n)));else{if(n instanceof l["a"])i=n.Name,n=n.Value;else{if(null!=o&&a<o.count()){var s=o.get(a);i=s.getAttrValue(c["a"].PROP_ATTR_NAME)}u["a"].IsEmptyString(i)&&(i=String.format("Param%d",a+1))}t.SetParam(i,n)}}))}}}]),e}()},2:function(e,t){},2016:function(e,t,n){},"24a0":function(e,t,n){},"286c":function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),s=n("2caf"),l=(n("96cf"),n("99af"),n("2ca0"),n("b39f")),u=n("7ef1"),c=n("3835"),d=(n("d3b7"),n("bf19"),n("159b"),n("4fad"),n("25f0"),n("498a"),n("8a79"),n("0912")),h=n("6dc9"),p=n("4329"),f=n("3548"),m=n("8277"),g=n("0e62"),b=n("57ee"),_=n("3be9"),v=n("f0ed"),O=n("99d5"),y=n("5eb9"),C=function(){function e(t){Object(a["a"])(this,e),this.m_token=null,this.m_idsUrl="https://ids.xonedev.cloud/connect/token",this.sUrlAddress="https://web.xonedev.cloud/api/itf/DoAction",this.parseConnectionString(t)}return Object(i["a"])(e,[{key:"executeUpdateAsync",value:function(e){throw new Error("Method not implemented.")}},{key:"executeNonQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readBearerTokenAsync();case 2:if(n=e.sent,!_["a"].isEmpty(n)){e.next=5;break}throw new d["a"]("No Auth");case 5:return e.next=7,fetch(this.sUrlAddress,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:if(a=e.sent,!0!==a.hasError){e.next=13;break}throw new d["a"](a.err);case 13:return e.abrupt("return",1);case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDataFromParser",value:function(e){var t=e.GetFields().toJSON();return Object.entries(t).forEach((function(e){var n=Object(c["a"])(e,2),r=n[0],a=n[1];"NULL"===a&&(t[r]=null)})),t}},{key:"formatOnlineData",value:function(e,t,n){return e.GetSqlType()==m["a"].SQLTYPE_SELECT?{coll:t,action:"select",where:e.GetWhereSentence()}:e.GetSqlType()==m["a"].SQLTYPE_UPDATE||e.GetSqlType()==m["a"].SQLTYPE_INSERT?{coll:t,action:"write",data:this.getDataFromParser(e),keys:e.getKeys(),where:e.GetWhereSentence()}:e.GetSqlType()==m["a"].SQLTYPE_DELETE?{coll:t,action:"drop",data:this.getDataFromParser(e),keys:e.getKeys(),where:null}:{}}},{key:"executeAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"string"==typeof t&&(r=new h["a"]("ROWID"),r.ParseSqlString(t),t=r),e.next=3,this.executeNonQuery(this.formatOnlineData(t,a.length<=2?void 0:a[2],a.length<=3?void 0:a[3]));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAuthData",value:function(){var e=new g["a"]("client_id=");return e.append(this.sUsername),e.append("&client_secret="),e.append(this.sPassword),e.append("&grant_type=client_credentials"),e.toString()}},{key:"readBearerTokenAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.m_token){e.next=3;break}if(!(this.m_token.expires_in>new Date)){e.next=3;break}return e.abrupt("return",this.m_token.access_token);case 3:return e.next=5,fetch(this.m_idsUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:this.getAuthData()});case 5:return t=e.sent,e.next=8,t.json();case 8:if(n=e.sent,!n.error){e.next=12;break}return console.error(n.error),e.abrupt("return",this.m_token=null);case 12:return r=new Date,r.setSeconds(r.getSeconds()+n.expires_in),this.m_token=n,this.m_token.expires_in=r,e.abrupt("return",n.access_token);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"executeQuery",value:function(){return new y["a"]}},{key:"fetchDataAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readBearerTokenAsync();case 2:if(n=e.sent,!_["a"].isEmpty(n)){e.next=5;break}throw new d["a"]("No Auth");case 5:return e.next=7,fetch(this.sUrlAddress,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"executeQueryAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={action:"select"},n=Object.assign(Object.assign({},n),a.length<=1?void 0:a[1]),r=new y["a"](this,n),e.next=5,r.populate();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"countAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={action:"count"},t=Object.assign(Object.assign({},t),r.length<=0?void 0:r[0]),n=new y["a"](this,t),e.next=5,n.populate();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"parseConnectionString",value:function(e){var t=p["a"].parseConnectionString(e);this.bIsLoginCall=b["a"].ParseBoolValue(t.get("logincall")),this.bIsJWTCall=b["a"].ParseBoolValue(t.get("jwtcall")),this.sToken=b["a"].SafeToString(t.get("token"),v["a"].EMPTY_STRING),this.nFlags=this.nFlags|(b["a"].ParseBoolValue(t.get("odataformat"))?O["a"].FLAG_XONEJSONODATA:O["a"].FLAG_XONEJSONSQL),this.nFlags=this.nFlags|(b["a"].ParseBoolValue(t.get("customformat"))?O["a"].FLAG_XONEJSONCUSTOM:O["a"].FLAG_XONEJSONSQL),this.nTimeout=f["a"].SafeToInt(t.get("timeout"),60),this.nSecurityLevel=f["a"].SafeToInt(t.get("security level"),0),this.sUrlAddress=t.get("data source"),null!=this.sUrlAddress?(this.sUrlAddress=this.sUrlAddress.trim(),this.sUrlAddress.endsWith("?")&&(this.sUrlAddress=this.sUrlAddress.substring(0,this.sUrlAddress.length-1))):this.sUrlAddress=v["a"].EMPTY_STRING,this.m_idsUrl=t.get("ids")||this.m_idsUrl,this.sMethod=t.get("method"),null==this.sMethod&&(this.sMethod="POST"),this.sUsername=t.get("xoneuser"),null==this.sUsername&&(this.sUsername=v["a"].EMPTY_STRING),this.sPassword=t.get("xonepass"),null==this.sPassword&&(this.sPassword=v["a"].EMPTY_STRING),this.sEndpoint=t.get("endpoint"),null==this.sEndpoint&&(this.sEndpoint=v["a"].EMPTY_STRING),this.sAction=b["a"].SafeToString(t.get("action"),O["a"].DEFAULT_ACTION_NAME),this.sAuthAction=b["a"].SafeToString(t.get("authaction"),O["a"].DEFAULT_AUTHACTION_NAME),this.sContentType=b["a"].SafeToString(t.get("content-type"),O["a"].DEFAULT_CONTENT_TYPE),this.bIsSqlQuery=b["a"].ParseBoolValue(t.get("sqlquery"),!0),this.bPostUrlEncode=b["a"].ParseBoolValue(t.get("postencode"),!1),this.bIsCertificatePinningEnabled=b["a"].ParseBoolValue(t.get("enablecertificatepinning")),this.sLocalCertPath=b["a"].SafeToString(t.get("localcertificatepath")),this.bAuthenticate=b["a"].ParseBoolValue(t.get("auth"),!1),this.bAuthenticate&&(this.sAuthenticationUsername=t.get("user id"),this.sAuthenticationPassword=t.get("password")),this.bUseRemoteBroker=b["a"].ParseBoolValue(t.get("remote broker"),!1),this.sRemoteMapped=b["a"].SafeToString(t.get("remote mapped")),this.sRemoteDest=b["a"].SafeToString(t.get("remote destination")),this.bAllowUnsafeCertificates=b["a"].ParseBoolValue(t.get("allowunsafecertificates"),!1)}},{key:"createStatement",value:function(){throw new Error("Method not implemented.")}},{key:"isClosed",value:function(){throw new Error("Method not implemented.")}},{key:"commit",value:function(){throw new Error("Method not implemented.")}},{key:"beginTrans",value:function(){throw new Error("Method not implemented.")}},{key:"rollback",value:function(){throw new Error("Method not implemented.")}},{key:"execute",value:function(e,t){throw new Error("Method not implemented.")}},{key:"executeUpdate",value:function(e){return 0}},{key:"executeOperation",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"getDBMS",value:function(){throw new Error("Method not implemented.")}},{key:"outerJoinsSupported",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsParsedSentences",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsEmptyQueries",value:function(){throw new Error("Method not implemented.")}},{key:"LastRowsAffected",value:function(){throw new Error("Method not implemented.")}},{key:"LastInsertedRowId",value:function(){throw new Error("Method not implemented.")}},{key:"cancelProcesses",value:function(e){throw new Error("Method not implemented.")}},{key:"setCryptoData",value:function(e){throw new Error("Method not implemented.")}},{key:"getCryptoData",value:function(){throw new Error("Method not implemented.")}},{key:"cryptoSupported",value:function(){throw new Error("Method not implemented.")}},{key:"getTokenFromAuth",value:function(e,t){throw new Error("Method not implemented.")}}]),e}(),S=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,r,i){var o;return Object(a["a"])(this,n),o=t.call(this,r,i),o.m_context=e,o}return Object(i["a"])(n,[{key:"TopAllowed",value:function(){return!1}},{key:"LimitAllowed",value:function(){return!1}},{key:"HasEscapeChars",value:function(){return!1}},{key:"acceptsParsedSentences",value:function(){return!0}},{key:"acceptsEmptyQueries",value:function(){return!1}},{key:"retrievesAutonumericKeys",value:function(){return!1}},{key:"GetNewConnection",value:function(){return this.m_connection=new C(this.m_strConnString)}},{key:"GetCurrentConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.m_connection?this.m_connection:this.GetNewConnection(e)}},{key:"CreateRecordset",value:function(e){return new l["a"](e)}},{key:"CreateRecordsetAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=6;break}for(r=s.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=s[i];return e.next=4,(n=this.GetCurrentConnection()).executeQueryAsync.apply(n,[t].concat(a));case 4:return o=e.sent,e.abrupt("return",o);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"CountAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}for(r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=4,(n=this.GetCurrentConnection()).countAsync.apply(n,[t].concat(a));case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteSqlString",value:function(e,t,n){return 0}},{key:"ExecuteSqlStringAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ExecuteParsedSql",value:function(e,t,n){return 0}},{key:"ExecuteParsedSqlAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ReplaceCustomOper",value:function(e,t,n){return t}},{key:"InsertTop",value:function(e,t){return e}},{key:"QuoteFieldName",value:function(e){return e}},{key:"EscapeString",value:function(e){return e.startsWith("'")?e:"'".concat(e,"'")}},{key:"Terminate",value:function(){}},{key:"IsOuterJoinSupported",value:function(){return!1}},{key:"RetrieveNumericKey",value:function(e,t,n,r){return 0}},{key:"isUniqueRowID",value:function(e,t){return!0}},{key:"getDbmsTag",value:function(){return"OnlineWebCore"}}]),n}(u["a"])},"297b":function(e,t,n){"use strict";n("2016")},"2d89":function(e,t,n){},3:function(e,t){},3019:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("159b"),n("2ca0"),n("8a79"),n("a630"),n("d28b"),n("a4d3"),n("e01a"),function(e){function t(){Object(r["a"])(this,t),this._map=new Map,this._pointer=0}return Object(a["a"])(t,[{key:"length",get:function(){return this._map.size}},{key:"next",value:function(){return this._pointer<this._map.size?{done:!1,value:this._map[this._pointer++]}:{done:!0,value:null}}},{key:"toJSON",value:function(){var e=Object.create(null);return this._map.forEach((function(t,n){"string"==typeof t&&t.startsWith("'")&&t.endsWith("'")?e[n]=t.substr(1,t.length-2):e[n]=t})),e}},{key:"values",value:function(){return Array.from(this._map.values())}},{key:"keys",value:function(){return Array.from(this._map.keys())}},{key:"entrySet",value:function(){return Array.from(this._map.entries())}},{key:"entries",get:function(){return this._map}},{key:"isEmpty",value:function(){return 0===this._map.size}},{key:"containsKey",value:function(e){return this._map.has(e)}},{key:"get",value:function(e){return this._map.get(e)}},{key:"delete",value:function(e){return this._map.delete(e)}},{key:"put",value:function(e,t){null===t&&this._map.has(e)?this._map.delete(e):this._map.set(e,t)}},{key:"clear",value:function(){this._map.clear()}},{key:"toObject",value:function(){var e={};return this._map.forEach((function(t,n){return e[n]=t})),e}},{key:e,value:function(){return this._map.entries()}}]),t}(Symbol.iterator))},"31d9":function(e,t,n){},3548:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=(n("c35a"),n("a9e3"),n("d3b7"),n("25f0"),n("25eb"),n("8ba4"),n("54ab")),o=n("57ee"),s=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"SafeToLong",value:function(e){return this.SafeToInt(e)}},{key:"SafeToDouble",value:function(e){return e&&null!==e?Number.parseFloat(o["a"].SafeToString(e)):0}},{key:"SafeToBool",value:function(e){return null!==e&&o["a"].ParseBoolValue(e.toString())}},{key:"SafeToInt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i["a"].IsNothing(e))return t;try{var n=Number.parseInt(o["a"].SafeToString(e));return Number.isInteger(n)?n:t}catch(r){return console.error(r),t}}}]),e}()},"373a":function(e,t,n){"use strict";n("fc68")},3743:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("d4ec"),a=function e(t,n){Object(r["a"])(this,e),this.Name=t,this.Value=n}},"38b7":function(e,t,n){},"3b84":function(e,t,n){},"3b9e":function(e,t,n){"use strict";var r=n("3835"),a=n("d4ec"),i=n("bee2"),o=n("ade3"),s=(n("a9e3"),n("d3b7"),n("25f0"),n("ac1f"),n("1276"),n("bf19"),n("7db0"),n("4de4"),n("d81d"),n("caad"),n("2532"),n("b0c0"),n("f762"),n("a33b"),n("a834")),l=n("5d1a"),u=function(){function e(){if(Object(a["a"])(this,e),Object(o["a"])(this,"_appData",void 0),Object(o["a"])(this,"_appNode",void 0),Object(o["a"])(this,"_orientation",void 0),Object(o["a"])(this,"_sizeConditions",void 0),Object(o["a"])(this,"_version","1.0.1.3"),e._instance)return e._instance;e._instance=this}return Object(i["a"])(e,[{key:"getVersion",value:function(){return this._version}},{key:"setAppData",value:function(e){this._appData=e,this.setAppNode()}},{key:"orientation",get:function(){return this._orientation}},{key:"sizeConditions",get:function(){return this._sizeConditions}},{key:"setAppNode",value:function(){this._appNode=this._appData.getAppNode()}},{key:"getAppSize",value:function(){var e=this._appNode.getAttrValue("web-resolution-width")||this._appNode.getAttrValue("resolution-width"),t=this._appNode.getAttrValue("web-resolution-height")||this._appNode.getAttrValue("resolution-height");return isNaN(e)||isNaN(t)?(console.error("resolution-width and resolution-height must be numeric in <app></app>"),{width:null,height:null}):{width:Number(e),height:Number(t)}}},{key:"setVisualConditionsMacros",value:function(e,t){this._appData.setGlobalMacro("##SCREEN_RESOLUTION_WIDTH##",e.toString()),this._appData.setGlobalMacro("##SCREEN_RESOLUTION_HEIGHT##",e.toString()),this._orientation=e>t?"horizontal":"vertical",this._appData.setGlobalMacro("##CURRENT_ORIENTATION##",this._orientation),this._appData.setVisualConditions(this._sizeConditions,!1),this.setSizeConditions(e)}},{key:"setSizeConditions",value:function(e){this._sizeConditions=e<600?"xs":e<1024?"sm":e<1440?"md":e<1920?"lg":"xl"}},{key:"getDeviceId",value:function(){var e=localStorage.getItem("_deviceId");return e||localStorage.setItem("_deviceId",e=Object(l["b"])()),e}},{key:"setInmutableMacros",value:function(){var e,t=this._appNode.attrs;if(t){var n=this.getDeviceId(),a=Intl.DateTimeFormat().resolvedOptions().locale.split("-"),i=Object(r["a"])(a,2),o=i[0],l=i[1],u=navigator,c=u.platform,d=u.vendor;this._appData.setGlobalMacro("##DEVICE_OS##","web"),this._appData.setGlobalMacro("##DEVICE_OSVERSION##",c),this._appData.setGlobalMacro("##DEVICE_MODEL##",d),this._appData.setGlobalMacro("##VERSION##",null!==(e=this.getAppValueWithConditions("version"))&&void 0!==e?e:"1"),this._appData.setGlobalMacro("##DEVICEID##",n),this._appData.setGlobalMacro("##CURRENT_LANGUAGE##",o),this._appData.setGlobalMacro("##CURRENT_COUNTRY_CODE##",l),this._appData.setGlobalMacro("##FRAME_VERSION##","v1"),this._appData.setGlobalMacro("##FRAME_VERSION_CODE##",this.version),this._appData.setGlobalMacro("##IS_MOBILE##",Object(s["a"])()),this._appData.setGlobalMacro("##LIVEUPDATE_VERSION##","0"),this._appData.setGlobalMacro("##DEVICE_MANUFACTURER##","web"),this._appData.setGlobalMacro("##DEVICE_TYPE##","web"),this._appData.setGlobalMacro("##MID##","-1"),this._appData.setGlobalMacro("##DEVICE_OSVERSION##","web"),this._appData.setGlobalMacro("##CURRENT_DENSITY##","1"),this._appData.setGlobalMacro("##CURRENT_DENSITY_VALUE##","1")}else console.error("Not found <app></app>")}},{key:"getIsAutoLogon",value:function(){return"true"===this._appNode.attrs.getValue("autologon")}},{key:"getAutoLogonUser",value:function(){return this._appNode.attrs.getValue("autologon-user")||"admin"}},{key:"getAutoLogonPwd",value:function(){return this._appNode.attrs.getValue("autologon-pwd")||""}},{key:"isScaleFontsize",value:function(){return"true"===this.getAppValueWithConditions("scale-fontsize")}},{key:"getWebFontFactor",value:function(){return this.getAppValueWithConditions("web-font-factor")}},{key:"getWebLayout",value:function(){return this.getAppValueWithConditions("web-layout")}},{key:"getAppValueWithConditions",value:function(e){var t=this;try{var n=this._appNode.getAttrValue(e),r=this._appNode.toJSON().app,a=r.childs.find((function(t){return t[e]}));if(!a||!a[e])return n;var i=a[e].childs.map((function(e){return e.item})).filter((function(e){var t=e.attributes.conditions;return""===t||t.includes("web")})),o=i.filter((function(e){var n=e.attributes.conditions.split(":");return n.includes(t.sizeConditions)}));return o=(0!==o.length||i).filter((function(e){var n=e.attributes.conditions.split(":");return n.includes(t._orientation)})),(0!==o.length||i)[0].attributes.name}catch(s){console.error("Error in getAppValueWithConditions: ".concat(s))}}}]),e}();Object(o["a"])(u,"_instance",void 0),t["a"]=new u},"3bb2":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return getUrlParams})),__webpack_require__.d(__webpack_exports__,"a",(function(){return getPreviewObjects}));var _home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1da1"),_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("3835"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("fb6a"),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("caad"),core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_includes_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2532"),core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_includes_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("99af"),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_11__),js_base64__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("e762"),_StringHelper__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("5d1a"),getUrlParams=function(e){try{var t=location.href.slice(location.href.indexOf(e)+e.length);return JSON.parse('{"'+t.replace(/&/g,'","').replace(/=/g,'":"')+'"}',(function(e,t){return""===e?t:decodeURIComponent(t)}))}catch(n){return onErrorFunc("Error getting url params")}},getPreviewObjects=function getPreviewObjects(sourcePath){var urlParams=getUrlParams("preview?"),xmlString,cssString,jsString;try{var _urlParams$v$split=urlParams.v.split("|"),_urlParams$v$split2=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__["a"])(_urlParams$v$split,3),xml=_urlParams$v$split2[0],css=_urlParams$v$split2[1],js=_urlParams$v$split2[2];xml&&(xmlString=Object(js_base64__WEBPACK_IMPORTED_MODULE_12__["a"])(xml).decompress()),css&&(cssString=Object(js_base64__WEBPACK_IMPORTED_MODULE_12__["a"])(css).decompress()),js&&(jsString=Object(js_base64__WEBPACK_IMPORTED_MODULE_12__["a"])(js).decompress())}catch(_unused2){}xmlString&&xmlString.toString().includes("<group")||(xmlString='<coll name="test" notab="true"><group name="group1" id="1"></group></coll>');var doc=xmlString?Object(_StringHelper__WEBPACK_IMPORTED_MODULE_13__["d"])("<xml>".concat(xmlString,"</xml>")):null;cssString||(cssString="prop{}"),localStorage.setItem(sourcePath+"/default.css",cssString),window.isPreview=!0;var fileManagerProperties={};return fileManagerProperties["".concat(sourcePath,"/app.xml")]='\n                <xml>\n                    <app prefix="gen" version="0.0.0.1" resolution-height="1280" resolution-width="720" companycolor="#FFFFFF"\n                        autologon="true"\n                        entry-point="'.concat(doc?doc.querySelector("coll").getAttribute("name"):"",'" >\n                        ').concat(cssString?'<style url="default.css" />':"","\n                    </app>\n                </xml>"),fileManagerProperties["".concat(sourcePath,"/mappings.xne")]='\n                <xml>\n                    <collprops type="general">\n                        <coll name="Empresas" sql="SELECT * FROM gen_empresas" objname="empresa" updateobj="empresa" progid="ASGestion.CASEmpresa">\n                            <group name="General" id="1">\n                                <prop name="CODIGO" visible="3" type="N" fieldsize="4" autosearch="true" />\n                                <prop name="NOMBRE" visible="3" type="T" size="100" fieldsize="24" />\n                            </group>\n                        </coll>\n                        <coll name="Usuarios" sql="SELECT * FROM gen_usuarios" objname="usuarios" updateobj="usuarios" progid="ASGestion.CASUser">\n                        <group name="General" id="1">\n                            <prop name="IDEMPRESA" visible="0" type="N" mapcol="Empresas" mapfld="ID" />\n                            <prop name="LOGIN" visible="3" type="T" fieldsize="10" fixed-text="true" size="10" />\n                            <prop name="PWD" type="T" fieldsize="10" fixed-text="true" size="10" />\n                            <prop name="NOMBRE" visible="3" type="T" fieldsize="30" fixed-text="true" size="30" />\n                            <prop name="USERTYPE" type="T" fieldsize="30" fixed-text="true" size="50" />\n                        </group>\n                        <create>\n                            <action name="setval" field="IDEMPRESA" value="##ENTID##" />\n                        </create>\n                        </coll>\n                        '.concat(xmlString,"\n                    </collprops>\n                </xml>\n                "),fileManagerProperties["".concat(fileManagerProperties,"/default.css")]=cssString,{fileManager:{readFileAsync:function(){var e=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",fileManagerProperties[t]);case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},sWA:function(){var _sWA=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function _callee2(AppData,Ui,Self,SelfDataColl,User,Func,Arguments){var appData,ui,self,selfDataColl,user,XArguments;return regeneratorRuntime.wrap((function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:return appData=AppData,ui=Ui,self=Self,selfDataColl=SelfDataColl,user=User,XArguments=Arguments,_context2.abrupt("return",new Promise((function(resolve){return eval("\n                (async()=>{\n                    ".concat(jsString,"\n                    ").concat(Func,"\n                    resolve()\n                    })();\n                    "))})));case 2:case"end":return _context2.stop()}}),_callee2)})));function sWA(e,t,n,r,a,i,o){return _sWA.apply(this,arguments)}return sWA}()}}},"3be9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"equals",value:function(e,t){return null!=e&&0===e.localeCompare(t)}},{key:"isEmpty",value:function(e){return!e||""===e}}]),e}()},"3e28":function(e,t,n){"use strict";n("24a0")},4:function(e,t){},4096:function(e,t,n){"use strict";n("0cc7")},4329:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("ac1f"),n("1276"),n("498a"),n("3019")),o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"parseConnectionString",value:function(e){var t=new i["a"];return e.split(";").forEach((function(e){var n=e.split("=");n.length>1&&t.put(n[0].trim().toLowerCase(),n.length>0?n[1].trim():"")})),t}}]),e}()},4585:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("25f0"),n("55d5")),o=n("733f"),s=n("3548"),l=n("54ab"),u=n("57ee"),c=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"DevelopObjectValue",value:function(e){var t,n,r,a,c,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ymd",h=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],p=d;0>=p.length&&(p="ymd");var f=l["a"].GetTypeTag(e);switch(f){case l["a"].OBJ_TYPE_DATE:case l["a"].OBJ_TYPE_CALENDAR:if(a=l["a"].SafeToCalendar(e),null==a)throw new i["a"]("DevelopObjectValue(): Date value is null");switch(p.substring(0,2).equals("##")?(n=p.substring(2,3),p=p.substring(3,p.length)):n="'",p){case"mm/dd/yyyy":case"mdy":t=String.format("%s%02d/%02d/%04d %02d:%02d:%02d%s",n,a.get(o["a"].MONTH),a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].YEAR),a.get(o["a"].HOUR_OF_DAY),a.get(o["a"].MINUTE),a.get(o["a"].SECOND),n);break;case"dd/mm/yyyy":case"dmy":t=String.format("%s%02d/%02d/%04d %02d:%02d:%02d%s",n,a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].MONTH),a.get(o["a"].YEAR),a.get(o["a"].HOUR_OF_DAY),a.get(o["a"].MINUTE),a.get(o["a"].SECOND),n);break;case"yyyy/mm/dd":case"ymd":t=String.format("%s%04d-%02d-%02d %02d:%02d:%02d%s",n,a.get(o["a"].YEAR),a.get(o["a"].MONTH),a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].HOUR_OF_DAY),a.get(o["a"].MINUTE),a.get(o["a"].SECOND),n);break;default:if(p.contains("dmy")&&(t=String.format("%s%02d/%02d/%04d ##TIME##%s",n,a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].MONTH),a.get(o["a"].YEAR),n),p=u["a"].Replace(p,"dmy",t)),p.contains("mdy")&&(t=String.format("%s%02d/%02d/%04d ##TIME##%s",n,a.get(o["a"].MONTH),a.get(o["a"].DAY_OF_MONTH),a.get(o["a"].YEAR),n),p=u["a"].Replace(p,"mdy",t)),p.contains("ymd")&&(t=String.format("%s%04d-%02d-%02d ##TIME##%s",n,a.get(o["a"].YEAR),a.get(o["a"].MONTH),a.get(o["a"].DAY_OF_MONTH),n),p=u["a"].Replace(p,"ymd",t)),c=a.get(o["a"].HOUR),p.contains("##PM##")){switch(c){case 0:c=12,r="PM";break;case 13:case 14:case 15:case 16:case 17:case 18:case 19:case 20:case 21:case 22:case 23:case 24:c-=12,r="PM";break;default:r="AM";break}p=u["a"].Replace(p,"##PM##",r)}else r="24";t=r.length>0?String.format("%02d:%02d:%02d",c,a.get(o["a"].MINUTE),a.get(o["a"].SECOND)):"",p=u["a"].Replace(p,"##TIME##",t),t=p;break}break;case l["a"].NATIVE_TYPE_INT:case l["a"].NATIVE_TYPE_LONG:t=e.toString();break;case l["a"].NATIVE_TYPE_BOOL:t=s["a"].SafeToBool(e)?"-1":"0";break;case l["a"].OBJ_TYPE_NULL:t="NULL";break;case l["a"].NATIVE_TYPE_DOUBLE:case l["a"].NATIVE_TYPE_FLOAT:t=e.toString(),t.contains(",")&&(t=u["a"].Replace(t,",","."));break;case l["a"].OBJ_TYPE_STRING:t=e.toString(),u["a"].IsEmptyString(t)&&h?t="NULL":(t.contains("'")&&(t=u["a"].Replace(t,"'","''")),t="'"+t+"'");break;default:t="NULL";break}return t}}]),e}();c.ONESECOND=1e3,c.ONEMINUTE=6e4,c.ONEHOUR=36e5,c.ONEDAY=864e5,c.ONEWEEK=6048e5,c.ONEMONTH=24192e5,c.ONEYEAR=31536e6},"458e":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),a=n("bee2"),i=n("262e"),o=n("2caf"),s=n("9072"),l=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return Object(a["a"])(n,[{key:"removeElement",value:function(e){var t=this.indexOf(e);t>=0&&this.remove(t)}},{key:"addElement",value:function(e){this.push(e)}}]),n}(Object(s["a"])(Array))},"48b5":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=(n("498a"),n("3019")),o=n("3be9"),s=function(){function e(t){Object(r["a"])(this,e),this.m_strLangName=t,this.m_lstMessages=new i["a"]}return Object(a["a"])(e,[{key:"getLanguage",value:function(){return this.m_strLangName}},{key:"GetMessage",value:function(e,t){return this.m_lstMessages.containsKey(e)?this.m_lstMessages.get(e):t}},{key:"LoadMessageFile",value:function(e){var t=null;try{return!0}catch(n){return n.printStackTrace(),!1}finally{this.closeSafely(t)}}},{key:"Clear",value:function(){this.m_lstMessages.clear()}},{key:"ProcessLine",value:function(e){var t=e.indexOf("=");if(t<0)return!1;var n="",r="";return n=e.substring(0,t),t<e.length&&(r=e.substring(t+1,e.length-1)),n=n.trim(),o["a"].isEmpty(r)||this.m_lstMessages.put(n,r),!0}},{key:"closeSafely",value:function(e){if(null!=e)try{e.close()}catch(t){t.printStackTrace()}}}]),e}()},"4aaf":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("25f0"),n("a33b")),o=n("0e62"),s=n("3be9"),l=n("8920"),u=function(){function e(){Object(r["a"])(this,e),this.xml=n("e86d"),this.parser=new this.xml.SaxParser((function(e){var t,n;e.onStartDocument((function(){})),e.onEndDocument((function(){})),e.onStartElementNS((function(e,r,a,u,c){var d=!1,h=null==t,p=new l["a"](r);p.getIndex("ext-file")>=0||(d=p&&p.length>0&&!s["a"].isEmpty(p.getValue("name")),t=d?new i["a"](t,e,p,"name",p.getValue("name")):new i["a"](t,e,p)),h&&(this.rootNode=t),n=new o["a"]})),e.onEndElementNS((function(e,r,a){null!=n&&(t.setText(n.toString()),n=null),t=t.getParentNode()})),e.onCharacters((function(e){null!=n&&n.append(e)})),e.onCdata((function(e){console.log("<CDATA>"+e+"</CDATA>")})),e.onComment((function(e){})),e.onWarning((function(e){console.log("<WARNING>"+e+"</WARNING>")})),e.onError((function(e){console.log("<ERROR>"+JSON.stringify(e)+"</ERROR>")}))}))}return Object(a["a"])(e,[{key:"Deserialize",value:function(e,t,n,r){var a,i;this.parser.parseString(n),(null===(i=null===(a=this.parser)||void 0===a?void 0:a.m_hndDoc)||void 0===i?void 0:i.rootNode)&&(this.m_rootNode=this.parser.m_hndDoc.rootNode)}},{key:"getRootNode",value:function(){return this.m_rootNode}},{key:"createNode",value:function(e,t){throw new Error("Method not implemented.")}}]),e}(),c=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"Deserialize",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"getRootNode",value:function(){throw new Error("Method not implemented.")}},{key:"createNode",value:function(e,t){throw new Error("Method not implemented.")}}],[{key:"getInstance",value:function(){return new u}}]),e}()},"4e4a":function(e,t,n){"use strict";n("6c16")},"4f38":function(e,t,n){},5:function(e,t){},"528d":function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"f",(function(){return x})),n.d(t,"e",(function(){return T})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return A})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return R})),n.d(t,"j",(function(){return I})),n.d(t,"i",(function(){return j})),n.d(t,"k",(function(){return N})),n.d(t,"l",(function(){return M}));var r,a,i,o,s,l,u,c,d,h,p,f=n("53ca"),m=n("1da1"),g=n("d4ec"),b=n("bee2"),_=n("ade3"),v=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("25f0"),n("ac1f"),n("1276"),n("5319"),n("a15b"),n("d81d"),n("159b"),n("a9e3"),n("b0c0"),n("5c40")),O=n("ae56"),y=n("88a8"),C=n("ddd6"),S=n("3b9e"),E=n("5d1a"),k=function(e){r=e},x=function(e){e},T=function(e){a=e},w=function(e){i=e},A=function(e){o=e},P=function(e){s=e},R=function(e){l=e},I=function(e){u=e},j=function(e){c=e},N=function(e){d=e},M=function(e){h=e},D=new Map,L=function(){function e(){if(Object(g["a"])(this,e),e._instance)return e._instance;e._instance=this}return Object(b["a"])(e,[{key:"addCalendarItem",value:function(e,t,n,r,a){}},{key:"askUserForGPSPermission",value:function(){}},{key:"canMakePhoneCall",value:function(){}},{key:"captureImage",value:function(e,t){}},{key:"checkGPSStatus",value:function(){}},{key:"clearDrawing",value:function(e){var t,n=Object(C["c"])(h);n&&(null===(t=n[e])||void 0===t||t.clearDrawing())}},{key:"createShortcut",value:function(){}},{key:"deleteShortcut",value:function(){}},{key:"dismissNotification",value:function(e){if(e=e.toString(),D.has(e)){var t=D.get(e);t.close(),D.delete(e)}}},{key:"drawMapRoute",value:function(e,t,n,r,a,i,o){}},{key:"endPrint",value:function(){}},{key:"ensureVisible",value:function(e,t){}},{key:"executeActionAfterDelay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.executeMethodAfterDelay(e,t)}},{key:"executeMethodAfterDelay",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;setTimeout((function(){var t;return null===(t=h)||void 0===t?void 0:t.executeNode(e)}),1e3*t)}},{key:"exit",value:function(){y["a"].deletelastBreadcrumb(),history.back()}},{key:"exitApp",value:function(){y["a"].clearBreadcrumbs(),history.back(),r()}},{key:"getLastKnownLocation",value:function(){var e,t=null===(e=p)||void 0===e?void 0:e.coords,n=t.latitude,r=t.longitude;return{latitude:n,longitude:r}}},{key:"getLastKnownLocationAccuracy",value:function(){var e,t=null===(e=p)||void 0===e?void 0:e.coords,n=t.accuracy;return n}},{key:"getLastKnownLocationAltitude",value:function(){var e,t=null===(e=p)||void 0===e?void 0:e.coords,n=t.altitude;return n}},{key:"getLastKnownLocationBearing",value:function(){var e,t=null===(e=p)||void 0===e?void 0:e.coords,n=t.heading;return n}},{key:"getLastKnownLocationDateTime",value:function(){var e;return null!==(e=p)&&void 0!==e&&e.timestamp?new Date(p.timestamp).toString():null}},{key:"getLastKnownLocationLatitude",value:function(){var e,t=null===(e=p)||void 0===e?void 0:e.coords,n=t.latitude;return n}},{key:"getLastKnownLocationLongitude",value:function(){var e,t=null===(e=p)||void 0===e?void 0:e.coords,n=t.longitude;return n}},{key:"getLastKnownLocationProvider",value:function(){return p?"geolocation":""}},{key:"getLastKnownLocationSpeed",value:function(){var e,t=null===(e=p)||void 0===e?void 0:e.coords,n=t.speed;return n}},{key:"getMaxSoundVolumen",value:function(){}},{key:"getSoundVolumen",value:function(){}},{key:"getView",value:function(e){return Object(C["c"])(e||h)}},{key:"hideGroup",value:function(e){s?s(e.toString(),!1,!0):console.error("hideGroup is not defined",e)}},{key:"hideLoader",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return e.next=3,o();case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hideNavigationDrawer",value:function(){}},{key:"hideSoftwareKeyboard",value:function(){}},{key:"hideWaitDialog",value:function(){this.hideLoader()}},{key:"injectJavascript",value:function(e,t){}},{key:"isApplicationInstalled",value:function(e){}},{key:"isOnCall",value:function(){}},{key:"isSuperuserAvailable",value:function(){}},{key:"isTaskKillerInstalled",value:function(){}},{key:"isWifiConnected",value:function(){}},{key:"isWifiEnabled",value:function(){}},{key:"launchApp",value:function(e,t){}},{key:"launchApplication",value:function(e,t){}},{key:"launchEntryPoint",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],y["a"].clearBreadcrumbs(),n=S["a"].getWebLayout(),!n){e.next=8;break}return e.next=6,y["a"].addNewXoneDataObject(n,"WebLayout",!0,!0);case 6:return e.next=8,Object(v["v"])();case 8:if(!t){e.next=10;break}return e.abrupt("return");case 10:return r=y["a"].getAppData().getEntryPointCollection(y["a"].getAppData().getCurrentVisualConditions()),e.next=13,y["a"].addNewXoneDataObject(r,"EntryPoint",!1,!0);case 13:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"lineFeed",value:function(e){}},{key:"lockGroup",value:function(e){}},{key:"login",value:function(){try{var e=h.getVariables("##LOGIN_NEWUSER##").split(",")[1],t=h.getVariables("##LOGIN_NEWPASS##").split(",")[1];return y["a"].getAppData().login({userName:e,password:t})}catch(n){return console.error("Login failed")}}},{key:"makePhoneCall",value:function(e){}},{key:"msgBox",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:"",r=s.length>2&&void 0!==s[2]?s[2]:0,o=0,!(t instanceof O["a"])){e.next=12;break}if(!i){e.next=10;break}return e.next=7,i(t);case 7:return e.abrupt("return",e.sent);case 10:console.error("Method not implemented");case 11:return e.abrupt("return",o);case 12:if(!a){e.next=18;break}return e.next=15,a(t,n,r);case 15:o=e.sent,e.next=19;break;case 18:console.error("msgBox not defined");case 19:return e.abrupt("return",o);case 20:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"msgBoxWithSound",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n,r,a,i,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.playSoundAndVibrate(a,i,o),e.next=3,this.msgBox(t,n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,i,o){return e.apply(this,arguments)}return t}()},{key:"openEditView",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=5;break}return e.next=3,y["a"].addNewXoneDataObject(t);case 3:e.next=6;break;case 5:t instanceof O["a"]?(n=t,y["a"].pushXoneDataObject(n)):console.error("Bad call openEditView with param ",t);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openEditViewAndExit",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return y["a"].clearBreadcrumbs(!0),e.next=3,this.openEditView(t);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openFile",value:function(e){e=e.replace("/source/","/");var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"openMenu",value:function(e,t,n){}},{key:"openUrl",value:function(e){window.open(e,"_blank")}},{key:"pickFile",value:function(e,t){var n=this;return new Promise((function(r){var a=document.createElement("input");a.type="file",a.style.display="none";var i="object"===Object(f["a"])(e)?e.fileTypes:t;i&&(a.accept=i.split(",").map((function(e){return"."+e})).join(",")),a.onchange=function(t){return n.uploadFile(t.target.files[0]).then((function(t){"object"===Object(f["a"])(e)?e.targetProperty=t:h[e]=t})).finally((function(){document.body.removeChild(a),r()}))},document.body.appendChild(a),a.click()}))}},{key:"playSound",value:function(e){return this.playSoundAndVibrate(e)}},{key:"playSoundAndVibrate",value:function(e,t,n,r){return new Audio("files/".concat(e)).play()}},{key:"playSoundVolumen",value:function(e){}},{key:"print",value:function(e){}},{key:"printBIDI",value:function(e,t,n){}},{key:"printBarcode",value:function(e,t,n,r){}},{key:"printCommand",value:function(e){}},{key:"printImage",value:function(e,t,n,r,a){}},{key:"printLine",value:function(e){}},{key:"printPDF",value:function(e,t){}},{key:"quitApp",value:function(){this.exitApp()}},{key:"recognizeSpeech",value:function(e,t){if(!webkitSpeechRecognition&&!SpeechRecognition)return console.error("recognizeSpeech not supported. Use chrome browser.");var n=!1,r=!1;if(e instanceof O["a"])n=!0;else{if("object"!==Object(f["a"])(e)||!e.onRecognize)return console.error("recognizeSpeech bad call");r=!0}var a=new(webkitSpeechRecognition||SpeechRecognition);a.continuous=!1,a.interimResults=!1,a.maxAlternatives=1,a.onresult=function(a){var i=a.results[a.results.length-1][0].transcript;r&&e.onRecognize(i),n&&(e[t]=i)},a.onspeechend=function(){return a.stop()},a.onerror=function(t){a.stop(),r&&e.onError&&e.onError(t.error),console.log("%c SpeechRecognition error: '".concat(t.error,"' %c Feature allowed in %c Chrome %c browser "),"color: red","background: #4CABD5; color: white","background: #1F3C6E; color: white","background: #4CABD5; color: white")},a.start()}},{key:"refresh",value:function(){var e=Object(C["c"])(h);if(e){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=1===n.length?n[0].toString().split(","):n;a.forEach((function(t){var n;return null===(n=e[t])||void 0===n?void 0:n.refresh()})),0===n.length&&e.refresh()}}},{key:"refreshAll",value:function(){this.refresh()}},{key:"refreshContentRow",value:function(e,t){var n,r=Object(C["c"])(h);r&&(null===(n=r[e])||void 0===n||n.refreshRow(t))}},{key:"refreshContentSelectedRow",value:function(e){var t,n=Object(C["c"])(h);n&&(null===(t=n[e])||void 0===t||t.refreshSelectedRow())}},{key:"refreshValue",value:function(e){var t,n=Object(C["c"])(h);n&&(null===(t=n[e])||void 0===t||t.refresh())}},{key:"relayout",value:function(){this.refresh()}},{key:"restartApp",value:function(){}},{key:"returnToForeground",value:function(){}},{key:"returnToMainMenu",value:function(){}},{key:"saveDrawing",value:function(e,t){}},{key:"sendMail",value:function(e,t,n,r,a){}},{key:"sendSMS",value:function(e,t){}},{key:"setFeedMode",value:function(e){}},{key:"setLanguage",value:function(e){}},{key:"setMaxWaitDialog",value:function(e){}},{key:"setNotificationLed",value:function(e,t,n){}},{key:"setSelection",value:function(e,t){}},{key:"shareData",value:function(e,t,n){}},{key:"showConsoleReplica",value:function(){}},{key:"showDatePicker",value:function(e){}},{key:"showGroup",value:function(e,t,n,r,a){s?s(e.toString()):console.error("showGroup is  not defined",e)}},{key:"showLoader",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return e.next=3,l();case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"showNavigationDrawer",value:function(e){}},{key:"showNotification",value:function(e,t,n,r,a,i){var o=this;if(!("Notification"in window))return console.error("shotNotification not supporter in your browse");var s=function(){if("granted"!==Notification.permission)return console.error("Not permission granted to show notifications");e=e.toString(),o.dismissNotification(e);var r=new Notification(t,{icon:"assets/manifest/72x72.png",body:n});r.onclick=function(){a instanceof O["a"]&&o.openEditView(a),a instanceof Function&&a(),o.dismissNotification(e)},D.set(e,r)};"granted"!==Notification.permission?Notification.requestPermission().then((function(){return s()})):s()}},{key:"showSnackbar",value:function(e){c?c(e):console.error("showSnackbar is  not defined",e)}},{key:"showSoftwareKeyboard",value:function(){}},{key:"showToast",value:function(e){u?u(e):console.error("showToast is not defined",e)}},{key:"showWaitDialog",value:function(e){this.showLoader()}},{key:"signDataObject",value:function(e,t){}},{key:"sleep",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout((function(){return e()}),1e3*Number(t))}));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"speak",value:function(e,t){if(!speechSynthesis)return console.error("speak not supported in your browser");var n=new SpeechSynthesisUtterance(t);e&&(n.lang=e),speechSynthesis.speak(n)}},{key:"speakText",value:function(e){this.speak(null,e)}},{key:"startAudioRecord",value:function(e,t,n){}},{key:"startCamera",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:"photo",!d){e.next=5;break}return e.next=4,d(n);case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startGps",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=this,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:3e4,r=o.length>2?o[2]:void 0,navigator.geolocation){e.next=4;break}return e.abrupt("return",console.error("Geolocation not allowed"));case 4:return this.stopGps(),e.next=7,new Promise((function(e){return navigator.geolocation.getCurrentPosition((function(t){return e(t)}),(function(){return console.error("Could not get location")}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}));case 7:a=e.sent,p=a,console.log(" %c LOCATION ","background-color: BLUE; color: white;",a),this._startGpsTimeout=setTimeout((function(){return i.startGps(t,n,r)}),n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startGpsV1",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startGps();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startGpsV2",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.startGps();case 2:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"startKioskMode",value:function(){}},{key:"startPrint",value:function(e){}},{key:"startReplica",value:function(){}},{key:"startScanner",value:function(e,t,n){}},{key:"startSignature",value:function(e,t,n,r,a){}},{key:"startWifi",value:function(){}},{key:"stopAudioRecord",value:function(){}},{key:"stopGps",value:function(){this._startGpsTimeout&&clearTimeout(this._startGpsTimeout)}},{key:"stopGpsV1",value:function(){}},{key:"stopGpsV2",value:function(){}},{key:"stopKioskMode",value:function(){}},{key:"stopPlaySoundAndVibrate",value:function(){}},{key:"stopReplica",value:function(){}},{key:"stopWifi",value:function(){}},{key:"takePhoto",value:function(e,t,n){d&&d()}},{key:"toggleGroup",value:function(e){s?s(e.toString(),!0):console.error("toggleGroup is not defined",e)}},{key:"uninstallApplication",value:function(e){}},{key:"unlockGroup",value:function(e){}},{key:"updateWaitDialog",value:function(e,t){}},{key:"uploadFile",value:function(e){var t=e.name||"".concat(Object(E["c"])(),".png"),n=new FormData;return n.append("file",e,t),fetch("upload",{method:"POST",headers:{processData:!1,contentType:!1},body:n}).then((function(e){return e.hasError?"":t})).catch(console.error)}},{key:"useLastPrinter",value:function(e){}},{key:"vibrate",value:function(){}},{key:"writeString",value:function(){}}]),e}();Object(_["a"])(L,"_instance",void 0);var F=new L;t["a"]=F},"52de":function(e,t,n){},"54ab":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("d4ec"),a=n("bee2"),i=(n("8ba4"),n("a9e3"),n("d3b7"),n("25f0"),n("4d90"),n("ac1f"),n("5319"),n("498a"),n("733f")),o=n("57ee"),s=n("3be9"),l=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"IsNothing",value:function(e){return null==e||void 0==e||"undefined"==e}},{key:"IsNumeric",value:function(e){return!isNaN(e)}},{key:"IsFloat",value:function(t){return!e.IsNothing(t)&&(e.IsNumeric(t)&&!Number.isInteger(t))}},{key:"IsInt",value:function(t){return!e.IsNothing(t)&&(e.IsNumeric(t)&&Number.isInteger(t))}},{key:"EqualObj",value:function(e,t){return e===t}},{key:"ZeroCalendarTime",value:function(e){return e.getTime().setHours(0),e.getTime().setMinutes(0),e.getTime().setSeconds(0),e.getTime().setMilliseconds(0),e}},{key:"SafeToCalendar",value:function(e){return e instanceof i["a"]?e:e instanceof Date?new i["a"](e):this.SafeToComplexDate(o["a"].SafeToString(e))}},{key:"SafeToDate",value:function(e){if(e instanceof i["a"])return e.getTime();if(e instanceof Date)return e;var t=this.SafeToComplexDate(o["a"].SafeToString(e));return t?t.getTime():null}},{key:"SafeToDateString",value:function(e){return e instanceof i["a"]?e.toString():(e instanceof Date&&e.toDateString(),o["a"].SafeToString(e))}},{key:"getOnlyTime",value:function(e){return e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")}},{key:"SafeToHours",value:function(e){return e?e instanceof i["a"]?this.getOnlyTime(e.getTime()):e instanceof Date?this.getOnlyTime(e):this.getOnlyTime(this.SafeToComplexDate(o["a"].SafeToString(e)).getTime()):this.getOnlyTime(new Date)}},{key:"getDateSeparator",value:function(e){var t=["-","/"];for(var n in t)if(e.indexOf(n)>0)return n;return"/"}},{key:"SafeToComplexDate",value:function(e){if(s["a"].isEmpty(e))return null;var t=/\//g;e=e.trim().replace("T"," ");i["a"].getInstance();var n=this.getDateSeparator(e);return"/"==n&&(e=e.replace(t,"-")),new i["a"](Date.parse(e))}},{key:"GetTypeTag",value:function(e){return null==e?this.OBJ_TYPE_NULL:"number"===typeof e||e instanceof Number?Number.isInteger(e)?this.NATIVE_TYPE_LONG:this.NATIVE_TYPE_DOUBLE:"boolean"===typeof e||e instanceof Boolean?this.NATIVE_TYPE_BOOL:"string"===typeof e||e instanceof String?this.OBJ_TYPE_STRING:e instanceof Date?this.OBJ_TYPE_DATE:e instanceof i["a"]?this.OBJ_TYPE_CALENDAR:this.NOT_NATIVE_TYPE}}]),e}();l.NATIVE_TYPE_LONG=1,l.NATIVE_TYPE_INT=2,l.NATIVE_TYPE_BOOL=3,l.NATIVE_TYPE_DOUBLE=4,l.NATIVE_TYPE_FLOAT=5,l.OBJ_TYPE_STRING=100,l.OBJ_TYPE_DATE=101,l.OBJ_TYPE_CALENDAR=102,l.OBJ_TYPE_NULL=103,l.NOT_NATIVE_TYPE=-1},"54c9":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("0912"),s=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(o["a"])},"55d5":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("0912"),s=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(o["a"])},"56d7":function(e,t,n){"use strict";n.r(t);var r=n("d4ec"),a=n("bee2"),i=n("262e"),o=n("2caf"),s=n("9072"),l=n("53ca"),u=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7a23")),c={key:0,class:"xone-layout"};function d(e,t,n,r,a,i){var o=Object(u["F"])("Coll"),s=Object(u["F"])("router-view"),l=Object(u["F"])("SnackBar"),d=Object(u["F"])("Toast"),h=Object(u["F"])("Loader"),p=Object(u["F"])("MsgBox"),f=Object(u["F"])("Camera"),m=Object(u["F"])("Url"),g=Object(u["F"])("Offline"),b=Object(u["F"])("SelectedControl"),_=Object(u["F"])("OverControl"),v=Object(u["F"])("DragControl");return r.containerWidth&&r.containerHeight?(Object(u["x"])(),Object(u["h"])("div",{key:0,class:"-",style:Object(u["r"])({"--app-width":"".concat(r.containerWidth,"px"),"--app-height":"".concat(r.containerHeight,"px")})},[r.webLayoutBreadcrumb?(Object(u["x"])(),Object(u["h"])("div",c,[Object(u["k"])(o,{breadcrumb:r.webLayoutBreadcrumb,isLayout:!0},null,8,["breadcrumb"])])):(Object(u["x"])(),Object(u["f"])(s,{key:1})),Object(u["k"])(l),Object(u["k"])(d),Object(u["k"])(h),Object(u["k"])(p),Object(u["k"])(f),Object(u["k"])(m),Object(u["k"])(g),Object(u["k"])(b),Object(u["k"])(_),Object(u["k"])(v)],4)):Object(u["g"])("",!0)}var h=n("1da1"),p=(n("96cf"),n("4de4"),n("498a"),n("2ca0"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("b0c0"),n("99af"),n("a9e3"),n("6c02")),f=n("79dc"),m={class:"xone-toast"};function g(e,t,n,r,a,i){return 0!==r.toastElements.length?(Object(u["x"])(),Object(u["f"])(u["b"],{key:0,to:"body"},[Object(u["i"])("div",m,[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.toastElements,(function(e,t){return Object(u["x"])(),Object(u["h"])("div",{key:"toast-".concat(t),class:Object(u["q"])(e.class)},Object(u["H"])(e.message),3)})),128))])])):Object(u["g"])("",!0)}n("7db0");var b=n("528d"),_={setup:function(){var e=Object(u["C"])([]),t=3e3;return Object(b["j"])((function(n){var r=e.value.find((function(e){return"hide"===e.class}));r||(e.value.push({}),r=e.value[e.value.length-1]),r.message=n,r.class="showanimation",setTimeout((function(){r.class="hideanimation",setTimeout((function(){r.class="hide",0===e.value.filter((function(e){return"showanimation"===e.class||"hideanimation"===e.class})).length&&(e.value=[])}),500)}),t+500)})),{toastElements:e}}},v=(n("373a"),n("6b0d")),O=n.n(v);const y=O()(_,[["render",g],["__scopeId","data-v-0e840586"]]);var C=y,S={class:"xone-snackbar"},E={class:"xone-snackbar-text"},k=["onClick"];function T(e,t,n,r,a,i){return 0!==r.snackBarElements.length?(Object(u["x"])(),Object(u["f"])(u["b"],{key:0,to:"body"},[Object(u["i"])("div",S,[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.snackBarElements,(function(e,t){return Object(u["x"])(),Object(u["h"])("div",{key:"snackBar-".concat(t),class:Object(u["q"])(e.class),style:Object(u["r"])({backgroundColor:e.color,color:e.textColor,width:e.width,height:e.height})},[Object(u["i"])("p",E,Object(u["H"])(e.text),1),Object(u["i"])("p",{class:"xone-snackbar-action",style:Object(u["r"])({color:e.actionTextColor}),onClick:function(t){return r.onSnackBarActionPressed(e)}},Object(u["H"])(e.actionText),13,k)],6)})),128))])])):Object(u["g"])("",!0)}var w={setup:function(){var e=Object(u["C"])([]);Object(b["i"])((function(n){var r="string"===typeof n?n={text:n}:n,a=r.color,i=void 0===a?"gray":a,o=r.duration,s=void 0===o?"short":o,l=r.width,u=void 0===l?"100%":l,c=r.height,d=void 0===c?"auto":c,h=r.text,p=void 0===h?"":h,f=r.textColor,m=void 0===f?"white":f,g=r.actionText,b=void 0===g?"Ok":g,_=r.actionTextColor,v=void 0===_?"white":_,O=r.actionMethod,y=void 0===O?function(){}:O,C=e.value.find((function(e){return"hide"===e.class}));C||(e.value.push({}),C=e.value[e.value.length-1]),C.color=i,C.width=null===u||void 0===u?void 0:u.replace("p","px"),C.height=d,C.text=p,C.textColor=m,C.actionText=b,C.actionTextColor=v,C.actionMethod=y,C.class="showanimation","long"===s&&setTimeout((function(){return t(C)}),6500),"indeterminate"!==s&&"indefinite"!==s&&setTimeout((function(){return t(C)}),3500)}));var t=function(t){t&&"hideanimation"!==(null===t||void 0===t?void 0:t.class)&&"hide"!==(null===t||void 0===t?void 0:t.class)&&(t.class="hideanimation",setTimeout((function(){t.class="hide",0===e.value.filter((function(e){return"showanimation"===e.class||"hideanimation"===e.class})).length&&(e.value=[])}),500))},n=function(e){e&&"hide"!==e.class&&t(e),(null===e||void 0===e?void 0:e.actionMethod)&&e.actionMethod()},r=Object(u["o"])("containerSize"),a=r.containerWidth;return{snackBarElements:e,onSnackBarActionPressed:n,containerWidth:a}}};n("8342");const A=O()(w,[["render",T],["__scopeId","data-v-620f34b4"]]);var P=A,R=function(e){return Object(u["A"])("data-v-2873404c"),e=e(),Object(u["y"])(),e},I=R((function(){return Object(u["i"])("div",{class:"xone-loader-transition"},[Object(u["i"])("div")],-1)}));function j(e,t,n,r,a,i){return r.isLoaderVisible?(Object(u["x"])(),Object(u["f"])(u["b"],{key:0,to:"body"},[I])):Object(u["g"])("",!0)}var N={setup:function(){var e=Object(u["C"])(!1);return Object(b["h"])(Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.value=!0);case 1:case"end":return t.stop()}}),t)})))),Object(b["d"])(Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.value=!1);case 1:case"end":return t.stop()}}),t)})))),{isLoaderVisible:e}}};n("11d8");const M=O()(N,[["render",j],["__scopeId","data-v-2873404c"]]);var D=M,F={class:"xone-msgbox"},G={key:0,class:"xone-msgbox-box"},B={class:"xone-msgbox-title"},V={class:"xone-msgbox-text"},U={class:"xone-msgbox-options"},W={key:1,class:"xone-custom-msgbox"};function Y(e,t,n,r,a,i){var o=Object(u["F"])("Coll");return r.state.visible?(Object(u["x"])(),Object(u["f"])(u["b"],{key:0,to:"body"},[Object(u["i"])("div",F,[r.state.isCustomMsgbox?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",G,[Object(u["i"])("div",B,Object(u["H"])(r.state.title),1),Object(u["i"])("div",V,Object(u["H"])(r.state.msg),1),Object(u["i"])("div",U,[Object(u["i"])("button",{ref:"btnOkElement",onClick:t[0]||(t[0]=function(e){return r.onClick(!0)})},Object(u["H"])(r.state.btn1),513),""!==r.state.btn2?(Object(u["x"])(),Object(u["h"])("button",{key:0,onClick:t[1]||(t[1]=function(e){return r.onClick(!1)})},Object(u["H"])(r.state.btn2),1)):Object(u["g"])("",!0)])])),r.msgboxBreadcrumb?(Object(u["x"])(),Object(u["h"])("div",W,[Object(u["k"])(o,{breadcrumb:r.msgboxBreadcrumb,objectInfo:r.objectInfo},null,8,["breadcrumb","objectInfo"])])):Object(u["g"])("",!0)])])):Object(u["g"])("",!0)}n("5377"),n("d3b7");var H=n("ae56"),X=n("88a8"),q={components:{Coll:f["a"]},setup:function(){var e=Object(u["B"])({isCustomMsgbox:!1,title:"",msg:"",flags:0,btn1:"",btn2:"",response:null,visible:!1});Object(b["e"])(Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=i.length>0&&void 0!==i[0]?i[0]:"",r=i.length>1&&void 0!==i[1]?i[1]:"",a=i.length>2&&void 0!==i[2]?i[2]:0,e.isCustomMsgbox=!1,e.title=r,e.msg=n,e.flags=a,t.t0=a,t.next=0===t.t0?10:1===t.t0?13:4===t.t0?16:19;break;case 10:return e.btn1="Ok",e.btn2="",t.abrupt("break",19);case 13:return e.btn1="S",e.btn2="No",t.abrupt("break",19);case 16:return e.btn1="Ok",e.btn2="Cancel",t.abrupt("break",19);case 19:return e.response=null,e.visible=!0,t.next=23,Object(u["p"])();case 23:s.value.focus();case 24:if(e.response){t.next=29;break}return t.next=27,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 27:t.next=24;break;case 29:return e.visible=!1,t.abrupt("return",e.response);case 31:case"end":return t.stop()}}),t)}))));var t=function(t){switch(e.flags){case 0:return e.response=10;case 1:return e.response=t?1:2;case 4:return e.response=t?6:7;default:return e.response=0}},n=Object(u["d"])((function(){var e=X["a"].getBreadcrumbs().filter((function(e){return e.isMsgbox}));return 0!==e.length?e[0]:null})),r={isContents:!1,isMsgBox:!0,onMsgBoxOptionSelected:function(t){return X["a"].removeBreadcrumb(n.value.id),e.response=isNaN(Number(t))?e.response=t:Number(t)}};Object(b["b"])(function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.response=null,n instanceof H["a"]){t.next=3;break}return t.abrupt("return");case 3:X["a"].pushXoneDataObject(n,"Msgbox",!1,!0),e.isCustomMsgbox=!0,e.visible=!0;case 6:if(e.response){t.next=11;break}return t.next=9,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 9:t.next=6;break;case 11:return e.visible=!1,t.abrupt("return",e.response);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var a=Object(u["o"])("containerSize"),i=a.containerWidth,o=a.containerHeight,s=Object(u["C"])();return{state:e,onClick:t,msgboxBreadcrumb:n,containerWidth:i,containerHeight:o,objectInfo:r,btnOkElement:s}}};n("6822");const z=O()(q,[["render",Y],["__scopeId","data-v-2b0d8532"]]);var K=z,J=function(e){return Object(u["A"])("data-v-71a77362"),e=e(),Object(u["y"])(),e},Q={class:"xone-camera"},Z={key:1,style:{padding:"50px"}},$={key:0},ee=J((function(){return Object(u["i"])("div",null,[Object(u["i"])("div")],-1)})),te=J((function(){return Object(u["i"])("br",null,null,-1)})),ne=[ee,te],re=J((function(){return Object(u["i"])("br",null,null,-1)})),ae={key:1};function ie(e,t,n,r,a,i){return r.isCameraVisible?(Object(u["x"])(),Object(u["f"])(u["b"],{key:0,to:"body"},[Object(u["i"])("div",Q,[Object(u["i"])("div",{class:"xone-camera-container",style:Object(u["r"])({width:"".concat(r.size-50,"px")})},[Object(u["i"])("button",{class:"xone-cancel",onClick:t[0]||(t[0]=function(e){return r.isCameraVisible=!1})}," Cancel "),r.isNotSupported||r.isVideoRecorded||r.isPhotoTook?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("video",{key:0,style:Object(u["r"])({width:"".concat(r.size-50,"px")}),ref:"videoElement",autoplay:""},null,4)),Object(u["O"])(Object(u["i"])("video",{ref:"videoPreviewElement",style:Object(u["r"])({width:"".concat(r.size-50,"px")}),controls:""},null,4),[[u["K"],r.isVideoRecorded]]),Object(u["O"])(Object(u["i"])("div",{ref:"photoPreviewElement",style:Object(u["r"])({width:"".concat(r.size-50,"px")})},null,4),[[u["K"],r.isPhotoTook]]),r.isNotSupported?(Object(u["x"])(),Object(u["h"])("div",Z," CAMERA UNSUPPORTED IN YOUR BROWSER ")):Object(u["g"])("",!0),Object(u["i"])("div",null,[r.isNotSupported||r.isVideoRecorded||r.isPhotoTook?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",$,[!r.isRecording&&r.isTypePhoto?(Object(u["x"])(),Object(u["h"])("button",{key:0,class:"xone-photo",onClick:t[1]||(t[1]=function(){return r.takePhoto&&r.takePhoto.apply(r,arguments)})},ne)):Object(u["g"])("",!0),r.isTypeVideo?(Object(u["x"])(),Object(u["h"])("button",{key:1,class:"xone-video",onClick:t[2]||(t[2]=function(){return r.recordVideo&&r.recordVideo.apply(r,arguments)})},[Object(u["i"])("div",null,[Object(u["i"])("div",{style:Object(u["r"])({borderRadius:r.isRecording?"5px":"100%"})},null,4)]),re])):Object(u["g"])("",!0)])),r.isVideoRecorded||r.isPhotoTook?(Object(u["x"])(),Object(u["h"])("div",ae,"PREVIEW")):Object(u["g"])("",!0)])],4)])])):Object(u["g"])("",!0)}n("159b"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861");var oe={setup:function(){var e,t=Object(u["C"])(!1),n=Object(u["C"])(),r=Object(u["C"])(!1),a=Object(u["C"])(!1),i=Object(u["C"])(),o=Object(u["C"])(),s=Object(u["C"])(!1),l=Object(u["C"])(!1),c=Object(u["C"])(!1);Object(b["k"])((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"photo";l.value="photo"!==e,c.value="video"!==e,t.value=!0})),Object(u["L"])((function(){return t.value}),function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s.value=!1,r.value=!1,a.value=!1,!i){t.next=13;break}if(navigator.mediaDevices){t.next=6;break}return t.abrupt("return",s.value=!0);case 6:return navigator.mediaDevices.enumerateDevices().then(console.log),t.next=9,navigator.mediaDevices.getUserMedia({audio:!1,video:!0});case 9:e=t.sent,n.value.srcObject=e,t.next=14;break;case 13:e&&e.getTracks().forEach((function(e){return e.stop()}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var d,p,f,m,g=Object(u["o"])("containerSize"),_=g.containerWidth,v=g.containerHeight,O=Object(u["d"])((function(){return _.value<v.value?_.value:v.value})),y=function(){var e=n.value,t=e.offsetWidth,o=e.offsetHeight,s=document.createElement("canvas");s.attributes.overflow="auto",s.width=t,s.height=o;var l=s.getContext("2d");l.drawImage(e,0,0,s.width,s.height),l.canvas.toBlob((function(t){m=t;var n=new Image;n.src=URL.createObjectURL(t),n.width=e.offsetWidth,n.height=e.offsetHeight,setTimeout((function(){return URL.revokeObjectURL(t)}),250),i.value.innerHTML="",i.value.appendChild(n),a.value=!1,r.value=!0}))},C=Object(u["C"])(!1),S=function(){try{if(C.value&&(d&&clearTimeout(d),p.stop()),!MediaRecorder)return void(s.value=!0);f=[];var t={mimeType:"video/webm;codecs=h264"};MediaRecorder.isTypeSupported(t.mimeType)||(t.mimeType="video/webm;codecs=vp8"),p=new MediaRecorder(e,t),p.start(),C.value=!0,p.ondataavailable=function(e){return f.push(e.data)},p.onstop=function(){m=new Blob(f,{type:"video/webm"});var e=URL.createObjectURL(m);o.value.onload=function(){return URL.revokeObjectURL(e)},o.value.src=e,o.value.autoplay=!0,a.value=!0,r.value=!1,C.value=!1},d=setTimeout((function(){return p.stop()}),15e3)}catch(n){console.log("%c MediaRecorded error: '".concat(n,"' %c Feature allowed in %c Chrome %c browser "),"color: red","background: #4CABD5; color: white","background: #1F3C6E; color: white","background: #4CABD5; color: white")}};return{isCameraVisible:t,videoElement:n,size:O,isNotSupported:s,takePhoto:y,isRecording:C,recordVideo:S,photoPreviewElement:i,videoPreviewElement:o,isPhotoTook:r,isVideoRecorded:a,isTypeVideo:l,isTypePhoto:c}}};n("0952");const se=O()(oe,[["render",ie],["__scopeId","data-v-71a77362"]]);var le=se,ue=function(e){return Object(u["A"])("data-v-054892a6"),e=e(),Object(u["y"])(),e},ce=ue((function(){return Object(u["i"])("button",null,"",-1)})),de=["src"];function he(e,t,n,r,a,i){return r.url?(Object(u["x"])(),Object(u["f"])(u["b"],{key:0,to:"body"},[Object(u["i"])("div",{class:"xone-url",onClick:t[0]||(t[0]=function(e){return r.url=null})},[Object(u["i"])("div",null,[ce,Object(u["i"])("iframe",{src:r.url,loading:"lazy"},null,8,de)])])])):Object(u["g"])("",!0)}n("25f0");var pe=["disabled"];function fe(e,t,n,r,a,i){return Object(u["x"])(),Object(u["h"])("button",{ref:"btnElement",disabled:n.attributes.locked||r.isExecutingOnClick||r.objectInfo.isContents&&!r.objectInfo.editInRow||n.isDisableEdit,style:Object(u["r"])({backgroundColor:n.attributes.image?"transparent":n.attributes.bgColor,backgroundImage:n.attributes.image&&"url(".concat(r.imgPath,")"),borderRadius:n.attributes.borderCornerRadius,color:r.isExecutingOnClick?"lightgray":n.attributes.foreColor,fontSize:n.attributes.fontSize&&n.attributes.fontSize,justifyContent:n.attributes.align.row&&n.attributes.align.row||"center",alignItems:n.attributes.align.column&&n.attributes.align.column||"center",padding:(!n.attributes.labelWidth||"0"===n.attributes.labelWidth.toString()||n.attributes.title)&&!r.hasPadding&&0,opacity:r.isExecutingOnClick||n.isDisableEdit?.4:1,cursor:r.isExecutingOnClick||r.objectInfo.isContents&&!r.objectInfo.editInRow||n.isDisableEdit?"default":"pointer"}),class:Object(u["q"])({"no-border":n.attributes.image||!n.attributes.bgColor||"#00000000"===n.attributes.bgColor||"transparent"===n.attributes.bgColor,noEditInRow:r.objectInfo.isContents&&!r.objectInfo.editInRow,"keep-aspect-ratio":n.attributes.keepAspectRatio}),onClick:t[0]||(t[0]=function(t){return!e.noEditInRow&&r.onClick()}),onTouchstart:t[1]||(t[1]=function(){return r.onTouchStart&&r.onTouchStart.apply(r,arguments)}),onTouchend:t[2]||(t[2]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)}),onMousedown:t[3]||(t[3]=function(){return r.onTouchStart&&r.onTouchStart.apply(r,arguments)}),onMouseend:t[4]||(t[4]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)}),onMouseleave:t[5]||(t[5]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)}),onTouchleave:t[6]||(t[6]=function(){return r.onTouchEnd&&r.onTouchEnd.apply(r,arguments)}),onFocus:t[7]||(t[7]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)})},Object(u["H"])("0"!==n.attributes.labelWidth?n.attributes.title:""),47,pe)}var me=n("9c57"),ge=n("d442"),be=n("ade3"),_e=n("a1e9"),ve=function(){function e(){if(Object(r["a"])(this,e),Object(be["a"])(this,"_isDesigner",Object(_e["l"])(!1)),Object(be["a"])(this,"_isDragging",Object(_e["l"])(!1)),Object(be["a"])(this,"_selectedControl",Object(_e["l"])()),Object(be["a"])(this,"_dragControl",Object(_e["l"])()),Object(be["a"])(this,"_overControl",Object(_e["l"])()),Object(be["a"])(this,"_overControls",Object(_e["l"])([])),Object(be["a"])(this,"_designPadding",10),e._instance)return e._instance;e._instance=this}return Object(a["a"])(e,[{key:"mouseMove",value:function(e){if(!this._isDesigner&&!this._isDragging)return this._dragControl.value=null;var t=e.target;while(t&&!t.getAttribute("xone-name"))t=t.parentElement;this._dragControl.value=t}},{key:"setIsDesigner",value:function(e){this._isDesigner.value=e}},{key:"setIsDragging",value:function(e){this._isDragging.value=e,this._dragControl.value=null}},{key:"getIsDesigner",value:function(){return this._isDesigner}},{key:"getIsDragging",value:function(){return this._isDragging}},{key:"getDesignPadding",value:function(){return this._designPadding}},{key:"setSelectedControl",value:function(e){this._selectedControl.value=e}},{key:"setOverControl",value:function(e){if(e)return this._overControl.value=e;this._overControl.value=0!==this._overControls.value.length?this._overControls.value[this._overControls.value.length-1]:null}},{key:"addOverControl",value:function(e){-1===this._overControls.value.indexOf(e)&&this.pushOverControl(e)}},{key:"pushOverControl",value:function(e){this._overControls.value.push(e),this.setOverControl()}},{key:"removeOverControl",value:function(e){this._overControls.value=this._overControls.value.filter((function(t){return t!==e})),this.setOverControl()}},{key:"getSelectedControl",value:function(){return this._selectedControl}},{key:"getDragControl",value:function(){return this._dragControl}},{key:"getOverControl",value:function(){return this._overControl}},{key:"getOverControls",value:function(){return this._overControls.value}},{key:"getBorderPropOver",value:function(){return"3px dashed #1F3C6E"}},{key:"getBorderContainerOver",value:function(){return"3px solid #4CABD5"}},{key:"getBorderSelected",value:function(){return"3px dashed #1F3C6E"}},{key:"getBorderOver",value:function(){return"3px dashed #4CABD5"}},{key:"mouseEnter",value:function(e){this.addOverControl(e)}},{key:"mouseLeave",value:function(e){this.removeOverControl(e)}},{key:"mouseDown",value:function(e){this._isDesigner&&(e.preventDefault(),e.stopPropagation(),this.setSelectedControl(this._overControls?this._overControls.value[this._overControls.value.length-1]:null))}}]),e}();Object(be["a"])(ve,"_instance",void 0);var Oe=new ve,ye=n("ddd6"),Ce={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},paddings:{type:Object,required:!0},isDisableEdit:{type:Boolean,required:!0},containerWidth:{type:Number,default:0},containerHeight:{type:Number,default:0}},setup:function(e){var t,n,r=Object(u["C"])(!1),a=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r.value){t.next=2;break}return t.abrupt("return");case 2:return r.value=!0,t.next=5,me["c"].onClick(e.attributes,e.xoneDataObject,i);case 5:r.value=!1;case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=Object(u["o"])("objectInfo"),o=Object(u["C"])(),s=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(){me["c"].fitHeightToContainer(e.attributes,o,t),me["c"].fitWidthToContainer(e.attributes,o,t)};setTimeout((function(){return n()}),100),n()};Object(u["p"])((function(){return s()}));var l=Object(u["o"])("xoneView"),c=new ye["a"](e.attributes.name,o.value);Object(u["v"])((function(){l.addControl(c)}));var d=Object(u["o"])("lastBreadcrumb"),p=Object(u["o"])("breadcrumbId");Object(u["M"])((function(){var e;p===(null===d||void 0===d||null===(e=d.value)||void 0===e?void 0:e.id)&&s()})),Object(u["L"])((function(){return e.containerWidth}),(function(){return s(!0)})),Object(u["L"])((function(){return e.containerHeight}),(function(){return s(!0)}));var f=Object(u["o"])("groupId"),m=Object(u["o"])("groupHandler"),g=m.activeGroup;Object(u["L"])((function(){return g.value}),(function(e){f===e&&s()}));var b=Object(u["C"])(null!==(t=e.attributes.image)&&void 0!==t&&t.includes("icons")||null!==(n=e.attributes.image)&&void 0!==n&&n.includes("files")?e.attributes.image:"".concat(Object(ge["a"])(),"/icons/").concat(e.attributes.image));Object(u["v"])((function(){Object(u["L"])((function(){return e.attributes.image}),Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),v()}));var _,v=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ge["b"])(e.attributes.image);case 2:return t.abrupt("return",b.value=t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=Object(u["d"])((function(){return e.attributes.paddings.top||e.attributes.paddings.right||e.attributes.paddings.bottom||e.attributes.paddings.left})),y=function(){_=o.value.style.opacity,o.value.style.opacity=.7},C=function(){o.value.style.opacity=_,_=null},S=function(){o.value.animate([{opacity:.7},{opacity:300}],{duration:1e3})};return{btnElement:o,onClick:a,objectInfo:i,isExecutingOnClick:r,imgPath:b,hasPadding:O,onTouchStart:y,onTouchEnd:C,onFocus:S}}};n("06c52");const Se=O()(Ce,[["render",fe],["__scopeId","data-v-47c93105"]]);var Ee=Se,ke={components:{Button:Ee},setup:function(){var e=Object(u["C"])();return Object(b["f"])((function(t){return e.value=t})),{url:e}}};n("932b");const xe=O()(ke,[["render",he],["__scopeId","data-v-054892a6"]]);var Te=xe,we=function(e){return Object(u["A"])("data-v-375b8507"),e=e(),Object(u["y"])(),e},Ae=we((function(){return Object(u["i"])("div",{class:"xone-online"},[Object(u["i"])("div",null,"Offline")],-1)}));function Pe(e,t,n,r,a,i){return r.isOnline?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["f"])(u["b"],{key:0,to:"body"},[Ae]))}var Re={setup:function(){Object(u["v"])((function(){window.addEventListener("online",e),window.addEventListener("offline",t)})),Object(u["w"])((function(){window.removeEventListener("online",e),window.removeEventListener("offline",t)}));var e=function(){return n.value=!0},t=function(){return n.value=!1},n=Object(u["C"])(navigator.onLine);return{isOnline:n}}};n("07ed");const Ie=O()(Re,[["render",Pe],["__scopeId","data-v-375b8507"]]);var je=Ie,Ne=function(e){return Object(u["A"])("data-v-19398d98"),e=e(),Object(u["y"])(),e},Me=Ne((function(){return Object(u["i"])("div",null,null,-1)})),De=[Me],Le={class:"xone-designer-selected-options-name"};function Fe(e,t,n,r,a,i){return r.isDesigner?(Object(u["x"])(),Object(u["h"])("div",{key:0,class:"xone-designer-selected-container",style:Object(u["r"])({opacity:r.opacity,"--image-parent":"url(".concat(r.appPath,"/assets/parent.png)"),"--image-move":"url(".concat(r.appPath,"/assets/move.png)")})},[r.isDesigner&&r.location?(Object(u["x"])(),Object(u["h"])("div",{key:0,style:Object(u["r"])([{position:"absolute",outline:"3px solid white",transition:"all 0.3s"},{top:r.location.top+"px",left:r.location.left+"px",width:r.location.width+"px",height:r.location.height+"px"}])},null,4)):Object(u["g"])("",!0),r.isDesigner&&r.location?(Object(u["x"])(),Object(u["h"])("div",{key:1,class:"xone-designer-selected",style:Object(u["r"])({top:r.location.top+"px",left:r.location.left+"px",width:r.location.width+"px",height:r.location.height+"px","--border":r.border})},[r.isGroup?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",{key:0,class:"xone-designer-selected-resizer",onMouseleave:t[0]||(t[0]=function(e){return r.onMouseLeave()})},De,32)),Object(u["i"])("div",{class:"xone-designer-selected-options",style:Object(u["r"])({top:r.location.top>25?"-25px":"0px"})},[Object(u["i"])("div",Le,Object(u["H"])(r.controlName),1),r.isGroup?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",{key:0,class:"xone-designer-selected-option-parent",onClick:t[1]||(t[1]=function(){return r.onParentButtonClick&&r.onParentButtonClick.apply(r,arguments)})})),r.isGroup?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",{key:1,style:{"z-index":"9999999"},onMousedown:t[2]||(t[2]=function(){return r.onDragStart&&r.onDragStart.apply(r,arguments)}),onMouseup:t[3]||(t[3]=function(){return r.onDragEnd&&r.onDragEnd.apply(r,arguments)}),onTouchstart:t[4]||(t[4]=function(){return r.onDragStart&&r.onDragStart.apply(r,arguments)}),onTouchend:t[5]||(t[5]=function(){return r.onDragEnd&&r.onDragEnd.apply(r,arguments)}),class:"xone-designer-selected-option-move"},null,32))],4)],4)):Object(u["g"])("",!0)],4)):Object(u["g"])("",!0)}var Ge={setup:function(){var e=Oe.getSelectedControl(),t=Object(u["C"])(""),n=Object(u["C"])(!1),r=Object(u["C"])(1),a=Object(u["C"])();Object(u["L"])((function(){return e.value}),(function(e){try{if(!e)return a.value=null;t.value=e.getAttribute("xone-name"),n.value="true"===e.getAttribute("group"),a.value={top:e.getBoundingClientRect().top,left:e.getBoundingClientRect().left,width:e.getBoundingClientRect().width,height:e.getBoundingClientRect().height}}catch(r){a.value=null}}));var i=function(){var t,n=e.value,r=null===n||void 0===n||null===(t=n.parentNode)||void 0===t?void 0:t.parentNode;r&&r.classList.contains("xone-frame")&&Oe.setSelectedControl(r)},o=function(e){r.value=.3,Oe.setIsDragging(!0),document.body.style.cursor="move",document.body.addEventListener("mouseup",s),document.body.addEventListener("touchend",s)},s=function e(t){r.value=1,Oe.setIsDragging(!1),document.body.style.cursor="default",document.body.removeEventListener("mouseup",e),document.body.removeEventListener("touchend",e)};return{controlName:t,location:a,isDesigner:Oe.getIsDesigner(),border:Oe.getBorderSelected(),onMouseLeave:function(){},onParentButtonClick:i,onDragStart:o,onDragEnd:s,isGroup:n,opacity:r,appPath:Object(ge["a"])()}}};n("de66");const Be=O()(Ge,[["render",Fe],["__scopeId","data-v-19398d98"]]);var Ve=Be,Ue={key:0,class:"xone-designer-over-container"};function We(e,t,n,r,a,i){return r.isDesigner?(Object(u["x"])(),Object(u["h"])("div",Ue,[r.isDesigner&&r.location?(Object(u["x"])(),Object(u["h"])("div",{key:0,class:"xone-designer-over",onClick:t[0]||(t[0]=function(e){return r.onMouseClick()}),onMouseleave:t[1]||(t[1]=function(e){return r.onMouseLeave()}),style:Object(u["r"])({top:r.location.top,left:r.location.left,width:r.location.width,height:r.location.height,"--border":r.border})},null,36)):Object(u["g"])("",!0)])):Object(u["g"])("",!0)}var Ye={setup:function(){var e=Oe.getOverControl(),t=Oe.getSelectedControl(),n=Object(u["C"])();return Object(u["L"])((function(){return e.value}),(function(r){try{if(r!==e.value)return;if(!r||r===t.vue)return n.value=null;n.value={top:r.getBoundingClientRect().top+"px",left:r.getBoundingClientRect().left+"px",width:r.getBoundingClientRect().width+"px",height:r.getBoundingClientRect().height+"px"}}catch(a){n.value=null}})),{location:n,isDesigner:Oe.getIsDesigner(),border:Oe.getBorderOver(),onMouseClick:function(){Oe.setSelectedControl(e.value)},onMouseLeave:function(){Oe.setOverControl(null)}}}};n("96e0");const He=O()(Ye,[["render",We],["__scopeId","data-v-725183bb"]]);var Xe=He,qe={key:0,class:"xone-designer-drag"},ze=["onMouseenter"];function Ke(e,t,n,r,a,i){return r.isDesigner?(Object(u["x"])(),Object(u["h"])("div",{key:0,class:"xone-designer-drag-container",style:Object(u["r"])({"--image-back":"url(".concat(r.appPath,"/assets/arrow-up.png)"),"--image-right":"url(".concat(r.appPath,"/assets/arrow-right.png)"),"--image-down":"url(".concat(r.appPath,"/assets/arrow-down.png)"),"--image-left":"url(".concat(r.appPath,"/assets/arrow-left.png)")})},[r.isDesigner&&r.isDragging?(Object(u["x"])(),Object(u["h"])("div",qe,[r.containerSelected?(Object(u["x"])(),Object(u["h"])("div",{key:0,style:Object(u["r"])({position:"absolute",zIndex:9999999,left:r.containersInfo.find((function(e){return e.name===r.containerSelected})).left+"px",top:r.containersInfo.find((function(e){return e.name===r.containerSelected})).top+"px",width:r.containersInfo.find((function(e){return e.name===r.containerSelected})).width+"px",height:r.containersInfo.find((function(e){return e.name===r.containerSelected})).height+"px",outline:"3px solid blue"})},null,4)):Object(u["g"])("",!0),r.location?(Object(u["x"])(),Object(u["h"])("div",{key:1,style:Object(u["r"])({background:"rgba(211,211,211, .3)",position:"absolute",outline:r.border,outlineOffset:"-5px",top:r.location.top+"px",left:r.location.left+"px",width:r.location.width+"px",height:r.location.height+"px"})},null,4)):Object(u["g"])("",!0),r.location?(Object(u["x"])(),Object(u["h"])("div",{key:2,class:"xone-designer-drag-move move-up",onMouseenter:t[0]||(t[0]=function(e){return r.moveCursorTo("up")}),onMouseleave:t[1]||(t[1]=function(e){return r.moveCursorTo("")}),style:Object(u["r"])({top:r.location.top+"px",left:r.location.left+r.selectorSize.x+"px",width:r.location.width-2*r.selectorSize.x+"px",height:r.selectorSize.y+"px"})},null,36)):Object(u["g"])("",!0),r.location?(Object(u["x"])(),Object(u["h"])("div",{key:3,class:"xone-designer-drag-move move-down",onMouseenter:t[2]||(t[2]=function(e){return r.moveCursorTo("bottom")}),onMouseleave:t[3]||(t[3]=function(e){return r.moveCursorTo("")}),style:Object(u["r"])({position:"absolute",top:r.location.top+r.location.height-r.selectorSize.y+"px",left:r.location.left+r.selectorSize.x+"px",width:r.location.width-2*r.selectorSize.x+"px",height:r.selectorSize.y+"px"})},null,36)):Object(u["g"])("",!0),r.location?(Object(u["x"])(),Object(u["h"])("div",{key:4,class:"xone-designer-drag-move move-left",onMouseenter:t[4]||(t[4]=function(e){return r.moveCursorTo("left")}),onMouseleave:t[5]||(t[5]=function(e){return r.moveCursorTo("")}),style:Object(u["r"])({top:r.location.top+"px",left:r.location.left+"px",width:r.selectorSize.x+"px",height:r.location.height+"px"})},null,36)):Object(u["g"])("",!0),r.location?(Object(u["x"])(),Object(u["h"])("div",{key:5,class:"xone-designer-drag-move move-right",onMouseenter:t[6]||(t[6]=function(e){return r.moveCursorTo("right")}),onMouseleave:t[7]||(t[7]=function(e){return r.moveCursorTo("")}),style:Object(u["r"])({position:"absolute",top:r.location.top+"px",left:r.location.left+r.location.width-r.selectorSize.x+"px",width:r.selectorSize.x+"px",height:r.location.height+"px"})},null,36)):Object(u["g"])("",!0),r.cursorCoordinates?(Object(u["x"])(),Object(u["h"])("div",{key:6,style:Object(u["r"])({zIndex:9999999,outline:"1px black solid",position:"absolute",width:r.cursorCoordinates.width+"px",height:r.cursorCoordinates.height+"px",background:"red",transition:"all .3s",top:r.cursorCoordinates.top+"px",left:r.cursorCoordinates.left+"px",opacity:r.cursorCoordinates.opacity})},null,4)):Object(u["g"])("",!0),(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.containersInfo,(function(e){return Object(u["x"])(),Object(u["h"])("div",{key:e.name,class:"xone-designer-drag-containers",style:Object(u["r"])({left:e.positionX+"px",top:e.positionY+"px",width:10*e.name.length+"px",background:e.name===r.containerSelected?"blue":"white",color:e.name===r.containerSelected?"white":"black"}),onMouseenter:function(t){return r.onMouseEnter(e.name)},onMouseleave:t[8]||(t[8]=function(e){return r.onMouseLeave()})},Object(u["H"])(e.name),45,ze)})),128))])):Object(u["g"])("",!0)],4)):Object(u["g"])("",!0)}var Je=n("5530"),Qe=(n("d81d"),{setup:function(){var e=Oe.getIsDesigner(),t=Oe.getIsDragging(),n=Oe.getSelectedControl(),r=Oe.getDragControl(),a=Object(u["C"])(),i=Object(u["C"])(),o=Object(u["C"])(),s=Object(u["C"])([]);return Object(u["L"])((function(){return r.value}),(function(r){if(e.value&&t.value){s.value=[],a.value="",i.value=null,o.value=Object(Je["a"])(Object(Je["a"])({},o.value),{},{width:0,height:0,opacity:0});try{var l=r;i.value={top:l.getBoundingClientRect().top-5,left:l.getBoundingClientRect().left-5,width:l.getBoundingClientRect().width+10,height:l.getBoundingClientRect().height+10,isContainer:l.classList.contains("xone-frame")};while(l){if(l.classList.contains("xone-frame")){var u={control:l,name:l.getAttribute("xone-name"),top:l.getBoundingClientRect().y,left:l.getBoundingClientRect().x,width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height,positionY:l.getBoundingClientRect().y,positionX:l.getBoundingClientRect().x};s.value.push(u)}l===n.value&&(s.value=[],i.value=null),l=l.parentElement}s.value=s.value.map((function(e){var t=s.value.find((function(t){return t.name!==e.name&&t.positionX>=e.positionX&&t.positionX+10*t.name.length<=e.positionX+10*e.name.length&&t.positionY>=e.positionY&&t.positionY+21<=e.positionX+21}));return t&&(e.positionY+=21),e}))}catch(c){}}})),{isDesigner:Oe.getIsDesigner(),isDragging:Oe.getIsDragging(),location:i,containersInfo:s,containerSelected:a,onMouseEnter:function(e){o.value=Object(Je["a"])(Object(Je["a"])({},o.value),{},{width:0,height:0,opacity:0}),a.value=e},onMouseLeave:function(){return a.value=null},cursorCoordinates:o,border:Oe.getBorderOver(),moveCursorTo:function(e){r.value.classList.contains("xone-frame")&&s.value.length>1?a.value=s.value[1].name:a.value=s.value[0].name;var t=i.value.left,n=i.value.top,l=i.value.width,u=i.value.height;if(r.value.classList.contains("xone-frame")&&1===s.value.length){var c=s.value[0].control;c=["bottom","right"].includes(e)?c.lastElementChild:c.firstElementChild,t=c.getBoundingClientRect().left,l=c.getBoundingClientRect().width,n=c.getBoundingClientRect().top,u=c.getBoundingClientRect().height}var d=10;switch(e){case"left":return o.value={left:t,top:n,width:d,height:u,opacity:1};case"up":return o.value={left:t,top:n,width:l,height:d,opacity:1};case"right":return o.value={left:t+l,top:n,width:d,height:u,opacity:1};case"bottom":return o.value={left:t,top:n+u,width:l,height:d,opacity:1}}},selectorSize:Object(u["d"])((function(){var e=30,t=30;return i.value.width/2<e&&(e=i.value.width/2),i.value.height/2<t&&(t=i.value.height/2),i.value.isContainer||(i.value.width>i.value.height?(e=i.value.width/4,t=i.value.height/2):(e=i.value.width/2,t=i.value.height/4)),{x:e,y:t}})),appPath:Object(ge["a"])()}}});n("09da");const Ze=O()(Qe,[["render",Ke],["__scopeId","data-v-49901515"]]);var $e=Ze,et=n("f762"),tt=n("652f"),nt=n("3b9e"),rt=1,at=1,it=function(e){return rt=e||1},ot=function(e){return at=e||1},st=function(){function e(){Object(r["a"])(this,e),Object(be["a"])(this,"_target",void 0),Object(be["a"])(this,"_options",void 0),Object(be["a"])(this,"_keyframes",void 0),Object(be["a"])(this,"_callback",void 0),Object(be["a"])(this,"_animate",!1)}return Object(a["a"])(e,[{key:"stop",value:function(){this._animate=!1,this._target&&this._target.animate({})}},{key:"animate",value:function(){var e=this;this._animate&&(this._animate=!1,this._target&&(this._callback&&setTimeout((function(){return e._callback()}),this._options.duration),this._target.animate(this._keyframes,this._options)))}},{key:"initAnimate",value:function(){var e=this;this._animate||(this._options={duration:300,fill:"forwards"},this._keyframes=[],this._animate=!0,this._callback=null,Promise.resolve().then((function(){return e.animate()})))}},{key:"setTarget",value:function(e){return this.initAnimate(),this._target=e.element||document.querySelector('[xone-name="'.concat(e.name,'"]')),this}},{key:"setDuration",value:function(e){return this.initAnimate(),this._options.duration=e,this}},{key:"setCircularReveal",value:function(){return this}},{key:"setRelativeScaleX",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"scaleX(".concat(e,")")}),this}},{key:"setRelativeScaleY",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"scaleY(".concat(e,")")}),this}},{key:"setScaleX",value:function(e){return this.setRelativeScaleX(e)}},{key:"setScaleY",value:function(e){return this.setRelativeScaleY(e)}},{key:"setRelativeX",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"translateX(".concat(e*rt,"px)")}),this}},{key:"setRelativeY",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"translateY(".concat(e*at,"px)")}),this}},{key:"setX",value:function(e){return this.setRelativeX(e,!0),this}},{key:"setY",value:function(e){return this.setRelativeY(e),this}},{key:"setZ",value:function(){return this}},{key:"setWidth",value:function(e){return this.initAnimate(),isNaN(Number(e))?(e.includes("p")||e.includes("px"))&&(e=Number(e.replace("px","").replace("p",""))*rt+"px"):e=Number(e)*rt+"px",this._keyframes.push({width:e}),this}},{key:"setHeight",value:function(e){return this.initAnimate(),isNaN(Number(e))?(e.includes("p")||e.includes("px"))&&(e=Number(e.replace("px","").replace("p",""))*at+"px"):e=Number(e)*at+"px",this._keyframes.push({height:e}),this}},{key:"setAlpha",value:function(e){return this.initAnimate(),this._keyframes.push({opacity:e}),this}},{key:"setEndCallback",value:function(e){this._callback=e}},{key:"setRepeatMode",value:function(e){return this.initAnimate(),-1===e?this._options.iterations="Infinity":isNaN(Number(e))||(this._options.iterations=e),this}},{key:"setRotation",value:function(e){return this.initAnimate(),this._keyframes.push({transform:"rotate(".concat(e,"deg)")}),this}},{key:"setRelativeRotation",value:function(e){return this.setRotation(e)}},{key:"setInterpolation",value:function(e){switch(e){case"AccelerateDecelerateInterpolator":return this._options.easing="ease";case"AccelerateInterpolator":return this._options.easing="ease-in";case"AnticipateInterpolator":return this._options.easing="ease-out";case"AnticipateOvershootInterpolator":return this._options.easing="ease-in-out";case"BounceInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"CycleInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"DecelerateInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"FastOutLinearInInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"FastOutSlowInInterpolator":return this._options.easing="cubic-bezier(0.42,0,0.58,1)";case"LinearInterpolator":return this._options.easing="linear";case"LinearOutSlowInInterpolator":return this._options.easing="cubic-bezier(1,1,.5,.5);";case"OvershootInterpolator":return this._options.easing="cubic-bezier(0,0,1,1);";default:return this._options.easing=""}}}]),e}(),lt=function(){var e=document.createElement("style"),t=Object(ge["a"])();e.appendChild(document.createTextNode('@font-face {\n\t  font-family: "Roboto";\n\t  src: url('.concat(window.location.origin).concat(t?"/".concat(t):"","/fonts/Roboto-Medium.ttf);\n\t}\n\t\t"))),document.head.appendChild(e)},ut=n("a834"),ct=(n("d2fd"),n("5d1a")),dt=n("3bb2"),ht={components:{Coll:f["a"],Toast:C,SnackBar:P,Loader:D,MsgBox:K,Camera:le,Url:Te,Offline:je,SelectedControl:Ve,OverControl:Xe,DragControl:$e},setup:function(){console.log("%c b y %c X %c >O n e %c ".concat(nt["a"].getVersion()),"background: whitesmoke; color: #1F3C6E; font-weight: bold; display: block; font-size: 17px;","background: #4CABD5   ; color: white  ; font-weight: bold; display: block; font-size: 17px;","background: #1F3C6E   ; color: white  ; font-weight: bold; display: block; font-size: 17px;","color: #1F3C6E");var e=Object(p["d"])(),t=Object(p["c"])(),n=Object(u["d"])((function(){var e=X["a"].getBreadcrumbs().filter((function(e){return e.isWebLayout}));return 0!==e.length?e[0]:null})),r=Object(u["d"])((function(){return X["a"].getBreadcrumbs().filter((function(e){return!e.isWebLayout&&!e.isMsgbox&&!e.isContentsRow}))}));Object(u["z"])("routeBreadcrumbs",r);var a=Object(u["d"])((function(){return 0!==r.value.length&&r.value[r.value.length-1]}));Object(u["z"])("lastBreadcrumb",a);var i=Object(u["C"])(),o=Object(u["C"])();Object(u["z"])("appSize",{appWidth:i,appHeight:o});var s,l=Object(u["C"])(null),c=Object(u["C"])(null),d=Object(u["C"])(!1);Object(u["z"])("isInputFocused",d),Object(u["L"])((function(){return d.value}),(function(e){e||setTimeout((function(){return g()}),250)}));var f=!1,m=!0,g=function(){var e=f?window.devicePixelRatio:1;s&&clearTimeout(s);var t=(i.value&&window.innerWidth>i.value?i.value:window.innerWidth)*e-2,n=(o.value&&window.innerHeight>o.value?o.value:window.innerHeight)*e-2;nt["a"].setSizeConditions(t),_.value=nt["a"].sizeConditions,v.value=nt["a"].orientation,s=setTimeout((function(){d.value&&Object(ut["a"])()||(l.value=t,c.value=n,nt["a"]&&nt["a"].setVisualConditionsMacros(l.value,c.value),m&&(m=!1))}),m?0:250)};Object(u["v"])((function(){return window.addEventListener("resize",g)})),Object(u["w"])((function(){return window.removeEventListener("resize",g)})),Object(u["z"])("containerSize",{containerWidth:l,containerHeight:c});var _=Object(u["C"])("");Object(u["z"])("sizeConditions",_);var v=Object(u["C"])("");Object(u["z"])("orientation",v);var O=Object(u["d"])((function(){return i.value?l.value/i.value:1})),y=Object(u["d"])((function(){return o.value?c.value/o.value:1}));Object(u["z"])("scaleFactor",{widthFactor:O,heightFactor:y}),Object(u["L"])((function(){return O.value}),(function(e){return it(e)})),Object(u["L"])((function(){return y.value}),(function(e){return ot(e)}));var C=Object(u["C"])(!1);Object(u["z"])("displayScreenThresholds",C);var S=Object(u["C"])(!1);Object(u["z"])("showBreadcrumbs",S),Object(u["v"])((function(){var e=new et["a"];X["a"].setAppData(e),e.setUserInterface(b["a"]);var n=Function("cbF","(async()=>{try{const c=await import('../configuration.js');cbF({...c.default,sWA:null});}catch(ex){console.error('Error loading configuration.js and __SCRIPT_WRAPPER__.js files',ex);}})()");n(function(){var n=Object(h["a"])(regeneratorRuntime.mark((function n(r){var a,s,l,u,c,d,h,p,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:s=(null!==(a=r.path)&&void 0!==a?a:"").trim(),"/"===s?s="":s&&!s.startsWith("/")&&(s="/".concat(s)),Object(ge["d"])(s),lt(),r.title&&(document.title=r.title),r.displayScreenThresholds&&(C.value=!0),r.showBreadcrumbs&&(S.value=r.showBreadcrumbs),r.debugging&&(window.debugging=!0),f=r.allowZoom,l="".concat(s,"/source");while(l.includes("//"))l=l.replace("//","/");return("Preview"===t.name||location.href.includes("preview?"))&&(d=Object(dt["a"])(l),u=d.fileManager,c=d.sWA,Object(ct["a"])()),n.next=14,e.IniciarApp(l,c||r.sWA,u||new tt["a"],"Data Source=".concat(r.apiUrl,";xoneuser=").concat(r.clientId,";xonepass=").concat(r.clientSecret,";ids=").concat(r.idsUrl||"https://ids.xonedev.cloud/connect/token"));case 14:nt["a"].setAppData(e),h=nt["a"].getAppSize(),i.value=(null===h||void 0===h?void 0:h.width)<=0?null:null===h||void 0===h?void 0:h.width,o.value=(null===h||void 0===h?void 0:h.height)<=0?null:null===h||void 0===h?void 0:h.height,g(),p=nt["a"].isScaleFontsize(),Object(me["a"])(p),m=nt["a"].getWebFontFactor(),m&&!isNaN(m)&&Object(me["b"])(Number(m)),nt["a"].setInmutableMacros(e),E();case 25:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}));var E=function(){var n=Object(h["a"])(regeneratorRuntime.mark((function n(){var r,a,i,o,s,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=X["a"].getAppData(),i=function(t){return console.error(t||"autologon error"),e.push({name:"404"})},o=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,e.next=4,a.login({userName:"admin",password:"",ignoreEntryPoint:t});case 4:if(n=e.sent,n){e.next=7;break}return e.abrupt("return",i());case 7:return e.next=9,b["a"].launchEntryPoint(!0);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e["catch"](1),e.abrupt("return",i());case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),"DeepLink"!==t.name&&!location.href.includes("deeplink?")){n.next=11;break}return s=Object(dt["b"])("/deeplink?"),n.next=7,o(!0);case 7:return n.next=9,a.getCollection("Empresas");case 9:return l=n.sent,n.abrupt("return",l.ExecuteCollAction("ondeeplinkclicked",null,s).catch((function(){return X["a"].clearBreadcrumbs(),i("error executing ondeeplinkclicked")})));case 11:if(!nt["a"].getIsAutoLogon()){n.next=13;break}return n.abrupt("return",a.login({userName:nt["a"].getAutoLogonUser(),password:nt["a"].getAutoLogonPwd()}).catch((function(){return i()})));case 13:return n.next=15,X["a"].addNewXoneDataObject(a.getLoginCollectionName(),"Login",!1,!0);case 15:Object(b["c"])(E),u={name:"Login"},null!==(r=t.params)&&void 0!==r&&r.id&&(u.params={id:t.params.id}),e.push(u);case 19:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(u["z"])("loginFunction",E),{webLayoutBreadcrumb:n,containerWidth:l,containerHeight:c}}};n("89e6");const pt=O()(ht,[["render",d]]);var ft=pt,mt=Object(p["b"])("/xone-framework/"),gt=[{path:"/",name:"Home",component:function(){return n.e("about").then(n.bind(null,"bb51"))}},{path:"/o",name:"Coll",component:function(){return n.e("about").then(n.bind(null,"bb51"))}},{path:"/login/:id?",name:"Login",component:function(){return n.e("about").then(n.bind(null,"bb51"))}},{path:"/deeplink/",name:"DeepLink",component:function(){return n.e("coll").then(n.bind(null,"bb51"))}},{path:"/preview/",name:"Preview",component:function(){return n.e("coll").then(n.bind(null,"bb51"))}},{path:"/404/",name:"404",component:function(){return n.e("coll").then(n.bind(null,"8cdb"))}},{path:"/logon/",name:"Logon",component:function(){return n.e("coll").then(n.bind(null,"a55b"))}}],bt=Object(p["a"])({history:mt,routes:gt}),_t=bt,vt=(n("c7cd"),["group","xone-name"]);function Ot(e,t,n,r,a,i){var o=Object(u["F"])("Container",!0),s=Object(u["F"])("Prop"),l=Object(u["F"])("Column"),c=Object(u["F"])("Row");return Object(u["O"])((Object(u["x"])(),Object(u["h"])("div",{ref:"containerElement",group:"group"===r.attributes.node||null,class:Object(u["q"])(["xone-frame",r.attributes.keepAspectRatio&&"keep-aspect-ratio",r.attributes.framebox&&"xone-frame-borders"]),"xone-name":r.attributes.name,style:Object(u["r"])({"--border-width":r.attributes.borderWidth,"--border-color":r.attributes.borderColor,"--elevation":"".concat(r.attributes.elevation,"px"),"--frame-align-column":r.attributes.align.column,marginTop:r.margins.top+"px",marginRight:r.margins.right+"px",marginBottom:r.margins.bottom+"px",marginLeft:r.margins.left+"px",paddingTop:r.paddings.top+"px",paddingRight:r.paddings.right+"px",paddingBottom:r.paddings.bottom+"px",paddingLeft:r.paddings.left+"px",height:("group"!==r.attributes.node||r.attributes.drawerOrientation||r.attributes.fixed?r.controlHeight&&("group"!==r.attributes.node||r.attributes.fixed)&&"".concat(r.controlHeight,"px"):"100%")||"auto",width:("group"!==r.attributes.node||r.attributes.drawerOrientation?r.controlWidth&&"".concat(r.controlWidth,"px"):"100%")||"auto",maxHeight:!r.isContents&&"group"===r.attributes.node&&n.containerHeight?"".concat(n.containerHeight,"px"):null,maxWidth:!r.isContents&&"group"===r.attributes.node&&n.containerWidth?"".concat(n.containerWidth,"px"):null,minHeight:r.attributes.minHeight?r.attributes.minHeight:null,minWidth:r.attributes.minWidth?r.attributes.minWidth:null,flexGrow:"frame"===r.attributes.node&&"grow"===r.attributes.width?1:null,flexShrink:"frame"===r.attributes.node&&"grow"===r.attributes.width?1:null,backgroundColor:r.displayScreenThresholds?"#00ff0025":r.attributes.bgColor,backgroundImage:r.attributes.image&&"url(".concat(r.appPath,"/icons/").concat(r.attributes.image,")"),border:r.displayScreenThresholds&&"1px solid ".concat(r.attributes.borderColor),borderRadius:r.attributes.borderCornerRadius,justifyContent:r.attributes.align.column,overflowY:"frame"===r.attributes.node&&"grow"===r.attributes.width?"hidden":r.attributes.scroll&&"vertical"===r.attributes.scrollOrientation?"auto":"hidden",overflowX:"frame"===r.attributes.node&&"grow"===r.attributes.width?"hidden":r.attributes.scroll&&"horizontal"===r.attributes.scrollOrientation?"auto":"hidden",position:r.attributes.floating.floating&&"absolute",zIndex:r.attributes.floating.floating&&"9",top:r.attributes.floating.floating&&r.floatingTop&&r.floatingTop,left:r.attributes.floating.floating&&r.floatingLeft&&r.floatingLeft,cursor:r.isDesigner&&r.isDragging&&"move"}),onScroll:t[0]||(t[0]=function(){return r.onScroll&&r.onScroll.apply(r,arguments)}),onClick:t[1]||(t[1]=function(e){return r.onClick(e)}),onMousedown:t[2]||(t[2]=function(e){return r.isDesigner&&r.onMouseDown(e)}),onMouseenter:t[3]||(t[3]=function(e){return r.isDesigner&&r.onMouseEnter(e)}),onMouseleave:t[4]||(t[4]=function(e){return r.isDesigner&&r.onMouseLeave(e)}),onMousemove:t[5]||(t[5]=function(e){return r.isDesigner&&r.onDragOver(e)}),onTouchmove:t[6]||(t[6]=function(e){return r.isDesigner&&r.onDragOver(e)})},["group"!==r.attributes.node&&r.isDisableVisible?Object(u["g"])("",!0):(Object(u["x"])(!0),Object(u["h"])(u["a"],{key:0},Object(u["D"])(r.rows,(function(e,t){return Object(u["x"])(),Object(u["f"])(c,{"xone-parent":r.attributes.name,key:"".concat(r.attributes.name,"-").concat(t),style:Object(u["r"])({justifyContent:r.attributes.align.row,alignItems:r.attributes.align.column,flexWrap:r.attributes.wrap?"wrap":null})},{default:Object(u["N"])((function(){return[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(e,(function(e,t){return Object(u["x"])(),Object(u["f"])(l,{key:"".concat(e.attributes.name,"-").concat(t),attributes:e.attributes,xoneDataObject:n.xoneDataObject},{default:Object(u["N"])((function(){return["frame"===e.attributes.node||"group"===e.attributes.node?(Object(u["x"])(),Object(u["f"])(o,{key:0,xoneDataObject:n.xoneDataObject,control:e,containerHeight:r.controlHeight||r.controlGrowHeight||n.containerHeight,containerWidth:r.controlWidth||r.controlGrowWidth||n.containerWidth},null,8,["xoneDataObject","control","containerHeight","containerWidth"])):Object(u["g"])("",!0),"prop"===e.attributes.node?(Object(u["x"])(),Object(u["f"])(s,{key:1,xoneDataObject:n.xoneDataObject,control:e,containerHeight:r.controlHeight||r.controlGrowHeight||n.containerHeight,containerWidth:r.controlWidth||r.controlGrowWidth||n.containerWidth},null,8,["xoneDataObject","control","containerHeight","containerWidth"])):Object(u["g"])("",!0)]})),_:2},1032,["attributes","xoneDataObject"])})),128))]})),_:2},1032,["xone-parent","style"])})),128))],46,vt)),[[u["K"],r.isActive&&!r.isDisableVisible]])}var yt=n("2909"),Ct=(n("a434"),{class:"xone-row"});function St(e,t,n,r,a,i){return Object(u["x"])(),Object(u["h"])("div",Ct,[Object(u["E"])(e.$slots,"default",{},void 0,!0)])}var Et={name:"Row"};n("185a");const kt=O()(Et,[["render",St],["__scopeId","data-v-86b0c20e"]]);var xt=kt,Tt=["href"];function wt(e,t,n,r,a,i){return"link"!==n.attributes.viewMode&&"anchor"!==n.attributes.viewMode||!n.attributes.href?Object(u["E"])(e.$slots,"default",{key:1},void 0,!0):(Object(u["x"])(),Object(u["h"])("a",{key:0,href:r.href,target:"_blank"},[Object(u["E"])(e.$slots,"default",{},void 0,!0)],8,Tt))}n("b64b");var At=n("5c40"),Pt={name:"Column",props:{attributes:{type:Object,required:!0},xoneDataObject:{type:Object,required:!0}},setup:function(e){var t=Object(_e["l"])();return Object(At["B"])((function(){"link"!==e.attributes.viewMode&&"anchor"!==e.attributes.viewMode||!e.attributes.href||(t.value=e.attributes.href,Object.keys(e.xoneDataObject.model).forEach((function(n){t.value==="##FLD_".concat(n,"##")&&Object(At["V"])((function(){return t.value=e.xoneDataObject.model[n]}))})))})),{href:t}}};n("a0c4");const Rt=O()(Pt,[["render",wt],["__scopeId","data-v-3c3c9289"]]);var It=Rt,jt=["xone-name"];function Nt(e,t,n,r,a,i){var o,s=Object(u["F"])("InputProp"),l=Object(u["F"])("ButtonProp"),c=Object(u["F"])("ImageProp"),d=Object(u["F"])("Contents"),h=Object(u["F"])("WebProp"),p=Object(u["F"])("VideoProp"),f=Object(u["F"])("Breadcrumb");return Object(u["O"])((Object(u["x"])(),Object(u["h"])("div",{class:"xone-prop",ref:"propElement","xone-name":r.attributes.name,style:Object(u["r"])({"--label-height":r.controlHeight&&"".concat(Math.ceil(r.controlHeight),"px")||"calc(".concat(r.attributes.lines," + 11px)")||"100%","--text-weight":r.attributes.fontBold?"bold":"normal","--input-bgcolor":(r.attributes.locked||r.isDisableEdit)&&r.attributes.textBgColorDisabled&&r.attributes.textBgColorDisabled||r.attributes.textBgColor||r.attributes.bgColor||"transparent","--input-forecolor":(r.attributes.locked||r.isDisableEdit)&&r.attributes.textForeColorDisabled&&r.attributes.textForeColorDisabled||r.attributes.textForeColor&&r.attributes.textForeColor||r.attributes.foreColor,"--padding-top":"".concat(r.paddings.top,"px"),"--padding-right":"".concat(r.paddings.right,"px"),"--padding-bottom":"".concat(r.paddings.bottom,"px"),"--padding-left":"".concat(r.paddings.left,"px"),"--margin-top":"".concat(r.margins.top,"px"),"--margin-right":"".concat(r.margins.right,"px"),"--margin-bottom":"".concat(r.margins.bottom,"px"),"--margin-left":"".concat(r.margins.left,"px"),"--border-color":r.attributes.borderColor,"--border-width":r.attributes.borderWidth,"--elevation":"".concat(r.attributes.elevation,"px"),height:r.controlHeight&&"".concat(r.controlHeight,"px")||r.finalImgSize&&"".concat(r.finalImgSize.height,"px")||(null!==(o=r.attributes.height)&&void 0!==o?o:"auto"),width:r.controlWidth&&"".concat(r.controlWidth,"px")||r.finalImgSize&&"".concat(r.finalImgSize.width,"px"),minHeight:r.attributes.minHeight?r.attributes.minHeight:null,minWidth:r.attributes.minWidth?r.attributes.minWidth:null,flexGrow:"grow"===r.attributes.width?1:null,backgroundColor:r.displayScreenThresholds&&"#ff000025",position:r.attributes.floating.floating&&"absolute",zIndex:r.attributes.floating.floating&&"9",top:r.attributes.floating.floating&&r.floatingTop&&r.floatingTop,left:r.attributes.floating.floating&&r.floatingLeft&&r.floatingLeft,border:r.displayScreenThresholds&&"1px solid #ff0000",cursor:r.isDesigner&&r.isDragging&&"move",overflow:r.isContents||r.isImage?"hidden":null}),onMousedown:t[0]||(t[0]=function(e){return r.isDesigner&&r.onMouseDown(e)}),onMouseenter:t[1]||(t[1]=function(e){return r.isDesigner&&r.onMouseEnter(e)}),onMouseleave:t[2]||(t[2]=function(e){return r.isDesigner&&r.onMouseLeave(e)}),onMousemove:t[3]||(t[3]=function(e){return r.isDesigner&&r.onDragOver(e)}),onTouchmove:t[4]||(t[4]=function(e){return r.isDesigner&&r.onDragOver(e)})},[r.isInput?(Object(u["x"])(),Object(u["f"])(s,{key:0,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth,controlHeight:r.controlHeight,inputType:r.inputType,isDisableEdit:r.isDisableEdit,checkboxSize:r.checkboxSize},null,8,["xoneDataObject","attributes","controlWidth","controlHeight","inputType","isDisableEdit","checkboxSize"])):Object(u["g"])("",!0),r.isButton?(Object(u["x"])(),Object(u["f"])(l,{key:1,xoneDataObject:n.xoneDataObject,attributes:r.attributes,paddings:r.paddings,isDisableEdit:r.isDisableEdit,containerWidth:n.containerWidth,containerHeight:n.containerHeight},null,8,["xoneDataObject","attributes","paddings","isDisableEdit","containerWidth","containerHeight"])):Object(u["g"])("",!0),r.isImage?(Object(u["x"])(),Object(u["f"])(c,{key:2,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth,controlHeight:r.controlHeight,containerWidth:n.containerWidth,containerHeight:n.containerHeight},null,8,["xoneDataObject","attributes","controlWidth","controlHeight","containerWidth","containerHeight"])):Object(u["g"])("",!0),r.isContents?(Object(u["x"])(),Object(u["f"])(d,{key:3,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth||n.containerWidth,controlHeight:r.controlHeight||n.containerHeight,isDisableEdit:r.isDisableEdit},null,8,["xoneDataObject","attributes","controlWidth","controlHeight","isDisableEdit"])):Object(u["g"])("",!0),r.isWeb?(Object(u["x"])(),Object(u["f"])(h,{key:4,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth,controlHeight:r.controlHeight},null,8,["xoneDataObject","attributes","controlWidth","controlHeight"])):Object(u["g"])("",!0),r.isVideo?(Object(u["x"])(),Object(u["f"])(p,{key:5,xoneDataObject:n.xoneDataObject,attributes:r.attributes,controlWidth:r.controlWidth,controlHeight:r.controlHeight},null,8,["xoneDataObject","attributes","controlWidth","controlHeight"])):Object(u["g"])("",!0),r.isBreadcrumb?(Object(u["x"])(),Object(u["f"])(f,{key:6,attributes:r.attributes},null,8,["attributes"])):Object(u["g"])("",!0)],44,jt)),[[u["K"],!r.isDisableVisible]])}var Mt={key:2,class:"xone-input-container"},Dt=["disabled","value","type","step","maxlength"],Lt=["disabled","value","maxlength"],Ft=["disabled"],Gt=["disabled"],Bt=["for"];function Vt(e,t,n,r,a,i){var o=Object(u["F"])("Checkbox"),s=Object(u["F"])("LinkedSearchInline");return Object(u["x"])(),Object(u["h"])(u["a"],null,["NC"===n.attributes.type?(Object(u["x"])(),Object(u["f"])(o,{key:0,attributes:n.attributes,xoneDataObject:n.xoneDataObject,isDisabled:n.attributes.locked||n.isDisableEdit||r.isLinked||r.objectInfo.isContents&&!r.objectInfo.editInRow,controlWidth:n.controlWidth,controlHeight:n.controlHeight,checkboxSize:n.checkboxSize},null,8,["attributes","xoneDataObject","isDisabled","controlWidth","controlHeight","checkboxSize"])):Object(u["g"])("",!0),0==n.attributes.labelWidth||n.attributes.floatingTooltip?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",{key:1,class:"xone-input-label",style:Object(u["r"])({height:"var(--label-height)",width:"TL"===n.attributes.type?"100%":n.attributes.labelWidth,fontSize:n.attributes.fontSize,backgroundColor:n.attributes.bgColor,border:n.attributes.labelBox&&"1px solid ".concat(n.attributes.borderColor),flexGrow:"NC"===n.attributes.type&&1})},[Object(u["i"])("label",{style:Object(u["r"])({color:n.attributes.foreColor,fontSize:n.attributes.fontSize,alignItems:n.attributes.labelAlign,justifyContent:n.attributes.labelAlign,paddingTop:"TL"===n.attributes.type?"var(--padding-top)":null,paddingRight:"TL"===n.attributes.type?"var(--padding-right)":null,paddingBottom:"TL"===n.attributes.type?"var(--padding-bottom)":null,paddingLeft:"TL"===n.attributes.type?"var(--padding-left)":null}),class:Object(u["q"])(["xone-title",{noEditInRow:r.objectInfo.isContents&&!r.objectInfo.editInRow}])},Object(u["H"])(n.attributes.title),7)],4)),"TL"!=n.attributes.type&&"NC"!==n.attributes.type?(Object(u["x"])(),Object(u["h"])("div",Mt,[n.attributes.multiLine?(Object(u["x"])(),Object(u["h"])("textarea",{key:1,ref:"textAreaElement",required:"",disabled:"AT"===n.attributes.type||n.attributes.locked||n.isDisableEdit||r.isLinked||r.objectInfo.isContents&&!r.objectInfo.editInRow,onInput:t[5]||(t[5]=function(){return r.onInput&&r.onInput.apply(r,arguments)}),value:r.propValue,maxlength:n.attributes.fixedText&&n.attributes.size||null,style:Object(u["r"])({width:n.attributes.width?"99%":n.attributes.fieldSize,height:n.controlHeight&&"".concat(n.controlHeight-11,"px")||n.attributes.lines,borderRadius:n.attributes.borderCornerRadius,textAlign:n.attributes.textAlign&&n.attributes.textAlign,textOverflow:n.attributes.textOverflow,fontSize:n.attributes.textFontSize?n.attributes.textFontSize:n.attributes.fontSize,paddingRight:r.isLinked&&"35px"}),class:Object(u["q"])({nobordertop:!n.attributes.borders.top,noborderright:!n.attributes.borders.right,noborderbottom:!n.attributes.borders.bottom,noborderleft:!n.attributes.borders.left,disabled:n.attributes.locked||n.isDisableEdit,noEditInRow:r.objectInfo.isContents&&!r.objectInfo.editInRow}),onChange:t[6]||(t[6]=function(e){return r.onChange()}),onFocus:t[7]||(t[7]=function(e){return r.onFocusChanged(!0)}),onBlur:t[8]||(t[8]=function(e){return r.onFocusChanged(!1)}),onKeydown:t[9]||(t[9]=function(){return r.onKeyPress&&r.onKeyPress.apply(r,arguments)})},null,46,Lt)):(Object(u["x"])(),Object(u["h"])("input",{key:0,ref:"inputElement",required:"",disabled:"AT"===n.attributes.type||n.attributes.locked||n.isDisableEdit||r.isLinked||r.objectInfo.isContents&&!r.objectInfo.editInRow,onInput:t[0]||(t[0]=function(){return r.onInput&&r.onInput.apply(r,arguments)}),value:r.propValue,type:n.inputType,step:r.numberStep,maxlength:n.attributes.fixedText&&n.attributes.size||null,style:Object(u["r"])({width:void 0!==n.attributes.width?"100%":n.attributes.fieldSize,height:n.controlHeight&&"".concat(n.controlHeight-11,"px")||n.attributes.lines,borderRadius:n.attributes.borderCornerRadius,textAlign:n.attributes.textAlign||n.attributes.align,textOverflow:n.attributes.textOverflow,fontSize:n.attributes.textFontSize?n.attributes.textFontSize:n.attributes.fontSize,paddingRight:r.isLinked&&"35px"}),class:Object(u["q"])({nobordertop:!n.attributes.borders.top,noborderright:!n.attributes.borders.right,noborderbottom:!n.attributes.borders.bottom,noborderleft:!n.attributes.borders.left,noEditInRow:r.objectInfo.isContents&&!r.objectInfo.editInRow}),onChange:t[1]||(t[1]=function(e){return r.onChange()}),onFocus:t[2]||(t[2]=function(e){return r.onFocusChanged(!0)}),onBlur:t[3]||(t[3]=function(e){return r.onFocusChanged(!1)}),onKeydown:t[4]||(t[4]=function(){return r.onKeyPress&&r.onKeyPress.apply(r,arguments)})},null,46,Dt)),!r.isLinked||r.objectInfo.isContents&&!r.objectInfo.editInRow?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("button",{key:2,ref:"linkedSearchElement",class:"xone-input xone-input-linked",style:Object(u["r"])({opacity:n.attributes.locked||n.isDisableEdit?.5:1,cursor:n.attributes.locked||n.isDisableEdit?"default":"pointer","--image-showinline":"url(".concat(r.appPath,"/assets/showinline.png)")}),disabled:n.attributes.locked||n.isDisableEdit,onClick:t[10]||(t[10]=function(){return r.onLinkedSearchButtonClick&&r.onLinkedSearchButtonClick.apply(r,arguments)})},null,12,Ft)),"AT"!==n.attributes.type||r.objectInfo.isContents&&!r.objectInfo.editInRow?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("button",{key:3,ref:"linkedSearchElement",class:"xone-input xone-input-attach",style:Object(u["r"])({opacity:n.attributes.locked||n.isDisableEdit?.5:1,cursor:n.attributes.locked||n.isDisableEdit?"default":"pointer","--image-showinline":"url(".concat(r.appPath,"/assets/attach.png)")}),disabled:n.attributes.locked||n.isDisableEdit,onClick:t[11]||(t[11]=function(){return r.onAttachButtonClick&&r.onAttachButtonClick.apply(r,arguments)})},null,12,Gt)),r.isLinkedSearchVisible?(Object(u["x"])(),Object(u["f"])(s,{key:4,xoneDataObject:n.xoneDataObject,attributes:n.attributes,onOnHide:t[12]||(t[12]=function(e){return r.isLinkedSearchVisible=!1}),onOnSelectedItem:r.onSelectedItem,linkedSearchPosition:r.linkedSearchPosition},null,8,["xoneDataObject","attributes","onOnSelectedItem","linkedSearchPosition"])):Object(u["g"])("",!0),["D","DT","TT"].includes(n.attributes.type)||""===n.attributes.tooltip||n.attributes.locked||n.isDisableEdit?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("label",{key:5,class:Object(u["q"])(["xone-tooltip",n.attributes.floatingTooltip?"float":"nofloat",n.attributes.floatingTooltip&&r.propValue&&r.isLinked?"linked-input-fill":""]),for:n.attributes.name,style:Object(u["r"])({color:n.attributes.tooltipColor,textAlign:n.attributes.textAlign,"--floating-tooltip-transform":r.floatingTooltipTransform})},Object(u["H"])(r.propValue&&!n.attributes.floatingTooltip?"":n.attributes.tooltip),15,Bt))])):Object(u["g"])("",!0)],64)}n("a15b");var Ut=["value"],Wt=["onClick"];function Yt(e,t,n,r,a,i){return Object(u["x"])(),Object(u["f"])(u["b"],{to:"body"},[Object(u["i"])("div",{class:"xone-linked-container",onClick:t[6]||(t[6]=function(e){return!r.isMouseOnInput&&r.onHide()})},[Object(u["i"])("div",{ref:"divElement",style:Object(u["r"])({"--linked-search-max-height":"calc(".concat(r.containerHeight,"px - 50%)"),"--linked-search-max-width":"calc(".concat(r.maxWidthPosition,")"),"--linked-search-min-width":n.linkedSearchPosition.width+"px","--linked-search-table-min-width":n.linkedSearchPosition.width-(r.elementHasScroll?7:0)+"px","--linked-search-min-height":"25px","--linked-search-right-position":r.rightPosition,"--linked-search-top-position":0===r.rows.length?n.linkedSearchPosition.top+"px":r.topPosition,overflow:0===r.rows.length?"hidden":null})},[Object(u["i"])("input",{style:Object(u["r"])({"--image-search-placeholder":"url(".concat(r.appPath,"/assets/search-placeholder.png)")}),onInput:t[0]||(t[0]=function(e){var t=e.target;return r.filterModel=t.value}),value:r.filterModel,onFocus:t[1]||(t[1]=function(){return r.onFocus&&r.onFocus.apply(r,arguments)}),onBlur:t[2]||(t[2]=function(){return r.onBlur&&r.onBlur.apply(r,arguments)}),onClick:t[3]||(t[3]=function(){return r.onFilterSelected&&r.onFilterSelected.apply(r,arguments)}),onMouseover:t[4]||(t[4]=function(e){return r.isMouseOnInput=!0}),onMouseleave:t[5]||(t[5]=function(e){return r.isMouseOnInput=!1})},null,44,Ut),Object(u["O"])(Object(u["i"])("table",null,[Object(u["i"])("tbody",null,[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.filteredRows,(function(e,t){return Object(u["x"])(),Object(u["h"])("tr",{key:"rowItem".concat(t)},[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(e,(function(e,t){return Object(u["x"])(),Object(u["h"])("td",{key:"columnItem".concat(t),onClick:function(t){return r.onSelectedItem(e)},style:Object(u["r"])({textAlign:e.textAlign})},Object(u["H"])(e.value),13,Wt)})),128))])})),128))])],512),[[u["K"],0!==r.rows.length]])],4)])])}n("1276");var Ht={name:"LinkedSearchInline",emits:["onHide","onSelectedItem"],props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},linkedSearchPosition:{type:Object,required:!0}},setup:function(e,t){var n=Object(u["C"])(""),r=Object(u["C"])(!1),a=Object(u["o"])("containerSize"),i=a.containerWidth,o=a.containerHeight,s=function(){return t.emit("onHide")},l=Object(u["o"])("isInputFocused"),c=function(){return l.value=!0},d=function(){return l.value=!1},p=function(e){r.value=!0,e.preventDefault(),setTimeout((function(){return r.value=!1}),500)},f=function(e){return t.emit("onSelectedItem",e)},m=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"mapcol-values"),g=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"mapcol"),b=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"mapfld"),_=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"filter"),v=e.xoneDataObject.getFieldPropertyValue(e.attributes.linkedTo,"linkfilter"),O=Object(u["C"])([]),y=Object(u["d"])((function(){return n.value?O.value.filter((function(e){var t=!1;return e.forEach((function(e){t||(t=e.value.toString().toLowerCase().includes(n.value.toLowerCase()))})),t})):O.value}));Object(u["v"])(Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["p"])();case 3:if(w(),!m){e.next=8;break}return setTimeout(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["p"])();case 2:w();case 3:case"end":return e.stop()}}),e)})))),t=m.split(","),e.abrupt("return",O.value=t.map((function(e){return[{mapValue:t.indexOf(e),value:e}]})));case 8:return e.next=10,X["a"].getAppData().getCollection(g);case 10:return n=e.sent,r=[],a=function e(t){var n;null===(n=t.controls)||void 0===n||n.forEach((function(t){var n=me["c"].getPropAttributes(t.attributes);"group"!==n.node&&"frame"!==n.node||e(t),"prop"===n.node&&(n.type.startsWith("T")||n.type.startsWith("N"))&&r.push(n)}))},a(n.getLayout(8)),v&&n.setLinkFilter(v),n.setFilter(_),e.next=18,n.startBrowse();case 18:O.value=[],i=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.getCurrentItem(),O.value.push(r.map((function(e){return{mapValue:t[b],value:t[e.name],textAlign:e.textAlign}}))),e.next=4,n.moveNext();case 4:case"end":return e.stop()}}),e)}));case 20:if(!n.getCurrentItem()){e.next=24;break}return e.delegateYield(i(),"t0",22);case 22:e.next=20;break;case 24:return n.clear(),e.next=27,Object(u["p"])();case 27:w(),e.next=33;break;case 30:e.prev=30,e.t1=e["catch"](0),console.error(e.t1);case 33:case"end":return e.stop()}}),e,null,[[0,30]])}))));var C=Object(u["C"])(),S=Object(u["C"])((window.innerWidth-i.value)/2+i.value-e.linkedSearchPosition.left),E=Object(u["C"])(e.linkedSearchPosition.top+"px"),k=Object(u["C"])(e.linkedSearchPosition.width+"px"),x=Object(u["C"])(e.linkedSearchPosition.height+"px"),T=Object(u["C"])(!1);Object(u["L"])((function(){return n.value}),Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["p"])();case 2:w();case 3:case"end":return e.stop()}}),e)}))));var w=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(C.value){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(u["p"])();case 4:if(n=(window.innerWidth-i.value)/2+i.value-e.linkedSearchPosition.left,window.innerWidth-C.value.scrollWidth>n?S.value="".concat(n,"px"):window.client>C.value.scrollWidth?S.value="".concat(window.innerWidth-C.value.scrollWidth,"px"):(n=15,S.value="15px"),C.value.offsetHeight<=o.value-e.linkedSearchPosition.top?E.value="".concat(e.linkedSearchPosition.top-15,"px"):E.value="calc(100vh - 5% - ".concat(C.value.offsetHeight-15,"px)"),0!=O.value.length){t.next=9;break}return t.abrupt("return");case 9:x.value=C.value.offsetHeight+"px",k.value="".concat(window.innerWidth-n-15,"px"),T.value=C.value.scrollHeight>C.value.clientHeight;case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(u["v"])((function(){return window.addEventListener("resize",w)})),Object(u["w"])((function(){return window.removeEventListener("resize",w)})),Object(u["L"])((function(){return i.value}),(function(){return s()})),Object(u["L"])((function(){return o.value}),(function(){return s()})),{filterModel:n,isMouseOnInput:r,containerWidth:i,containerHeight:o,elementHasScroll:T,onHide:s,onFocus:c,onBlur:d,onFilterSelected:p,onSelectedItem:f,rows:O,filteredRows:y,divElement:C,rightPosition:S,topPosition:E,heightPosition:x,maxWidthPosition:k,appPath:Object(ge["a"])()}}};n("297b");const Xt=O()(Ht,[["render",Yt],["__scopeId","data-v-37329dfa"]]);var qt=Xt,zt=["disabled","checked"],Kt=["disabled","name","prop","checked"],Jt=["disabled"];function Qt(e,t,n,r,a,i){return n.attributes.imgChecked||n.attributes.imgUnchecked?(Object(u["x"])(),Object(u["h"])("button",{key:1,disabled:n.isDisabled,onClick:t[2]||(t[2]=function(e){return r.onCheckboxCheckedChange()}),style:Object(u["r"])({width:r.imageSize.width?"".concat(r.imageSize.width,"px"):void 0!==n.attributes.width?"100%":n.attributes.fieldSize,height:r.imageSize.height?"".concat(r.imageSize.height,"px"):n.controlHeight&&"".concat(n.controlHeight-11,"px")||"30px",backgroundImage:"url(".concat(n.isDisabled||n.attributes.locked?1==n.xoneDataObject.model[n.attributes.name]?r.backgroundImageCheckedDisabled||r.backgroundImageChecked:r.backgroundImageUncheckedDisabled||r.backgroundImageUnchecked:1==n.xoneDataObject.model[n.attributes.name]?r.backgroundImageChecked:r.backgroundImageUnchecked,")"),opacity:r.changeOpacity&&n.attributes.disableEdit&&""!==n.attributes.disableEdit&&n.isDisabled?.4:1})},null,12,Jt)):(Object(u["x"])(),Object(u["h"])("div",{key:0,style:Object(u["r"])({padding:"0",alignItems:n.attributes.labelAlign,"--checkbox-size":n.checkboxSize?"".concat(n.checkboxSize,"px"):"calc(4px + ".concat(n.attributes.fontSize,")")})},[n.attributes.isRadio?(Object(u["x"])(),Object(u["h"])("input",{key:1,ref:"radioElement",disabled:n.isDisabled,type:"radio",name:"".concat(n.attributes.radioGroup,"-").concat(r.breadcrumbId).concat(r.objectIndex),prop:n.attributes.name,checked:1===n.xoneDataObject.model[n.attributes.name],onChange:t[1]||(t[1]=function(e){return r.onRadioCheckedChange()})},null,40,Kt)):(Object(u["x"])(),Object(u["h"])("input",{key:0,ref:"checkboxElement",disabled:n.isDisabled,checked:1===n.xoneDataObject.model[n.attributes.name],onChange:t[0]||(t[0]=function(e){return r.onCheckboxCheckedChange()}),type:"checkbox"},null,40,zt))],4))}var Zt={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},isDisabled:{type:Boolean,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0},checkboxSize:{type:Number,default:null}},setup:function(e){var t=Object(u["C"])(),n=Object(u["C"])(),r=Object(u["o"])("breadcrumbId"),a=Object(u["o"])("objectInfo"),i=a.isContents?a.recordIndex:"",o=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,null===a||void 0===a||!a.editInRow||!a.autosave){t.next=4;break}return t.next=4,e.xoneDataObject.save();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),xoneUI.showSnackbar({text:t.t0,color:"red"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}(),s=function(){e.xoneDataObject.changeModelValue(e.attributes.name,0!==e.xoneDataObject.model[e.attributes.name]&&e.xoneDataObject.model[e.attributes.name]?0:1),o()},l=function(){e.xoneDataObject.changeModelValue(e.attributes.name,n.value.checked?1:0),document.querySelectorAll("[name='".concat(e.attributes.radioGroup,"-").concat(r).concat(i,"']")).forEach((function(t){t!==n.value&&e.xoneDataObject.changeModelValue(t.getAttribute("prop"),0)})),o()},c=Object(u["o"])("scaleFactor"),d=c.widthFactor,p=c.heightFactor,f=Object(u["B"])({width:Object(u["d"])((function(){return me["c"].getScaledSize(e.attributes.imgWidth,e.containerWidth,d.value)})),height:Object(u["d"])((function(){return me["c"].getScaledSize(e.attributes.imgHeight,e.containerHeight,p.value)}))}),m=Object(u["C"])("".concat(Object(ge["a"])(),"/icons/").concat(e.attributes.imgChecked)),g=Object(u["C"])("".concat(Object(ge["a"])(),"/icons/").concat(e.attributes.imgUnchecked)),b=Object(u["C"])("".concat(Object(ge["a"])(),"/icons/").concat(e.attributes.imgCheckedDisabled)),_=Object(u["C"])("".concat(Object(ge["a"])(),"/icons/").concat(e.attributes.imgUncheckedDisabled));Object(u["v"])((function(){Object(ge["b"])(e.attributes.imgChecked,"icons").then((function(e){return m.value=e})),Object(ge["b"])(e.attributes.imgUnchecked,"icons").then((function(e){return g.value=e})),Object(ge["b"])(e.attributes.imgCheckedDisabled,"icons").then((function(e){return b.value=e})),Object(ge["b"])(e.attributes.imgUncheckedDisabled,"icons").then((function(e){return _.value=e})),(b.value||_.value)&&(v.value=!1)}));var v=Object(u["C"])(!0);return{checkboxElement:t,radioElement:n,breadcrumbId:r,objectIndex:i,imageSize:f,backgroundImageChecked:m,backgroundImageUnchecked:g,onChange:o,onCheckboxCheckedChange:s,onRadioCheckedChange:l,backgroundImageCheckedDisabled:b,backgroundImageUncheckedDisabled:_,changeOpacity:v}}};n("4096");const $t=O()(Zt,[["render",Qt],["__scopeId","data-v-20e563e6"]]);var en=$t,tn={components:{Checkbox:en,LinkedSearchInline:qt},props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},isDisableEdit:{type:Boolean,required:!0},checkboxSize:{type:Number,default:null},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0},inputType:{type:String,default:"text"}},setup:function(e){var t=Object(u["o"])("objectInfo"),n=null===t||void 0===t?void 0:t.editInRow,r=Object(u["d"])((function(){if(2===e.attributes.type.length&&"N"===e.attributes.type[0]){var t=parseInt(e.attributes.type[1]);return isNaN(t)?"":".".concat(Array(t).join("0"),"1")}return""})),a=Object(u["d"])((function(){return e.attributes.linkedTo&&""!==e.attributes.linkedTo&&e.attributes.linkedField&&""!==e.attributes.linkedField})),i=Object(u["C"])(!1),o=function(t){var n=t.mapValue,r=t.value;e.xoneDataObject.changeModelValue(e.attributes.linkedTo,n),s.value=r},s=Object(u["C"])();Object(u["v"])((function(){return d(e.xoneDataObject.model[e.attributes.name])}));var l=Object(u["C"])();Object(u["p"])((function(){return c()}));var c=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.attributes.multiLine){t.next=2;break}return t.abrupt("return");case 2:if(l.value){t.next=4;break}return t.abrupt("return");case 4:if("grow"===e.attributes.height||"auto"===e.attributes.height){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Object(u["p"])();case 8:return l.value.style.height="1px",l.value.style.height=l.value.scrollHeight+"px",t.next=12,new Promise((function(e){return setTimeout((function(){return e()}),50)}));case 12:0!==(null===(n=l.value)||void 0===n?void 0:n.scrollHeight)&&(null===(r=l.value)||void 0===r?void 0:r.clientHeight)===(null===(a=l.value)||void 0===a?void 0:a.scrollHeight)||c();case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(u["L"])((function(){return e.xoneDataObject.model[e.attributes.name]}),(function(e){return d(e)}));var d=function(t){try{if(c(),e.attributes.type.startsWith("D")){var n=t;if(!n)return;s.value=n.toXoneDate(e.attributes.type)}else if("X"===e.attributes.type)try{s.value=atob(t)}catch(r){s.value=t}else s.value!==t&&(s.value=t)}catch(a){console.error(a)}},p="",f=!1,m=function(t){var n=t.key;"Enter"===n&&(p=n,e.attributes.onEditorAction&&!f&&(f=!0,me["c"].executeMethod(e.attributes.onEditorAction,e.xoneDataObject).catch(console.error).finally((function(){return f=!1}))),me["c"].executeBindedEvent(e.xoneDataObject,e.attributes,"oneditoraction",{}))},g=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){var r,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=n.target,a=s.value,i=r.value,p&&"Unidentified"!==p||i.includes(a)&&(p=i.replace(a,"")),e.xoneDataObject[e.attributes.name]!==i){t.next=6;break}return t.abrupt("return");case 6:if(t.prev=6,e.attributes.type.startsWith("D")?e.xoneDataObject.changeModelValue(e.attributes.name,new Date(i)):"X"===e.attributes.type?e.xoneDataObject.changeModelValue(e.attributes.name,btoa(i)):e.xoneDataObject.changeModelValue(e.attributes.name,i),t.prev=8,!e.attributes.onTextChanged){t.next=12;break}return t.next=12,e.xoneDataObject.DoRunScriptAsync("let e = { target: '".concat(e.attributes.name,"', objItem: '").concat(e.attributes.name,"', newText: '").concat(i,"', oldText: '").concat(a,"', keyPressed: '").concat(p,"' };\n                  \t\t\t").concat(e.attributes.onTextChanged));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](8),b["a"].showSnackbar({text:t.t0,color:"red"});case 17:return t.next=19,me["c"].executeBindedEvent(e.xoneDataObject,e.attributes,"ontextchanged",{newText:i,oldText:a,keyPressed:p});case 19:t.next=24;break;case 21:t.prev=21,t.t1=t["catch"](6),console.error(t.t1);case 24:case"end":return t.stop()}}),t,null,[[6,21],[8,14]])})));return function(e){return t.apply(this,arguments)}}(),_=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!n||!t.autosave){r.next=4;break}return r.next=4,e.xoneDataObject.save();case 4:r.next=9;break;case 6:r.prev=6,r.t0=r["catch"](0),b["a"].showSnackbar({text:r.t0,color:"red"});case 9:case"end":return r.stop()}}),r,null,[[0,6]])})));return function(){return r.apply(this,arguments)}}(),v=Object(u["o"])("xoneView");Object(u["v"])((function(){v.addControl(new ye["a"](e.attributes.name,T.value||l.value))}));var O=Object(u["o"])("isInputFocused");Object(u["w"])((function(){return O.value=!1}));var y=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,O.value=n,!e.attributes.onFocusChanged){t.next=5;break}return t.next=5,e.xoneDataObject.DoRunScriptAsync("let e = { target: '".concat(e.attributes.name,"',objItem: '").concat(e.attributes.name,"',isFocused: ").concat(n," };\n            ").concat(e.attributes.onFocusChanged));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),b["a"].showSnackbar({text:t.t0,color:"red"});case 10:return t.next=12,me["c"].executeBindedEvent(e.xoneDataObject,e.attributes,"onfocuschanged",{isFocused:n});case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),C=Object(u["o"])("containerSize"),S=C.containerHeight,E=C.containerWidth;Object(u["L"])((function(){return S.value}),(function(){return c()})),Object(u["L"])((function(){return E.value}),(function(){return c()}));var k=Object(u["d"])((function(){return e.attributes.floatingTooltip?e.controlHeight&&0!==e.controlHeight?"translate3d(-.5rem, calc(".concat(-1*e.controlHeight/2,"px + .4rem), 0)"):"translate3d(-.5rem, -1.5rem, 0)":null})),x=Object(u["C"])(),T=Object(u["C"])(),w=Object(u["C"])(),A=function(){R(),i.value=!0},P=function(){return b["a"].pickFile(e.attributes.name,e.attributes.allowedExtensions)},R=function(){if(x.value){var e=T.value||l.value;w.value={top:x.value.getBoundingClientRect().top,left:x.value.getBoundingClientRect().left-(window.innerWidth-E.value)/2,width:e.offsetWidth-x.value.offsetWidth-40,height:e.offsetHeight}}},I=function(){"NC"!==!e.attributes.type&&(0===s.value?s.value=1:s.value=0,e.xoneDataObject.changeModelValue(e.attributes.name,s.value))};return{numberStep:r,isLinked:a,isLinkedSearchVisible:i,onSelectedItem:o,propValue:s,objectInfo:t,textAreaElement:l,onInput:g,onChange:_,onFocusChanged:y,onKeyPress:m,floatingTooltipTransform:k,onLinkedSearchButtonClick:A,onAttachButtonClick:P,linkedSearchElement:x,inputElement:T,linkedSearchPosition:w,appPath:Object(ge["a"])(),onLabelClick:I}}};n("9d38");const nn=O()(tn,[["render",Vt],["__scopeId","data-v-2ea048d5"]]);var rn=nn,an=["src"],on=["width","height"],sn={key:2,class:"xone-clear-signature"};function ln(e,t,n,r,a,i){return Object(u["x"])(),Object(u["h"])(u["a"],null,[n.attributes.readOnly&&r.imgPath?(Object(u["x"])(),Object(u["h"])("img",{key:0,draggable:"false",ref:"imgElement",alt:"",loading:"lazy",src:r.imgPath,class:Object(u["q"])({"keep-aspect-ratio":n.attributes.keepAspectRatio})},null,10,an)):Object(u["g"])("",!0),n.attributes.readOnly&&"DR"!==n.attributes.type?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("canvas",{key:1,ref:"signElement",width:n.controlWidth,height:n.controlHeight,style:Object(u["r"])({position:"DR"===n.attributes.type&&"absolute",backgroundColor:"DR"===n.attributes.type&&"transparent"}),class:"xone-signature"},null,12,on)),n.attributes.readOnly?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",sn,[Object(u["i"])("button",{onClick:t[0]||(t[0]=function(e){return r.clearCanvas()})},"")]))],64)}var un=n("90e2"),cn={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0},containerWidth:{type:Number,default:0},containerHeight:{type:Number,default:0}},setup:function(e){var t=Object(u["C"])();Object(u["M"])((function(){var n,r;null!==(n=e.xoneDataObject)&&void 0!==n&&n.model&&(t.value=null===(r=e.xoneDataObject)||void 0===r?void 0:r.model[e.attributes.name])}));var n=Object(u["C"])(),r=Object(u["C"])(),a=function(){var t=function(){me["c"].fitHeightToContainer(e.attributes,r),me["c"].fitWidthToContainer(e.attributes,r)};setTimeout((function(){return t()}),100),t()};Object(u["M"])(Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t.value){r.next=4;break}return r.next=3,Object(ge["b"])(t.value,"files");case 3:n.value=r.sent;case 4:if(!e.attributes.image||""===e.attributes.image){r.next=8;break}return r.next=7,Object(ge["b"])(e.attributes.image,"icons");case 7:n.value=r.sent;case 8:a();case 9:case"end":return r.stop()}}),r)}))));var i,o=Object(u["C"])();Object(u["v"])((function(){o.value&&(o.value.setAttribute("swipeable",!1),i=new un["a"](o.value))}));var s=function(){i&&i.clear()},l=Object(u["o"])("lastBreadcrumb"),c=Object(u["o"])("breadcrumbId");Object(u["M"])((function(){var e;c===(null===l||void 0===l||null===(e=l.value)||void 0===e?void 0:e.id)&&a()})),Object(u["p"])((function(){Object(u["L"])((function(){return e.containerWidth}),(function(){return a()})),Object(u["L"])((function(){return e.containerHeight}),(function(){return a()}))}));var d=Object(u["o"])("groupId"),p=Object(u["o"])("groupHandler"),f=p.activeGroup;Object(u["L"])((function(){return f.value}),(function(e){d===e&&a()}));var m=Object(u["o"])("xoneView"),g=new ye["a"](e.attributes.name,r.value||o.value);return Object(u["v"])((function(){g.clearDrawing=s,m.addControl(g)})),{imgElement:r,imgPath:n,signElement:o,clearCanvas:s}}};n("1d6a");const dn=O()(cn,[["render",ln],["__scopeId","data-v-dec9e398"]]);var hn=dn,pn=function(e){return Object(u["A"])("data-v-24a533b4"),e=e(),Object(u["y"])(),e},fn={key:2,style:{color:"#1f3c6e",background:"#4cabd5",padding:"10px"}},mn={key:0,class:"xone-contents-no-data"},gn={key:6,class:"xone-loader"},bn=pn((function(){return Object(u["i"])("div",null,null,-1)})),_n=[bn];function vn(e,t,n,r,a,i){var o=Object(u["F"])("router-view"),s=Object(u["F"])("Map"),l=Object(u["F"])("Calendar"),c=Object(u["F"])("PictureMap"),d=Object(u["F"])("ChartBar"),h=Object(u["F"])("ChartPie"),p=Object(u["F"])("ContentsRow");return Object(u["x"])(),Object(u["h"])("div",{ref:"contentsElement",class:Object(u["q"])(["xone-contents",{"xone-gridview":r.isGridView&&n.attributes.galleryColumns>-1,"xone-flexview":r.isGridView&&n.attributes.galleryColumns<0,"xone-slideview":r.isSlideView}]),style:Object(u["r"])({height:n.attributes.height&&"auto"!==n.attributes.height&&n.controlHeight&&"".concat(n.controlHeight,"px")||"auto",maxWidth:"picturemap"===n.attributes.viewMode&&"".concat(n.controlWidth,"px"),flexGrow:"grow"===n.attributes.width?1:null,backgroundColor:n.attributes.bgColor,"grid-template-columns":r.isGridView&&r.gridTemplateColumns,animation:r.isContents&&"slideDown 0.3s, fadeIn 0.3s","--contents-width":"".concat(n.controlWidth,"px"),"--contents-height":"".concat(n.controlHeight,"px"),"--contents-max-height":"".concat(r.fitHeight?"calc(".concat(r.fitHeight,"px - var(--margin-bottom))"):null),"--app-width":r.isRouterView&&n.controlWidth&&"".concat(n.controlWidth-2,"px")||"auto","--app-height":r.isRouterView&&n.controlHeight&&"".concat(n.controlHeight-2,"px")||"auto",overflow:r.isRouterView||r.isChartView?"hidden":null,flexWrap:n.attributes.wrap?"wrap":null,paddingBottom:n.attributes.viewMode||r.isLoading||r.isContents?null:"100px"}),onScroll:t[0]||(t[0]=function(){return r.onScroll&&r.onScroll.apply(r,arguments)})},[r.isRouterView?(Object(u["x"])(),Object(u["f"])(o,{key:0})):Object(u["g"])("",!0),r.isMapView?(Object(u["x"])(),Object(u["f"])(s,{key:1,xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["xoneDataObject","controlHeight","controlWidth","attributes"])):r.isCalendarView?(Object(u["x"])(),Object(u["f"])(l,{key:2,xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["xoneDataObject","controlHeight","controlWidth","attributes"])):r.isPictureMapView?(Object(u["x"])(),Object(u["f"])(c,{key:3,style:Object(u["r"])({"--contents-height":"".concat(r.fitHeight||n.controlHeight,"px")}),xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["style","xoneDataObject","controlHeight","controlWidth","attributes"])):r.isChartView?(Object(u["x"])(),Object(u["h"])(u["a"],{key:4},[r.isChartBar?(Object(u["x"])(),Object(u["f"])(d,{key:0,xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["xoneDataObject","controlHeight","controlWidth","attributes"])):r.isChartPie?(Object(u["x"])(),Object(u["f"])(h,{key:1,xoneDataObject:n.xoneDataObject,controlHeight:r.fitHeight||n.controlHeight,controlWidth:n.controlWidth,attributes:n.attributes},null,8,["xoneDataObject","controlHeight","controlWidth","attributes"])):(Object(u["x"])(),Object(u["h"])("div",fn," XOne -> Not implemented chart type, please contact to desarrollador@xone.es "))],64)):(Object(u["x"])(),Object(u["h"])(u["a"],{key:5},[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.contentsRowsInfo,(function(e){return Object(u["x"])(),Object(u["f"])(p,{key:"".concat(r.breadcrumbId,"-").concat(n.attributes.name,"-").concat(e.id),rowInfo:e,controlWidth:r.isGridView?n.controlWidth/n.attributes.galleryColumns:n.controlWidth,controlHeight:r.fitHeight||n.controlHeight,attributes:n.attributes,isSlideView:r.isSlideView,isDisableEdit:n.isDisableEdit,isExpanView:r.isExpanView,rowsLength:r.rowsLength},null,8,["rowInfo","controlWidth","controlHeight","attributes","isSlideView","isDisableEdit","isExpanView","rowsLength"])})),128)),!r.isLoading&&0===r.contentsRowsInfo.length&&r.noDataMsg?(Object(u["x"])(),Object(u["h"])("div",mn,Object(u["H"])(r.noDataMsg),1)):Object(u["g"])("",!0)],64)),!r.isLoading||r.isMapView||r.isCalendarView||r.isChartView||r.isPictureMapView?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",gn,_n))],38)}var On=["id"];function yn(e,t,n,r,a,i){var o=Object(u["F"])("Container");return Object(u["x"])(),Object(u["h"])("div",{id:"".concat(n.attributes.name.replace("@","")).concat(n.rowInfo.id).concat(r.breadcrumbId),class:Object(u["q"])(["xone-contents-row",n.isSlideView&&"xone-slidesnap"])},[r.isRowLoaded&&r.xoneDataObject&&r.control?(Object(u["x"])(),Object(u["h"])(u["a"],{key:0},[n.rowInfo.visible||n.attributes.editInRow?Object(u["O"])((Object(u["x"])(),Object(u["f"])(o,{key:0,xoneDataObject:r.xoneDataObject,control:r.control,containerHeight:n.controlHeight,containerWidth:n.controlWidth,visibilityBit:4,onClick:r.onContentsRowClick,style:Object(u["r"])({backgroundColor:r.backgroundColor,cursor:!n.attributes.editInRow&&!n.attributes.locked&&"pointer",animation:"fadeIn 0.3s"}),onOnDataObjectChange:r.onDataObjectChange},null,8,["xoneDataObject","control","containerHeight","containerWidth","onClick","style","onOnDataObjectChange"])),[[u["K"],n.rowInfo.visible]]):Object(u["g"])("",!0),n.isExpanView&&r.expanControl?Object(u["O"])((Object(u["x"])(),Object(u["f"])(o,{key:1,class:"xone-expanded-row",xoneDataObject:r.xoneDataObject,control:r.expanControl,containerHeight:n.controlHeight,containerWidth:n.controlWidth,visibilityBit:4,style:Object(u["r"])({backgroundColor:r.backgroundColor,cursor:!n.attributes.editInRow&&!n.attributes.locked&&"pointer",poniterEvents:!n.attributes.editInRow&&!n.attributes.locked&&"all"}),onOnDataObjectChange:r.onDataObjectChange},null,8,["xoneDataObject","control","containerHeight","containerWidth","style","onOnDataObjectChange"])),[[u["K"],n.rowInfo.isExpanded&&n.rowInfo.visible]]):Object(u["g"])("",!0)],64)):Object(u["g"])("",!0),r.isRowLoaded&&r.control&&r.xoneDataObject&&n.rowInfo.visible?Object(u["g"])("",!0):(Object(u["x"])(),Object(u["h"])("div",{key:1,style:Object(u["r"])({width:n.rowInfo.width&&n.rowInfo.width,height:n.rowInfo.height&&n.rowInfo.height})},null,4))],10,On)}n("a33b");var Cn=n("668d"),Sn={name:"ContentsRow",props:{rowInfo:{type:Object,required:!0},controlHeight:{type:Number,default:0},attributes:{type:Object,required:!0},isDisableEdit:{type:Boolean,required:!0},controlWidth:{type:Number,default:0},isSlideView:{type:Boolean,default:!1},isExpanView:{type:Boolean,default:!1},rowsLength:{type:Number,default:0}},setup:function(e){var t=Object(u["C"])(!1),n=Object(u["o"])("contents"),r=Object(u["C"])(null),a=Object(u["C"])(null),i=Object(u["d"])((function(){var e,t;return null===(e=a.value)||void 0===e||null===(t=e.controls)||void 0===t?void 0:t.find((function(e){var t=me["c"].getContainerAttributes(e.attributes);return"group"===t.node&&!t.fixed&&!t.drawerOrientation}))})),o=Object(u["o"])("selectedItem"),s=!1,l=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.attributes.editInRow||e.attributes.locked||e.isDisableEdit)){t.next=2;break}return t.abrupt("return");case 2:if(!s){t.next=4;break}return t.abrupt("return");case 4:return s=!0,t.prev=5,t.next=8,r.value.ExecuteNode("selecteditem");case 8:if(!t.sent){t.next=12;break}return s=!1,o.value=r.value,t.abrupt("return");case 12:t.next=16;break;case 14:t.prev=14,t.t0=t["catch"](5);case 16:if(!e.isExpanView){t.next=19;break}return s=!1,t.abrupt("return",C(e.rowInfo));case 19:X["a"].pushXoneDataObject(r.value),s=!1;case 21:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(){return t.apply(this,arguments)}}(),c=function(){var a=Object(h["a"])(regeneratorRuntime.mark((function a(){var i,o,s=arguments;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:i=!(s.length>0&&void 0!==s[0])||s[0],t.value=!1,o=0;case 3:if(!(o<10)){a.next=15;break}return a.next=6,n.value.get(e.rowInfo.recordId||e.rowInfo.id);case 6:if(r.value=a.sent,r.value){a.next=11;break}return a.next=10,new Promise((function(e){return setTimeout((function(){return e()}),25)}));case 10:return a.abrupt("continue",12);case 11:return a.abrupt("break",15);case 12:o++,a.next=3;break;case 15:if(r.value){a.next=17;break}return a.abrupt("return");case 17:return e.rowInfo.setRecordId(r.value.ID),i&&v.value++,e.attributes.editInRow||r.value.setCloneOnPush(!0),t.value=!0,a.next=23,d();case 23:if(!e.attributes.editInRow){a.next=25;break}return a.abrupt("return");case 25:r.value.ExecuteNode("load").catch(console.error);case 26:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),d=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r.value){t.next=2;break}return t.abrupt("return");case 2:if(!e.isExpanView){t.next=6;break}return t.next=5,r.value.getLayoutAsync(1);case 5:S.value=t.sent;case 6:if(!e.rowInfo.isFirstLoad){t.next=10;break}a.value=r.value.getLayout(4),t.next=13;break;case 10:return t.next=12,r.value.getLayoutAsync(4);case 12:a.value=t.sent;case 13:r.value.setLayout(a.value);case 14:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=Object(u["o"])("sizeConditions");Object(u["L"])((function(){return p.value}),(function(){e.rowInfo.visible?(d(),!1):!0}));var f,m,g,b,_=Object(u["o"])("breadcrumbId"),v=Object(u["o"])("loadedRowsLength");Object(u["v"])((function(){return c().then((function(){return e.rowInfo.setRefresh((function(){return c(!1)}))}))})),Object(u["z"])("objectInfo",{isContents:!0,isExpandedView:!0,editInRow:e.attributes.editInRow,autosave:e.attributes.autosave,recordIndex:e.rowInfo.id,rowInfo:e.rowInfo});var O=n.value.m_xmlNode;m=O.getAttrValue("cell-even-color"),g=O.getAttrValue("cell-odd-color"),b=O.getAttrValue("cell-selected-bgcolor"),O.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("colorview")&&(f=e.getAttrValue("name")),"true"===e.getAttrValue("cell-selected-bgcolor")&&(f=e.getAttrValue("name"))}));var y=Object(u["d"])((function(){return f&&r.value?r.value[f]:o.value&&r.value===o.value&&b?b:Number(e.rowInfo.id)%2===0?m:g})),C=Object(u["o"])("onExpanItemSelected"),S=Object(u["C"])(null),E=Object(u["d"])((function(){var t,n;return e.isExpanView?null===(t=S.value)||void 0===t||null===(n=t.controls)||void 0===n?void 0:n.find((function(e){var t=me["c"].getContainerAttributes(e.attributes);return"group"===t.node&&!t.fixed&&!t.drawerOrientation})):null}));return Object(u["L"])((function(){return e.rowInfo.isExpanded}),(function(e){var t;r.value&&(e?r.value.ExecuteNode("onexpand").catch(console.error):null===(t=r.value)||void 0===t||t.ExecuteNode("oncollapse").catch(console.error))})),{isRowLoaded:t,control:i,xoneDataObject:r,onContentsRowClick:l,breadcrumbId:_,backgroundColor:y,expanControl:E,onDataObjectChange:function(t){t.ExecuteNode("load").catch(console.error),r.value=t,n.value.m_browserData.m_lstOrderedList[e.rowInfo.id]=t}}}};n("3e28");const En=O()(Sn,[["render",yn]]);var kn=En,xn=["id"],Tn=["onClick"];function wn(e,t,n,r,a,i){return Object(u["x"])(),Object(u["h"])("div",{id:"map-".concat(r.breadcrumbId).concat(r.objectIndex),class:"xone-map",onClick:t[2]||(t[2]=function(e){return r.showLayers=!1})},[Object(u["i"])("div",{class:"xone-map-markers",onMousewheel:t[1]||(t[1]=function(){return r.onMouseWheel&&r.onMouseWheel.apply(r,arguments)})},[r.showMarkerButton?(Object(u["x"])(),Object(u["h"])("div",{key:0,style:Object(u["r"])({"--image-layers":"url(".concat(r.appPath,"/assets/layers.png) no-repeat")}),class:"xone-marker-button"},[Object(u["i"])("button",{onClick:t[0]||(t[0]=function(){return r.onMarkerButtonClick&&r.onMarkerButtonClick.apply(r,arguments)})})],4)):Object(u["g"])("",!0),Object(u["k"])(u["c"],{name:"slide-fade"},{default:Object(u["N"])((function(){return[Object(u["O"])(Object(u["i"])("div",{class:"xone-markers-list",style:Object(u["r"])({maxHeight:"".concat(n.controlHeight-25,"px")})},[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.keyLayers,(function(e,t){return Object(u["x"])(),Object(u["h"])("a",{key:"map-".concat(t),class:Object(u["q"])({"xone-selected-marker":r.checkIsLayerSelected(e)}),onClick:function(t){return r.changeMapLayer(e,t)}},Object(u["H"])(e),11,Tn)})),128))],4),[[u["K"],r.showLayers]])]})),_:1})],32)],8,xn)}var An=n("3835"),Pn=(n("4fad"),n("4ec9"),n("6062"),n("07ac"),"2514d9d400ef48b8996963c689736d76"),Rn=function(e){return{streets:{type:"google",layer:e.tileLayer("http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},hybrid:{type:"google",layer:e.tileLayer("http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},terrain:{type:"google",layer:e.tileLayer("http://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},satellite:{type:"google",layer:e.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]})},standard:{type:"OSM",layer:e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})},bright:{type:"OSM",layer:e.tileLayer("https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})},dark:{type:"OSM",layer:e.tileLayer("https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})},worldImagery:{type:"OSM",layer:e.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}),noLabel:!0},humanitary:{type:"OSM",layer:e.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>'})},smooth:{type:"OSM",layer:e.tileLayer("https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})},outdoors:{type:"OSM",layer:e.tileLayer("https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'})},openTopoMap:{type:"OSM",layer:e.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'})},cyclist:{type:"OSM",layer:e.tileLayer("https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",{maxZoom:20,attribution:'<a href="https://github.com/cyclosm/cyclosm-cartocss-style/releases" title="CyclOSM - Open Bicycle render">CyclOSM</a> | Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})},transport:{type:"OSM",layer:e.tileLayer("https://tile.thunderforest.com/transport/{z}/{x}/{y}.png?apikey="+Pn,{maxZoom:20,attribution:""})},neighbourhood:{type:"OSM",layer:e.tileLayer("https://tile.thunderforest.com/neighbourhood/{z}/{x}/{y}.png?apikey=2514d9d400ef48b8996963c689736d76",{maxZoom:20,attribution:""})},carto:{type:"OSM",layer:e.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19})},watercolor:{type:"OSM",layer:e.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg"})},worldTopoMap:{type:"OSM",layer:e.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"})},terrainLabels:{type:"OSM",layer:e.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}),onlyLabel:!0},darkMatterOnlyLabels:{type:"OSM",layer:e.tileLayer("https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:19}),onlyLabel:!0},positronOnlyLabels:{type:"OSM",layer:e.tileLayer("https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:18}),onlyLabel:!0},cartoDVoyagerOnlyLabels:{type:"OSM",layer:e.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:18}),onlyLabel:!0}}},In=function(e){return e.replace("none","standard").replace("normal","streets")},jn=function(e){return"mapview"===e.viewMode?"streets":"standard"},Nn=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!window.L){e.next=2;break}return e.abrupt("return");case 2:t=document.createElement("link"),t.setAttribute("rel","stylesheet"),t.setAttribute("href","modules/leaflet/leaflet.css"),document.head.append(t),n=document.createElement("script"),n.setAttribute("src","modules/leaflet/leaflet.js"),document.head.append(n),r=document.createElement("link"),r.setAttribute("rel","stylesheet"),r.setAttribute("href","modules/leaflet/leaflet-routing-machine.css"),document.head.append(r),a=document.createElement("script"),a.setAttribute("src","modules/leaflet/leaflet-routing-machine.js"),document.head.append(a);case 16:if(window.L){e.next=21;break}return e.next=19,new Promise((function(e){return setTimeout((function(){return e()}),1)}));case 19:e.next=16;break;case 21:L.Icon.Default.imagePath="./assets/";case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mn=(n("4d90"),n("4e82"),n("fb6a"),function(e){if(e)return e.startsWith("#")&&e.length>7?"#"+e.substr(e.length-6,6)+e.substr(1,e.length-7).padStart(2,"0"):e});function Dn(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(function(e,t,n,r){return t+t+n+n+r+r}));var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}var Ln=function(){function e(t,n,a){Object(r["a"])(this,e),this.set(t,n,a)}return Object(a["a"])(e,[{key:"toString",value:function(){return"rgb(".concat(Math.round(this.r),", ").concat(Math.round(this.g),", ").concat(Math.round(this.b),")")}},{key:"set",value:function(e,t,n){this.r=this.clamp(e),this.g=this.clamp(t),this.b=this.clamp(n)}},{key:"hueRotate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=e/180*Math.PI;var t=Math.sin(e),n=Math.cos(e);this.multiply([.213+.787*n-.213*t,.715-.715*n-.715*t,.072-.072*n+.928*t,.213-.213*n+.143*t,.715+.285*n+.14*t,.072-.072*n-.283*t,.213-.213*n-.787*t,.715-.715*n+.715*t,.072+.928*n+.072*t])}},{key:"grayscale",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.2126+.7874*(1-e),.7152-.7152*(1-e),.0722-.0722*(1-e),.2126-.2126*(1-e),.7152+.2848*(1-e),.0722-.0722*(1-e),.2126-.2126*(1-e),.7152-.7152*(1-e),.0722+.9278*(1-e)])}},{key:"sepia",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.393+.607*(1-e),.769-.769*(1-e),.189-.189*(1-e),.349-.349*(1-e),.686+.314*(1-e),.168-.168*(1-e),.272-.272*(1-e),.534-.534*(1-e),.131+.869*(1-e)])}},{key:"saturate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.multiply([.213+.787*e,.715-.715*e,.072-.072*e,.213-.213*e,.715+.285*e,.072-.072*e,.213-.213*e,.715-.715*e,.072+.928*e])}},{key:"multiply",value:function(e){var t=this.clamp(this.r*e[0]+this.g*e[1]+this.b*e[2]),n=this.clamp(this.r*e[3]+this.g*e[4]+this.b*e[5]),r=this.clamp(this.r*e[6]+this.g*e[7]+this.b*e[8]);this.r=t,this.g=n,this.b=r}},{key:"brightness",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(e)}},{key:"contrast",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.linear(e,-.5*e+.5)}},{key:"linear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.r=this.clamp(this.r*e+255*t),this.g=this.clamp(this.g*e+255*t),this.b=this.clamp(this.b*e+255*t)}},{key:"invert",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.r=this.clamp(255*(e+this.r/255*(1-2*e))),this.g=this.clamp(255*(e+this.g/255*(1-2*e))),this.b=this.clamp(255*(e+this.b/255*(1-2*e)))}},{key:"hsl",value:function(){var e,t,n=this.r/255,r=this.g/255,a=this.b/255,i=Math.max(n,r,a),o=Math.min(n,r,a),s=(i+o)/2;if(i===o)e=t=0;else{var l=i-o;switch(t=s>.5?l/(2-i-o):l/(i+o),i){case n:e=(r-a)/l+(r<a?6:0);break;case r:e=(a-n)/l+2;break;case a:e=(n-r)/l+4;break}e/=6}return{h:100*e,s:100*t,l:100*s}}},{key:"clamp",value:function(e){return e>255?e=255:e<0&&(e=0),e}}]),e}(),Fn=function(){function e(t,n){Object(r["a"])(this,e),this.target=t,this.targetHSL=t.hsl(),this.reusedColor=new Ln(0,0,0)}return Object(a["a"])(e,[{key:"solve",value:function(){for(var e=[],t=0;t<10;t++)e.push(this.solveNarrow(this.solveWide()));e.sort((function(e,t){return e.loss-t.loss}));var n=e[0];return{values:n.values,loss:n.loss,filter:this.css(n.values)}}},{key:"solveWide",value:function(){for(var e=5,t=15,n=[60,180,18e3,600,1.2,1.2],r={loss:1/0},a=0;r.loss>25&&a<3;a++){var i=[50,20,3750,50,100,100],o=this.spsa(e,n,t,i,1e3);o.loss<r.loss&&(r=o)}return r}},{key:"solveNarrow",value:function(e){var t=e.loss,n=2,r=t+1,a=[.25*r,.25*r,r,.25*r,.2*r,.2*r];return this.spsa(t,a,n,e.values,500)}},{key:"spsa",value:function(e,t,n,r,a){for(var i=1,o=.16666666666666666,s=null,l=1/0,u=new Array(6),c=new Array(6),d=new Array(6),h=0;h<a;h++){for(var p=n/Math.pow(h+1,o),f=0;f<6;f++)u[f]=Math.random()>.5?1:-1,c[f]=r[f]+p*u[f],d[f]=r[f]-p*u[f];for(var m=this.loss(c)-this.loss(d),g=0;g<6;g++){var b=m/(2*p)*u[g],_=t[g]/Math.pow(e+h+1,i);r[g]=O(r[g]-_*b,g)}var v=this.loss(r);v<l&&(s=r.slice(0),l=v)}return{values:s,loss:l};function O(e,t){var n=100;return 2===t?n=7500:4!==t&&5!==t||(n=200),3===t?e>n?e%=n:e<0&&(e=n+e%n):e<0?e=0:e>n&&(e=n),e}}},{key:"loss",value:function(e){var t=this.reusedColor;t.set(0,0,0),t.invert(e[0]/100),t.sepia(e[1]/100),t.saturate(e[2]/100),t.hueRotate(3.6*e[3]),t.brightness(e[4]/100),t.contrast(e[5]/100);var n=t.hsl();return Math.abs(t.r-this.target.r)+Math.abs(t.g-this.target.g)+Math.abs(t.b-this.target.b)+Math.abs(n.h-this.targetHSL.h)+Math.abs(n.s-this.targetHSL.s)+Math.abs(n.l-this.targetHSL.l)}},{key:"css",value:function(e){function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.round(e[t]*n)}return"invert(".concat(t(0),"%) sepia(").concat(t(1),"%) saturate(").concat(t(2),"%) hue-rotate(").concat(t(3,3.6),"deg) brightness(").concat(t(4),"%) contrast(").concat(t(5),"%)")}}]),e}(),Gn={name:"Map",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n,r=Object(u["o"])("breadcrumbId"),a=Object(u["o"])("objectInfo"),i=a.isContents?a.recordIndex:"",o=Object(u["C"])({}),s=Object(u["d"])((function(){return Object.entries(o.value).filter((function(t){var n=Object(An["a"])(t,2),r=n[1];return!r.onlyLabel&&r.type===("openstreetmap"===e.attributes.viewMode?"OSM":"google")})).map((function(e){var t=Object(An["a"])(e,1),n=t[0];return n}))})),l=[],c=new Map,d=new Map,p=new Set,f=function(e,n,r){for(var a=[],i=0;i<(arguments.length<=3?0:arguments.length-3);i+=2)a.push(new L.LatLng(i+3<3||arguments.length<=i+3?void 0:arguments[i+3],i+1+3<3||arguments.length<=i+1+3?void 0:arguments[i+1+3]));var o=null;"dashed"===r?o="10, 15":"dotted"===r&&(o="1, 10");var s=new L.Polyline(a,{color:Mn(n),weight:5,opacity:.5,smoothFactor:1,dashArray:o});c.get(e)&&(e=Object(ct["c"])()),c.set(e,s),s.addTo(t)},m=function(e){var n=e.id,r=e.data,a=e.color,i=e.fillcolor,o=e.pattern,s=e.width,l=[];r.forEach((function(e){var t=e.split(",").map((function(e){return Number(e)}));l.push(new L.LatLng(t[0],t[1]))}));var u=null;"dashed"===o?u="10, 15":"dotted"===o&&(u="1, 10");var c=L.polygon(l,{color:Mn(a),fillColor:Mn(i),weight:s,dashArray:u}).addTo(t);d.get(n)&&(n=Object(ct["c"])()),d.set(n,c)},g=function(e){var n=L.Routing.control({waypoints:[L.latLng(e.sourceLatitude,e.sourceLongitude),L.latLng(e.destinationLatitude,e.destinationLongitude)],routeWhileDragging:!1,showAlternatives:!1});p.add(n),n.addTo(t)},b=function(){c.forEach((function(e){return t.removeLayer(e)})),c.clear()},_=function(){d.forEach((function(e){return t.removeLayer(e)})),d.clear()},v=Object(u["C"])(),O=Object(u["o"])("xoneView"),y=Object(u["C"])([]),C=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(w(),v.value){t.next=5;break}return t.next=4,e.xoneDataObject.getContents(e.attributes.contents);case 4:v.value=t.sent;case 5:if(0!==v.value.length){t.next=8;break}return t.next=8,v.value.loadAll(!1);case 8:y.value=[],n=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.value.get(t);case 2:n=e.sent,y.value.push(n),n.ExecuteNode("before-edit").then((function(){return n.ExecuteNode("load")})).then((function(){return n.ExecuteNode("after-edit")})).catch(console.error);case 5:case"end":return e.stop()}}),e)})),r=0;case 11:if(!(r<v.value.length)){t.next=16;break}return t.delegateYield(n(r),"t0",13);case 13:r++,t.next=11;break;case 16:S(!0);case 17:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[];y.value.forEach((function(e){if(e.LATITUD&&e.LONGITUD){var r="".concat(Object(ge["a"])(),"/assets/marker-icon.png"),a=L.icon({iconUrl:r,shadowUrl:"".concat(Object(ge["a"])(),"/assets/marker-shadow.png"),iconSize:[25,41],iconAnchor:[12,41]});n.push([e.LATITUD,e.LONGITUD]);var i=L.marker([e.LATITUD,e.LONGITUD],{icon:a}).addTo(t).on("click",(function(){return e.ExecuteNode("selecteditem").catch(console.error)}));l.push(i)}})),e&&0!==n.length&&t.fitBounds(n)},E=function(){return Object.keys(t._layers).forEach((function(e){return t.removeLayer(t._layers[e])}))},k=function(){return p.forEach((function(e){return t.removeControl(e)}))},x=jn(e.attributes),T=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r&&r.stopPropagation(),e=In(e),x=e,n&&t.removeLayer(n),n=o.value[e].layer,n||(n=Object.values(o.value).forEach((function(t){return t.title===e}))),n.addTo(t),t._zoom>o.value[e].layer.options.maxZoom&&t.setZoom(o.value[e].layer.options.maxZoom),S(),P.value=!1},w=function(){t?(k(),E()):t=L.map("map-".concat(r).concat(i)).setView([43.454518,-3.851194],2),n=o.value[jn(e.attributes)].layer,n.addTo(t)};Object(u["v"])(Object(h["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Nn();case 2:o.value=Rn(L,e.attributes),r=new ye["a"](e.attributes.name),r.refresh=C,r.drawLine=f,r.clearArea=function(e){return t.removeLayer(d.get(e))},r.clearAllAreas=_,r.clearLine=function(e){return t.removeLayer(c.get(e))},r.clearAllLines=b,r.clearAllRoutes=k,r.clearRoute=k,r.drawArea=m,r.drawRoute=g,r.routeTo=g,r.removeArea=function(e){return d.has(e)&&t.removeLayer(d.get(e))},r.zoomTo=function(){t.flyTo([arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]],18,{duration:1})},r.setMapType=T,r.zoomToBounds=function(e){t.flyToBounds(e.map((function(e){return e.split(",").map((function(e){return Number(e)}))})),{animate:!0,duration:1})},O.addControl(r),C();case 21:case"end":return n.stop()}}),n)})))),Object(u["w"])((function(){v.value&&v.value.clear()}));var A=Object(u["C"])(!0),P=Object(u["C"])(!1);return Object(u["L"])((function(){return P.value}),(function(e){e?A.value=!1:setTimeout((function(){return A.value=!0}),400)})),{keyLayers:s,breadcrumbId:r,objectIndex:i,showLayers:P,changeMapLayer:T,showMarkerButton:A,onMouseWheel:function(e){return e.stopPropagation()},onMarkerButtonClick:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:P.value=!P.value,t.stopPropagation();case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),checkIsLayerSelected:function(e){return In(e)===In(x)},appPath:Object(ge["a"])()}}};n("9284");const Bn=O()(Gn,[["render",wn],["__scopeId","data-v-0212dfac"]]);var Vn=Bn,Un={ref:"calendarElement",class:"xone-calendar"},Wn={class:"xone-calendar-days"},Yn=["onClick"],Hn={class:"xone-calendar-events"};function Xn(e,t,n,r,a,i){return Object(u["x"])(),Object(u["h"])("div",Un,[Object(u["i"])("ol",null,[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.weekDays,(function(e){return Object(u["x"])(),Object(u["h"])("li",{style:Object(u["r"])([{display:"flex","justify-content":"center"},{backgroundColor:n.attributes.cellBorderColor&&n.attributes.cellBorderColor||"lightgray"}]),key:"calendar-".concat(e)},[Object(u["i"])("p",null,Object(u["H"])(e),1)],4)})),128))]),Object(u["i"])("ol",Wn,[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.dateItems,(function(e){return Object(u["x"])(),Object(u["h"])("li",{key:"calendar-".concat(e.day,"-").concat(e.id),style:Object(u["r"])({backgroundColor:e.isCurrentMonth?e.date.isSameDate(r.currentDate)&&n.attributes.cellSelectedBgColor?n.attributes.cellSelectedBgColor:n.attributes.cellBgColor&&n.attributes.cellBgColor||"white":n.attributes.cellOtherMonthBgColor&&n.attributes.cellOtherMonthBgColor||"rgba(0,0,0,.1)",border:"1px ".concat(e.date.isSameDate(r.currentDate)?n.attributes.cellSelectedBorderColor&&n.attributes.cellSelectedBorderColor||"lightgray":"transparent"," solid")}),onClick:function(t){return r.onDateSelected(e)}},[Object(u["i"])("div",{style:Object(u["r"])({backgroundColor:e.date.isSameDate(new Date)&&(n.attributes.cellSelectedBgColor||"lightgray"),color:n.attributes.cellForeColor&&n.attributes.cellForeColor})},[Object(u["i"])("p",null,Object(u["H"])(e.day),1)],4),Object(u["i"])("div",Hn,[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(e.values,(function(e){return Object(u["x"])(),Object(u["h"])("div",{key:"calendar-event-".concat(e.index,"-").concat(e.i),style:Object(u["r"])({backgroundColor:e.color})},null,4)})),128))])],12,Yn)})),128))])],512)}n("466d");var qn=Intl.DateTimeFormat().resolvedOptions().locale;Date.prototype.toXoneDate||function(){var e=function(e){return e<10?"0".concat(e):e};Date.prototype.toXoneDate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"DT",n=this.getFullYear()+"-"+e(this.getMonth()+1)+"-"+e(this.getDate());return"DT"===t&&(n+="T"+e(this.getHours())+":"+e(this.getMinutes())),n},Date.prototype.toString=function(){return this.getFullYear()+"-"+e(this.getMonth()+1)+"-"+e(this.getDate())+" "+e(this.getHours())+":"+e(this.getMinutes())+":"+e(this.getSeconds())}}(),Date.prototype.monthDays||(Date.prototype.monthDays=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()}),Date.prototype.firstWeekDayOfMonth||(Date.prototype.firstWeekDayOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1).getDay()}),Date.prototype.lastWeekDayOfMonth||(Date.prototype.lastWeekDayOfMonth=function(){return new Date(this.getFullYear(),this.getMonth(),this.monthDays()).getDay()}),Date.prototype.previusMonth||(Date.prototype.previusMonth=function(){var e=this.getFullYear(),t=this.getMonth();return 0===t&&(t=12,e--),new Date("".concat(e,"-").concat(t,"-01"))}),Date.prototype.nextMonth||function(){Date.prototype.nextMonth=function(){var e=this.getFullYear(),t=this.getMonth()+2;return t>12&&(t=1,e++),new Date("".concat(e,"-").concat(t,"-01"))}}(),Date.prototype.isSameDate||function(){Date.prototype.isSameDate=function(e){return this.getDate()===e.getDate()&&this.getMonth()===e.getMonth()&&this.getFullYear()===e.getFullYear()}}();var zn=function(e,t){var n="AEAFBHDJDZEGIQIRJOKWLYOMQASDSY".match(/../g),r="AGARASAUBDBRBSBTBWBZCACNCODMDOETGTGUHKHNIDILINJMJPKEKHKRLAMHMMMOMTMXMZNINPPAPEPHPKPRPTPYSASGSVTHTTTWUMUSVEVIWSYEZAZW".match(/../g),a=["ar","arq","arz","fa"],i="amasbndzengnguhehiidjajvkmknkolomhmlmrmtmyneomorpapssdsmsnsutatethtnurzhzu".match(/../g);return e?r.includes(e)||n.includes(e)?0:1:i.includes(t)||a.includes(t)?0:1},Kn=function(){var e=qn.match(/^([a-z]{2,3})(?:-([a-z]{3})(?=$|-))?(?:-([a-z]{4})(?=$|-))?(?:-([a-z]{2}|\d{3})(?=$|-))?/i);return zn(e[4],e[1])},Jn=function(e,t){var n=new Date(e);return n.setDate(n.getDate()+t),n},Qn=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(yt["a"])(Array(8).keys()).map((function(e){return new Date(2021,1,e)})),n=[],r=Kn();r<Kn()+7;r++)n.push(new Intl.DateTimeFormat(qn,{weekday:e?"long":"short"}).format(t[r]));return n},Zn=n("5f19"),$n={name:"Map",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n,r,a=Object(u["C"])([]),i=Object(u["C"])(),o=Object(u["C"])(),s=Object(u["o"])("xoneView"),l=[];Object(u["v"])(Object(h["a"])(regeneratorRuntime.mark((function a(){var l,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.xoneDataObject.getContents(e.attributes.contents);case 2:return o.value=a.sent,l=o.value.m_xmlNode,l.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("colorview")&&(r=e.getAttrValue("name")),"true"===e.getAttrValue("datefrom")&&(t=e.getAttrValue("name")),"true"===e.getAttrValue("dateto")&&(n=e.getAttrValue("name")),"true"===e.getAttrValue("timefrom")&&e.getAttrValue("name"),"true"===e.getAttrValue("timeto")&&e.getAttrValue("name")})),u=new ye["a"](e.attributes.name,i.value),u.refresh=function(){return c()},u.nextMonth=function(){return d(1)},u.previusMonth=function(){return d(-1)},s.addControl(u),c(!0),a.next=13,o.value.executeCollAction("ondateselected",null,f.value).catch(console.error);case 13:case"end":return a.stop()}}),a)})))),Object(u["w"])((function(){o.value&&o.value.clear()}));var c=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],n=o.value.getVariables("moveto"),!n){e.next=7;break}return o.value.setVariables("moveto",null),e.next=6,d("next"===n?1:-1);case 6:return e.abrupt("return",e.sent);case 7:m(),b(t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,f.value=t>0?f.value.nextMonth():f.value.previusMonth(),m(),i.value.animate([{opacity:0,transform:"translateX(".concat(t>0?100:-100,"px)")},{opacity:1,transform:"translateX(0)"}],{duration:100}),e.next=6,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 6:return e.next=8,o.value.executeCollAction("onpageselected",null,f.value);case 8:return e.next=10,o.value.executeCollAction("ondateselected",null,f.value);case 10:b(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),p=new Zn["a"](d);Object(u["v"])((function(){i.value.setAttribute("swipeable",!1),p.init(i.value)})),Object(u["w"])((function(){return p.clear()}));var f=Object(u["C"])(new Date),m=function(){a.value=[];var e=f.value.monthDays(),t=f.value.firstWeekDayOfMonth(),n=Kn();if(1===n&&0===t&&(t=7),t>n)for(var r=f.value.previusMonth(),i=r.monthDays()-t+n+1,s=t;s>n;s--){var l=new Date(r.getFullYear(),r.getMonth(),i);a.value.push({id:Object(ct["c"])(),day:i,date:l,isCurrentMonth:!1,values:[]}),i++}for(var u=1;u<=e;u++){var c=new Date(f.value.getFullYear(),f.value.getMonth(),u);a.value.push({id:Object(ct["c"])(),day:u,date:c,isCurrentMonth:!0,values:[]})}var d=0===n?6:7,h=f.value.lastWeekDayOfMonth();7===d&&0===h&&(h=7);for(var p=1,m=f.value.nextMonth(),g=h;g<d;g++){var b=new Date(m.getFullYear(),m.getMonth(),p);a.value.push({id:Object(ct["c"])(),day:p,date:b,isCurrentMonth:!1,values:[]}),p++}a.value.forEach((function(e){return o.value.executeCollAction("oncelldraw",null,e.date).catch(console.error)}))},g="",b=function(){var e;o.value.setFilter(null===(e=o.value.getFilter())||void 0===e?void 0:e.replace(g,"")),g="".concat(t,">='").concat(a.value[0].date,"' AND ").concat(n,"<'").concat(Jn(a.value[a.value.length-1].date,1),"'"),o.value.setFilter(g),o.value.loadAll(!1).then((function(){return _()}))},_=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){var n,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.value=[],Object.values(a.value).forEach((function(e){return e.values=[]})),n=regeneratorRuntime.mark((function e(n){var i,s,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o.value.get(n);case 2:if(i=e.sent,l.value.push({index:n,obj:i}),s=i[t],u=i[r],s&&u){e.next=8;break}return e.abrupt("return","continue");case 8:Object.values(a.value).forEach((function(e){e.date.isSameDate(s)&&e.values.push({id:n,itemIndex:e.index,color:u})}));case 9:case"end":return e.stop()}}),e)})),i=0;case 4:if(!(i<o.value.length)){e.next=12;break}return e.delegateYield(n(i),"t0",6);case 6:if(s=e.t0,"continue"!==s){e.next=9;break}return e.abrupt("continue",9);case 9:i++,e.next=4;break;case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=f.value.getMonth(),f.value=t.date,f.value.getMonth()===n){e.next=15;break}return m(),i.value.animate([{opacity:0,transform:"translateX(".concat(f.value.getMonth()>n?100:-100,"px)")},{opacity:1,transform:"translateX(0)"}],{duration:100}),e.next=8,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 8:return e.next=10,o.value.executeCollAction("onpageselected",null,t.date);case 10:return e.next=12,o.value.executeCollAction("ondateselected",null,t.date);case 12:b(),e.next=17;break;case 15:return e.next=17,o.value.executeCollAction("ondateselected",null,t.date);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}();return{calendarElement:i,contentsItems:l,dateItems:a,currentDate:f,onDateSelected:v,weekDays:Qn(e.attributes.weekdaysLongname)}}};n("a00d");const er=O()($n,[["render",Xn],["__scopeId","data-v-9e1f59f0"]]);var tr=er,nr=function(e){return Object(u["A"])("data-v-3cc8b416"),e=e(),Object(u["y"])(),e},rr={key:0,class:"xone-loader"},ar=nr((function(){return Object(u["i"])("div",null,null,-1)})),ir=[ar],or=["id"];function sr(e,t,n,r,a,i){return Object(u["x"])(),Object(u["h"])(u["a"],null,[r.isLoading?(Object(u["x"])(),Object(u["h"])("div",rr,ir)):Object(u["g"])("",!0),Object(u["O"])(Object(u["i"])("canvas",{id:"chart-".concat(r.breadcrumbId,"-").concat(n.attributes.name).concat(r.objectIndex)},null,8,or),[[u["K"],!r.isLoading]])],64)}var lr=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)?(t=e.substring(1).split(""),3==t.length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),"rgba("+[t>>16&255,t>>8&255,255&t].join(",")+","+n+")"):e},ur=Function("cBF",'(async()=>{if(window.Chart)return cBF();try{await import("../modules/chartjs/Chart.min.js");cBF();}catch(ex){console.error(ex);}finally{cBF();}})()'),cr={name:"ChartBar",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n,r,a,i=Object(u["o"])("breadcrumbId"),o=Object(u["o"])("objectInfo"),s=o.isContents?o.recordIndex:"",l=Object(u["C"])(),c=Object(u["o"])("xoneView"),d=Object(u["C"])(!0),p=!1,f=100,m=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:n&&clearTimeout(n),d.value=!0,n=setTimeout(Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l.value){t.next=4;break}return t.next=3,e.xoneDataObject.getContents(e.attributes.contents);case 3:l.value=t.sent;case 4:return t.next=6,l.value.loadAll(!1);case 6:n={labels:[],datasets:[]},a=[],i=[],o=[],s=[],u=l.value.m_xmlNode,u.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("chart-serie-title")&&(r=e.getAttrValue("name")),"true"===e.getAttrValue("chart-category")&&(a.push(e.getAttrValue("name")),i.push(e.getAttrValue("title")),o.push(e.getAttrValue("chart-category-color")),s.push(e.getAttrValue("chart-bar-thickness")||void 0))})),n.datasets=[],n.labels=[],a.forEach(function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,u){var c,d,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c={label:i[u]},c.data=[],c.backgroundColor=[],c.borderColor=[],c.borderWidth=2,c.barThickness=s[u],d=0;case 7:if(!(d<l.value.length)){e.next=18;break}return e.next=10,l.value.get(d);case 10:h=e.sent,r&&0===u&&n.labels.push(h[r]),c.data.push(h[t]),c.backgroundColor.push(lr(o[u],.7)),c.borderColor.push(o[u]);case 15:d++,e.next=7;break;case 18:n.datasets.push(c),u===a.length-1&&g(n);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d.value=!1;case 17:case"end":return t.stop()}}),t)}))),f);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),g=function(){var n=Object(h["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(b===v.value){n.next=5;break}return n.next=3,new Promise((function(e){return setTimeout((function(){return e()}),150)}));case 3:n.next=0;break;case 5:r?(r.data=a,r.update()):(r=new Chart(t,{type:"linechart"===e.attributes.viewMode?"line":"bar",data:a,options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},elements:{point:{radius:3}},scales:{xAxes:[{stacked:"stackedbarchart"===e.attributes.viewMode,gridLines:{display:!1}}],yAxes:[{stacked:"stackedbarchart"===e.attributes.viewMode,gridLines:{display:p},ticks:{beginAtZero:!0}}]}}}),r.options.animation={duration:1e3,easing:"easeOutQuart"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=Object(u["o"])("groupId"),_=Object(u["o"])("groupHandler"),v=_.activeGroup;Object(u["v"])((function(){ur(Object(h["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(e){return setTimeout((function(){return Object(u["p"])().then((function(){return e()}))}),500)}));case 2:t=document.getElementById("chart-".concat(i,"-").concat(e.attributes.name).concat(s)),r=new ye["a"](e.attributes.name),r.refresh=m,c.addControl(r),Object(u["M"])(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!l.value&&b===v.value){e.next=2;break}return e.abrupt("return");case 2:m();case 3:case"end":return e.stop()}}),e)}))));case 7:case"end":return n.stop()}}),n)}))))}));var O=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:a&&clearTimeout(a),a=setTimeout(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["p"])();case 2:g();case 3:case"end":return e.stop()}}),e)}))),250);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u["L"])((function(){return e.controlWidth}),(function(){return O()})),Object(u["L"])((function(){return e.controlHeight}),(function(){return O()})),Object(u["w"])((function(){l.value&&l.value.clear()})),{breadcrumbId:i,objectIndex:s,isLoading:d}}};n("be29");const dr=O()(cr,[["render",sr],["__scopeId","data-v-3cc8b416"]]);var hr=dr,pr=function(e){return Object(u["A"])("data-v-46c631e0"),e=e(),Object(u["y"])(),e},fr={key:0,class:"xone-loader"},mr=pr((function(){return Object(u["i"])("div",null,null,-1)})),gr=[mr],br=["id"];function _r(e,t,n,r,a,i){return Object(u["x"])(),Object(u["h"])(u["a"],null,[r.isLoading?(Object(u["x"])(),Object(u["h"])("div",fr,gr)):Object(u["g"])("",!0),Object(u["O"])(Object(u["i"])("canvas",{id:"chart-".concat(r.breadcrumbId,"-").concat(n.attributes.name).concat(r.objectIndex)},null,8,br),[[u["K"],!r.isLoading]])],64)}var vr={name:"ChartPie",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n,r,a,i=Object(u["o"])("breadcrumbId"),o=Object(u["o"])("objectInfo"),s=o.isContents?o.recordIndex:"",l=Object(u["C"])(),c=Object(u["o"])("xoneView"),d=Object(u["C"])(!0),p=100,f=function(){var r=Object(h["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t){r.next=2;break}return r.abrupt("return");case 2:d.value=!0,n&&clearTimeout(n),n=setTimeout(Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o,s,u,c,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(l.value){t.next=4;break}return t.next=3,e.xoneDataObject.getContents(e.attributes.contents);case 3:l.value=t.sent;case 4:return t.next=6,l.value.loadAll(!1);case 6:n={labels:[],datasets:[]},o="",s=l.value.m_xmlNode,s.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("chart-serie-title")&&(r=e.getAttrValue("name")),"true"===e.getAttrValue("chart-value")&&(a=e.getAttrValue("name"),i=e.getAttrValue("title")),"true"===e.getAttrValue("chart-serie-color")&&(o=e.getAttrValue("name"))})),n.datasets=[],n.labels=[],u={label:i},u.data=[],u.backgroundColor=[],u.borderColor=[],u.borderWidth=1,c=0;case 18:if(!(c<l.value.length)){t.next=28;break}return t.next=21,l.value.get(c);case 21:h=t.sent,r&&n.labels.push(h[r]),u.data.push(h[a]),u.backgroundColor.push(h[o]);case 25:c++,t.next=18;break;case 28:n.datasets.push(u),m(n),d.value=!1;case 31:case"end":return t.stop()}}),t)}))),p);case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),m=function(){var n=Object(h["a"])(regeneratorRuntime.mark((function n(a){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(g===_.value){n.next=5;break}return n.next=3,new Promise((function(e){return setTimeout((function(){return e()}),150)}));case 3:n.next=0;break;case 5:r?(r.data=a,r.update()):(r=new Chart(t,{type:"piechart"===e.attributes.viewMode?"pie":"doughnut",data:a,options:{cutoutPercentage:"piechart"===e.attributes.viewMode?0:70,maintainAspectRatio:!1,responsive:!0}}),r.options.animation={duration:1e3,easing:"easeOutQuart"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),g=Object(u["o"])("groupId"),b=Object(u["o"])("groupHandler"),_=b.activeGroup;Object(u["v"])((function(){ur(Object(h["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(e){return setTimeout((function(){return Object(u["p"])().then((function(){return e()}))}),500)}));case 2:t=document.getElementById("chart-".concat(i,"-").concat(e.attributes.name).concat(s)),r=new ye["a"](e.attributes.name),r.refresh=f,c.addControl(r),Object(u["M"])(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!l.value&&g===_.value){e.next=2;break}return e.abrupt("return");case 2:f();case 3:case"end":return e.stop()}}),e)}))));case 7:case"end":return n.stop()}}),n)}))))}));var v=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:a&&clearTimeout(a),a=setTimeout(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["p"])();case 2:m();case 3:case"end":return e.stop()}}),e)}))),250);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(u["L"])((function(){return e.controlWidth}),(function(){return v()})),Object(u["L"])((function(){return e.controlHeight}),(function(){return v()})),Object(u["w"])((function(){l.value&&l.value.clear()})),{breadcrumbId:i,objectIndex:s,isLoading:d}}};n("8e18");const Or=O()(vr,[["render",_r],["__scopeId","data-v-46c631e0"]]);var yr=Or,Cr=function(e){return Object(u["A"])("data-v-4a338f92"),e=e(),Object(u["y"])(),e},Sr={class:"xone-picturemap"},Er={class:"xone-picturemap-zoom"},kr=["onClick"],xr={key:1},Tr=Cr((function(){return Object(u["i"])("div",{class:"xone-loader"},[Object(u["i"])("div")],-1)})),wr=[Tr];function Ar(e,t,n,r,a,i){var o;return Object(u["x"])(),Object(u["h"])("div",Sr,[Object(u["i"])("div",Er,[Object(u["i"])("div",null,[Object(u["i"])("button",{onClick:t[0]||(t[0]=function(e){return r.modifyZoom(.5)}),style:Object(u["r"])({backgroundColor:r.zoom<5?"#fff":"#f4f4f4"})}," + ",4),Object(u["i"])("button",{onClick:t[1]||(t[1]=function(e){return r.zoom>1&&r.modifyZoom(-.5)}),style:Object(u["r"])({opacity:r.zoom<=1?.6:1,backgroundColor:r.zoom>1?"#fff":"#f4f4f4"})}," - ",4)]),r.hideRange?Object(u["g"])("",!0):Object(u["O"])((Object(u["x"])(),Object(u["h"])("input",{key:0,onClick:t[2]||(t[2]=function(e){return e.stopPropagation()}),onMousemove:t[3]||(t[3]=function(e){return e.stopPropagation()}),type:"range",orient:"vertical","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.zoom=e}),min:"1",max:"5",step:".25"},null,544)),[[u["J"],r.zoom]])]),Object(u["i"])("div",{ref:"picturemapElement",class:"xone-picturemap-container",style:Object(u["r"])({height:n.controlHeight&&"".concat(r.zoom*n.controlHeight,"px"),width:n.controlWidth&&"".concat(r.zoom*n.controlWidth,"px"),"--picturemap-cursor":r.isGrabbing?"grabbing":"grab","--picturemap-items-cursor":r.isGrabbing?"grabbing":"pointer"})},[r.containerElementSize&&!r.isLoading?(Object(u["x"])(),Object(u["h"])("div",{key:0,class:"xone-picturemap-items",style:Object(u["r"])({height:r.containerElementSize.height&&"".concat(r.containerElementSize.height,"px"),width:r.containerElementSize.width&&"".concat(r.containerElementSize.width,"px"),backgroundImage:(null===(o=r.contentsImage)||void 0===o?void 0:o.path)&&"url(".concat(r.contentsImage.path,")")})},[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.data,(function(e){return Object(u["x"])(),Object(u["h"])(u["a"],{key:"pictureMap-".concat(n.attributes.name,"-").concat(e.index)},[e.scaledX&&e.scaledY?(Object(u["x"])(),Object(u["h"])("div",{key:0,class:"xone-picturemap-item",style:Object(u["r"])({left:e.scaledX+"px",top:e.scaledY+"px",width:e.scaledImgWidthOff&&e.scaledImgWidthOff+"px",height:e.scaledImgHeightOff&&e.scaledImgHeightOff+"px",zIndex:e.zIndex})},[e.text?(Object(u["x"])(),Object(u["h"])("div",{key:0,style:Object(u["r"])({color:e.textColor&&e.textColor})},Object(u["H"])(e.text),5)):Object(u["g"])("",!0),Object(u["i"])("button",{onClick:function(t){return r.onItemSelected(e)},style:Object(u["r"])({width:e.scaledImgWidthOff&&e.scaledImgWidthOff+"px",backgroundImage:"url(".concat(e.selected?e.iconOn&&e.iconOn:e.iconOff&&e.iconOff,")"),height:e.scaledImgHeightOff&&e.scaledImgHeightOff+"px",filter:e.selected?e.filterOn&&e.filterOn:e.filterOff&&e.filterOff||e.filterOn})},null,12,kr)],4)):Object(u["g"])("",!0)],64)})),128))],4)):(Object(u["x"])(),Object(u["h"])("div",xr,wr))],4)])}var Pr={components:{Image:hn},name:"PictureMap",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t,n=Object(u["C"])(),r=Object(u["o"])("xoneView"),a=Object(u["C"])([]),i=Object(u["C"])();Object(u["v"])(Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.attributes.image){t.next=6;break}return t.next=3,Object(ge["c"])(e.attributes.image,"files");case 3:i.value=t.sent,e.attributes.image&&!i.value&&console.error("Not found: picturemap background image",e.attributes.name,e.attributes.image),G();case 6:case"end":return t.stop()}}),t)}))));var o,s,c=Object(u["o"])("scaleFactor"),d=c.widthFactor,p=c.heightFactor,f=Object(u["C"])(),m=Object(u["C"])(!0),g=Object(u["C"])(1),b=Object(u["C"])("true"===(null===(t=e.xoneDataObject)||void 0===t?void 0:t.getFieldPropertyValue(e.attributes.name,"hide-range"))),_=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(g.value=Number(g.value)+t,!(g.value<1)){e.next=3;break}return e.abrupt("return",g.value=1);case 3:if(!(g.value>5)){e.next=5;break}return e.abrupt("return",g.value=5);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(u["L"])((function(){return g.value}),(function(e,t){e<1||e>5||(G(0),v.scrollTo({left:v.scrollLeft+v.offsetWidth*(e-t)/2,top:v.scrollTop+v.offsetHeight*(e-t)/2,behavior:"auto"}))}));var v,O,y=Object(u["C"])(),C={top:0,left:0,x:0,y:0},S=Object(u["C"])(!1),E=function(e){C={left:v.scrollLeft,top:v.scrollTop,x:e.clientX,y:e.clientY},O&&clearInterval(O),O=setTimeout((function(){v.addEventListener("mousemove",k),v.addEventListener("mouseup",x)}),100)},k=function(e){if(0!==e.buttons){S.value||(S.value=!0);var t=e.clientX-C.x,n=e.clientY-C.y;v.scrollTop=C.top-n,v.scrollLeft=C.left-t}else x()},x=function e(){setTimeout((function(){return S.value=!1}),25),v.removeEventListener("mousemove",k),v.removeEventListener("mouseup",e)},T=function(){setTimeout((function(){return S.value=!1}),25),v.addEventListener("mousemove",k),v.addEventListener("mouseup",x)},w=function(e){e.deltaY<0&&_(.25),e.deltaY>0&&g.value>1&&_(-.25),e.preventDefault()};Object(u["v"])((function(){var e;v=null===(e=y.value)||void 0===e?void 0:e.parentElement,v.addEventListener("mousedown",E),v.addEventListener("mouseleave",T),v.addEventListener("wheel",w)})),Object(u["w"])((function(){v.removeEventListener("mousedown",E),v.removeEventListener("mouseleave",T),v.removeEventListener("wheel",w)}));var A,P,R,I,j,N,M,D,L,F,G=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:500,t.next=3,Object(u["p"])();case 3:setTimeout((function(){var t,n=null===(t=i.value)||void 0===t?void 0:t.imgSize;n?(o=g.value*e.controlWidth/n.width,s=g.value*e.controlHeight/n.height):(o=d.value,s=p.value);var r=o<s?o:s;f.value={width:g.value*(e.controlWidth*r)/o,height:g.value*(e.controlHeight*r)/s},W()}),n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(u["L"])((function(){return e.controlWidth}),(function(){return G()})),Object(u["L"])((function(){return e.controlHeight}),(function(){return G()})),Object(u["p"])(Object(h["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.value){t.next=4;break}return t.next=3,e.xoneDataObject.getContents(e.attributes.contents);case 3:n.value=t.sent;case 4:a=n.value.m_xmlNode,a.SelectNodes("prop").forEach((function(e){"true"===e.getAttrValue("xcoord")&&(A=e.getAttrValue("name")),"true"===e.getAttrValue("ycoord")&&(P=e.getAttrValue("name")),"true"===e.getAttrValue("icon-mark")&&(R=e.getAttrValue("name")),"true"===e.getAttrValue("icon-touch")&&(I=e.getAttrValue("name")),"true"===e.getAttrValue("icon-mark-color")&&(L=e.getAttrValue("name")),"true"===e.getAttrValue("icon-touch-color")&&(F=e.getAttrValue("name")),"true"===e.getAttrValue("icon-width")&&(j=e.getAttrValue("name")),"true"===e.getAttrValue("icon-height")&&(N=e.getAttrValue("name")),"true"===e.getAttrValue("icon-text")&&(M=e.getAttrValue("name")),"true"===e.getAttrValue("icon-text-color")&&(D=e.getAttrValue("name"))})),i=new ye["a"](e.attributes.name),i.refresh=B,r.addControl(i),B();case 10:case"end":return t.stop()}}),t)})))),Object(u["w"])((function(){n.value&&n.value.clear()}));var B=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var r,i,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return m.value=!0,t.next=3,Object(u["p"])();case 3:return t.next=5,n.value.loadAll(!1);case 5:a.value=[],r=regeneratorRuntime.mark((function t(r){var i,o,s,l,u,c,d,h,p,f,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.value.get(r);case 2:if(i=t.sent,o={},o.index=r,o.xCoord=i[A],o.yCoord=i[P],o.text=i[M],o.textColor=i[D],!R){t.next=18;break}return t.next=12,Object(ge["c"])(i[R],"files");case 12:if(s=t.sent,s){t.next=15;break}return t.abrupt("return",{v:console.error("Not found: icon-mark",e.attributes.name,i[R])});case 15:o.iconOff=s.path,o.imgWidthOff=s.imgSize.width,o.imgHeightOff=s.imgSize.height;case 18:I&&Object(ge["c"])(i[I],"files").then((function(t){if(!t)return console.error("Not found: icon-touch",e.attributes.name,i[I]);o.iconOn=t.path,o.imgWidthOn=t.imgSize.width,o.imgHeightOn=t.imgSize.height})),o.iconMarkColor=i[L],o.iconTouchColor=i[F],o.iconMarkColor&&(l=Dn(o.iconMarkColor),u=new Ln(l[0],l[1],l[2]),c=new Fn(u),d=c.solve(),o.filterOff=d.filter,d.loss>10&&console.warn("Color lost",o.iconMarkColor,d.loss)),o.iconTouchColor&&(h=Dn(o.iconTouchColor),p=new Ln(h[0],h[1],h[2]),f=new Fn(p),m=f.solve(),o.filterOn=m.filter,m.loss>10&&console.warn("Color lost",o.iconTouchColor,m.loss)),j&&N&&(o.imgWidthOff=i[j],o.imgHeightOff=i[N]),a.value.push(o);case 25:case"end":return t.stop()}}),t)})),i=0;case 8:if(!(i<n.value.length)){t.next=16;break}return t.delegateYield(r(i),"t0",10);case 10:if(o=t.t0,"object"!==Object(l["a"])(o)){t.next=13;break}return t.abrupt("return",o.v);case 13:i++,t.next=8;break;case 16:W(),0!==a.value.length&&H(a.value[0]),s=1,a.value.sort((function(e,t){return t.imgWidthOff*t.imgHeightOff-e.imgWidthOff*e.imgHeightOff})).forEach((function(e){return e.zIndex=s+=1})),m.value=!1;case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t,n,r,a=1,s=null!==(t=null===(n=f.value)||void 0===n?void 0:n.width)&&void 0!==t?t:0,l=e.controlWidth/o;return null!==(r=i.value)&&void 0!==r&&r.imgSize&&0!==s&&(a=l/i.value.imgSize.width),s/l*a},U=function(){var t,n,r,a=1,o=null!==(t=null===(n=f.value)||void 0===n?void 0:n.height)&&void 0!==t?t:0,l=e.controlHeight/s;return null!==(r=i.value)&&void 0!==r&&r.imgSize&&0!==o&&(a=l/i.value.imgSize.height),o/l*a},W=function(){return a.value.forEach(Y)},Y=function(e){e.scaledX=e.xCoord*V(),e.scaledY=e.yCoord*U(),e.scaledImgWidthOff=e.imgWidthOff*V(),e.scaledImgHeightOff=e.imgHeightOff*U()},H=function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!S.value){e.next=2;break}return e.abrupt("return");case 2:if(a.value.forEach((function(e){return e.selected=!1})),t.selected=!0,n.value){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.value.get(t.index);case 8:r=e.sent,r&&r.ExecuteNode("selecteditem").catch(console.error);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{picturemapElement:y,contentsImage:i,isLoading:m,containerElementSize:f,data:a,onItemSelected:H,zoom:g,hideRange:b,modifyZoom:_,isGrabbing:S}}};n("17db");const Rr=O()(Pr,[["render",Ar],["__scopeId","data-v-4a338f92"]]);var Ir=Rr,jr={name:"Contents",props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,default:null,required:!0},isDisableEdit:{type:Boolean,required:!0},controlHeight:{type:Number,default:0},controlWidth:{type:Number,default:0}},components:{ContentsRow:kn,Map:Vn,ChartBar:hr,Calendar:tr,ChartPie:yr,PictureMap:Ir},setup:function(e){var t=Object(u["o"])("objectInfo"),n=t.isContents,r=t.isExpandedView,a=Object(u["C"])();Object(u["z"])("contents",a);var i=Object(u["o"])("xoneView"),o=Object(u["C"])(0);Object(u["z"])("loadedRowsLength",o);var s,l=Object(u["o"])("breadcrumbId"),c=Object(u["C"])(),d=Object(u["o"])("containerSize"),p=d.containerWidth,f=d.containerHeight,m=Object(u["C"])(),g=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r,a,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("picturemap"!==e.attributes.viewMode){t.next=2;break}return t.abrupt("return");case 2:if(n=I.value||M.value||L.value||B.value,t.prev=3,c.value){t.next=6;break}return t.abrupt("return");case 6:if(!n||"auto"===(null!==(r=e.attributes.height)&&void 0!==r?r:"auto")||"grow"===(null!==(a=e.attributes.height)&&void 0!==a?a:"auto")){t.next=8;break}return t.abrupt("return",m.value=null);case 8:if(n||"grow"===(null!==(i=e.attributes.height)&&void 0!==i?i:"auto")){t.next=10;break}return t.abrupt("return",m.value=null);case 10:if(o=c.value.parentElement.offsetTop,m.value===e.controlHeight-o){t.next=14;break}return m.value=e.controlHeight-o,t.abrupt("return",!0);case 14:return t.abrupt("return",!1);case 17:t.prev=17,t.t0=t["catch"](3);case 19:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(){return t.apply(this,arguments)}}();if(Object(u["v"])((function(){g();var e=new ResizeObserver((function(){s&&clearTimeout(s),m.value=null,s=setTimeout((function(){return g()}),500)}));e.observe(c.value.parentNode.parentNode),Object(u["w"])((function(){return null===e||void 0===e?void 0:e.disconnect()}))})),!r){var b=Object(u["C"])(null);Object(u["z"])("selectedItem",b)}var _=new Cn["a"](e.attributes.name,l,e.attributes.rowsPerPage),v=_.getIsLoading(),O=Object(u["C"])("No data"),y=function(){var e=a.value.m_xmlNode,t=e.getAttrValue("show-no-data"),n=e.getAttrValue("no-data-text");"false"===t||0===_.getRowsLength()?O.value=null:O.value=""!==n?n:"No data"};Object(u["v"])((function(){return _.bindOnScrollEvent(c.value)})),Object(u["w"])((function(){return null===_||void 0===_?void 0:_.clear()}));var C,S=null,E=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=i.length>0&&void 0!==i[0]&&i[0],r=Object(ct["c"])(),S=r;case 3:if(!a.value||!v.value){t.next=8;break}return t.next=6,new Promise((function(e){return setTimeout((function(){return e()}),100)}));case 6:t.next=3;break;case 8:if(S===r){t.next=10;break}return t.abrupt("return");case 10:if(t.prev=10,a.value){t.next=15;break}return t.next=14,e.xoneDataObject.getContents(e.attributes.contents);case 14:a.value=t.sent;case 15:return t.next=17,_.loadRows(a.value,e.attributes,n);case 17:return o.value=0,t.next=20,_.loadRowsInfo();case 20:y(),t.next=26;break;case 23:t.prev=23,t.t0=t["catch"](10),console.error(t.t0);case 26:case"end":return t.stop()}}),t,null,[[10,23]])})));return function(){return t.apply(this,arguments)}}(),k=Object(u["o"])("groupId"),x=Object(u["o"])("groupHandler"),T=x.activeGroup,w=Object(u["o"])("isDrawer"),A=Object(u["o"])("isBeforeEditExecuted");Object(u["v"])(Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(I.value||L.value||M.value||B.value||W.value)){t.next=2;break}return t.abrupt("return");case 2:n=new ye["a"](e.attributes.name,c.value),n.refresh=E,n.refreshRow=function(e){try{_.getContentsRowsInfo().value[e].refresh()}catch(t){}},n.refreshSelectedRow=function(){try{_.getContentsRowsInfo().value[selectedItem.value].refresh()}catch(e){}},n.scrollBy=function(e){if(c.value){e=e.toString();var t=c.value.scrollHeight;if(e.includes("%"))return c.value.scrollTo({top:Number(e.replace("%","")*t/100),behavior:"smooth"});c.value.scrollTo({top:Number(e.replace("p","")),behavior:"smooth"})}},n.scrollTo=function(t){var r=document.getElementById("".concat(e.attributes.name.replace("@","")).concat(t).concat(l));r&&n.scrollBy(r.offsetTop)},n.scrollToTop=function(){return n.scrollBy(0)},n.scrollToBottom=function(){return n.scrollBy(c.value.scrollHeight)},i.addControl(n);case 11:if(A.value){t.next=16;break}return t.next=14,new Promise((function(e){return setTimeout((function(){return e()}),5)}));case 14:t.next=11;break;case 16:Object(u["M"])(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(_.isInGroup=k===T.value,_.isDrawer=w,C||(C=T.value),!a.value&&(k===T.value||w)){e.next=5;break}return e.abrupt("return");case 5:if(k===C||w){e.next=8;break}return e.next=8,new Promise((function(e){return setTimeout((function(){return e()}),350)}));case 8:E(!0);case 9:case"end":return e.stop()}}),e)}))));case 17:case"end":return t.stop()}}),t)})))),Object(u["w"])((function(){a.value&&a.value.clear(),null===_||void 0===_||_.clear()}));var P=Object(u["d"])((function(){return"gridview"===e.attributes.viewMode&&!isNaN(e.attributes.galleryColumns)})),R=Object(u["d"])((function(){if(P.value)return"repeat(".concat(e.attributes.galleryColumns,", ").concat(e.controlWidth/e.attributes.galleryColumns,"px)")})),I=Object(u["d"])((function(){return"mapview"===e.attributes.viewMode||"openstreetmap"===e.attributes.viewMode})),j=Object(u["d"])((function(){return"slideview"===e.attributes.viewMode}));Object(u["v"])((function(){j.value&&(c.value.style.pointerEvents="all",c.value.setAttribute("swipeable",!1))}));var N,M=Object(u["d"])((function(){return"calendarview"===e.attributes.viewMode})),D=0;Object(u["v"])((function(){j.value&&Object(u["L"])((function(){return o.value}),function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n===(null===(r=a.value)||void 0===r?void 0:r.length)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(u["p"])();case 4:e.attributes.autoslideDelay?(c.value.scrollTo(0,0),N=setInterval((function(){if(0!==_.getRowsLength()){D+=1,D>=_.getRowsLength()&&(D=0);var t=document.getElementById("".concat(e.attributes.name.replace("@","")).concat(D).concat(l));t&&c.value.scrollTo({left:t.offsetLeft,top:0,behavior:"smooth"})}}),1e3*e.attributes.autoslideDelay)):c.value.scrollTo(0,0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())})),Object(u["w"])((function(){N&&clearInterval(N)}));var L=Object(u["d"])((function(){return e.attributes.viewMode&&e.attributes.viewMode.toString().contains("chart")})),F=Object(u["d"])((function(){return"barchart"===e.attributes.viewMode||"3dbarchart"===e.attributes.viewMode||"stackedbarchart"===e.attributes.viewMode||"linechart"===e.attributes.viewMode})),G=Object(u["d"])((function(){return"piechart"===e.attributes.viewMode||"piechart2"===e.attributes.viewMode})),B=Object(u["d"])((function(){return"picturemap"===e.attributes.viewMode})),V=Object(u["d"])((function(){return"expanview"===e.attributes.viewMode}));Object(u["z"])("onExpanItemSelected",(function(e){if(e.isExpanded)return e.isExpanded=!1;_.getContentsRowsInfo().value.forEach((function(e){return e.isExpanded=!1})),e.isExpanded=!0}));var U,W=Object(u["d"])((function(){return"routerview"===e.attributes.viewMode||"stacknavigation"===e.attributes.viewMode}));if(Object(u["z"])("containerSize",{containerWidth:"routerview"===e.attributes.viewMode?Object(u["d"])((function(){return e.controlWidth-2})):p,containerHeight:"routerview"===e.attributes.viewMode?Object(u["d"])((function(){return e.controlHeight-2})):f}),W.value){var Y=Object(u["o"])("appSize"),H=Y.appWidth,X=Y.appHeight,q=Object(u["d"])((function(){return H.value?e.controlWidth/H.value:1})),z=Object(u["d"])((function(){return X.value?e.controlHeight/X.value:1}));Object(u["z"])("scaleFactor",{widthFactor:q,heightFactor:z})}(P.value||j.value)&&(_.rowsPerPage=100);var K=function(){U&&clearTimeout(U),U=setTimeout((function(){return me["c"].onScrollEvent(c.value,e.attributes,e.xoneDataObject)}),250)};return Object(u["p"])((function(){return K()})),{isContents:n,contentsElement:c,fitHeight:m,contentsRowsInfo:_.getContentsRowsInfo(),isLoading:v,noDataMsg:O,breadcrumbId:l,isGridView:P,gridTemplateColumns:R,isMapView:I,isSlideView:j,isCalendarView:M,isChartView:L,isChartBar:F,isChartPie:G,isPictureMapView:B,isExpanView:V,isRouterView:W,onScroll:K,rowsLength:Object(u["d"])((function(){return _.getRowsLength()}))}}};n("8bbb");const Nr=O()(jr,[["render",vn],["__scopeId","data-v-24a533b4"]]);var Mr=Nr,Dr=["src","width","height"],Lr=["srcdoc","width","height"];function Fr(e,t,n,r,a,i){return r.isUrl?(Object(u["x"])(),Object(u["h"])("iframe",{key:0,src:r.propValue,width:n.controlWidth,height:n.controlHeight},null,8,Dr)):(Object(u["x"])(),Object(u["h"])("iframe",{key:1,srcdoc:r.propValue,width:n.controlWidth,height:n.controlHeight},null,8,Lr))}var Gr={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t=Object(u["C"])(!1),n=(Object(u["o"])("breadcrumbId"),Object(u["C"])());return Object(u["M"])((function(){var r,a,i,o;if(null!==(r=e.xoneDataObject)&&void 0!==r&&r.model&&(n.value=null===(a=e.xoneDataObject)||void 0===a?void 0:a.model[e.attributes.name]),(null===(i=n.value)||void 0===i||!i.toString().contains("<"))&&(null===(o=n.value)||void 0===o||!o.toString().contains(">")))return t.value=!0;t.value=!1})),{propValue:n,isUrl:t}}};n("8867");const Br=O()(Gr,[["render",Fr],["__scopeId","data-v-5bcfca02"]]);var Vr=Br,Ur=["width","height"],Wr=["src"];function Yr(e,t,n,r,a,i){return Object(u["x"])(),Object(u["h"])("video",{width:n.controlWidth,height:n.controlHeight,controls:""},[Object(u["i"])("source",{src:"/files/".concat(r.propValue)},null,8,Wr)],8,Ur)}var Hr={props:{xoneDataObject:{type:Object,required:!0},attributes:{type:Object,required:!0},controlWidth:{type:Number,default:0},controlHeight:{type:Number,default:0}},setup:function(e){var t=Object(u["C"])();return Object(u["M"])((function(){var n,r;null!==(n=e.xoneDataObject)&&void 0!==n&&n.model&&(t.value=null===(r=e.xoneDataObject)||void 0===r?void 0:r.model[e.attributes.name])})),{propValue:t}}};n("d38b");const Xr=O()(Hr,[["render",Yr],["__scopeId","data-v-42c3aa31"]]);var qr=Xr,zr={key:0,class:"xone-breadcrumb"},Kr=["onClick"];function Jr(e,t,n,r,a,i){return r.routeBreadcrumbs&&0!==r.routeBreadcrumbs.length?(Object(u["x"])(),Object(u["h"])("div",zr,[(Object(u["x"])(!0),Object(u["h"])(u["a"],null,Object(u["D"])(r.routeBreadcrumbs,(function(e){return Object(u["x"])(),Object(u["h"])("div",{key:e.id,class:"xone-breadcrumb-item"},[e!==r.routeBreadcrumbs[0]?(Object(u["x"])(),Object(u["h"])("div",{key:0,style:Object(u["r"])({fontSize:n.attributes.breadcrumbFontSize})}," / ",4)):Object(u["g"])("",!0),Object(u["i"])("div",{onClick:function(t){return r.onBreadcrumbClick(e)},style:Object(u["r"])({color:r.getBreadcrumbColor(e),fontSize:r.getBreadcrumbFontSize(e),cursor:e!==r.lastBreadcrumb?"pointer":"auto"})},Object(u["H"])(e.title||e.name),13,Kr)])})),128))])):Object(u["g"])("",!0)}var Qr={name:"Breadcrumb",props:{attributes:{type:Object,default:null,required:!0}},setup:function(e){var t=Object(p["d"])(),n=Object(u["o"])("routeBreadcrumbs"),r=Object(u["o"])("lastBreadcrumb");return{routeBreadcrumbs:n,lastBreadcrumb:r,onBreadcrumbClick:function(e){t.push({name:"Coll",query:{id:e.id}})},getBreadcrumbColor:function(t){return t===r.value&&e.attributes.breadcrumbSelectedForeColor||e.attributes.breadcrumbForeColor},getBreadcrumbFontSize:function(t){return t===r.value&&e.attributes.breadcrumbSelectedFontSize||e.attributes.breadcrumbFontSize}}}};n("0274");const Zr=O()(Qr,[["render",Jr],["__scopeId","data-v-54d926b6"]]);var $r=Zr,ea={name:"Prop",props:{xoneDataObject:{type:Object,required:!0},control:{type:Object,default:void 0,required:!0},containerWidth:{type:Number,default:0},containerHeight:{type:Number,default:0}},components:{ButtonProp:Ee,InputProp:rn,ImageProp:hn,Contents:Mr,WebProp:Vr,VideoProp:qr,Breadcrumb:$r},setup:function(e){var t=Object(u["C"])(),n=Object(u["o"])("displayScreenThresholds"),r=Object(u["d"])((function(){return me["c"].getPropAttributes(e.control.attributes)})),a=Object(u["C"])(Object(Je["a"])({},r.value));me["c"].watchAttributes(a,r,e.xoneDataObject.model);var i=Object(u["d"])((function(){var t,n;return""!==(null!==(t=a.value.disableVisible)&&void 0!==t?t:"")&&me["c"].evalFormula(a.value.disableVisible,null===(n=e.xoneDataObject)||void 0===n?void 0:n.model)})),o=Object(u["C"])(null),s=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a.value.image){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(ge["c"])(a.value.image,"files");case 4:if(n=t.sent,n){t.next=7;break}return t.abrupt("return");case 7:o.value={width:me["c"].getScaledSize(n.imgSize.width+"px",e.containerWidth,p.value),height:me["c"].getScaledSize(n.imgSize.height+"px",e.containerHeight,f.value)};case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(u["v"])((function(){return s()})),Object(u["L"])((function(){return e.containerHeight}),(function(){return s()}));var l=Object(u["d"])((function(){var e=m.value;!e&&o.value&&(e=g.value?g.value*o.value.width/o.value.height:o.value.width);var t=g.value;return!t&&o.value&&(t=m.value?m.value*o.value.height/o.value.width:o.value.height),{width:e,height:t}})),c=Object(u["d"])((function(){if("breadcrumbview"===a.value.viewMode||"breadcrumbsview"===a.value.viewMode||"breadcumbview"===a.value.viewMode||"routerview"===a.value.viewMode)return null;switch(a.value.type){case"T":return"text";case"X":return"password";case"N":return"slider"===a.value.viewMode?"range":"number";case"NC":return"checkbox";case"D":return"date";case"TT":return"time";case"DT":return"datetime-local";case"AT":return"text";case"TL":return"text";default:return 0!=a.value.type.length&&"N"===a.value.type[0]?"number":null}})),d=Object(u["o"])("scaleFactor"),p=d.widthFactor,f=d.heightFactor,m=Object(u["d"])((function(){return me["c"].getScaledSize(a.value.width,e.containerWidth,p.value)})),g=Object(u["d"])((function(){return me["c"].getScaledSize(a.value.height,e.containerHeight,f.value)})),b=Object(u["d"])((function(){var t,n,r,i;return{top:null!==(t=me["c"].getScaledSize(a.value.margins.top,e.containerHeight,f.value))&&void 0!==t?t:0,left:null!==(n=me["c"].getScaledSize(a.value.margins.left,e.containerWidth,p.value))&&void 0!==n?n:0,bottom:null!==(r=me["c"].getScaledSize(a.value.margins.bottom,e.containerHeight,f.value))&&void 0!==r?r:0,right:null!==(i=me["c"].getScaledSize(a.value.margins.right,e.containerWidth,p.value))&&void 0!==i?i:0}})),_=Object(u["d"])((function(){return me["c"].getScaledPosition(a.value.floating.top,f.value)})),v=Object(u["d"])((function(){return me["c"].getScaledPosition(a.value.floating.left,p.value)})),O=Object(u["d"])((function(){var t;return""!==(null!==(t=a.value.disableEdit)&&void 0!==t?t:"")&&me["c"].evalFormula(a.value.disableEdit,e.xoneDataObject.model)})),y=Object(u["d"])((function(){return{top:me["c"].getScaledSize(a.value.paddings.top,e.containerHeight,f.value)||5,right:me["c"].getScaledSize(a.value.paddings.right,e.containerWidth,p.value)||5,bottom:me["c"].getScaledSize(a.value.paddings.bottom,e.containerHeight,f.value)||5,left:me["c"].getScaledSize(a.value.paddings.left,e.containerWidth,p.value)||5}})),C=Object(u["d"])((function(){return a.value.imgWidth?me["c"].getScaledSize(a.value.imgWidth,e.containerWidth,p.value):a.value.imageHeight?me["c"].getScaledSize(a.value.imgHeight,e.containerHeight,p.value):null})),S=Object(u["o"])("lastBreadcrumb"),E=Object(u["o"])("breadcrumbId");Object(u["p"])((function(){a.value.postOnchange&&Object(u["L"])((function(){return S.value}),function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n.id===E){t.next=2;break}return t.abrupt("return");case 2:me["c"].executeMethod(a.value.postOnchange,e.xoneDataObject,a.value.name);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}));var k=function(){return Oe.mouseEnter(t.value)},x=function(){return Oe.mouseLeave(t.value)},T=function(e){return Oe.mouseDown(e)},w=function(e){return Oe.mouseMove(e)};return{propElement:t,displayScreenThresholds:n,attributes:a,inputType:c,controlWidth:m,controlHeight:g,margins:b,isDisableVisible:i,finalImgSize:l,floatingTop:_,floatingLeft:v,isDisableEdit:O,paddings:y,checkboxSize:C,isInput:Object(u["d"])((function(){return c.value})),isButton:Object(u["d"])((function(){return"B"===a.value.type})),isImage:Object(u["d"])((function(){return"IMG"===a.value.type||"PH"===a.value.type||"DR"===a.value.type})),isContents:Object(u["d"])((function(){return"Z"===a.value.type||"routerview"===a.value.viewMode})),isWeb:Object(u["d"])((function(){return"WEB"===a.value.type})),isVideo:Object(u["d"])((function(){return"VD"===a.value.type})),isBreadcrumb:Object(u["d"])((function(){return"breadcrumbview"===a.value.viewMode||"breadcrumbsview"===a.value.viewMode||"breadcumbview"===a.value.viewMode})),isDesigner:Oe.getIsDesigner(),isDragging:Oe.getIsDragging(),isDesignerPropSelected:Object(u["d"])((function(){var e;return(null===(e=Oe.getSelectedControl())||void 0===e?void 0:e.value)===t.value})),borderDesignSelected:Oe.getBorderSelected(),borderDesignOver:Oe.getBorderPropOver(),onMouseEnter:k,onMouseLeave:x,onMouseDown:T,onDragOver:w}}};n("4e4a");const ta=O()(ea,[["render",Nt],["__scopeId","data-v-419645a1"]]);var na=ta,ra={name:"Container",components:{Row:xt,Column:It,Prop:na},props:{xoneDataObject:{type:Object,required:!0},control:{type:Object,required:!0},containerWidth:{type:Number,default:0},containerHeight:{type:Number,default:0},visibilityBit:{type:Number,default:1}},emits:["onDataObjectChange"],setup:function(e,t){var n=Object(u["o"])("displayScreenThresholds"),r=Object(u["o"])("objectInfo"),a=r.isContents;if(r.editInRow&&"group"===e.control.attributes.node){var i=e.xoneDataObject.clone().doModelReactive(),o=X["a"].pushXoneDataObject(i,"contentsRow",!1,!1,!0),s=new ye["b"](i);Object(u["z"])("xoneView",s),Object(u["w"])((function(){return X["a"].removeBreadcrumb(o)})),t.emit("onDataObjectChange",i)}var l=Object(u["d"])((function(){return me["c"].getContainerAttributes(e.control.attributes)})),c=Object(u["C"])(Object(Je["a"])({},l.value));me["c"].watchAttributes(c,l,e.xoneDataObject.model),"group"===c.value.node&&Object(u["z"])("groupId",c.value.id);var d="left"===c.value.drawerOrientation||"right"===c.value.drawerOrientation;Object(u["z"])("isDrawer",d);var p=Object(u["d"])((function(){var t,n,r;return"frame"===c.value.node&&0===(null===(t=e.control.controls)||void 0===t?void 0:t.length)||""!==(null!==(n=c.value.disableVisible)&&void 0!==n?n:"")&&me["c"].evalFormula(c.value.disableVisible,null===(r=e.xoneDataObject)||void 0===r?void 0:r.model)})),f=Object(u["o"])("groupHandler"),m=f.activeGroup,g=Object(u["d"])((function(){return"group"!==c.value.node||c.value.fixed||c.value.id===m.value||c.value.drawerOrientation||4===e.visibilityBit}));"group"===c.value.node&&c.value.onFocus&&Object(u["L"])((function(){return m.value}),function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n===c.value.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,me["c"].executeMethod(c.value.onFocus,e.xoneDataObject);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());var b=Object(u["d"])((function(){var t,n,i,o=["group","frame","prop"],s=[],l=[];null===(t=e.control.controls)||void 0===t||null===(n=t.filter((function(e){return o.includes(e.attributes.node)})))||void 0===n||n.forEach((function(t){var n,i;"group"!==c.value.node||1!==e.control.controls.length||"frame"!==t.attributes.node||c.value.fixed||null!==(n=c.value.floating)&&void 0!==n&&n.floating||null!==(i=c.value.floating)&&void 0!==i&&i.drawerOrientation||r.isMsgBox||a||(t.attributes.height||(t.attributes.height="100%"),t.attributes.width||(t.attributes.width="100%"));var o=me["c"].getContainerAttributes(t.attributes);o.newLine?(0!==l.length&&(s.push(l),l=[]),l.push(t)):l.push(t)})),s.push(l);var u=function e(t,n){var r;"frame"!==t.attributes.node||t.controls&&0!==t.controls.filter((function(e){return o.includes(e.attributes.node)})).length||(n.splice(n.indexOf(t),1),i=!0),null===(r=t.controls)||void 0===r||r.forEach((function(n){return e(n,t.controls)}))};do{i=!1,s.forEach((function(e){return e.forEach((function(t){return u(t,e)}))}))}while(i);return s})),_=Object(u["C"])(!1),v=Object(u["o"])("scaleFactor"),O=v.widthFactor,y=v.heightFactor,C=Object(u["C"])(null),S=Object(u["C"])(null);Object(u["v"])((function(){if(a&&r.rowInfo.setIsLoaded(!0),"grow"===c.value.height){var e=I.value.parentElement;if(e.classList.contains("xone-row")){e.style.flexGrow=1,e.style.flexShrink=1,e.style.overflow="hidden";var t=new ResizeObserver((function(){S.value=1,Object(u["p"])((function(){var t,n;return S.value=e.clientHeight-((null===(t=x.value)||void 0===t?void 0:t.top)||0)-((null===(n=x.value)||void 0===n?void 0:n.bottom)||0)})),j()}));t.observe(e),Object(u["w"])((function(){return null===t||void 0===t?void 0:t.disconnect()}))}}if("grow"===c.value.width||"center"===c.value.align.column){var n=new ResizeObserver((function(){"grow"===c.value.width&&(C.value=1,Object(u["p"])().then((function(){var e,t;return C.value=I.value.clientWidth-((null===(e=x.value)||void 0===e?void 0:e.left)||0)-((null===(t=x.value)||void 0===t?void 0:t.right)||0)}))),j()}));n.observe(I.value),Object(u["w"])((function(){return null===n||void 0===n?void 0:n.disconnect()}))}}));var E=Object(u["d"])((function(){var t=me["c"].getScaledSize(c.value.width,e.containerWidth,O.value);return t?_.value?t-4:t:null})),k=Object(u["d"])((function(){var t=me["c"].getScaledSize(c.value.height,e.containerHeight,y.value);return!t&&S.value?S.value:t?_.value?t-4:t:null})),x=Object(u["d"])((function(){return{top:me["c"].getScaledSize(c.value.margins.top,e.containerHeight,y.value),left:me["c"].getScaledSize(c.value.margins.left,e.containerWidth,O.value),bottom:me["c"].getScaledSize(c.value.margins.bottom,e.containerHeight,y.value),right:me["c"].getScaledSize(c.value.margins.right,e.containerWidth,O.value)}})),T=Object(u["d"])((function(){return{top:me["c"].getScaledSize(c.value.paddings.top,e.containerHeight,y.value),left:me["c"].getScaledSize(c.value.paddings.left,e.containerWidth,O.value),bottom:me["c"].getScaledSize(c.value.paddings.bottom,e.containerHeight,y.value),right:me["c"].getScaledSize(c.value.paddings.right,e.containerWidth,O.value)}})),w=Object(u["d"])((function(){return me["c"].getScaledPosition(c.value.floating.top,y.value)})),A=Object(u["d"])((function(){return me["c"].getScaledPosition(c.value.floating.left,O.value)})),P=Object(u["o"])("xoneView");Object(u["v"])((function(){var t=new ye["a"](c.value.name,I.value);t.refresh=function(){return e.control.controls.forEach((function(e){var t;null!==(t=P[e.attributes.name])&&void 0!==t&&t.refresh&&P[e.attributes.name].refresh()}))},t.scrollBy=function(e){if(I.value){e=e.toString();var t=I.value.scrollHeight;if(e.includes("%"))return I.value.scrollTo({top:Number(e.replace("%","")*t/100),behavior:"smooth"});I.value.scrollTo({top:Number(e.replace("p","")*y.value),behavior:"smooth"})}},t.scrollTo=t.scrollBy,t.scrollToTop=function(){return t.scrollBy(0)},t.scrollToBottom=function(){var e;return t.scrollBy(null===(e=I.value)||void 0===e?void 0:e.scrollHeight)},P.addControl(t),c.value.animationIn&&Object(u["L"])((function(){return p.value}),(function(e){e||I.value.style.animation||(I.value.style.animation=c.value.animationIn)}))}));var R,I=Object(u["C"])(),j=function(){if("center"===c.value.align.column){var e=function(){I.value&&I.value.offsetHeight<I.value.scrollHeight&&(I.value.style.justifyContent=null)};e(),Object(yt["a"])(Array(5).keys()).forEach((function(t){return setTimeout((function(){return e()}),25*t)}))}};Object(u["p"])((function(){return j()})),Object(u["L"])((function(){return e.containerHeight}),(function(){return j()}));var N=function(){R&&clearTimeout(R),R=setTimeout((function(){return me["c"].onScrollEvent(I.value,c.value,e.xoneDataObject)}),250)};Object(u["p"])((function(){return N()}));var M=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return");case 3:return n.stopPropagation(),!0,t.next=7,me["c"].onClick(c.value,e.xoneDataObject,r);case 7:!1;case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{containerElement:I,displayScreenThresholds:n,attributes:c,isActive:g,rows:b,isMouseOver:_,controlWidth:E,controlHeight:k,margins:x,paddings:T,isDisableVisible:p,floatingTop:w,floatingLeft:A,isDesigner:Oe.getIsDesigner(),isDragging:Oe.getIsDragging(),borderDesignSelected:Oe.getBorderSelected(),borderDesignOver:Oe.getBorderContainerOver(),controlGrowWidth:C,controlGrowHeight:S,onScroll:N,onClick:M,appPath:Object(ge["a"])(),isContents:a,onMouseEnter:function(){return Oe.mouseEnter(I.value)},onMouseLeave:function(){return Oe.mouseLeave(I.value)},onMouseDown:function(e){return Oe.mouseDown(e)},onDragOver:function(e){return Oe.mouseMove(e)}}}};n("c187");const aa=O()(ra,[["render",Ot],["__scopeId","data-v-97ac2f9c"]]);var ia=aa,oa=(n("b512"),function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"fileExists",value:function(e){e=e.replace("source/","/");var t=new XMLHttpRequest;t.open("GET",e,!1),t.send();var n=404!==t.status?0:-1;return n}},{key:"download",value:function(e){e=e.replace("/source/","/");var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}},{key:"asyncDownload",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.download(t);case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"listDirectories",value:function(){return[]}},{key:"listFiles",value:function(){return[]}}]),e}()),sa=oa,la=function(){function e(){Object(r["a"])(this,e),Object(be["a"])(this,"_width",void 0),Object(be["a"])(this,"_height",void 0),Object(be["a"])(this,"_template",void 0),Object(be["a"])(this,"_templateAbsolute",void 0),Object(be["a"])(this,"_currentTable",void 0),Object(be["a"])(this,"_divs",void 0)}return Object(a["a"])(e,[{key:"permissions",value:function(){}},{key:"setEncryption",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){this.clearPDF()}},{key:"beginHeader",value:function(){}},{key:"endHeader",value:function(){}},{key:"beginFooter",value:function(){}},{key:"endFooter",value:function(){}},{key:"getCurrentPage",value:function(){}},{key:"getVerticalPosition",value:function(){var e,t;this._template.style.display=null;var n=(null===(e=this._template.lastChild)||void 0===e?void 0:e.getBoundingClientRect().y)+(null===(t=this._template.lastChild)||void 0===t?void 0:t.getBoundingClientRect().height);return this._template.style.display="none",n||0}},{key:"getHorizontalPosition",value:function(){var e,t;this._template.style.display=null;var n=(null===(e=this._template.lastChild)||void 0===e?void 0:e.getBoundingClientRect().x)+(null===(t=this._template.lastChild)||void 0===t?void 0:t.getBoundingClientRect().width);return this._template.style.display="none",n||0}},{key:"launchPDF",value:function(){this._template.style.display=null;var e=window.open("","","");e.document.write("<html>"),e.document.write("\n    <head>\n        <title>".concat(this._name,'</title>\n        <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n        }\n        \n        @font-face {\n          font-family: "Roboto";\n          src: url("/fonts/Roboto-Medium.ttf");\n        }\n        body {\n          font-family: "Roboto", Helvetica, Arial, sans-serif;\n          -webkit-font-smoothing: antialiased;\n          -moz-osx-font-smoothing: grayscale;\n        }\n        </style>\n      </head>\n      <body>\n    '));var t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",t.style.alignItems="center",t.appendChild(this._templateAbsolute),t.appendChild(this._template),e.document.write(t.outerHTML),e.document.write("</body>\n</html>"),e.document.close(),e.focus(),this.clearPDF(),setTimeout((function(){return e.print()}),500)}},{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:595,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:842;this._name=e,this._width=t,this._height=n;var r=document.createElement("div");r.style.width=t+"px",r.style.height=n+"px",r.style.position="absolute",this._templateAbsolute=r;var a=r.cloneNode(!0);a.style.position="relative",a.style.display="flex",a.style.flexDirection="column",a.style.width="".concat(Number(t)-160,"px"),a.style.height="".concat(Number(n)-40,"px"),a.style.margin="20px 80px",a.style.display="none",a.setAttribute("class","XonePdf"),this.clearPDF(),document.body.prepend(a),this._template=a}},{key:"clearPDF",value:function(){document.querySelectorAll(".XonePdf").forEach((function(e){return document.body.removeChild(e)}))}},{key:"setFont",value:function(e){this._font=e}},{key:"setFontStyle",value:function(e){this._fontStyle=e}},{key:"setAlignment",value:function(e){this._alignment=e}},{key:"setFontSize",value:function(e){this._fontSize=e}},{key:"setFontColor",value:function(e){this._fontColor=e}},{key:"createTable",value:function(e){this._currentTableNewLine=!1,this._currentTableColumns=e;var t=document.createElement("div");t.style.display="flex",t.style.flexDirection="column",this._currentTable=t,this.createRow(),this.createColumns(this._currentTable.lastChild,e),this._cellBorder="all"}},{key:"createRow",value:function(){var e=document.createElement("div");e.style.display="flex",e.style.flexDirection="row",e.style.flexGrow="1",this._currentTable.appendChild(e)}},{key:"createColumns",value:function(e,t){this._divs=Object(yt["a"])(Array(Number(t))).map((function(){var t=document.createElement("div");return t.style.flexGrow="1",e.appendChild(t),t}))}},{key:"addTable",value:function(){this._template.appendChild(this._currentTable),this._currentTable=null}},{key:"addTableSetXY",value:function(e,t){isNaN(Number(e))||(e+="px"),this._currentTable.style.position="absolute",this._currentTable.style.left=e,this._currentTable.style.top="".concat(this._height-Number(t),"px"),this._templateAbsolute.appendChild(this._currentTable),this._currentTable=null}},{key:"addRectangle",value:function(e,t,n,r,a,i,o){a=Number(a)/2,0===n&&(n=.1),0===r&&(r=.1),0===a&&(a=.1),isNaN(Number(n))||(n+="px"),isNaN(Number(r))||(r+="px"),isNaN(Number(a))||(a+="px");var s=document.createElement("div");s.style.position="absolute",s.style.left=e+"px",s.style.bottom=t+"px",s.style.width=n,s.style.height=r,s.style.border="".concat(a," solid ").concat(Mn(o)),s.style.background=Mn(i),this._templateAbsolute.appendChild(s)}},{key:"newLine",value:function(){this._template.append(document.createElement("hr"))}},{key:"newPage",value:function(){}},{key:"fromHtml",value:function(e){this._template.innerHTML=e}},{key:"setTableWidth",value:function(e){isNaN(Number(e))||(e+="px"),this._currentTable.style.minWidth=e,this._currentTable.style.minWidth=e}},{key:"setTableCellWidths",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t,n){isNaN(Number(t))||(t+="%"),e._divs[n].style.width=t}))}},{key:"setCellBorder",value:function(e){var t,n;this._cellBorder=e;var r=0!==(null===(t=this._divs)||void 0===t?void 0:t.length)?this._divs[0]:(null===(n=this._template)||void 0===n?void 0:n.lastChild)||this._templateAbsolute.lastChild;if(r){var a="1px solid black";switch(e){case"none":return r.style.border="none";case"all":return r.style.border=a;case"top":return r.style.borderTop=a;case"right":return r.style.borderRight=a;case"bottom":return r.style.borderBottom=a;case"left":return r.style.borderLeft=a}}}},{key:"addCellText",value:function(e){var t=this;this._currentTable?(0===this._divs.length&&(this._currentTableNewLine=!0,this.createRow(),this.createColumns(this._currentTable.lastChild,this._currentTableColumns),this._currentTable.firstChild.childNodes.forEach((function(e,n){t._divs[n].style.border=e.style.border,t._divs[n].style.width=e.style.width}))),this.setCellBorder(this._cellBorder),this._divs[0].appendChild(this.createText(e)),this._divs.shift()):this._template.appendChild(this.createText(e))}},{key:"addCellImage",value:function(e,t,n){var r=this;this._currentTable?(0===this._divs.length&&(this._currentTableNewLine=!0,this.createRow(),this.createColumns(this._currentTable.lastChild,this._currentTableColumns),this._currentTable.firstChild.childNodes.forEach((function(e,t){r._divs[t].style.border=e.style.border}))),this.setCellBorder(this._cellBorder),this._divs[0].appendChild(this.createImage(e,t,n)),this._divs.shift()):this._template.appendChild(this.createImage(e,t,n))}},{key:"addImageSetXY",value:function(e,t,n,r,a){isNaN(Number(r))||(r+="px");var i=this.createImage(e,t,n);i.style.position="absolute",i.style.left=r,i.style.top="".concat(this._height-Number(a),"px"),this._templateAbsolute.appendChild(i)}},{key:"addTextSetX",value:function(e,t){var n=this.createText(e);n.style.marginLeft=t+"px",this._template.appendChild(n)}},{key:"addTextSetXY",value:function(e,t,n){isNaN(Number(t))||(t+="px");var r=this.createText(e);r.style.position="absolute",r.style.left=t,r.style.top="".concat(this._height-Number(n),"px"),this._templateAbsolute.appendChild(r)}},{key:"addCheckboxSetXY",value:function(e,t,n,r,a){isNaN(Number(t))||(t+="px");var i=document.createElement("input");i.innerText=e,i.value="true"===a.toString(),i.setAttribute("type","checkbox"),i.style.width=r+"px",i.style.position="absolute",i.style.left=t,i.style.top="".concat(this._height-Number(n),"px"),this._templateAbsolute.appendChild(i)}},{key:"addCheckbox",value:function(e,t,n){isNaN(Number(x))||(x+="px");var r=document.createElement("input");r.innerText=e,r.value="true"===n.toString(),r.setAttribute("type","checkbox"),r.style.width=t+"px",this._template.appendChild(r)}},{key:"addText",value:function(e){this._template.appendChild(this.createText(e))}},{key:"addTextLine",value:function(e){this.addText(e)}},{key:"createText",value:function(e){var t,n=document.createElement("p");n.innerText=e,this._fontSize&&(n.style.fontSize=this._fontSize+"px"),this._fontColor&&(n.style.color=Mn(this._fontColor));var r=0!==(null===(t=this._divs)||void 0===t?void 0:t.length)?this._divs[0]:this._template.lastChild||this._templateAbsolute.lastChild;return this._alignment.includes("center")&&(r.style.textAlign="center"),this._alignment.includes("right")&&(r.style.textAlign="right"),this._fontStyle.includes("bold")&&(r.style.fontWeight="bold"),n}},{key:"createImage",value:function(e,t,n){var r=document.createElement("image");return r.setAttribute("src",e.replace("./","")),r.setAttribute("width",t),r.setAttribute("height",n),r}}]),e}(),ua=la,ca=navigator,da=ca.clipboard,ha=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"getText",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,da.readText();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setText",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,da.writeText(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"clear",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,da.writeText("");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"hasSomething",value:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,da.readText();case 2:return e.abrupt("return",!!e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),pa=new ha,fa=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"checkMarketUpdate",value:function(){}},{key:"clearApplicationData",value:function(){}},{key:"clearBitmapCache",value:function(){}},{key:"clearJavascriptCache",value:function(){}},{key:"getAndroidVersion",value:function(){}},{key:"getApiLevel",value:function(){}},{key:"getBrightness",value:function(){}},{key:"getBrightnessMode",value:function(){}},{key:"getDownloadsPath",value:function(){}},{key:"getExternalStoragePath",value:function(){}},{key:"getGalleryPath",value:function(){}},{key:"getGrantedPermissions",value:function(){}},{key:"getHardwareIds",value:function(){return{deviceIdCount:1,deviceId0:localStorage.getItem("_deviceId"),androidId:localStorage.getItem("_deviceId")}}},{key:"getnetworktime",value:function(){}},{key:"getNotGrantedPermissions",value:function(){}},{key:"getSharedUserId",value:function(){}},{key:"getWallpaper",value:function(){}},{key:"isAirplaneMode",value:function(){}},{key:"isIgnoringBatteryOptimazations",value:function(){}},{key:"isPasswordSecured",value:function(){}},{key:"ispermissiongranted",value:function(){}},{key:"requestIgnoringBatteryOptimazations",value:function(){}},{key:"requestPermissions",value:function(){}},{key:"setBrightness",value:function(){}},{key:"setBrightnessMode",value:function(){}},{key:"setWallpaper",value:function(){}}]),e}(),ma=new fa,ga=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"GetDeviceID",value:function(){return localStorage.getItem("_deviceId")}},{key:"GetLog",value:function(){}},{key:"SendDatabase",value:function(){}},{key:"SendLog",value:function(){}},{key:"SendReplicaDebugDatabase",value:function(){}},{key:"SendReplicaFilesDatabase",value:function(){}}]),e}(),ba=ga;window.createObject=function(e){return"xonepdf"===e.toLowerCase()?new ua:"filemanager"===e.toLowerCase()?new sa:"debugtools"===e.toLowerCase()?new ba:void 0},window.$http={get:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:function(e,t){return console.error(t)},i={headers:(null===n||void 0===n?void 0:n.headers)||{}},e.prev=2,e.next=5,fetch(t,Object(Je["a"])({method:"GET"},i));case 5:return o=e.sent,e.next=8,o.json();case 8:s=e.sent,r(s),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](2),a(500,"Error executing $http.get",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));function t(t,n,r){return e.apply(this,arguments)}return t}(),post:function(){var e=Object(h["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=l.length>3&&void 0!==l[3]?l[3]:function(e,t){return console.error(t)},i={headers:(null===n||void 0===n?void 0:n.headers)||{},body:{}},e.prev=2,null!==n&&void 0!==n&&n.data&&(i.body=JSON.stringify(n.data)),e.next=6,fetch(t,Object(Je["a"])({method:"POST"},i));case 6:return o=e.sent,e.next=9,o.json();case 9:s=e.sent,r(s),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](2),a(500,"Error executing $http.post",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},window.clipboard=pa,window.XOneOCR=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"startScan",value:function(){console.log("OCR Start Scan")}}]),e}(),window.fingerprintManager=new(function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"isHardwareAvailable",value:function(){return!1}},{key:"hasEnrolledFingerprints",value:function(){return!1}}]),e}()),window.replica=new(function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"getRecordsRX",value:function(){return 0}},{key:"getRecordsTX",value:function(){return 0}},{key:"getRecordsPend",value:function(){return 0}},{key:"getTotalRecordsRX",value:function(){return 0}},{key:"getTotalRecordsTX",value:function(){return 0}},{key:"getLog",value:function(){return""}},{key:"startReplica",value:function(){}},{key:"start",value:function(){}},{key:"stopReplica",value:function(){}},{key:"stop",value:function(){}}]),e}()),window.Animation=st,window.systemSettings=ma,window.createBookmark=function(e,t){return browser.bookmarks.create({title:e,url:t}).then((function(){return console.log("Bookmark crated")}))};var _a=Function("cbF","(async()=>{try{const c=await import('../configuration.js');cbF(c.default);}catch(ex){console.error('Error loading configuration.js',ex);}})()");_a((function(e){var t=e.mode||"SPA";"DESIGNER"===t&&Oe.setIsDesigner(!0),Object(u["e"])(ft).use(_t).component("Container",ia).mount("xone-app"),"PWA"===t&&navigator.serviceWorker&&navigator.serviceWorker.register("./sw.js"),window.addEventListener("popstate",(function(e){e.state&&("object"==Object(l["a"])(e.state)&&!0!==e.state.obsolete&&(history.replaceState({obsolete:!0},""),history.pushState(e.state,"")),"object"==Object(l["a"])(e.state)&&!0===e.state.obsolete&&history.back())}),!1);var n=document.querySelector('meta[name="viewport"]');n&&(n.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0",document.body.addEventListener("gesturestart",(function(){n.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"}),!1))}));var va=function(e){Object(i["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(r["a"])(this,n),t.call(this)}return Object(a["a"])(n,[{key:"connectedCallback",value:function(){var e=document.createElement("div");e.id="app",this.appendChild(e)}}]),n}(Object(s["a"])(HTMLElement));window.customElements.define("xone-app",va)},"57ee":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("2ca0"),n("8a79"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("3be9")),o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"ParseDateString",value:function(e,t){throw new Error("Method not implemented.")}},{key:"removeChars",value:function(e,t){return e.startsWith(t)&&(e=e.substr(1)),e.length>1&&e.endsWith(t)&&(e=e.substr(0,e.length-1)),e}},{key:"Replace",value:function(e,t,n){return e.replace(t,n)}},{key:"ParseBoolValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return null==e?t:"string"===typeof e?0==e.length?t:e.equalsIgnoreCase("true")||e.equals("1")||!!+e:!!e}},{key:"IsEmptyString",value:function(e){return i["a"].isEmpty(e)}},{key:"areEquals",value:function(e,t){return e===t}},{key:"SafeToString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return null==e?t:"string"===typeof e?e:e.toString()}catch(n){return t}}}]),e}();o.XONE_EMPTY_STRING="##XONE_EMPTY_STRING##",o.XONE_METHOD_DEFAULT="##xoneMethodDefault##"},5977:function(e,t,n){},"5d1a":function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return d}));var r=n("3835"),a=n("5530"),i=n("2909"),o=(n("d3b7"),n("25f0"),n("99af"),n("ac1f"),n("5319"),n("498a"),n("159b"),n("d81d"),n("ddb0"),n("4fad"),n("2ca0"),n("d2fd"),n("a33b"),n("7c22")),s=function(){return Math.random().toString(36).substr(2,9)},l=function(){return"".concat(Math.random().toString(36).substr(2,9),"-").concat(Math.random().toString(36).substr(2,9),"-").concat(Math.random().toString(36).substr(2,9),"-").concat(Math.random().toString(36).substr(2,9))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return Object(o["loremIpsum"])().substring(0,e)},c=function(e){return(new DOMParser).parseFromString(e,"text/xml")},d=function(){return window.generateTestingData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=e.m_xmlNode;"usuarios"===n.getAttrValue("objname").toString().toLowerCase()&&(t=1);var o={};n.SelectNodes("prop").map((function(e){var t=e.getAttrValue("name");o[t]=e.getAttrValue("type")}));var l=Object(i["a"])(Array(t).keys()).map((function(e){var t=Object(a["a"])({},o);return Object.entries(o).forEach((function(e){var n=Object(r["a"])(e,2),a=n[0],i=n[1];i="LOGIN"===a?"admin":"PWD"===a?null:"IDEMPRESA"===a?1:i.toString().startsWith("T")?u():"NC"===i?Math.random()>=.5?1:0:i.toString().startsWith("N")?Math.floor(100*Math.random()):i.toString().startsWith("D")?new Date(Math.floor(2636111528424*Math.random())):"IMG"===i?"https://picsum.photos/200?id=".concat(s()):"",t[a]=i})),t.ID=e+1,t}));return l}};String.prototype.compress=function(e){e=!0===e;var t,n,r,a={},i=this,o="",s=[],l="",u=256;for(t=0;t<256;t+=1)a[String.fromCharCode(t)]=t;for(t=0;t<i.length;t+=1)n=i.charAt(t),r=o+n,a.hasOwnProperty(r)?o=r:(s.push(a[o]),l+=String.fromCharCode(a[o]),a[r]=u++,o=String(n));return""!==o&&(s.push(a[o]),l+=String.fromCharCode(a[o])),e?s:l},String.prototype.decompress=function(){var e,t,n,r,a=[],i=[],o=this,s="",l=256;for(e=0;e<256;e+=1)i[e]=String.fromCharCode(e);if(o&&"string"===typeof o){for(e=0;e<o.length;e+=1)a.push(o[e].charCodeAt(0));o=a,a=null}for(t=String.fromCharCode(o[0]),n=t,e=1;e<o.length;e+=1){if(r=o[e],i[r])s=i[r];else{if(r!==l)return null;s=t+t.charAt(0)}n+=s,i[l++]=t+s.charAt(0),t=s}return n}},"5eb9":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("b64b"),n("0912")),s=n("3548"),l=n("54ab"),u=n("57ee"),c=function(){function e(t,n){Object(a["a"])(this,e),this.m_stringData=["Valor prueba texto","Texto corto","0002346","Otro texto","Un texto mas largo de prueba","Mas texto"],this.m_maxRows=100,this.m_keys=[],this.isResultset=!0,this.m_connection=t,this.m_nIterate=-1,this.m_options=n,this.m_data=[],this.m_maxRows=this.m_data.length,this.m_keys=[]}return Object(i["a"])(e,[{key:"populate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_connection.fetchDataAsync(t||this.m_options);case 2:if(n=e.sent,1!=n.hasError){e.next=5;break}throw new o["a"](n.err);case 5:return this.m_data=Array.isArray(n.data)?n.data:[],this.m_maxRows=this.m_data.length,this.m_keys=0==this.m_maxRows?[]:Object.keys(this.m_data[0]),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBytes",value:function(e){return null}},{key:"getColumnCount",value:function(){return 0==this.m_maxRows?0:this.m_keys.length}},{key:"getColumnTypes",value:function(){return[1,2,3,4,5,6,7,8]}},{key:"getColumnName",value:function(e){return 0==this.m_maxRows?0:this.m_keys[e]}},{key:"getData",value:function(){return this.m_data}},{key:"close",value:function(){this.m_nIterate=-1,this.m_data=null,this.m_maxRows=0}},{key:"resolverField",value:function(e){return"number"==typeof e?this.m_keys[e]:e}},{key:"getValue",value:function(e,t){switch(t){case 0:return s["a"].SafeToInt(this.m_data[this.m_nIterate][this.resolverField(e)]);case 2:return s["a"].SafeToDouble(this.m_data[this.m_nIterate][this.resolverField(e)]);case 3:return l["a"].SafeToDate(this.m_data[this.m_nIterate][this.resolverField(e)]);default:return u["a"].SafeToString(this.m_data[this.m_nIterate][this.resolverField(e)])}}},{key:"getString",value:function(e){return this.getValue(e,1)}},{key:"getInt",value:function(e){return this.getValue(e,0)}},{key:"getDate",value:function(e){return this.getValue(e,3)}},{key:"PageLen",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.length)||-1}},{key:"PageCache",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.cache)||-1}},{key:"next",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",++this.m_nIterate<this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EOF",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate>=this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveTo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t==this.m_maxRows||(this.m_nIterate=t)==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},"5f19":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=n("ade3"),o=function(){function e(t){Object(r["a"])(this,e),Object(i["a"])(this,"_xThreshhold",75),Object(i["a"])(this,"_allowedTime",500),Object(i["a"])(this,"_yThreshhold",75),this.callbackFunction=t}return Object(a["a"])(e,[{key:"touchStart",value:function(e){if(!this.isSwipeable(e.target))return e.stopPropagation();this.touchobj=e.changedTouches[0],this.dist=0,this.startX=this.touchobj.pageX,this.startY=this.touchobj.pageY,this.startTime=(new Date).getTime()}},{key:"touchEnd",value:function(e){if(!this.isSwipeable(e.target))return e.stopPropagation();this.touchobj=e.changedTouches[0],this.dist=this.touchobj.pageX-this.startX,this.elapsedTime=(new Date).getTime()-this.startTime,this.elapsedTime>this._allowedTime||Math.abs(this.dist)<this._xThreshhold||Math.abs(this.touchobj.pageY-this.startY)>this._yThreshhold||this.callbackFunction(this.dist<0?1:-1)}},{key:"isSwipeable",value:function(e){do{if(e===this.touchElement)return!0;if("false"===e.getAttribute("swipeable"))return!1;e=e.parentElement}while(e);return!0}},{key:"init",value:function(e){this.touchElement=e,this.touchElement.addEventListener("touchstart",this.touchStart.bind(this),{passive:!0}),this.touchElement.addEventListener("touchend",this.touchEnd.bind(this),{passive:!0})}},{key:"clear",value:function(){this.touchElement.removeEventListener("touchstart",this.touchStart),this.touchElement.removeEventListener("touchend",this.touchEnd)}}]),e}()},6:function(e,t){},6208:function(e,t,n){},"652f":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("d3b7"),n("25f0"),n("3e8f"),function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,[{key:"readFileSync",value:function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.setRequestHeader("Content-type","charset=UTF-8"),t.send(),200==t.status&&4==t.readyState?t.responseText:null}},{key:"readFileAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{mode:"no-cors"});case 3:return n=e.sent,e.next=6,n.clone().text();case 6:return r=e.sent,a=r.indexOf("encoding="),i="UTF-8",-1!==a&&(o=r.substring(a+10),i=o.substring(0,o.indexOf('"'))),e.next=12,n.arrayBuffer();case 12:return s=e.sent,l=new TextDecoder(i),e.abrupt("return",l.decode(s));case 17:e.prev=17,e.t0=e["catch"](0),console.error("readFileAsync",t,e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"readJsonFileSync",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/json",n=this.readFileSync(e,t);return n?JSON.parse(n):null}}]),e}())},"668d":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("53ca"),a=n("1da1"),i=n("d4ec"),o=n("bee2"),s=n("ade3"),l=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("a9e3"),n("159b"),n("99af"),n("ac1f"),n("5319"),n("25f0"),n("7a23")),u=(n("d2fd"),n("528d")),c=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(i["a"])(this,e),Object(s["a"])(this,"contentsRowsInfo",Object(l["C"])([])),Object(s["a"])(this,"element",void 0),Object(s["a"])(this,"contents",void 0),Object(s["a"])(this,"rowsPerPage",20),Object(s["a"])(this,"rowsPerPageByObjectId",5),Object(s["a"])(this,"rowsPerLoad",50),Object(s["a"])(this,"isCheckingRowsVisibility",void 0),Object(s["a"])(this,"isLoadingRowsInfo",Object(l["C"])(!0)),Object(s["a"])(this,"lockLoadRowsInfo",!1),Object(s["a"])(this,"isInGroup",void 0),Object(s["a"])(this,"isDrawer",void 0),Object(s["a"])(this,"rowsLength",Object(l["C"])(0)),Object(s["a"])(this,"mapDivElements",new Map),Object(s["a"])(this,"elementName",void 0),Object(s["a"])(this,"allRecordsLoaded",!1),Object(s["a"])(this,"loadByObjectId",void 0),Object(s["a"])(this,"breadcrumbId",void 0),Object(s["a"])(this,"checkLoadScroll",!0),Object(s["a"])(this,"isLoading",Object(l["C"])(!0)),this.elementName=t,this.breadcrumbId=n,this.setPaginationSize(r)}return Object(o["a"])(e,[{key:"bindOnScrollEvent",value:function(e){this.element=e,e.addEventListener("scroll",this.onScroll.bind(this))}},{key:"clear",value:function(){this.reset(),this.element.removeEventListener("scroll",this.onScroll)}},{key:"getContentsRowsInfo",value:function(){return this.contentsRowsInfo}},{key:"getIsLoading",value:function(){var e=this;return Object(l["d"])((function(){return e.isLoading.value||e.isLoadingRowsInfo.value}))}},{key:"getRowsLength",value:function(){return this.rowsLength.value}},{key:"setPaginationSize",value:function(e){e&&(isNaN(e)||(e=Number(e),this.rowsPerPage=e,this.rowsPerPageByObjectId=e,this.checkLoadScroll=!1))}},{key:"reset",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.lockLoadRowsInfo=!1,this.mapDivElements.clear(),this.contentsRowsInfo.value=[],this.rowsLength.value=0,this.allRecordsLoaded=!1,this.isCheckingRowsVisibility=!1,e.next=8,Object(l["p"])();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onScroll",value:function(){var e=this;if(this.isCheckingRowsVisibility||this.isLoadingRowsInfo.value||this.isLoading.value)return this.timeoutOnScroll&&clearTimeout(this.timeoutOnScroll),this.timeoutOnScroll=setTimeout((function(){return e.onScroll()})),25;this.checkScrollElementsVisibility(),this.checkLoadRowsInfo()}},{key:"checkScrollElementsVisibility",value:function(){var e=this;try{this.isCheckingRowsVisibility=!0,this.scrollElementsVisibilityTimeout&&clearTimeout(this.scrollElementsVisibilityTimeout),this.scrollElementsVisibilityTimeout=setTimeout((function(){e.contentsRowsInfo.value.forEach((function(t){var n=e.element,r=n.scrollTop,a=n.clientHeight,i=e.mapDivElements.get(t.id);if(!i){if(i=document.getElementById("".concat(e.elementName.replace("@","")).concat(t.id).concat(e.breadcrumbId)),!i)return;e.mapDivElements.set(t.id,i)}i.offsetTop+i.clientHeight+window.outerHeight<r||i.offsetTop+i.clientHeight>r+a+window.outerHeight&&i.offsetTop>r+a?("auto"===t.height&&(t.height=i.clientHeight?i.clientHeight+"px":"auto"),"auto"===t.width&&(t.width=i.clientWidth?i.clientWidth+"px":"auto"),t.visible=!1):t.visible||(t.height="auto",t.width="auto",t.visible=!0),e.isCheckingRowsVisibility=!1}))}),100)}catch(t){this.isCheckingRowsVisibility=!1}}},{key:"checkLoadRowsInfo",value:function(){var e=this.element;this.allRecordsLoaded&&this.contentsRowsInfo.value.length>=this.rowsLength.value||e.scrollHeight-e.clientHeight-window.outerHeight/2>=e.scrollTop||this.loadRowsInfo(null,e)}},{key:"loadRows",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,n=o.length>1&&void 0!==o[1]?o[1]:null,r=o.length>2&&void 0!==o[2]&&o[2],e.prev=3,!t){e.next=8;break}return e.next=7,this.reset();case 7:this.contents=t;case 8:return this.isLoading.value=!0,this.isLoadingRowsInfo.value=!0,e.next=12,this.checkGroupIsVisible();case 12:if(a="true"===this.contents.m_xmlNode.getAttrValue("special"),i="true"===this.contents.m_xmlNode.getAttrValue("fluid-load")||(null===n||void 0===n?void 0:n.fluidLoad),!r||0===this.contents.length){e.next=17;break}e.next=28;break;case 17:if(a){e.next=27;break}if(!this.contents.isLock()){e.next=23;break}return e.next=21,this.contents.loadAll(!1);case 21:e.next=25;break;case 23:return e.next=25,this.contents.loadAll(!1,{start:this.getRowsLength(),length:this.rowsPerLoad});case 25:e.next=28;break;case 27:this.getRowsLength()===this.contents.length&&(this.allRecordsLoaded=!0);case 28:(0===this.contents.length||this.contents.isLock()||this.contents.length!==this.rowsPerLoad)&&(this.allRecordsLoaded=!0),this.rowsLength.value+=this.contents.length,t&&!a&&(this.loadByObjectId=this.rowsPerLoad===this.contents.length||i),e.next=38;break;case 33:e.prev=33,e.t0=e["catch"](3),u["a"].showSnackbar({color:"#F44336",textColor:"white",text:e.t0}),this.allRecordsLoaded=!0,console.error(e.t0);case 38:return e.prev=38,this.isLoading.value=!1,e.finish(38);case 41:case"end":return e.stop()}}),e,this,[[3,33,38,41]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadRowsInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,i,o,s,u,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.lockLoadRowsInfo){e.next=2;break}return e.abrupt("return");case 2:if(this.lockLoadRowsInfo=!0,this.isLoadingRowsInfo.value=!0,!(0===this.contentsRowsInfo.value.length||this.element.scrollHeight>this.element.clientHeight)){e.next=7;break}return e.next=7,new Promise((function(e){return setTimeout((function(){return Object(l["p"])((function(){return e()}))}),1)}));case 7:t=this.loadByObjectId?this.rowsPerPageByObjectId:this.rowsPerPage,n=0===this.contentsRowsInfo.value.length?0:this.contentsRowsInfo.value[this.contentsRowsInfo.value.length-1].id+1,i=n+t,o=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.checkGroupIsVisible();case 2:if(!(t>=c.getRowsLength())){e.next=9;break}if(!c.allRecordsLoaded){e.next=5;break}return e.abrupt("return",{v:c.resetLoadRows()});case 5:return e.next=7,c.loadRows();case 7:if(!c.allRecordsLoaded){e.next=9;break}return e.abrupt("return",{v:c.resetLoadRows()});case 9:if(e.t0=t,c.loadByObjectId){e.next=14;break}e.t1=null,e.next=17;break;case 14:return e.next=16,Object(a["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t;while(n>=c.rowsPerLoad)n-=c.rowsPerLoad;return e.prev=2,e.next=5,c.contents.get(n);case 5:return r=e.sent,e.abrupt("return",r.ID.toString());case 9:return e.prev=9,e.t0=e["catch"](2),console.error("Error getting XoneDataObject ID",e.t0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))();case 16:e.t1=e.sent;case 17:e.t2=e.t1,e.t3=function(e){return r.recordId=null===e||void 0===e?void 0:e.toString()},e.t4=0===n,e.t5=function(){},e.t6=function(e){return r.refresh=e},e.t7=function(e){return r.isLoaded=e},r={id:e.t0,recordId:e.t2,setRecordId:e.t3,visible:!0,height:"auto",width:"auto",isExpanded:!1,isFirstLoad:e.t4,refresh:e.t5,setRefresh:e.t6,setIsLoaded:e.t7},c.contentsRowsInfo.value.push(r);case 25:case"end":return e.stop()}}),e)})),s=n;case 12:if(!(s<i)){e.next=20;break}return e.delegateYield(o(s),"t0",14);case 14:if(u=e.t0,"object"!==Object(r["a"])(u)){e.next=17;break}return e.abrupt("return",u.v);case 17:s++,e.next=12;break;case 20:this.resetLoadRows();case 21:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"resetLoadRows",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isLoadingRowsInfo.value=!1,t=this.element,n=!1,r=0;case 4:if(!(r<100)){e.next=16;break}if(!(this.element.scrollHeight>t.clientHeight+200)){e.next=9;break}return n=!0,this.checkScrollElementsVisibility(),e.abrupt("break",16);case 9:if(this.contentsRowsInfo.value.some((function(e){return!e.isLoaded}))){e.next=11;break}return e.abrupt("break",16);case 11:return e.next=13,new Promise((function(e){return setTimeout((function(){return e()}),5)}));case 13:r++,e.next=4;break;case 16:if(a=this.loadByObjectId?this.rowsPerPageByObjectId:this.rowsPerPage,this.lockLoadRowsInfo=!1,!(n||this.contentsRowsInfo.value.length<a)){e.next=20;break}return e.abrupt("return");case 20:if(this.checkLoadScroll){e.next=22;break}return e.abrupt("return");case 22:this.loadRowsInfo();case 23:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"checkGroupIsVisible",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isDrawer){e.next=8;break}case 1:if(this.isInGroup){e.next=6;break}return e.next=4,new Promise((function(e){return setTimeout((function(){return e()}),250)}));case 4:e.next=1;break;case 6:e.next=15;break;case 8:t=this.element;while(t.parentElement&&"true"!==t.getAttribute("group"))t=t.parentElement;case 10:if("0"!==t.style.opacity){e.next=15;break}return e.next=13,new Promise((function(e){return setTimeout((function(){return e()}),500)}));case 13:e.next=10;break;case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()},6764:function(e,t,n){},6822:function(e,t,n){"use strict";n("52de")},"6c16":function(e,t,n){},"6dc9":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,a=n("bee2"),i=n("d4ec"),o=(n("159b"),n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("498a"),n("8a79"),n("2ca0"),n("c35a"),n("a9e3"),n("3019")),s=n("3be9"),l=function(){function e(t,n){Object(i["a"])(this,e),this.m_strField=t,this.m_strAlias=n}return Object(a["a"])(e,[{key:"getName",value:function(){return this.m_strField}},{key:"getResolvedName",value:function(){return s["a"].isEmpty(this.m_strAlias)?this.m_strField:this.m_strAlias}},{key:"setName",value:function(e){this.m_strField=e}},{key:"getAlias",value:function(){return this.m_strAlias}},{key:"setAlias",value:function(e){this.m_strAlias=e}}]),e}();(function(e){e[e["eLeftJoin"]=0]="eLeftJoin",e[e["eRightJoin"]=1]="eRightJoin",e[e["eInnerJoin"]=2]="eInnerJoin"})(r||(r={}));var u=function(){function e(t,n){Object(i["a"])(this,e),this.m_bUseParrentisisAtJoins=!1,this.m_strTableName=t,this.m_strTableAlias=n,this.m_bUsePrefix=!0,this.m_joinType=r.eLeftJoin}return Object(a["a"])(e,[{key:"getSecondTable",value:function(){return this.m_secondTable}},{key:"setSecondTable",value:function(e){this.m_secondTable=e}},{key:"getTranslateJoins",value:function(){return this.m_bTranslateJoins}},{key:"setTranslateJoins",value:function(e){this.m_bTranslateJoins=e,null!=this.m_secondTable&&this.m_secondTable.setTranslateJoins(e)}},{key:"getActualName",value:function(){return this.m_bUsePrefix?"##PREF##"+this.m_strTableName:this.m_strTableName}},{key:"getAlias",value:function(){return this.m_strTableAlias}},{key:"setAlias",value:function(e){this.m_strTableAlias=e}},{key:"getJoinCondition",value:function(){return this.m_strJoinCondition}},{key:"getJoinType",value:function(){return this.m_joinType}},{key:"setJoinCondition",value:function(e,t){this.m_strJoinCondition=e,this.m_joinType=t}},{key:"getTableName",value:function(){var e,t;if(null==this.m_secondTable)return e=String.format("%s%s",this.m_bUsePrefix?"##PREF##":"",this.m_strTableName),e;if(this.m_bTranslateJoins)return this.TranslatedJoinTableName();var n="(",a=")";this.m_bUseParrentisisAtJoins||(n="",a=""),e=n+this.m_secondTable.getTableName(),s["a"].isEmpty(this.m_secondTable.getJoinCondition())&&(t=" "+this.m_secondTable.getAlias(),e+=t);var i="LEFT OUTER JOIN";switch(this.m_joinType){case r.eRightJoin:i="RIGHT JOIN";break;case r.eInnerJoin:i="INNER JOIN";break}return t=String.format(" %s %s%s %s ON %s"+a,i,this.m_bUsePrefix?"##PREF##":"",this.m_strTableName,this.m_strTableAlias,this.m_strJoinCondition),e+=t,e}},{key:"TranslatedJoinTableName",value:function(){var e=this.m_bUsePrefix?"##PREF##":"";return e+=this.m_strTableName,s["a"].isEmpty(this.m_strTableAlias)||(e+=" "+this.m_strTableAlias),null!=this.m_secondTable&&(e+=","+this.m_secondTable.TranslatedJoinTableName()),e}},{key:"setTableName",value:function(e){this.m_strTableName=e}},{key:"getUsePrefix",value:function(){return this.m_bUsePrefix}},{key:"setUsePrefix",value:function(e){this.m_bUsePrefix=e}},{key:"getTranslatedJoinConditions",value:function(){var e="";if(s["a"].isEmpty(this.m_strJoinCondition)||(e+="("+this.m_strJoinCondition+")"),null!=this.m_secondTable){var t=this.m_secondTable.getTranslatedJoinConditions();s["a"].isEmpty(t)||(e+=" AND "+t)}return e}}]),e}(),c=n("8277"),d=n("0e62"),h=n("57ee"),p=n("54c9"),f=n("d2c7"),m=n("458e"),g=function e(){Object(i["a"])(this,e)};g.PARSER_KEYWORD=0,g.PARSER_COMPLETE=1,g.PARSER_DELETE_EXPECTING_FROM=2,g.PARSER_DELETE_EXPECTING_TABLE=3,g.PARSER_DELETE_EXPECTING_WHERE=4,g.PARSER_DELETE_WHERE=5,g.PARSER_INSERT_EXPECTING_INTO=6,g.PARSER_INSERT_EXPECTING_TABLE=7,g.PARSER_INSERT_EXPECTING_FIELDS_BEGIN=8,g.PARSER_INSERT_EXPECTING_FIELD_NAME=9,g.PARSER_INSERT_EXPECTING_FIELD_SEPARATOR=10,g.PARSER_INSERT_EXPECTING_VALUES=11,g.PARSER_INSERT_EXPECTING_VALUES_BEGIN=12,g.PARSER_INSERT_EXPECTING_VALUE=13,g.PARSER_INSERT_EXPECTING_VALUE_SEPARATOR=14,g.PARSER_UPDATE_EXPECTING_TABLE=15,g.PARSER_UPDATE_EXPECTING_SET=16,g.PARSER_UPDATE_EXPECTING_FIELD_NAME=17,g.PARSER_UPDATE_EXPECTING_EQUAL_SIGN=18,g.PARSER_UPDATE_EXPECTING_FIELD_VALUE=19,g.PARSER_UPDATE_EXPECTING_SEPARATOR=20,g.PARSER_UPDATE_EXPECTING_WHERE=21,g.PARSER_UPDATE_WHERE=22;var b=function(){function e(t,n){Object(i["a"])(this,e),this.m_strReservedWords=["insert","update","delete","into","values","set","where","from","having","group","by","order"],this.m_bTranslateJoins=!1,this.m_bSurroundUnions=!1,t instanceof e?this.SqlParserFromParser(t):(this.m_strRowIdFieldName=t,this.m_sqlType=c["a"].SQLTYPE_UNKNOWN,this.m_lstFields=new o["a"],this.m_lstFieldsType=new o["a"],this.m_lstSelectFields=new m["a"],this.m_messages=n||null)}return Object(a["a"])(e,[{key:"SqlParserFromParser",value:function(e){var t=this;this.m_messages=e.getMessageHolder(),this.m_strRowIdFieldName=e.GetRowIdFieldName(),this.m_sqlType=e.GetSqlType(),this.m_lstFields=new o["a"],this.m_lstFieldsType=new o["a"],this.m_strTable=e.GetTableName(),this.m_strWhere=e.GetWhereSentence(),e.GetFields().entrySet().forEach((function(e){return t.m_lstFields.put(e[0],e[1])})),this.m_strSentence=e.GetSentence(),this.m_lstSelectFields=new m["a"]}},{key:"GetRowIdFieldName",value:function(){return this.m_strRowIdFieldName}},{key:"SetRowIdFieldName",value:function(e){this.m_strRowIdFieldName=e}},{key:"GetWhereSentence",value:function(){var e;return null===(e=this.m_strWhere)||void 0===e?void 0:e.replace("*","")}},{key:"getMessageHolder",value:function(){return this.m_messages}},{key:"SetWhereSentence",value:function(e){this.m_strWhere=e.toString()}},{key:"GetRowId",value:function(){var e,t,n=null;return s["a"].isEmpty(this.m_strRowId)?(this.m_lstFields.containsKey(this.m_strRowIdFieldName)&&(n=this.m_lstFields.get(this.m_strRowIdFieldName)),s["a"].isEmpty(n)?(n=this.GetWhereSentence(),s["a"].isEmpty(n)||(e=n.indexOf("'"),t=n.indexOf("'",e+1),n=n.substring(e+1,t))):n=h["a"].removeChars(n,"'"),s["a"].isEmpty(n)||(this.m_strRowId=n),this.m_strRowId):this.m_strRowId}},{key:"GetFields",value:function(){return this.m_lstFields}},{key:"GetSqlType",value:function(){return this.m_sqlType}},{key:"SetSqlType",value:function(e){this.m_sqlType=e}},{key:"GetTableName",value:function(){return this.m_strTable}},{key:"SetTableName",value:function(e){this.m_strTable=e}},{key:"getTranslateJoins",value:function(){return this.m_bTranslateJoins}},{key:"setTranslateJoins",value:function(e){this.m_bTranslateJoins=e}},{key:"getSurroundUnions",value:function(){return this.m_bSurroundUnions}},{key:"setSurroundUnions",value:function(e){this.m_bSurroundUnions=e}},{key:"GetSentence",value:function(){return this.m_strSentence||""}},{key:"getIsUnionQuery",value:function(){return this.m_bIsUnionQuery}},{key:"AddFields",value:function(e,t){var n=this;try{return e.GetFields().entrySet().forEach((function(e){(!t&&!n.m_lstFields.containsKey(e[0])||t)&&n.SetFieldValue(e[0],e[1])})),!0}catch(r){throw r}}},{key:"BeginParse",value:function(){this.m_nParserIndex=0,this.m_strCurrentToken=null,this.m_lstFields=new o["a"],this.m_strTable=null,this.m_strWhere="",this.m_strRowId=null}},{key:"FieldExists",value:function(e){return this.m_lstFields.containsKey(e)}},{key:"GetFieldValue",value:function(e){return this.m_lstFields.containsKey(e)?this.m_lstFields.get(e):null}},{key:"GetNextSpacedToken",value:function(){var e=null;while(this.m_nParserIndex<this.m_strSentence.length)if(e=this.GetNextToken(),0!=e.localeCompare(" ")&&0!=e.localeCompare("\t")&&0!=e.localeCompare("\n")&&0!=e.localeCompare("\r"))break;return e}},{key:"GetNextToken",value:function(){var e,t=new d["a"],n=!1;while(this.m_nParserIndex<this.m_strSentence.length){if(e=this.m_strSentence.charAt(this.m_nParserIndex++),"'"==e)if(n){if(this.m_nParserIndex>this.m_strSentence.length)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_SYNTAXERROR,"Syntax error in SQL Sentence."));if(!(this.m_nParserIndex<this.m_strSentence.length)){t.append(e);break}if("'"!=this.m_strSentence.charAt(this.m_nParserIndex)){t.append(e);break}t.append(e),this.m_nParserIndex++}else n=!0;else if(!n&&this.IsSeparator(e))return t.length()>0?(this.m_nParserIndex--,(this.m_strCurrentToken=t).toString()):(this.m_strCurrentToken=(new d["a"]).append(e),this.m_strCurrentToken.toString());t.append(e)}if(n){if(t.length()<2)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_INCOMPLETETOKEN,"Syntax Error. String token incomplete."));if("'"!=t.charAt(t.length()-1))throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_INCOMPLETETOKEN,"Syntax Error. String token incomplete."))}return(this.m_strCurrentToken=t).toString()}},{key:"GetNextValueToken",value:function(){var e,t,n=0;t=this.GetNextSpacedToken(),t.equals("(")&&n++;while(this.m_nParserIndex<this.m_strSentence.length){if(e=this.GetNextToken(),0==e.compareTo("("))n++;else{if(0==e.compareTo(")")){if(this.m_nParserIndex==this.m_strSentence.length&&this.m_status==g.PARSER_INSERT_EXPECTING_VALUE)return this.m_nParserIndex--,t;if(--n<0)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_SYNTAXERROR,"Syntax error in SQL Sentence."))}if(0==e.compareTo(" ")&&0==n){var r=this.PeekNextSpacedToken();if(r.equals(",")||this.IsReservedWord(r)){this.m_nParserIndex--;break}}if(0==e.compareTo(",")&&0==n){this.m_nParserIndex--;break}}t+=e}return t}},{key:"IsReservedWord",value:function(e){for(var t in this.m_strReservedWords)if(0==t.compareToIgnoreCase(e))return!0;return!1}},{key:"PeekNextSpacedToken",value:function(){var e=null,t=this.m_nParserIndex;while(t<this.m_strSentence.length)if(e=this.PeekNextToken(t),t+=e.length,!(e.equals(" ")||e.equals("\t")||e.equals("\n")||e.equals("\r")))break;return e}},{key:"PeekNextToken",value:function(e){var t,n="",r=!1,a=" ";while(e<this.m_strSentence.length){if(t=this.m_strSentence.charAt(e++),"'"==t||'"'==t)if(r){if(e>this.m_strSentence.length)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_SYNTAXERROR,"Syntax error in SQL Sentence."));if(!(e<this.m_strSentence.length)){n+=t;break}if(this.m_strSentence.charAt(e)!=a){n+=t;break}n+=t,e++}else r=!0,a=t;else if(!r&&this.IsSeparator(t))return n.length>0?(e--,n):""+t;n+=t}if(r){if(n.length<2)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_INCOMPLETETOKEN,"Syntax Error. String token incomplete."));if(n.charAt(n.length-1)!=a)throw new p["a"](this.GetMessage(f["a"].SYS_MSG_SQL_INCOMPLETETOKEN,"Syntax Error. String token incomplete."))}return n}},{key:"IsSeparator",value:function(e){switch(e){case" ":case",":case"\t":case"\r":case"\n":case"(":case")":case"+":case"-":case"*":case"/":case"=":case"|":case"&":return!0;default:return!1}}},{key:"Normalize",value:function(t){if(0==this.m_strRowIdFieldName.compareTo("ROWID"))return!0;var n=t?"ROWID":this.m_strRowIdFieldName,r=t?this.m_strRowIdFieldName:"ROWID";switch(this.m_sqlType){case c["a"].SQLTYPE_UPDATE:case c["a"].SQLTYPE_DELETE:var a=this.m_strWhere;e.EMPTY.equals(a)||(a=String.format(" WHERE %s='%s'",n,this.GetRowId()),this.SetWhereSentence(a));break;case c["a"].SQLTYPE_INSERT:this.m_lstFields.containsKey(r)&&(a=this.m_lstFields.get(r),this.m_lstFields.delete(r),this.m_lstFields.put(n,a));break}return this.m_strRowIdFieldName=n,!0}},{key:"ParseInsertStatement",value:function(){var t,n=null,r=null;if(this.m_status!=g.PARSER_KEYWORD)return!1;try{this.m_status=g.PARSER_INSERT_EXPECTING_INTO;while(this.m_nParserIndex<this.m_strSentence.length)switch(this.m_status){case g.PARSER_INSERT_EXPECTING_INTO:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("into"))return!1;this.m_status=g.PARSER_INSERT_EXPECTING_TABLE;break;case g.PARSER_INSERT_EXPECTING_TABLE:this.m_strTable=this.GetNextSpacedToken(),this.m_status=g.PARSER_INSERT_EXPECTING_FIELDS_BEGIN;break;case g.PARSER_INSERT_EXPECTING_FIELDS_BEGIN:if(t=this.GetNextSpacedToken(),0!=t.compareTo("("))return!1;this.m_status=g.PARSER_INSERT_EXPECTING_FIELD_NAME,n=new Array,r=new Array;break;case g.PARSER_INSERT_EXPECTING_FIELD_NAME:if(t=this.GetNextSpacedToken(),0==t.compareTo(","))return!1;n.push(t.trim()),this.m_status=g.PARSER_INSERT_EXPECTING_FIELD_SEPARATOR;break;case g.PARSER_INSERT_EXPECTING_FIELD_SEPARATOR:if(t=this.GetNextSpacedToken(),0==t.compareTo(",")){this.m_status=g.PARSER_INSERT_EXPECTING_FIELD_NAME;break}if(0==t.compareTo(")")){this.m_status=g.PARSER_INSERT_EXPECTING_VALUES;break}return!1;case g.PARSER_INSERT_EXPECTING_VALUES:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("values"))return!1;this.m_status=g.PARSER_INSERT_EXPECTING_VALUES_BEGIN;break;case g.PARSER_INSERT_EXPECTING_VALUES_BEGIN:if(t=this.GetNextSpacedToken(),0!=t.compareTo("("))return!1;this.m_status=g.PARSER_INSERT_EXPECTING_VALUE;break;case g.PARSER_INSERT_EXPECTING_VALUE:if(t=this.GetNextValueToken(),0==t.compareTo(","))return!1;r.push(t.trim()),this.m_status=g.PARSER_INSERT_EXPECTING_VALUE_SEPARATOR;break;case g.PARSER_INSERT_EXPECTING_VALUE_SEPARATOR:if(t=this.GetNextSpacedToken(),0==t.compareTo(",")){this.m_status=g.PARSER_INSERT_EXPECTING_VALUE;break}if(0==t.compareTo(")")){this.m_status=g.PARSER_COMPLETE;break}return!1;case g.PARSER_COMPLETE:break;default:return!1}if(n.length!=r.length)return!1;for(var a,i,o=0;o<n.length;o++)a=n[o],i=r[o],s["a"].isEmpty(this.m_strRowIdFieldName)||0!=a.compareTo(this.m_strRowIdFieldName)||("'"==i.charAt(0)&&"'"==i.charAt(i.length-1)?this.m_strRowId=i.substring(1,i.length-1):0==i.compareToIgnoreCase(e.NULL_VALUE)?this.m_strRowId=i=null:this.m_strRowId=i),h["a"].IsEmptyString(i)||this.m_lstFields.put(a,i);return this.m_sqlType=c["a"].SQLTYPE_INSERT,!0}catch(l){return l.printStackTrace(),!1}}},{key:"ParserDeleteStatement",value:function(){var t,n=!1,r=!1;if(this.m_status!=g.PARSER_KEYWORD)return!1;try{this.m_status=g.PARSER_DELETE_EXPECTING_FROM;while(this.m_nParserIndex<this.m_strSentence.length)switch(this.m_status){case g.PARSER_DELETE_EXPECTING_FROM:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("from"))return!1;this.m_status=g.PARSER_DELETE_EXPECTING_TABLE;break;case g.PARSER_DELETE_EXPECTING_TABLE:t=this.GetNextSpacedToken(),this.m_strTable=t,this.m_status=g.PARSER_DELETE_EXPECTING_WHERE;break;case g.PARSER_DELETE_EXPECTING_WHERE:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("where"))return!1;this.m_strWhere="",this.m_status=g.PARSER_DELETE_WHERE;break;case g.PARSER_DELETE_WHERE:t=this.GetNextToken(),0==t.compareTo(this.m_strRowIdFieldName)&&(n=!0),n&&0==t.compareTo("=")&&(r=!0),r&&t.length>2&&"'"==t.charAt(0)&&"'"==t.charAt(t.length-1)&&(this.m_strRowId=t.substring(1,t.length-1)),this.m_strWhere+=t;break;default:return!1}return e.EMPTY.equals(this.m_strWhere)||(this.m_strWhere=" WHERE "+this.m_strWhere),this.m_sqlType=c["a"].SQLTYPE_DELETE,!0}catch(a){return a.printStackTrace(),!1}}},{key:"ParseUpdateStatement",value:function(){var t,n,r=null,a=!1,i=!1;try{if(this.m_status!=g.PARSER_KEYWORD)return!1;this.m_status=g.PARSER_UPDATE_EXPECTING_TABLE;while(this.m_nParserIndex<this.m_strSentence.length)switch(this.m_status){case g.PARSER_UPDATE_EXPECTING_TABLE:this.m_strTable=this.GetNextSpacedToken(),this.m_status=g.PARSER_UPDATE_EXPECTING_SET;break;case g.PARSER_UPDATE_EXPECTING_SET:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("set"))return!1;this.m_status=g.PARSER_UPDATE_EXPECTING_FIELD_NAME;break;case g.PARSER_UPDATE_EXPECTING_FIELD_NAME:r=this.GetNextSpacedToken(),this.m_status=g.PARSER_UPDATE_EXPECTING_EQUAL_SIGN;break;case g.PARSER_UPDATE_EXPECTING_EQUAL_SIGN:if(t=this.GetNextSpacedToken(),0!=t.compareTo("="))return!1;this.m_status=g.PARSER_UPDATE_EXPECTING_FIELD_VALUE;break;case g.PARSER_UPDATE_EXPECTING_FIELD_VALUE:n=this.GetNextValueToken(),this.m_lstFields.put(r,n),this.m_status=g.PARSER_UPDATE_EXPECTING_SEPARATOR;break;case g.PARSER_UPDATE_EXPECTING_SEPARATOR:if(t=this.GetNextSpacedToken(),0==t.compareToIgnoreCase("where")){this.m_status=g.PARSER_UPDATE_WHERE;break}if(0!=t.compareTo(","))return!1;r=null,this.m_status=g.PARSER_UPDATE_EXPECTING_FIELD_NAME;break;case g.PARSER_UPDATE_EXPECTING_WHERE:if(t=this.GetNextSpacedToken(),0!=t.compareToIgnoreCase("where"))return!1;this.m_status=g.PARSER_UPDATE_WHERE;break;case g.PARSER_UPDATE_WHERE:t=this.GetNextToken(),0==t.compareTo(this.m_strRowIdFieldName)&&(i=!0),i&&0==t.compareTo("=")&&(a=!0),a&&t.length>2&&"'"==t.charAt(0)&&"'"==t.charAt(t.length-1)&&(this.m_strRowId=t.substring(1,t.length-1)),this.m_strWhere+=t;break;default:return!1}return e.EMPTY.equals(this.m_strWhere)||(this.m_strWhere=" WHERE "+this.m_strWhere),this.m_sqlType=c["a"].SQLTYPE_UPDATE,this.m_status!=g.PARSER_UPDATE_EXPECTING_FIELD_VALUE}catch(o){return o.printStackTrace(),!1}}},{key:"ParseSqlString",value:function(e){var t,n,r,a=0;this.m_strSentence=e.trim(),this.BeginParse();do{n=!1,t=this.GetNextToken(),0==t.compareTo("(")&&(a++,n=!0)}while(n);this.m_status=g.PARSER_KEYWORD;var i=t.toLowerCase();if(0==i.compareTo("insert"))r=this.ParseInsertStatement();else if(0==i.compareTo("update"))r=this.ParseUpdateStatement();else if(0==i.compareTo("delete"))r=this.ParserDeleteStatement();else{if(!i.equals("select"))return this.m_sqlType=c["a"].SQLTYPE_ERROR;r=this.ParseSelectStatement()}if(!r)return this.m_sqlType=c["a"].SQLTYPE_ERROR;if(a>0){do{n=!1,t=this.GetNextToken(),0==t.compareTo(")")&&(a--,n=!0)}while(n);if(a>0)return this.m_sqlType=c["a"].SQLTYPE_ERROR}return this.m_sqlType}},{key:"RegenerateDelete",value:function(){var e=new d["a"];return s["a"].isEmpty(this.m_strTable)?null:(e.append("DELETE FROM "),e.append(this.m_strTable),e.append(" "),e.append(this.m_strWhere),e.toString())}},{key:"RegenerateInsert",value:function(){var t,n,r=new d["a"],a=new d["a"];return 0==this.m_lstFields.length?null:(this.m_lstFields.entrySet().forEach((function(n){e.EMPTY.equals(t)||(r.length()>0&&(r.append(","),a.append(",")),r.append(n[0]),a.append(n[1]))})),0==r.length()?null:(n=String.format("INSERT INTO %s (%s) VALUES (%s)",this.m_strTable,r.toString(),a.toString()),n))}},{key:"ParseSelectStatement",value:function(){var e,t,n,a,i=!1,o=!1,l=!1,u="",d="",h="",p="",f="",m=0,g=0,b=0,_="";this.m_nParserIndex=0;var v=!1,O=r.eLeftJoin,y=this.m_strSentence.length;if(y>0)return!0;for(e=n=t=0;this.m_nParserIndex<y;)switch(u=this.GetNextSqlToken(),e){case 0:if(this.IsSeparator(u))break;if(u.equals("(")){n++;break}if(u=u.toLowerCase(),u.equals("union")){e=5;break}if(u.equals("order")){this.getIsUnionQuery()&&this.AddUnionQuery(),e=4,_=null,t=0;break}if(!u.equals("select"))return!1;e=1,t=0,i=o=!1,d=h=_="";break;case 1:if((!u.equals(",")||u.equals(",")&&t>0)&&((!u.equalsIgnoreCase("as")&&!u.equalsIgnoreCase("from")&&!u.equalsIgnoreCase("distinct")||t>0)&&(_+=u),this.IsSeparator(u)))break;if(u.equals("(")&&t++,u.equals(")")&&--t<0)return!1;if(0==t){if(u.equals(",")){if(!i)return!1;o||(d=_.trim()),this.AddField(d,h),d=h=_="",i=o=!1;break}if(u.equalsIgnoreCase("distinct")){this.m_bDistinct=!0,_="";break}if(u.equalsIgnoreCase("from")){i&&(o||(d=_.trim()),this.AddField(d,h),i=!1,d=h=_=""),e=2,m=0,t=0,l=o=!1;break}if(u.equalsIgnoreCase("as")){if(!i)return!1;if(o)return!1;o=!0,d=_.trim(),_="";break}}i?o&&(h=u):(d=u,i=!0);break;case 2:switch(m){case 0:if(this.IsSeparator(u))break;if(u.equals("(")){t++;break}if(u.equalsIgnoreCase("order")||u.equalsIgnoreCase("left")||u.equalsIgnoreCase("right")||u.equalsIgnoreCase("inner")||u.equalsIgnoreCase("where")||u.equalsIgnoreCase("group")){if(!l)return!1;if(this.AddTable(p,h,f,O),p=h=f="",l=o=!1,O=r.eLeftJoin,u.equalsIgnoreCase("right")?O=r.eRightJoin:u.equalsIgnoreCase("inner")&&(O=r.eInnerJoin),u.equalsIgnoreCase("where")){t=0,e=3;break}if(u.equalsIgnoreCase("order")){t=0,e=4;break}if(u.equalsIgnoreCase("group")){e=7;break}m=1;break}l?o||(h=u,o=!0):(p=u,l=!0);break;case 1:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("outer")){m=2;break}if(u.equalsIgnoreCase("join")){m=3,_="",b=0;break}return!1;case 2:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("join")){m=3,_="",b=0;break}return!0;case 3:if(this.IsSeparator(u)){if(0==b)break;_+=u;break}if(u.equals("(")){b++,_+=u;break}if(u.equals(")")){if(--b<0)return!1;_+=u,0==b&&(p=_,l=!0,_="");break}if(b>0){_+=u;break}if(u.equalsIgnoreCase("on")){m=4,g=0,f="";break}if(l){if(o)return!1;h=u,o=!0}else p=u,l=!0;break;case 4:if(u.equals("(")&&(g++,v=!0),u.equals(")")){if(--g<=0){if(!v){if(--t<0)return!1;if(!l)return!1;this.AddTable(p,h,f,O),p=h=f="",l=o=!1,m=5;break}v=!1}}else if((u.equalsIgnoreCase("left")||u.equalsIgnoreCase("right")||u.equalsIgnoreCase("inner"))&&0==t&&0==g){if(!l)return!1;this.AddTable(p,h,f,O),p=h=f="",l=o=!1,O=r.eLeftJoin,u.equalsIgnoreCase("right")?O=r.eRightJoin:u.equalsIgnoreCase("inner")&&(O=r.eInnerJoin),m=1;break}if(a=!1,u.equalsIgnoreCase("where")&&(t=0,e=3,a=!0),u.equalsIgnoreCase("group")&&(t=0,e=7,a=!0),u.equalsIgnoreCase("order")&&(t=0,e=4,a=!0),a){this.AddTable(p,h,f,O),p=h=f="",l=o=!1;break}f+=u;break;case 5:if(this.IsSeparator(u))break;if(u.equals(")")){if(0!=t){f="",t--;break}if(--n<0)return!1}if(u.equalsIgnoreCase("left")||u.equalsIgnoreCase("right")||u.equalsIgnoreCase("inner")){m=1;break}if(u.equalsIgnoreCase("where")){t=0,e=3;break}if(u.equalsIgnoreCase("group")){t=0,e=7;break}if(u.equalsIgnoreCase("union")){if(t>0)return!1;e=5;break}if(u.equalsIgnoreCase("order")){if(t>0)return!1;e=4;break}break}break;case 3:if(u.equalsIgnoreCase("order")){e=4,this.m_strWhere=_.trim();break}if(u.equalsIgnoreCase("group")){if(t>0)return!1;e=7,this.m_strWhere=_.trim();break}if(u.equalsIgnoreCase("union")){if(t>0)return!1;this.m_strWhere=_.trim(),e=5;break}if(u.equals("(")&&t++,u.equals(")")){if(0==t){if(--n<0)return!1;this.m_strWhere=_.trim(),e=0;break}if(0==--t){_+=u,this.m_strWhere=_.trim();break}}_+=u;break;case 4:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("by")){_="",e=9,t=0;break}return!1;case 5:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("all")){e=6;break}if(u.equalsIgnoreCase("select")||u.equals("(")){this.AddUnionQuery(),t=0,e=1,_=d=h=f=p="";break}return!1;case 6:this.AddUnionQuery(),e=t=0,_=d=h=f=p="";break;case 7:if(this.IsSeparator(u))break;if(u.equalsIgnoreCase("by")){_="",t=0,e=8;break}return!1;case 8:if(u.equalsIgnoreCase("having")){if(t>0)return!1;e=10,this.m_strGroupBy=_.trim(),t=0,_="";break}if(u.equalsIgnoreCase("order")){if(t>0)return!1;e=4,this.m_strGroupBy=_.trim();break}if(u.equals("(")&&t++,u.equals(")")){if(0==t){if(--n<0)return!1;this.m_strGroupBy=_.trim(),e=0;break}if(0==--t){_+=u,this.m_strGroupBy=_.trim();break}}_+=u;break;case 9:if(u.equalsIgnoreCase("having")){if(t>0)return!1;e=10,this.m_strOrderBy=_.trim(),t=0,_="";break}if(u.equals("(")&&t++,u.equals(")")){if(0==t){if(--n<0)return!1;this.m_strOrderBy=_.trim(),e=0;break}if(0==--t){_+=u,this.m_strOrderBy=_.trim();break}}_+=u;break;case 10:if(u.equals("(")&&t++,u.equals(")")){if(0==t){if(--n<0)return!1;this.m_strHaving=_.trim(),e=0;break}if(0==--t){_+=u,this.m_strHaving=_.trim();break}}if(u.equalsIgnoreCase("order")){if(t>0)return!1;this.m_strHaving=_.trim(),_="",e=4;break}_+=u;break}return l&&this.AddTable(p,h,f,O),3==e&&_.length>0&&(this.m_strWhere=_),s["a"].isEmpty(this.m_strWhere)||(this.m_strWhere=this.m_strWhere.trim()),8==e&&_.length>0&&(this.m_strGroupBy=_),s["a"].isEmpty(this.m_strGroupBy)||(this.m_strGroupBy=this.m_strGroupBy.trim()),9==e&&_.length>0&&(this.m_strOrderBy=_),s["a"].isEmpty(this.m_strOrderBy)||(this.m_strOrderBy=this.m_strOrderBy.trim()),10==e&&_.length>0&&(this.m_strHaving=_),s["a"].isEmpty(this.m_strHaving)||(this.m_strHaving=this.m_strHaving.trim()),this.m_bIsUnionQuery&&this.m_lstSelectFields.length>0&&this.AddUnionQuery(),this.m_sqlType=c["a"].SQLTYPE_SELECT,!0}},{key:"AddUnionQuery",value:function(){null==this.m_lstUnionQueries&&(this.m_lstUnionQueries=new Array);var t=new e(this);return t.SetSqlType(c["a"].SQLTYPE_SELECT),!!t.CopyData(this)&&(this.m_lstUnionQueries.push(t),this.Clear(!1),this.m_bIsUnionQuery=!0,!0)}},{key:"GetNextSqlToken",value:function(){var e=!1,t=0,n=0,r=this.m_strSentence.length,a=null;for(t=this.m_nParserIndex;t<r;)switch(this.m_strSentence.charAt(t)){case"=":case"+":case"-":case"*":case"/":if(!e)return n=t>r?t-1:t,n==this.m_nParserIndex&&n++,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=n,a;t++;break;case"'":if(e)return n=t>r?t:t+1,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=n,a;if(t>this.m_nParserIndex)return n=t,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=n,a;if(e=!0,!e)return n=t>this.m_nParserIndex?t-1:t,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=t,a;t++;break;case"\r":case"\n":case"\t":case" ":case",":case"(":case")":if(!e)return n=t>r?t-1:t,n==this.m_nParserIndex&&n++,a=this.m_strSentence.substring(this.m_nParserIndex,n),this.m_nParserIndex=n,a;t++;break;default:t++;break}return this.m_nParserIndex<t&&(a=this.m_strSentence.substring(this.m_nParserIndex,r),this.m_nParserIndex=t),a}},{key:"RegenerateUpdate",value:function(){var t,n="";return 0==this.m_lstFields.length?null:(this.m_lstFields.entrySet().forEach((function(t){e.EMPTY.equals(t[0])||(n.length>0&&(n+=","),n+=String.format("%s=%s",t[0],t[1]))})),0==n.length?null:(t=String.format("UPDATE %s SET %s %s",this.m_strTable,n,this.m_strWhere),t))}},{key:"RegenerateSql",value:function(){switch(this.m_sqlType){case c["a"].SQLTYPE_INSERT:return this.RegenerateInsert();case c["a"].SQLTYPE_DELETE:return this.RegenerateDelete();case c["a"].SQLTYPE_UPDATE:return this.RegenerateUpdate();case c["a"].SQLTYPE_SELECT:return this.RegenerateSelect()}return null}},{key:"RegenerateSelect",value:function(){var e,t;if(this.m_bIsUnionQuery)return this.RegenerateUnionQuery();if(null==this.m_tableFrom)return null;for(this.m_tableFrom.setTranslateJoins(this.m_bTranslateJoins),e="SELECT "+(this.m_bDistinct?"DISTINCT ":"")+this.GetFieldList()+" FROM "+this.m_tableFrom.getTableName(),null==this.m_tableFrom.getSecondTable()&&(t=" "+this.m_tableFrom.getAlias(),e+=t),e=e.trim();e.endsWith("\t");e=e.substring(0,e.length-1));for(;e.endsWith("\r\n");e=e.substring(0,e.length-2));return s["a"].isEmpty(this.m_strWhere)||(t=" WHERE ("+this.m_strWhere+")",e+=t),this.m_bTranslateJoins&&(t=this.m_tableFrom.getTranslatedJoinConditions(),s["a"].isEmpty(t)||(t=s["a"].isEmpty(this.m_strWhere)?" WHERE ("+t+")":" AND ("+t+")"),e+=t),s["a"].isEmpty(this.m_strGroupBy)||(t=" GROUP BY "+this.m_strGroupBy,e+=t),s["a"].isEmpty(this.m_strHaving)||(t=" HAVING "+this.m_strHaving,e+=t),s["a"].isEmpty(this.m_strOrderBy)||(t=" ORDER BY "+this.m_strOrderBy,e+=t),e}},{key:"GetFieldList",value:function(){var e=new d["a"];return this.m_lstSelectFields.forEach((function(t){!e.isEmpty()&&e.append(","),e.append(t.getName()),!s["a"].isEmpty(t.getAlias())&&e.append(" AS "+t.getAlias())})),0===e.length()?"*":e.toString()}},{key:"RegenerateUnionQuery",value:function(){var e=this,t=new d["a"];return this.m_lstUnionQueries.forEach((function(n){t.isEmpty()&&t.append(" \r\nUNION ALL\r\n "),e.m_bSurroundUnions&&t.append("("),t.append(n.RegenerateSql()),e.m_bSurroundUnions&&t.append(")")})),!s["a"].isEmpty(this.m_strOrderBy)&&t.append("\r\nORDER BY "+this.m_strOrderBy),t.toString()}},{key:"SetFieldValue",value:function(e,t){null==this.m_lstFields&&(this.m_lstFields=new o["a"]),this.m_lstFields.put(e,t)}},{key:"SetFieldType",value:function(e,t){null==this.m_lstFieldsType&&(this.m_lstFieldsType=new o["a"]),this.m_lstFieldsType.put(e,t)}},{key:"GetFieldType",value:function(e){return null==this.m_lstFieldsType?0:this.m_lstFieldsType.containsKey(e)?this.m_lstFieldsType.get(e):0}},{key:"StripSqlFields",value:function(t,n){var r=this,a=t.GetFields().length;try{return this.m_lstFields.entrySet().forEach((function(t){e.IsFormula(t[0])&&e.IsFormula(r.GetFieldValue(t[0]))&&(r.m_sqlType==c["a"].SQLTYPE_INSERT?r.SetFieldValue(t[0],t[1]):r.m_lstFields.delete(t[0]),a--)})),this.m_sqlType==c["a"].SQLTYPE_INSERT&&t.GetSqlType()==c["a"].SQLTYPE_UPDATE&&0==this.GetRowId().compareTo(t.GetRowId())&&a--,a}catch(i){throw i}}},{key:"CopyData",value:function(e){var t,n=this;return this.Clear(),e.getQueryFields().forEach((function(e){n.AddField(e.getName(),e.getAlias())})),t=e.getTableFrom(),null!=t&&(this.CopyTable(t),this.m_bDistinct=e.getDistinct(),this.m_strWhere=e.GetWhereSentence(),this.m_strGroupBy=e.getGroupBySentence(),this.m_strOrderBy=e.getOrderBySentence(),this.m_strHaving=e.getHavingSentence(),!0)}},{key:"getDistinct",value:function(){return this.m_bDistinct}},{key:"getOrderBySentence",value:function(){return this.m_strOrderBy||null}},{key:"setOrderBySentence",value:function(e){this.m_strOrderBy=e}},{key:"getGroupBySentence",value:function(){return this.m_strGroupBy}},{key:"setGroupBySentence",value:function(e){this.m_strGroupBy=e}},{key:"CopyTable",value:function(e){var t;return null!=(t=e.getSecondTable())&&this.CopyTable(t),this.AddTable(e.getActualName(),e.getAlias(),e.getJoinCondition(),e.getJoinType()),!0}},{key:"AddTable",value:function(e,t,n,r){var a,i=e,o=!1;i.startsWith("##PREF##")&&(i=i.substring(8,i.length),this.m_bUsePrefix=o=!0),a=new u(i.trim(),t.trim()),a.setSecondTable(this.m_tableFrom),a.setJoinCondition(n.trim(),r),a.setUsePrefix(o),this.m_tableFrom=a}},{key:"getTableFrom",value:function(){return this.m_tableFrom}},{key:"getUsePrefix",value:function(){return this.m_bUsePrefix}},{key:"setUsePrefix",value:function(e){this.m_bUsePrefix=e}},{key:"getHavingSentence",value:function(){return this.m_strHaving}},{key:"setHavingSentence",value:function(e){this.m_strHaving=e}},{key:"Clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!=this.m_tableFrom&&(this.m_tableFrom=null),null!=this.m_lstSelectFields&&(this.m_lstSelectFields=new m["a"]),e&&null!=this.m_lstUnionQueries&&(this.m_lstUnionQueries=new Array),this.m_bDistinct=!1,this.m_strWhere=null,this.m_strGroupBy=null,this.m_strOrderBy=null,this.m_strHaving=null}},{key:"getUnionQueries",value:function(){return this.m_lstUnionQueries}},{key:"getQueryFields",value:function(){return this.m_lstSelectFields}},{key:"clearQueryFields",value:function(){this.m_lstSelectFields=new m["a"]}},{key:"AddField",value:function(e,t){for(var n,r=0;r<this.m_lstSelectFields.length;r++){var a=this.m_lstSelectFields[r];if(a.getName().equals(e)&&a.getAlias().equals(t))return a}return n=new l(e,t),this.m_lstSelectFields.push(n),n}},{key:"GetMessage",value:function(e,t){return null==this.m_messages?t:this.m_messages.GetMessage(e,t)}},{key:"getKeys",value:function(){return this.m_keys}},{key:"addkey",value:function(e){null==this.m_keys&&(this.m_keys=[]),this.m_keys.push(e)}},{key:"clearKeys",value:function(){this.m_keys=[]}}],[{key:"IsFormula",value:function(t){if(e.EMPTY.equals(t))return!1;if(t.length<2)return!1;if("'"==t.charAt(0)&&"'"==t.charAt(t.length-2))return!1;var n=["+","-","*","/","|","&"];for(var r in n)if(t.contains(r))return!0;return!1}},{key:"checkIfNotFunctionValue",value:function(e){if(e.startsWith("'")&&e.endsWith("'"))return!0;try{return Number.parseFloat(e),!0}catch(t){return!1}}},{key:"getWhereOnlyFields",value:function(e){if(s["a"].isEmpty(e))return"";var t=e.trim();return 0==t.substring(0,6).compareToIgnoreCase("WHERE ")?t.substring(6).trim():e}}]),e}();b.NULL_VALUE="NULL",b.EMPTY=""},"6efc":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,a=n("d4ec"),i=n("bee2"),o=(n("d3b7"),n("25f0"),n("3019")),s=n("458e"),l=(n("a630"),n("3ca3"),n("ac1f"),n("1276"),n("5319"),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(a["a"])(this,e),this.m_pointer=0,this.m_lines=Array.from(t.replace(/\r/gi,"").split("\n"))}return Object(i["a"])(e,[{key:"readLine",value:function(){return this.m_pointer>=this.m_lines.length?null:this.m_lines[this.m_pointer++]}}]),e}()),u=n("0e62"),c=n("3be9"),d=n("f0ed"),h=n("262e"),p=n("2caf"),f=n("0912"),m=function(e){Object(h["a"])(n,e);var t=Object(p["a"])(n);function n(e,r,i,o){return Object(a["a"])(this,n),t.call(this,o)}return n}(f["a"]),g=(n("498a"),function(){function e(t){Object(a["a"])(this,e),this.m_strName=t,this.m_bundleRules=new o["a"]}return Object(i["a"])(e,[{key:"getName",value:function(){return this.m_strName}},{key:"addRule",value:function(e,t){this.m_bundleRules.put(e,t.trim())}},{key:"getRuleValue",value:function(e){return this.m_bundleRules.containsKey(e)?this.m_bundleRules.get(e):null}},{key:"deleteRule",value:function(e){this.m_bundleRules.containsKey(e)&&this.m_bundleRules.delete(e)}},{key:"contains",value:function(e){return this.m_bundleRules.containsKey(e)}}]),e}());(function(e){e[e["ExpectingSelector"]=0]="ExpectingSelector",e[e["ExpectingCommentOpenComplete"]=1]="ExpectingCommentOpenComplete",e[e["GettingComment"]=2]="GettingComment",e[e["ExpectingCommentClose"]=3]="ExpectingCommentClose",e[e["GettingSelector"]=4]="GettingSelector",e[e["ExpectingOpenBrace"]=5]="ExpectingOpenBrace",e[e["ExpectingRuleKey"]=6]="ExpectingRuleKey",e[e["GettingRuleKey"]=7]="GettingRuleKey",e[e["ExpectingRuleValue"]=8]="ExpectingRuleValue",e[e["GettingRuleValue"]=9]="GettingRuleValue"})(r||(r={}));var b=function(){function e(t,n,r,i){Object(a["a"])(this,e),this.m_strName="",this.m_bStrictMode=!1,this.m_strName=t,this.m_bStrictMode=i,this.m_bundleRules=new o["a"],this.parse(new l(n),r)}return Object(i["a"])(e,[{key:"getName",value:function(){return this.m_strName}},{key:"isStrictMode",value:function(){return this.m_bStrictMode}},{key:"moveToNextToken",value:function(e,t,n){var r=n,a="";while(null!=e){var i=e.length;while(r<i)switch(a=e.charAt(r),a){case"\t":case" ":r++;break;default:return a}e=t.readLine(),r=0,a=""}return a}},{key:"parse",value:function(t,n){var a="",i=r.ExpectingSelector,o=new s["a"],l=d["a"].EMPTY_STRING,h=d["a"].EMPTY_STRING,p=d["a"].EMPTY_STRING,f=null,b=0;while(null!=(a=t.readLine())){var _=0,v=a.length;b++;while(_<v){var O=a.charAt(_);switch(i){case r.ExpectingSelector:if(-1!=e.m_strValidChars.indexOf(O)){i=r.GettingSelector;break}switch(O){case"\t":case" ":_++;break;case"/":_++,o.push(i),i=r.ExpectingCommentOpenComplete;break;default:throw new m(this.getName(),b,a,'Expected selector, got "'+O+'"')}break;case r.ExpectingCommentOpenComplete:if("*"!=O)throw new m(this.getName(),b,a,'Expected open comment asterisk, got "'+O+'"');_++,i=r.GettingComment;break;case r.GettingComment:"*"==O&&(i=r.ExpectingCommentClose),_++;break;case r.ExpectingCommentClose:"/"==O?(i=o.pop(),_++):i=r.GettingComment;break;case r.GettingSelector:if(-1!=e.m_strValidChars.indexOf(O)){l+=O,_++;break}switch(O){case"\t":case" ":_++,i=r.ExpectingOpenBrace;break;case"{":_++,i=r.ExpectingRuleKey;break;case"/":i=r.ExpectingOpenBrace,o.push(i),i=r.ExpectingCommentOpenComplete,_++;break;case":":l+=O,_++;break;default:throw new m(this.getName(),b,a,'Expected selector, got "'+O+'"')}break;case r.ExpectingOpenBrace:switch(O){case" ":case"\t":_++;break;case"{":_++,i=r.ExpectingRuleKey;break;case"/":i=r.ExpectingOpenBrace,o.push(i),i=r.ExpectingCommentOpenComplete,_++;break;default:throw new m(this.getName(),b,a,'Expected open brace character, got "'+O+'"')}break;case r.ExpectingRuleKey:if(-1!=e.m_strValidChars.indexOf(O)){h+=O,_++,i=r.GettingRuleKey;break}switch(O){case"}":null!=f&&(this.m_bundleRules.put(l,f),f=null),l=h=p="",_++,i=r.ExpectingSelector;break;case" ":case"\t":_++;break;case"/":o.push(i),i=r.ExpectingCommentOpenComplete,_++;break;default:throw new m(this.getName(),b,a,'Expected new rule key character, got "'+O+'"')}break;case r.GettingRuleKey:if(-1!=e.m_strValidChars.indexOf(O)&&"."!=O){h+=O,_++;break}if(O=this.moveToNextToken(a,t,_),":"!=O)throw new m(this.getName(),b,a,'Unexpected token while getting rule key, got"'+O+'"');i=r.ExpectingRuleValue,_++;break;case r.ExpectingRuleValue:switch(O){case";":throw new m(this.getName(),b,a,"Unexpected blank value");case"}":throw new m(this.getName(),b,a,"Unexpected end bracket value")}p+=O,_++,i=r.GettingRuleValue;break;case r.GettingRuleValue:if(";"==O){null==f&&(f=new g(l)),f.addRule(h,p),_++,i=r.ExpectingRuleKey,h=p="";break}if("\\"==O){var y=a.charAt(_+1);if(":"==y){p+=y,_+=2;break}p+=O,_++;break}if(":"==O){if(this.m_bStrictMode){var C=new u["a"]("Missing semicolon value terminator.");throw c["a"].isEmpty(l)||(C.append("\nIn selector: "),C.append(l)),c["a"].isEmpty(h)||(C.append("\nIn CSS rule: "),C.append(h)),new m(this.getName(),b,a,C.toString())}}else if("}"==O&&this.m_bStrictMode){var S=new u["a"]("Unexpected end bracket found while getting rule value. Missing semicolon value terminator?");throw c["a"].isEmpty(l)||(S.append("\nIn selector: "),S.append(l)),c["a"].isEmpty(h)||(S.append("\nIn CSS rule: "),S.append(h)),new m(this.getName(),b,a,S.toString())}p+=O,_++;break;default:throw new m(this.getName(),b,a,"Unexpected parse state: "+i)}}}}},{key:"getRuleBySelector",value:function(e){return this.m_bundleRules.get(e)}},{key:"addRule",value:function(e,t){this.m_bundleRules.put(e,t)}}]),e}();b.PARCELABLE_VERSION=2,b.BUNDLE_KEY_DATA="data",b.BUNDLE_KEY_CRC="crc",b.m_strValidChars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789.-_"},7:function(e,t){},"733f":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=function(){function e(t){if(Object(r["a"])(this,e),t||(t=new Date),"number"==typeof t){var n=new Date;n.setTime(t),t=n}this.m_date=t}return Object(a["a"])(e,[{key:"setTime",value:function(e){this.m_date=e}},{key:"get",value:function(t){switch(t){case e.DAY_OF_MONTH:return this.m_date.getDate();case e.MONTH:return this.m_date.getMonth()+1;case e.YEAR:return this.m_date.getFullYear();default:return 0}}},{key:"getTime",value:function(){return this.m_date}},{key:"toString",value:function(){return this.m_date.toDateString()}}],[{key:"getInstance",value:function(){return new e}}]),e}();i.ALL_STYLES=0,i.AM=0,i.AM_PM=9,i.APRIL=3,i.AUGUST=7,i.DATE=5,i.DAY_OF_MONTH=5,i.DAY_OF_WEEK=7,i.DAY_OF_WEEK_IN_MONTH=8,i.DAY_OF_YEAR=6,i.DECEMBER=11,i.DST_OFFSET=16,i.ERA=0,i.FEBRUARY=1,i.FIELD_COUNT=17,i.FRIDAY=6,i.HOUR=10,i.HOUR_OF_DAY=11,i.JANUARY=0,i.JULY=6,i.JUNE=5,i.LONG=2,i.LONG_FORMAT=2,i.LONG_STANDALONE=32770,i.MARCH=2,i.MAY=4,i.MILLISECOND=14,i.MINUTE=12,i.MONDAY=2,i.MONTH=2,i.NARROW_FORMAT=4,i.NARROW_STANDALONE=32772,i.NOVEMBER=10,i.OCTOBER=9,i.PM=1,i.SATURDAY=7,i.SECOND=13,i.SEPTEMBER=8,i.SHORT=1,i.SHORT_FORMAT=1,i.SHORT_STANDALONE=32769,i.SUNDAY=1,i.THURSDAY=5,i.TUESDAY=3,i.UNDECIMBER=12,i.WEDNESDAY=4,i.WEEK_OF_MONTH=4,i.WEEK_OF_YEAR=3,i.YEAR=1,i.ZONE_OFFSET=15},"75be":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r,a=n("d4ec"),i=n("bee2"),o=n("652f"),s=new o["a"],l=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,[{key:"LoadFile",value:function(e,t){try{var n=window.isPreview?localStorage.getItem(e):s.readFileSync(e);return localStorage.setItem(e,n),n}catch(r){return localStorage.getItem(e)}}},{key:"FileExist",value:function(e,t){return r.existsSync(e)}},{key:"getAbsolutePath",value:function(e){return e}},{key:"getIncludeFilePath",value:function(e,t){throw new Error("Method not implemented.")}}]),e}()},"79dc":function(e,t,n){"use strict";n("b0c0");var r=n("7a23"),a=["id"],i=["id"];function o(e,t,n,o,s,l){var u=Object(r["F"])("Container"),c=Object(r["F"])("Groups");return Object(r["x"])(),Object(r["h"])(r["a"],null,[0!==o.groups.fixedTop.length?(Object(r["x"])(),Object(r["h"])("div",{key:0,ref:"fixedTopElement",id:"fixed-top-".concat(n.breadcrumb.id),class:"xone-fixed",style:{display:"bock"}},[(Object(r["x"])(!0),Object(r["h"])(r["a"],null,Object(r["D"])(o.groups.fixedTop,(function(e){return Object(r["x"])(),Object(r["f"])(u,{key:"fixed-top-".concat(e.attributes.name),xoneDataObject:o.xoneDataObject,control:e,containerWidth:o.containerWidth,containerHeight:o.containerHeight},null,8,["xoneDataObject","control","containerWidth","containerHeight"])})),128))],8,a)):Object(r["g"])("",!0),o.attributes.noTab?Object(r["g"])("",!0):(Object(r["x"])(),Object(r["f"])(c,{key:1,attributes:o.attributes,groups:o.groups.tabs,onOnHeightChanged:o.onGroupsHeaderHeightChanged},null,8,["attributes","groups","onOnHeightChanged"])),Object(r["i"])("div",{class:"xone-groups-content-box",style:Object(r["r"])({maxHeight:o.contentElementHeight&&"".concat(o.contentElementHeight,"px"),overflow:o.drawers.overflow})},[Object(r["i"])("div",{ref:"contentElement",class:"xone-group",style:Object(r["r"])({marginLeft:null,maxHeight:o.contentElementHeight&&"".concat(o.contentElementHeight-o.groupsHeaderHeight,"px")})},[(Object(r["x"])(!0),Object(r["h"])(r["a"],null,Object(r["D"])(o.groups.tabs,(function(e){return Object(r["x"])(),Object(r["f"])(u,{class:Object(r["q"])(o.groupAnimation),key:"group-".concat(e.attributes.name),xoneDataObject:o.xoneDataObject,control:e,containerWidth:o.containerWidth,containerHeight:o.contentElementHeight-o.groupsHeaderHeight},null,8,["class","xoneDataObject","control","containerWidth","containerHeight"])})),128))],4),o.drawers.showLeft||o.drawers.showRight?(Object(r["x"])(),Object(r["h"])("div",{key:0,class:Object(r["q"])(["xone-close-drawer",[o.drawers.showLeft||o.drawers.showRight?"fade-in":"fade-out"]]),onClick:t[0]||(t[0]=function(e){return o.drawers.closeDrawers()})},null,2)):Object(r["g"])("",!0),0!==o.groups.drawerLeft.length?(Object(r["x"])(),Object(r["f"])(u,{key:1,id:"xone-sidenav-left-".concat(n.breadcrumb.id),class:"xone-sidenav-left",xoneDataObject:o.xoneDataObject,control:o.groups.drawerLeft[0],containerWidth:o.containerWidth,containerHeight:o.containerHeight,style:Object(r["r"])({opacity:o.drawers.showLeft?1:0,marginLeft:"".concat(o.drawers.showLeft?0:-o.drawers.leftWidth,"px"),pointerEvents:o.drawers.showLeft?"all":"none"})},null,8,["id","xoneDataObject","control","containerWidth","containerHeight","style"])):Object(r["g"])("",!0),0!==o.groups.drawerRight.length?(Object(r["x"])(),Object(r["f"])(u,{key:2,id:"xone-sidenav-right-".concat(n.breadcrumb.id),class:"xone-sidenav-right",xoneDataObject:o.xoneDataObject,control:o.groups.drawerRight[0],containerWidth:o.containerWidth,containerHeight:o.containerHeight,style:Object(r["r"])({opacity:o.drawers.showRight?1:0,marginRight:"".concat(o.drawers.showRight?0:-o.drawers.rightWidth,"px"),pointerEvents:o.drawers.showRight?"all":"none"})},null,8,["id","xoneDataObject","control","containerWidth","containerHeight","style"])):Object(r["g"])("",!0)],4),0!==o.groups.fixedBottom.length?(Object(r["x"])(),Object(r["h"])("div",{key:2,ref:"fixedBottomElement",id:"fixed-bottom-".concat(n.breadcrumb.id),class:"xone-fixed"},[(Object(r["x"])(!0),Object(r["h"])(r["a"],null,Object(r["D"])(o.groups.fixedBottom,(function(e){return Object(r["x"])(),Object(r["f"])(u,{key:"fixed-bottom-".concat(e.attributes.name),xoneDataObject:o.xoneDataObject,control:e,containerWidth:o.containerWidth,containerHeight:o.containerHeight},null,8,["xoneDataObject","control","containerWidth","containerHeight"])})),128))],8,i)):Object(r["g"])("",!0)],64)}var s=n("1da1"),l=(n("d3b7"),n("96cf"),["onClick"]);function u(e,t,n,a,i,o){return Object(r["x"])(),Object(r["h"])("div",{class:"tab",ref:"groupsElement",style:Object(r["r"])({backgroundColor:n.attributes.tabBgColor})},[(Object(r["x"])(!0),Object(r["h"])(r["a"],null,Object(r["D"])(n.groups,(function(e){return Object(r["x"])(),Object(r["h"])("button",{class:Object(r["q"])(["tablinks",a.activeGroup===e.attributes.id&&"activeGroup"]),key:"grp-btn-".concat(e.attributes.id),onClick:function(t){return a.changeGroup(e.attributes.id)},style:Object(r["r"])({"--text-color":n.attributes.tabForecolor,"--selected-text-color":n.attributes.tabSelectedForecolor,paddingTop:n.attributes.tabPaddings.top,paddingRight:n.attributes.tabPaddings.right,paddingBottom:n.attributes.tabPaddings.bottom,paddingLeft:n.attributes.tabPaddings.left,fontSize:n.attributes.tabFontSize})},Object(r["H"])(e.attributes.name),15,l)})),128))],4)}n("a9e3");var c={name:"Group",props:{attributes:{type:Object,required:!0},groups:{type:Array,default:new Array},containerHeight:{type:Number,default:0}},emits:["onHeightChanged"],setup:function(e,t){var n=Object(r["o"])("groupHandler"),a=n.activeGroup,i=n.changeGroup,o=Object(r["C"])();return Object(r["p"])((function(){var e;return t.emit("onHeightChanged",(null===(e=o.value)||void 0===e?void 0:e.clientHeight)||0)})),Object(r["L"])((function(){return e.containerHeight}),Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["p"])();case 2:t.emit("onHeightChanged",(null===(n=o.value)||void 0===n?void 0:n.clientHeight)||0);case 3:case"end":return e.stop()}}),e)})))),{activeGroup:a,changeGroup:i,groupsElement:o}}},d=(n("81b4"),n("6b0d")),h=n.n(d);const p=h()(c,[["render",u],["__scopeId","data-v-6ef7afb2"]]);var f=p,m=n("5f19"),g=n("88a8"),b=(n("4de4"),n("c7cd"),n("7db0"),n("9c57")),_=function(e){return{tabs:null===e||void 0===e?void 0:e.filter((function(e){var t=b["c"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&!t.fixed&&!t.drawerOrientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)})),fixedTop:null===e||void 0===e?void 0:e.filter((function(e){var t=b["c"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&t.fixed&&"top"===t.orientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)})),fixedBottom:null===e||void 0===e?void 0:e.filter((function(e){var t=b["c"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&t.fixed&&"bottom"===t.orientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)})),drawerLeft:null===e||void 0===e?void 0:e.filter((function(e){var t=b["c"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&!t.fixed&&"left"===t.drawerOrientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)})),drawerRight:null===e||void 0===e?void 0:e.filter((function(e){var t=b["c"].getContainerAttributes(e.attributes);return"group"===e.attributes.node&&!t.fixed&&"right"===t.drawerOrientation})).filter((function(e){var t;return 0!==(null===(t=e.controls)||void 0===t?void 0:t.length)}))}},v=function(e,t,n,r,a){var i,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=t.tabs.find((function(t){return t.attributes.id==e}));if(l)return a.value=Number(r.value)===Number(e)?"":Number(r.value)>Number(e)?"slide-right":"slide-left",setTimeout((function(){return a.value=""}),250),r.value=e,void(null===(i=document.getElementById("content"))||void 0===i||i.scroll(0,0));var u=t.drawerLeft.find((function(t){return t.attributes.id==e}));if(u)return n.showRight=!1,void(s||n.showLeft||o&&n.showLeft?n.showLeft=!1:n.showLeft=!0);var c=t.drawerRight.find((function(t){return t.attributes.id==e}));return c?(n.showLeft=!1,void(s||n.showRight||o&&n.showRight?n.showRight=!1:n.showRight=!0)):void 0},O=function(e,t,n,r){var a=t.tabs.find((function(e){return e.attributes.id===n.value}));if(a){var i=t.tabs.indexOf(a),o=t.tabs[i+e];o&&(r.value=e<0?"slide-right":"slide-left",setTimeout((function(){return r.value=""}),250),n.value=o.attributes.id)}},y=function(e,t,n){var a=document.getElementById("xone-sidenav-left-".concat(n)),i=document.getElementById("xone-sidenav-right-".concat(n)),o=function(){e.leftWidth=null===a||void 0===a?void 0:a.offsetWidth,e.rightWidth=null===i||void 0===i?void 0:i.offsetWidth};o(),Object(r["M"])((function(){e.currentWindowWidth!==t.value&&(e.currentWindowWidth=t.value,setTimeout((function(){return Object(r["p"])().then((function(){return o()}),1)})))}))},C=function(e,t,n,a,i,o){var s=function(){S(e,t,a,i)};Object(r["v"])((function(){s(),Object(r["L"])((function(){return t.value}),(function(){return s()})),Object(r["L"])((function(){return n.value}),(function(){return s()}));var e=Object(r["o"])("lastBreadcrumb");Object(r["M"])((function(){var t;(null===(t=e.value)||void 0===t?void 0:t.id)===o&&s()}))}))},S=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,a,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["p"])();case 2:Promise.resolve().then((function(){var e,r,o,s;t.value=n.value-(null!==(e=null===(r=a.value)||void 0===r?void 0:r.offsetHeight)&&void 0!==e?e:0)-(null!==(o=null===(s=i.value)||void 0===s?void 0:s.offsetHeight)&&void 0!==o?o:0)}));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),E=n("528d"),k=(n("ae56"),n("ddd6")),x={props:{breadcrumb:{type:Object,default:null},isLayout:{type:Boolean,default:!1},objectInfo:{type:Object,default:null}},components:{Groups:f},setup:function(e){var t=g["a"].getDataObject(e.breadcrumb.id);t.doModelReactive();var n=Object(r["o"])("lastBreadcrumb");Object(r["z"])("breadcrumbId",e.breadcrumb.id);var a=Object(r["C"])(),i=Object(r["o"])("sizeConditions"),o=Object(r["o"])("orientation"),l=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getLayoutAsync();case 2:a.value=e.sent,t.setLayout(a.value),t.ExecuteNode("onvisualconditionschange",i.value,o.value).catch(console.error);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.value=t.getLayout(),t.setLayout(a.value),Object(r["L"])((function(){return i.value}),(function(){return l()}));var u=Object(r["d"])((function(){return b["c"].getContainerAttributes(a.value.attributes)})),c=Object(r["C"])(!1);Object(r["z"])("isBeforeEditExecuted",c),Object(r["t"])((function(){return t.ExecuteNode("before-edit").catch(console.error).finally((function(){return c.value=!0}))})),Object(r["v"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.ExecuteNode("onvisualconditionschange",i.value,o.value).catch(console.error),E["a"].hideLoader();case 2:if(c.value){e.next=7;break}return e.next=5,new Promise((function(e){return setTimeout((function(){return e()}),5)}));case 5:e.next=2;break;case 7:t.ExecuteNode("after-edit").catch(console.error);case 8:case"end":return e.stop()}}),e)}))));var d=Object(r["d"])((function(){var e;return _(null===(e=a.value)||void 0===e?void 0:e.controls)})),h=Object(r["C"])(0!==d.value.tabs.length&&d.value.tabs[0].attributes.id),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v(e,d.value,N,h,I,t,n)},f=Object(r["o"])("containerSize"),S=f.containerWidth,x=f.containerHeight,T=Object(r["C"])(S.value),w=Object(r["C"])(),A=Object(r["C"])();C(T,x,S,w,A,e.breadcrumb.id);var P=new k["b"](t);P.showGroup=function(e){return p(e)},P.hideGroup=function(e){return p(e,!1,!0)},P.toggleGroup=function(e){return p(e,!0)},Object(r["z"])("xoneView",P),Object(r["M"])((function(){var r;e.breadcrumb.id===(null===(r=n.value)||void 0===r?void 0:r.id)&&(Object(E["g"])(p),Object(E["l"])(t))})),Object(r["z"])("groupHandler",{activeGroup:h,changeGroup:p});var R,I=Object(r["C"])(""),j=Object(r["C"])();Object(r["v"])((function(){u.value.groupSwipe&&(R=new m["a"]((function(e){return O(e,d.value,h,I)})),R.init(j.value))})),Object(r["w"])((function(){var e;return null===(e=R)||void 0===e?void 0:e.clear()}));var N=Object(r["B"])({leftWidth:0,rightWidth:0,showLeft:!1,showRight:!1,overflow:"hidden",closeDrawers:function(){N.showLeft=!1,N.showRight=!1},currentWindowWidth:S.value});Object(r["v"])((function(){return y(N,S,e.breadcrumb.id)})),Object(r["z"])("objectInfo",e.objectInfo||{isContents:!1});var M=Object(r["C"])(0),D=function(e){return M.value=e};return{attributes:u,groups:d,drawers:N,groupAnimation:I,containerWidth:S,containerHeight:x,xoneDataObject:t,fixedTopElement:w,fixedBottomElement:A,contentElementHeight:T,contentElement:j,onGroupsHeaderHeightChanged:D,groupsHeaderHeight:M}}};n("ad3c");const T=h()(x,[["render",o],["__scopeId","data-v-89d676b6"]]);t["a"]=T},"7ef1":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n("d4ec"),a=n("bee2"),i=(n("ac1f"),n("5319"),n("d3b7"),n("25f0"),n("3019")),o=n("733f"),s=n("4585"),l=n("54ab"),u=n("57ee"),c=n("f0ed"),d=function e(){Object(r["a"])(this,e)};d.PREFIX_MODIFIED=1,d.CONNSTRING_MODIFIED=2,d.ROWIDFIELD_MODIFIED=4,d.SQLFIELD_MODIFIED=8,d.ROWIDLEN_MODIFIED=16,d.OPERIDLEN_MODIFIED=32,d.DATEMASK_MODIFIED=64,d.TABLEQUOTE_MODIFIED=128,d.FIELDQUOTE_MODIFIED=256,d.SUBQUERIES_MODIFIED=512;n("a15b"),n("4d63");var h=function(){function e(t){if(Object(r["a"])(this,e),!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return Object(a["a"])(e,[{key:"equals",value:function(t){return e.isGuid(t)&&this.value===t.toString()}},{key:"isEmpty",value:function(){return this.value===e.EMPTY}},{key:"toString",value:function(){return this.value}},{key:"toJSON",value:function(){return{value:this.value}}}],[{key:"isGuid",value:function(t){var n=t.toString();return t&&(t instanceof e||e.validator.test(n))}},{key:"create",value:function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))}},{key:"createEmpty",value:function(){return new e("emptyguid")}},{key:"parse",value:function(t){return new e(t)}},{key:"raw",value:function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")}},{key:"gen",value:function(e){for(var t="",n=0;n<e;n++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t}}]),e}();h.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),h.EMPTY="00000000-0000-0000-0000-000000000000";var p=function(){function e(t,n){Object(r["a"])(this,e),this.m_strName="",this.m_strPrefix="",this.m_strTableQuoteOpen="",this.m_strTableQuoteClose="",this.m_strFieldQuoteOpen="",this.m_strFieldQuoteClose="",u["a"].IsEmptyString(t)?this.m_strName=e.MAIN_CONNECTION:this.m_strName=t,this.m_owner=n,this.m_developer=new s["a"],this.m_strRowIdFieldName="ROWID",this.m_strSqlFieldName="SQL",this.m_nOperIdLength=100,this.m_nRowIdLength=35,this.m_lstInitStrings=new Array,this.m_messages=n.getMessageHolder(),this.m_extendedProperties=new i["a"]}return Object(a["a"])(e,[{key:"PrepareFilter",value:function(e){throw new Error("Method not implemented.")}},{key:"addExtendedProperty",value:function(e,t){return null==this.m_extendedProperties&&(this.m_extendedProperties=new i["a"]),this.m_extendedProperties.put(e,t),0}},{key:"removeExtendedProperty",value:function(e){return null!=this.m_extendedProperties&&this.m_extendedProperties.containsKey(e)&&this.m_extendedProperties.delete(e),0}},{key:"getExtendedProperty",value:function(e){return null==this.m_extendedProperties?null:this.m_extendedProperties.containsKey(e)?this.m_extendedProperties.get(e):null}},{key:"getExtendedList",value:function(){return this.m_extendedProperties}},{key:"getName",value:function(){return this.m_strName}},{key:"getPrefix",value:function(){return this.m_strPrefix}},{key:"setPrefix",value:function(e){this.m_strPrefix=e,this.m_nFlags|=d.PREFIX_MODIFIED}},{key:"getNodeData",value:function(){return this.m_xmlNodeData}},{key:"supportsTransactions",value:function(){return this.m_bSupportsTransactions}},{key:"setNodeData",value:function(e){if(null!=(this.m_xmlNodeData=e)){u["a"].IsEmptyString(this.m_strPlatform)||(this.m_platform=this.m_xmlNodeData.SelectSingleNode("platform","name",this.m_strPlatform));var t="";u["a"].IsEmptyString(t=this.GetNodeValue("prefix"))||this.setPrefix(t),u["a"].IsEmptyString(t=this.GetNodeValue("tablequote"))||(1==t.length?(this.setTableQuoteOpen(t),this.setTableQuoteClose(t)):(this.setTableQuoteOpen(t.substring(0,1)),this.setTableQuoteClose(t.substring(1,t.length)))),u["a"].IsEmptyString(t=this.GetNodeValue("fieldquote"))||(1==t.length?(this.setFieldQuoteOpen(t),this.setFieldQuoteClose(t)):(this.setTableQuoteOpen(t.substring(0,1)),this.setTableQuoteClose(t.substring(1,t.length)))),this.m_bSupportsTransactions=u["a"].ParseBoolValue(this.GetNodeValue("transactions"),!1),u["a"].IsEmptyString(t=this.GetNodeValue("connstring"))||(this.m_strConnString=t),u["a"].IsEmptyString(t=this.GetNodeValue("datemask"))||this.setDatemask(t)}}},{key:"getConnString",value:function(){return this.m_strConnString}},{key:"setConnString",value:function(e){this.m_strConnString=e,this.m_nFlags|=d.CONNSTRING_MODIFIED}},{key:"getIsReplicating",value:function(){return this.m_bIsReplicating}},{key:"setIsReplicating",value:function(e){this.m_bIsReplicating=e}},{key:"getMID",value:function(){return this.m_nMid}},{key:"setMID",value:function(e){this.m_nMid=e}},{key:"getDBID",value:function(){return this.m_nDbId}},{key:"setDBID",value:function(e){this.m_nDbId=e}},{key:"getRowIdFieldName",value:function(){return this.m_strRowIdFieldName}},{key:"setRowIdFieldName",value:function(e){this.m_strRowIdFieldName=e,u["a"].IsEmptyString(this.m_strRowIdFieldName)?this.m_strRowIdFieldName="ROWID":this.m_nFlags|=d.ROWIDFIELD_MODIFIED}},{key:"getSqlFieldName",value:function(){return this.m_strSqlFieldName}},{key:"setSqlFieldName",value:function(e){this.m_strSqlFieldName=e,this.m_nFlags|=d.SQLFIELD_MODIFIED}},{key:"getRowIdLength",value:function(){return this.m_nRowIdLength}},{key:"setRowIdLength",value:function(e){this.m_nRowIdLength=e,this.m_nRowIdLength<35?this.m_nRowIdLength=35:this.m_nFlags|=d.ROWIDLEN_MODIFIED}},{key:"getOperIdLength",value:function(){return this.m_nOperIdLength}},{key:"setOperIdLength",value:function(e){this.m_nOperIdLength=e,this.m_nOperIdLength<50?this.m_nOperIdLength=50:this.m_nFlags|=d.OPERIDLEN_MODIFIED}},{key:"getInitStrings",value:function(){return this.m_lstInitStrings}},{key:"getDatemask",value:function(){return this.m_strDatemask}},{key:"setDatemask",value:function(e){this.m_strDatemask=e,u["a"].IsEmptyString(this.m_strDatemask)||(this.m_nFlags|=d.DATEMASK_MODIFIED)}},{key:"getFlags",value:function(){return this.m_nFlags}},{key:"getTableQuoteOpen",value:function(){return this.m_strTableQuoteOpen}},{key:"setTableQuoteOpen",value:function(e){u["a"].IsEmptyString(this.m_strTableQuoteOpen=e)||(this.m_nFlags|=d.TABLEQUOTE_MODIFIED)}},{key:"getTableQuoteClose",value:function(){return this.m_strTableQuoteOpen}},{key:"setTableQuoteClose",value:function(e){u["a"].IsEmptyString(this.m_strTableQuoteClose=e)||(this.m_nFlags|=d.TABLEQUOTE_MODIFIED)}},{key:"getFieldQuoteOpen",value:function(){return this.m_strFieldQuoteOpen}},{key:"setFieldQuoteOpen",value:function(e){u["a"].IsEmptyString(this.m_strFieldQuoteOpen=e)||(this.m_nFlags|=d.FIELDQUOTE_MODIFIED)}},{key:"getFieldQuoteClose",value:function(){return this.m_strFieldQuoteClose}},{key:"setFieldQuoteClose",value:function(e){u["a"].IsEmptyString(this.m_strFieldQuoteClose=e)||(this.m_nFlags|=d.FIELDQUOTE_MODIFIED)}},{key:"getSubqueries",value:function(){return this.m_bSubqueries}},{key:"setSubqueries",value:function(e){this.m_bSubqueries=e,this.m_nFlags|=d.SUBQUERIES_MODIFIED}},{key:"getDevelopedPrefix",value:function(){return u["a"].IsEmptyString(this.m_strPrefix)?"":this.m_strPrefix+"_"}},{key:"GetRetryConnection",value:function(e,t){for(var n=0;n<e;n++){var r=void 0;if(null!=(r=this.GetNewConnection(t)))return r}return null}},{key:"PrepareSqlString",value:function(e,t,n){var r,a,i,s,d=e;if(d.contains("##")&&(a=this.m_owner.getCompany(),d.contains("##ENTID##")&&(d=null!=a?u["a"].Replace(d,"##ENTID##",a.GetObjectIdString()):u["a"].Replace(d,"##ENTID##","NULL")),d.contains("##MID##")&&this.m_bIsReplicating&&(s="'"+this.m_nMid+"'",d=u["a"].Replace(d,"##MID##",s)),d.contains("##ENTIDCOLL##")&&(s=this.m_owner.getEntIdColl(),u["a"].IsEmptyString(s)&&(s="NULL"),d=s.contains(",")||s.contains(" ")?u["a"].Replace(d,"=##ENTIDCOLL##"," IN ("+s+")"):u["a"].Replace(d,"=##ENTIDCOLL##","="+s)),d.contains("##ENTIDLEVEL##")&&(s=this.m_owner.getEntIdLevel(),u["a"].IsEmptyString(s)&&(s="NULL"),d=s.contains(",")||s.contains(" ")?u["a"].Replace(d,"=##ENTIDLEVEL##"," IN ("+s+")"):u["a"].Replace(d,"=##ENTIDLEVEL##","="+s)),d.contains("##ENTIDOWNER##")&&(s=this.m_owner.getEntIdOwner(),u["a"].IsEmptyString(s)&&(s="NULL"),d=u["a"].Replace(d,"=##ENTIDOWNER##","="+s)),d.contains("##CURRID##")&&(d=null!=(r=this.m_owner.getCurrency())?u["a"].Replace(d,"##CURRID##",r.GetObjectIdString()):u["a"].Replace(d,"##CURRID##","NULL")),d.contains("##USERID##")&&(d=null!=(i=this.m_owner.getUser())?u["a"].Replace(d,"##USERID##",i.GetObjectIdString()):u["a"].Replace(d,"##USERID##","NULL")),d.contains("##USERIDCOLL##")&&(s=this.m_owner.getUserIdColl(),u["a"].IsEmptyString(s)?d=u["a"].Replace(d,"=##USERIDCOLL##"," IS NOT NULL"):(s=s.contains(",")?"="+s:" IN ("+s+")",d=u["a"].Replace(d,"=##USERIDCOLL##",s)))),d.contains("##ROWID##")&&(d=d.replace("##ROWID##",this.GenerateRowId(c["a"].EMPTY_STRING))),d.contains("##PREF##")&&(d=u["a"].Replace(d,"##PREF##",this.getDevelopedPrefix())),d.contains("##QUOTES##")&&(d=u["a"].Replace(d,"##QUOTES##",'"')),d.contains("##")){var h=new o["a"];d.contains("##NOW_TIME##")&&(s=this.DevelopObjectValue(h),d=u["a"].Replace(d,"##NOW_TIME##",s)),d.contains("##DAY##")&&(s=String.format("%d",h.get(o["a"].DAY_OF_MONTH)),d=u["a"].Replace(d,"##DAY##",s)),d.contains("##MONTH##")&&(s=String.format("%d",h.get(o["a"].MONTH)),d=u["a"].Replace(d,"##MONTH##",s)),d.contains("##YEAR##")&&(s=String.format("%d",h.get(o["a"].YEAR)),d=u["a"].Replace(d,"##YEAR##",s)),d.contains("##NOW##")&&(l["a"].ZeroCalendarTime(h),s=this.DevelopObjectValue(h),s=s.replace("00:00:00",""),d=u["a"].Replace(d,"##NOW##",s)),d.contains("##NBSP##")&&(d=u["a"].Replace(d,"##NBSP##"," "))}return d}},{key:"FixObjectName",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e;return u["a"].IsEmptyString(a)?a:(n=this.m_strPrefix,u["a"].IsEmptyString(r)||(n=r),u["a"].IsEmptyString(a)||u["a"].IsEmptyString(n)||n.equals("##NONE##")||"."!=a.charAt(0)&&(a=n+"_"+a),u["a"].IsEmptyString(this.m_strTableQuoteOpen)?a:(t=String.format("%s%s%s",this.m_strTableQuoteOpen,a,this.m_strTableQuoteClose),t))}},{key:"DevelopObjectValue",value:function(e,t,n){return null==t?this.m_developer.DevelopObjectValue(e,this.m_strDatemask,!0):"boolean"===typeof t?this.m_developer.DevelopObjectValue(e,this.m_strDatemask,t):this.m_developer.DevelopObjectValue(e,t,n)}},{key:"ExecuteLocalParsedSql",value:function(e){return this.ExecuteParsedSql(null,e,!1)}},{key:"LastAffectedRecords",value:function(e){return-1}},{key:"commit",value:function(){return null}},{key:"beginTrans",value:function(){}},{key:"rollBack",value:function(){}},{key:"SetPlatform",value:function(e){this.m_strPlatform=e}},{key:"GetNodeValue",value:function(e){var t;return null==this.m_xmlNodeData?null:null==this.m_platform||u["a"].IsEmptyString(t=this.m_platform.getAttrValue(e))?this.m_xmlNodeData.getAttrValue(e):t}},{key:"cancelProcesses",value:function(e){return 0}},{key:"getTokenFromAuth",value:function(e,t){return c["a"].EMPTY_STRING}},{key:"toString",value:function(){return"Connection: "+this.m_strName}},{key:"GenerateRowId",value:function(e){return h.create().toString()}}]),e}();p.MAIN_CONNECTION="##MAIN_CONNECTION##"},8:function(e,t){},8025:function(e,t,n){},"81b4":function(e,t,n){"use strict";n("edca")},8277:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("d4ec"),a=function e(){Object(r["a"])(this,e)};a.SQLTYPE_ERROR=-1,a.SQLTYPE_UNKNOWN=0,a.SQLTYPE_INSERT=1,a.SQLTYPE_DELETE=2,a.SQLTYPE_UPDATE=3,a.SQLTYPE_SELECT=4},8342:function(e,t,n){"use strict";n("31d9")},"849a":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("d3b7"),n("25f0"),n("3e8f")),o=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"LoadFile",value:function(e,t){return i["readFileSync"](e).toString()}},{key:"FileExist",value:function(e,t){return i["existsSync"](e)}},{key:"getAbsolutePath",value:function(e){return e}},{key:"getIncludeFilePath",value:function(e,t){throw new Error("Method not implemented.")}}]),e}()},8867:function(e,t,n){"use strict";n("aec6")},"88a8":function(e,t,n){"use strict";var r,a=n("53ca"),i=n("2909"),o=n("d4ec"),s=n("bee2"),l=n("ade3"),u=n("1da1"),c=n("3835"),d=(n("96cf"),n("159b"),n("4fad"),n("b64b"),n("a15b"),n("d3b7"),n("25f0"),n("4ec9"),n("3ca3"),n("ddb0"),n("a630"),n("4de4"),n("7db0"),n("a434"),n("d81d"),n("ac1f"),n("1276"),n("498a"),n("b0c0"),n("99af"),n("1fe2"),n("a1e9")),h=n("5c40"),p=(n("d2fd"),n("ae56")),f=n("f762"),m=n("5d1a"),g=n("528d"),b=(n("a33b"),n("260b")),_=(n("741f"),function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){var t=Function("return new Worker('../tasks.js')")();t.addEventListener("message",(function(t){var n=t.data;return e(n)})),t.postMessage({type:"firebaseConfig"})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),v=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:return t=e.sent,n=t.firebaseConfig,a=t.vapidKey,b["a"].initializeApp(n),i=b["a"].messaging(),e.next=10,i.getToken({vapidKey:a});case 10:if(o=e.sent,!o){e.next=17;break}localStorage.setItem("_messagingToken",o),r=o,O.forEach((function(e){return e({pushToken:r})})),e.next=20;break;case 17:throw s="No registration token available. Request permission to generate one.",console.error(s),new Exception(s);case 20:i.onMessage((function(e){var t,n,r,a,i,o=(null===(t=e.data)||void 0===t?void 0:t.notification_id)||Object(m["c"])(),s=(null===(n=e.data)||void 0===n?void 0:n.title)||(null===(r=e.notification)||void 0===r?void 0:r.notification_title),l=(null===(a=e.data)||void 0===a?void 0:a.body)||(null===(i=e.notification)||void 0===i?void 0:i.notification_message),u=function(){return P.getAppData().getCollection("Empresas").then((function(t){return t.ExecuteCollAction("onpushnotificationclick",null,e).catch(console.error)}))};g["a"].showNotification(o,s,l,null,u),C.forEach((function(t){return t(e)}))})),e.next=27;break;case 23:throw e.prev=23,e.t0=e["catch"](0),console.error("An error occurred while retrieving token. ",e.t0),new Exception(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),O=new Map,y=new Map,C=new Map,S=function(e){return!r&&Notification.requestPermission().then((function(){return v().then((function(){return r&&e instanceof Function&&e({pushToken:r})})).catch((function(){return y.forEach((function(e){return e()}))}))}))},E=function(e){O.has(e.toString())||(O.set(e.toString(),e),r&&O.forEach((function(e){return e({pushToken:r})})))},k=function(e){return!y.has(e.toString())&&y.set(e.toString(),e)},x=function(e){return!C.has(e.toString())&&C.set(e.toString(),e)},T=n("7a23"),w=n("9c57");n("668d");p["a"].prototype.changeModelValue=function(e,t){this[e]=t},p["a"].prototype.clone=function(){var e=this;if(this["_ObjCloned"])return this;var t=new p["a"](this.getOwnerCollection());return Object.entries(this).forEach((function(e){var n=Object(c["a"])(e,2),r=n[0],a=n[1];return t[r]=a})),t["_ObjCloned"]=this,t["_XoneHashId"]=void 0,t["_XoneReactive"]=void 0,t.getObjectIndex=function(){return e.getObjectIndex()},t},p["a"].prototype.doModelReactive=function(){var e=this;return this["_XoneReactive"]?this:(this.model=Object(d["l"])(this.model).value,this["_XoneReactive"]=!0,this["_ObjCloned"]&&this["_ObjCloned"]["_XoneReactive"]?(Object.keys(this.model).forEach((function(t){return Object(h["U"])((function(){return e.model[t]}),(function(n){return e["_ObjCloned"].changeModelValue(t,n)}))})),this):this)},p["a"].prototype.isReactive=function(){return this["_XoneReactive"]},p["a"].prototype.setCloneOnPush=function(e){this["_CloneOnPush"]=e},p["a"].prototype.getCloneOnPush=function(){return this["_CloneOnPush"]},p["a"].prototype.getHashId=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!this["_XoneHashId"]&&e&&(this["_XoneHashId"]=Array(3).join(Object(m["c"])())),this["_XoneHashId"]},p["a"].prototype.getParent=function(){return this.m_owner.getOwnerObject()},p["a"].prototype.executeMethod=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w["c"].executeMethod("executenode(".concat(t,")"),this);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),f["a"].prototype.exit=function(){return g["a"].exitApp()},f["a"].prototype.exitApp=function(){window.close(),g["a"].exitApp()},f["a"].prototype.logout=function(){return g["a"].exitApp()},f["a"].prototype.pushValueAndExit=function(e){return g["a"].openEditViewAndExit(e)},f["a"].prototype.registerPush=function(e){return S(e)},f["a"].prototype.bind=function(e,t){e&&"onpushregistered"===e.toString().toLowerCase()&&E(t),e&&"onpushregistrationfailure"===e.toString().toLowerCase()&&k(t),e&&"onpushreceived"===e.toString().toLowerCase()&&x(t)};var A=function(){function e(){if(Object(o["a"])(this,e),Object(l["a"])(this,"_appData",void 0),Object(l["a"])(this,"_dataObjectsMap",new Map),Object(l["a"])(this,"_breadcrumbs",Object(d["l"])([])),e._instance)return e._instance;e._instance=this}return Object(s["a"])(e,[{key:"setAppData",value:function(e){this._appData=e}},{key:"getAppData",value:function(){return this._appData}},{key:"getBreadcrumbs",value:function(){return this._breadcrumbs.value}},{key:"addDataObject",value:function(e,t){this._dataObjectsMap.set(e,t)}},{key:"getDataObject",value:function(e){return this._dataObjectsMap.get(e)}},{key:"getDataObjects",value:function(){return Array.from(this._dataObjectsMap.values())}},{key:"cleardataObjectsMap",value:function(){this._dataObjectsMap.clear()}},{key:"clearBreadcrumbs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._breadcrumbs.value=e?this._breadcrumbs.value.filter((function(e){return e.isWebLayout})):[],this.cleardataObjectsMap()}},{key:"removeBreadcrumb",value:function(e){var t=this._breadcrumbs.value.find((function(t){return t.id===e}));if(t){var n=this._breadcrumbs.value.indexOf(t);this._breadcrumbs.value.splice(n,1),this._dataObjectsMap.delete(e)}}},{key:"deletelastBreadcrumb",value:function(){if(0!==this._breadcrumbs.value.length){var e=Object(i["a"])(this._breadcrumbs.value).reverse()[0];this.removeBreadcrumb(e.id)}}},{key:"clearBreadcrumbsFrom",value:function(e){var t=this._breadcrumbs.value.find((function(t){return t.id===e}));if(t){var n=this._breadcrumbs.value.indexOf(t)+1;this._breadcrumbs.value.splice(n)}}},{key:"clearBreadcrumbsFromXoneHashId",value:function(e){this._breadcrumbs.value=this._breadcrumbs.value.filter((function(t){return t.xoneHashId!==e}))}},{key:"addNewXoneDataObject",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"Coll",r=s.length>2&&void 0!==s[2]&&s[2],a=s.length>3&&void 0!==s[3]&&s[3],e.next=5,this._appData.getCollection(t);case 5:if(i=e.sent,i){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,i.CreateObject(!0);case 10:return o=e.sent,a&&"true"===i.getProperties().getAttrValue("special")&&(i.clear(),i.addItem(o)),e.abrupt("return",this.pushXoneDataObject(o,n,r));case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"pushXoneDataObject",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"Coll",r=l.length>2&&void 0!==l[2]&&l[2],a=l.length>3&&void 0!==l[3]&&l[3],i=l.length>4&&void 0!==l[4]&&l[4],i||a){e.next=9;break}return g["a"].showLoader(),e.next=8,new Promise((function(e){return setTimeout((function(){return Object(T["p"])().then((function(){return e()}))}),1)}));case 8:setTimeout((function(){return g["a"].hideLoader()}),1e4);case 9:return o=Object(m["c"])(),t.getCloneOnPush()&&(t=t.clone()),s=t.m_owner.m_xmlNode,this.addDataObject(o,t),this._breadcrumbs.value.push({id:o,xoneHashId:t.getHashId(),type:n,name:t.m_owner.m_strName,title:s.getAttrValue("title",t.m_owner.m_strName),isWebLayout:r,isMsgbox:a,isContentsRow:i}),e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setCookie",value:function(e,t,n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3);var a="expires="+r.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}},{key:"getCookie",value:function(e){var t,n=document.cookie.split(";").map((function(e){var t=e.split("="),n=Object(c["a"])(t,2),r=n[0],a=n[1];return{name:r.trim(),value:a.trim()}}));return(null===(t=n.find((function(t){return t.name===e})))||void 0===t?void 0:t.value)||""}},{key:"removeCookie",value:function(e){document.cookie="".concat(e,"= ; expires = ").concat((new Date).toUTCString(),";")}},{key:"getCircularReplacer",value:function(){var e=new WeakSet;return function(t,n){if("object"===Object(a["a"])(n)&&null!==n){if(e.has(n))return void console.warn("Cache duplicado",t,n);e.add(n)}return n}}}]),e}();Object(l["a"])(A,"_instance",void 0);var P=t["a"]=new A},8920:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("bf19"),n("d3b7"),n("ddb0"),n("3019")),o=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(r["a"])(this,e),this._attributes=new i["a"],n&&n.forEach((function(e){return t._attributes.put(e[0],e[1])}))}return Object(a["a"])(e,[{key:"toJSON",value:function(){return this._attributes.toJSON()}},{key:"clone",value:function(){return new e(this._attributes.entrySet())}},{key:"length",get:function(){return this._attributes.length}},{key:"keys",value:function(){return this._attributes.keys()}},{key:"getIndex",value:function(e){return this._attributes.keys().indexOf(e)}},{key:"getValue",value:function(e){return this._attributes.get(e)}},{key:"setValue",value:function(e,t){this._attributes.put(e,t),this[e]=t}},{key:"deleteAttribute",value:function(e){this._attributes.delete(e)}},{key:"clearAll",value:function(){this._attributes.clear()}}]),e}()},"89e6":function(e,t,n){"use strict";n("f5d2")},"8bbb":function(e,t,n){"use strict";n("a6c3")},"8e18":function(e,t,n){"use strict";n("13c3")},9:function(e,t){},"927f":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("ac1f"),n("1276"),n("3be9")),o=n("f0ed"),s=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"GetNodeAttr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this.getNodeAttr(e,t,n)}},{key:"getNodeAttr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(null==e)return n;var r=e.getAttrValue(t);return i["a"].isEmpty(r)?n:r}},{key:"getValuesByConditions",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";null!=t?(t.getChildNodes().forEach((function(t){n.getNodeAttr(t,"conditions",o["a"].MACRO_DEFAULT).split(";").forEach((function(n){return e.put(n,t.getAttrValue(o["a"].PROP_ATTR_NAME))}))})),e.containsKey(o["a"].MACRO_DEFAULT)||e.put(o["a"].MACRO_DEFAULT,r)):e.put(o["a"].MACRO_DEFAULT,r)}}]),e}()},9284:function(e,t,n){"use strict";n("0584")},"932b":function(e,t,n){"use strict";n("e2c0")},"96e0":function(e,t,n){"use strict";n("4f38")},"97dd":function(e,t,n){},"984b":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("0912"),s=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(e,a,i){var o;return Object(r["a"])(this,n),o=t.call(this,a),o.m_code=e,o.m_extra=i,o}return n}(o["a"])},"98f9":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("262e"),i=n("2caf"),o=n("0912"),s=function(e){Object(a["a"])(n,e);var t=Object(i["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(o["a"])},"99d5":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("d3b7"),n("bf19"),n("25f0"),n("498a"),n("8a79"),n("0912")),s=n("6dc9"),l=n("4329"),u=n("3548"),c=n("8277"),d=n("0e62"),h=n("57ee"),p=n("3be9"),f=n("f0ed"),m=(n("b64b"),n("54ab")),g=function(){function e(t,n,r){Object(a["a"])(this,e),this.m_maxRows=100,this.m_keys=[],this.isResultset=!0,this.m_connection=t,this.m_nIterate=-1,this.m_sentence=n,this.m_options=r,this.m_data=[],this.m_maxRows=this.m_data.length,this.m_keys=[]}return Object(i["a"])(e,[{key:"populate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_connection.fetchDataAsync(this.m_sentence,t||this.m_options);case 2:if(n=e.sent,1!=n.hasError){e.next=5;break}throw new o["a"](n.err);case 5:return this.m_data=Array.isArray(n.data)?n.data:[],this.m_maxRows=this.m_data.length,this.m_keys=0==this.m_maxRows?[]:Object.keys(this.m_data[0]),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBytes",value:function(e){return null}},{key:"getColumnCount",value:function(){return 0==this.m_maxRows?0:this.m_keys.length}},{key:"getColumnTypes",value:function(){return[1,2,3,4,5,6,7,8]}},{key:"getColumnName",value:function(e){return 0==this.m_maxRows?0:this.m_keys[e]}},{key:"getData",value:function(){return this.m_data}},{key:"close",value:function(){this.m_nIterate=-1,this.m_data=null,this.m_maxRows=0}},{key:"resolverField",value:function(e){return"number"==typeof e?this.m_keys[e]:e}},{key:"getValue",value:function(e,t){switch(t){case 0:return u["a"].SafeToInt(this.m_data[this.m_nIterate][this.resolverField(e)]);case 2:return u["a"].SafeToDouble(this.m_data[this.m_nIterate][this.resolverField(e)]);case 3:return m["a"].SafeToDate(this.m_data[this.m_nIterate][this.resolverField(e)]);default:return h["a"].SafeToString(this.m_data[this.m_nIterate][this.resolverField(e)])}}},{key:"getString",value:function(e){return this.getValue(e,1)}},{key:"getInt",value:function(e){return this.getValue(e,0)}},{key:"getDate",value:function(e){return this.getValue(e,3)}},{key:"PageLen",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.length)||-1}},{key:"PageCache",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.cache)||-1}},{key:"next",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",++this.m_nIterate<this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EOF",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate>=this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveTo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t==this.m_maxRows||(this.m_nIterate=t)==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),b=function(){function e(t,n,r,i){Object(a["a"])(this,e),this.m_clientId="XIdsAPIXmITgixqqj",this.m_clientSecret="5M3c9Oae5A7ewzTDU2Z3xh1B9P0Z79",this.m_url="https://web.xonedev.cloud/api/itf/DoAction",this.m_idsUrl="https://ids.xonedev.cloud/connect/token",this.nFlags=1,this.nTimeout=60,this.nSecurityLevel=0,this.sAppName=n,this.sExecutionPath=r,this.bIsLoginCall=!1,this.cryptoData=i,this.m_token=null,this.parseConnectionString(t)}return Object(i["a"])(e,[{key:"executeUpdateAsync",value:function(e){throw new Error("Method not implemented.")}},{key:"executeNonQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.readBearerTokenAsync();case 2:if(n=e.sent,!p["a"].isEmpty(n)){e.next=5;break}throw new o["a"]("No Auth");case 5:return e.next=7,fetch(this.m_url,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(t)});case 7:return r=e.sent,e.next=10,r.json();case 10:return e.sent,e.abrupt("return",1);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDataFromParser",value:function(e){return e.GetFields().toJSON()}},{key:"formatOnlineData",value:function(e,t,n){return e.GetSqlType()==c["a"].SQLTYPE_SELECT?{coll:t,action:"select",where:e.GetWhereSentence()}:e.GetSqlType()==c["a"].SQLTYPE_UPDATE||e.GetSqlType()==c["a"].SQLTYPE_INSERT?{coll:t,action:"write",data:this.getDataFromParser(e),keys:e.getKeys(),where:e.GetWhereSentence()}:e.GetSqlType()==c["a"].SQLTYPE_DELETE?{coll:t,action:"drop",data:this.getDataFromParser(e),keys:e.getKeys(),where:null}:{}}},{key:"executeAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"string"==typeof t&&(r=new s["a"]("ROWID"),r.ParseSqlString(t),t=r),e.next=3,this.executeNonQuery(this.formatOnlineData(t,a.length<=2?void 0:a[2],a.length<=3?void 0:a[3]));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"getAuthData",value:function(){var e=new d["a"]("client_id=");return e.append(this.m_clientId),e.append("&client_secret="),e.append(this.m_clientSecret),e.append("&grant_type=client_credentials"),e.toString()}},{key:"readBearerTokenAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.m_token){e.next=3;break}if(!(this.m_token.expires_in>new Date)){e.next=3;break}return e.abrupt("return",this.m_token.access_token);case 3:return e.next=5,fetch(this.m_idsUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:this.getAuthData()});case 5:return t=e.sent,e.next=8,t.json();case 8:if(n=e.sent,!n.error){e.next=12;break}return console.error(n.error),e.abrupt("return",this.m_token=null);case 12:return r=new Date,r.setSeconds(r.getSeconds()+n.expires_in),this.m_token=n,this.m_token.expires_in=r,e.abrupt("return",n.access_token);case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"executeQuery",value:function(e){return new g}},{key:"fetchDataAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.sUrlAddress,{method:this.sMethod,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:return r=e.sent,e.next=5,r.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeQueryAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new s["a"]("ROWID"),n.ParseSqlString(t),r={action:"select",where:n.GetWhereSentence(),sort:n.getOrderBySentence()},r=Object.assign(Object.assign({},r),i.length<=1?void 0:i[1]),a=new g(this,t,r),e.next=7,a.populate();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"prepareNormalData",value:function(e){}},{key:"countAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new s["a"]("ROWID"),n.ParseSqlString(t),r={action:"count",where:n.GetWhereSentence(),sort:n.getOrderBySentence()},r=Object.assign(Object.assign({},r),i.length<=1?void 0:i[1]),a=new g(this,t,r),e.next=7,a.populate();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"parseConnectionString",value:function(t){var n=l["a"].parseConnectionString(t);this.bIsLoginCall=h["a"].ParseBoolValue(n.get("logincall")),this.bIsJWTCall=h["a"].ParseBoolValue(n.get("jwtcall")),this.sToken=h["a"].SafeToString(n.get("token"),f["a"].EMPTY_STRING),this.nFlags=this.nFlags|(h["a"].ParseBoolValue(n.get("odataformat"))?e.FLAG_XONEJSONODATA:e.FLAG_XONEJSONSQL),this.nFlags=this.nFlags|(h["a"].ParseBoolValue(n.get("customformat"))?e.FLAG_XONEJSONCUSTOM:e.FLAG_XONEJSONSQL),this.nTimeout=u["a"].SafeToInt(n.get("timeout"),60),this.nSecurityLevel=u["a"].SafeToInt(n.get("security level"),0),this.sUrlAddress=n.get("data source"),null!=this.sUrlAddress?(this.sUrlAddress=this.sUrlAddress.trim(),this.sUrlAddress.endsWith("?")&&(this.sUrlAddress=this.sUrlAddress.substring(0,this.sUrlAddress.length-1))):this.sUrlAddress=f["a"].EMPTY_STRING,this.sMethod=n.get("method"),null==this.sMethod&&(this.sMethod="POST"),this.sUsername=n.get("xoneuser"),null==this.sUsername&&(this.sUsername=f["a"].EMPTY_STRING),this.sPassword=n.get("xonepass"),null==this.sPassword&&(this.sPassword=f["a"].EMPTY_STRING),this.sEndpoint=n.get("endpoint"),null==this.sEndpoint&&(this.sEndpoint=f["a"].EMPTY_STRING),this.sAction=h["a"].SafeToString(n.get("action"),e.DEFAULT_ACTION_NAME),this.sAuthAction=h["a"].SafeToString(n.get("authaction"),e.DEFAULT_AUTHACTION_NAME),this.sContentType=h["a"].SafeToString(n.get("content-type"),e.DEFAULT_CONTENT_TYPE),this.bIsSqlQuery=h["a"].ParseBoolValue(n.get("sqlquery"),!0),this.bPostUrlEncode=h["a"].ParseBoolValue(n.get("postencode"),!1),this.bIsCertificatePinningEnabled=h["a"].ParseBoolValue(n.get("enablecertificatepinning")),this.sLocalCertPath=h["a"].SafeToString(n.get("localcertificatepath")),this.bAuthenticate=h["a"].ParseBoolValue(n.get("auth"),!1),this.bAuthenticate&&(this.sAuthenticationUsername=n.get("user id"),this.sAuthenticationPassword=n.get("password")),this.bUseRemoteBroker=h["a"].ParseBoolValue(n.get("remote broker"),!1),this.sRemoteMapped=h["a"].SafeToString(n.get("remote mapped")),this.sRemoteDest=h["a"].SafeToString(n.get("remote destination")),this.bAllowUnsafeCertificates=h["a"].ParseBoolValue(n.get("allowunsafecertificates"),!1)}},{key:"createStatement",value:function(){throw new Error("Method not implemented.")}},{key:"isClosed",value:function(){throw new Error("Method not implemented.")}},{key:"commit",value:function(){throw new Error("Method not implemented.")}},{key:"beginTrans",value:function(){throw new Error("Method not implemented.")}},{key:"rollback",value:function(){throw new Error("Method not implemented.")}},{key:"execute",value:function(e,t){throw new Error("Method not implemented.")}},{key:"executeUpdate",value:function(e){return 0}},{key:"executeOperation",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"getDBMS",value:function(){throw new Error("Method not implemented.")}},{key:"outerJoinsSupported",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsParsedSentences",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsEmptyQueries",value:function(){throw new Error("Method not implemented.")}},{key:"LastRowsAffected",value:function(){throw new Error("Method not implemented.")}},{key:"LastInsertedRowId",value:function(){throw new Error("Method not implemented.")}},{key:"cancelProcesses",value:function(e){throw new Error("Method not implemented.")}},{key:"setCryptoData",value:function(e){throw new Error("Method not implemented.")}},{key:"getCryptoData",value:function(){throw new Error("Method not implemented.")}},{key:"cryptoSupported",value:function(){throw new Error("Method not implemented.")}},{key:"getTokenFromAuth",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getFlags",value:function(){return this.nFlags}},{key:"isSqlQueryDisabled",value:function(){return!this.bIsSqlQuery}},{key:"getMethod",value:function(){return this.sMethod}},{key:"name",value:function(){}},{key:"getUrlAddress",value:function(){return this.sUrlAddress}}]),e}();b.DEFAULT_CONTENT_TYPE="application/x-www-form-urlencoded",b.DEFAULT_ACTION_NAME="Action",b.DEFAULT_AUTHACTION_NAME="Auth",b.FLAG_XONEJSONSQL=1,b.FLAG_XONEJSONODATA=2,b.FLAG_XONEJSONCUSTOM=4},"9c57":function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return _}));var r=n("5530"),a=n("53ca"),i=n("2909"),o=n("3835"),s=n("1da1"),l=n("d4ec"),u=n("bee2"),c=n("ade3"),d=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("2ca0"),n("25f0"),n("caad"),n("2532"),n("ac1f"),n("5319"),n("a9e3"),n("d81d"),n("99af"),n("b0c0"),n("c7cd"),n("498a"),n("1276"),n("a15b"),n("4e82"),n("159b"),n("7db0"),n("b64b"),n("4fad"),n("7a23")),h=(n("ae56"),n("ddd6")),p=!1,f="6",m=function(e){return p=e},g=function(e){return f=e},b=function(){function e(){var t=this;if(Object(l["a"])(this,e),Object(c["a"])(this,"_mapFormulaFunctions",new Map),Object(c["a"])(this,"fitHeightToContainer",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,r){var a,i,o,s,l,u,c,h,p,f,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l=m.length>2&&void 0!==m[2]&&m[2],!(null!==(a=n.margins)&&void 0!==a&&null!==(i=a.top)&&void 0!==i&&i.toString().startsWith("-")||null!==(o=n.margins)&&void 0!==o&&null!==(s=o.bottom)&&void 0!==s&&s.toString().startsWith("-"))){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,"auto"===n.height||"auto"!=n.width){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Object(d["p"])();case 8:if(p=null===(u=r.value)||void 0===u||null===(c=u.parentElement)||void 0===c||null===(h=c.parentElement)||void 0===h?void 0:h.parentElement,p){e.next=11;break}return e.abrupt("return");case 11:if(!(l||p.parentElement&&p.parentElement.classList.contains("xone-contents-row"))){e.next=17;break}if(!r.value.style.maxHeight){e.next=17;break}return r.value.style.maxHeight=null,r.value.parentElement.style.maxHeight=null,r.value.parentElement.parentElement.style.maxHeight=null,e.abrupt("return",setTimeout((function(){return t.fitHeightToContainer(n,r)}),100));case 17:if(p&&0!==p.offsetHeight){e.next=19;break}return e.abrupt("return");case 19:f="calc(".concat(p.offsetHeight,"px + var(--margin-top) + var(--margin-bottom))"),r.value.style.maxHeight=f,r.value.parentElement.style.maxHeight=f,r.value.parentElement.parentElement.style.maxHeight=f,e.next=27;break;case 25:e.prev=25,e.t0=e["catch"](3);case 27:case"end":return e.stop()}}),e,null,[[3,25]])})));return function(t,n){return e.apply(this,arguments)}}()),Object(c["a"])(this,"fitWidthToContainer",function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,r){var a,i,o,s,l,u,c,h,p,f,m=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l=m.length>2&&void 0!==m[2]&&m[2],!(null!==(a=n.margins)&&void 0!==a&&null!==(i=a.left)&&void 0!==i&&i.toString().startsWith("-")||null!==(o=n.margins)&&void 0!==o&&null!==(s=o.right)&&void 0!==s&&s.toString().startsWith("-"))){e.next=3;break}return e.abrupt("return");case 3:if(e.prev=3,"auto"!==n.height||"auto"===n.width){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,Object(d["p"])();case 8:if(p=null===(u=r.value)||void 0===u||null===(c=u.parentElement)||void 0===c||null===(h=c.parentElement)||void 0===h?void 0:h.parentElement,p){e.next=11;break}return e.abrupt("return");case 11:if(!(l||p.parentElement&&p.parentElement.classList.contains("xone-contents-row"))){e.next=17;break}if(!r.value.style.maxWidth){e.next=17;break}return r.value.style.maxWidth=null,r.value.parentElement.style.maxWidth=null,r.value.parentElement.parentElement.style.maxWidth=null,e.abrupt("return",setTimeout((function(){return t.fitWidthToContainer(n,r)}),100));case 17:if(p&&0!==p.offsetWidth){e.next=19;break}return e.abrupt("return");case 19:f="calc(".concat(p.offsetWidth,"px + var(--margin-right) + var(--margin-left))"),r.value.style.maxWidth=f,r.value.parentElement.style.maxWidth=f,r.value.parentElement.parentElement.style.maxWidth=f,e.next=27;break;case 25:e.prev=25,e.t0=e["catch"](3);case 27:case"end":return e.stop()}}),e,null,[[3,25]])})));return function(t,n){return e.apply(this,arguments)}}()),e._instance)return e._instance;e._instance=this}return Object(u["a"])(e,[{key:"convertUnits",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(e.toString().includes("px")||e.toString().includes("%"))return e;if(e.toString().includes("p"))return e.toString().replace("p","px");if(isNaN(Number(e)))return e;var n=Number(e);return n<0?-1===n?"grow":"auto":t?n+.5+"em":0===n?"0":"".concat(n,"em")}}},{key:"getPaddings",value:function(e){var t,n,r,a;return{top:this.convertUnits(null!==(t=e.tPadding)&&void 0!==t?t:0),right:this.convertUnits(null!==(n=e.rPadding)&&void 0!==n?n:0),bottom:this.convertUnits(null!==(r=e.bPadding)&&void 0!==r?r:0),left:this.convertUnits(null!==(a=e.lPadding)&&void 0!==a?a:0)}}},{key:"getTabPaddings",value:function(e){var t,n,r,a;return{top:this.convertUnits(null!==(t=e.tabTPadding)&&void 0!==t?t:0),right:this.convertUnits(null!==(n=e.tabRPadding)&&void 0!==n?n:0),bottom:this.convertUnits(null!==(r=e.tabBPadding)&&void 0!==r?r:0),left:this.convertUnits(null!==(a=e.tabLPadding)&&void 0!==a?a:0)}}},{key:"getMargins",value:function(e){var t,n,r,a,i=this,s=[null!==(t=e.tMargin)&&void 0!==t?t:"0",null!==(n=e.rMargin)&&void 0!==n?n:"0",null!==(r=e.bMargin)&&void 0!==r?r:"0",null!==(a=e.lMargin)&&void 0!==a?a:"0"].map((function(e){return i.convertUnits(e)})),l=Object(o["a"])(s,4),u=l[0],c=l[1],d=l[2],h=l[3];return"prop"===e.node&&e.floatingTooltip&&"0"===u&&(u="1rem"),{top:u,right:c,bottom:d,left:h}}},{key:"getBorders",value:function(e){var t,n,r,a,i,o,s,l,u="true"===(null!==(t=e.textBorder)&&void 0!==t?t:"true")&&"true"===(null!==(n=e.textBorderTop)&&void 0!==n?n:"true"),c="true"===(null!==(r=e.textBorder)&&void 0!==r?r:"true")&&"true"===(null!==(a=e.textBorderRight)&&void 0!==a?a:"true"),d="true"===(null!==(i=e.textBorder)&&void 0!==i?i:"true")&&"true"===(null!==(o=e.textBorderBottom)&&void 0!==o?o:"true"),h="true"===(null!==(s=e.textBorder)&&void 0!==s?s:"true")&&"true"===(null!==(l=e.textBorderLeft)&&void 0!==l?l:"true");return{top:u,right:c,bottom:d,left:h}}},{key:"getLabelAlign",value:function(e){if(e)return null!==e&&void 0!==e&&e.toString().includes("left")?"flex-start":null!==e&&void 0!==e&&e.toString().includes("right")?"flex-end":null!==e&&void 0!==e&&e.toString().includes("center")?"center":void 0}},{key:"getPropAlign",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"T";return!e&&t.startsWith("N")?"end":null!==e&&void 0!==e&&e.toString().includes("left")?"start":null!==e&&void 0!==e&&e.toString().includes("right")?"end":null!==e&&void 0!==e&&e.toString().includes("center")?"center":void 0}},{key:"getContainerAlign",value:function(e){var t,n=(null!==(t=e.align)&&void 0!==t?t:"").toString(),r="",a="";return n.includes("left")&&(r="flex-start"),n.includes("right")&&(r="flex-end"),n.includes("top")&&(a="flex-start"),n.includes("bottom")&&(a="flex-end"),n.includes("center")&&("center"===n?(r="center",a="center"):""===r?r="center":a="center",""===a&&n.replace("center","").includes("center")&&(a="center")),{row:r,column:a}}},{key:"isNodeVisible",value:function(){return!0}},{key:"getScaledSize",value:function(e,t,n){var r;if(e)return e.toString().includes("px")?r=n*Number(e.toString().replace("px","")):e.toString().includes("%")&&(r=t*Number(e.toString().replace("%",""))/100),r}},{key:"getScaledPosition",value:function(e,t){var n=e;if(n){if(n.toString().includes("px")){if(n=n.replace("px",""),isNaN(Number(n)))return;return"".concat(Number(n)*t,"px")}return n}}},{key:"getFontSize",value:function(e){e&&!isNaN(e)&&p&&(e=Number(e)+f);var t=window.innerWidth>window.innerHeight?"vh":"vw";return e||(e="8"),isNaN(Number(e))?e:"calc(".concat(Number(e)+3,"px + .5").concat(t,")")}},{key:"getPropType",value:function(e){var t,n,r=null!==(t=e.type)&&void 0!==t?t:"T";"T"===r&&("Hh#:#Mm"==(null!==(n=e.mask)&&void 0!==n?n:"")&&(r="TT"));return r}},{key:"getImage",value:function(e){return e?(e&&(e=e.replace("./icons/","").replace("##APP##","").replace("##APPPATH##","").replace("\\icons\\","")),e):null}},{key:"getFloating",value:function(e){if(!e.floating||!e.top||!e.left||"true"!==e.floating)return{floating:!1};var t=this.convertUnits(e.top),n=this.convertUnits(e.left);return{floating:!0,top:t,left:n}}},{key:"getAnimationIn",value:function(e){switch(e){case"##RIGHT_IN##":return"";case"##LEFT_IN##":return"slideRight .3s";case"##PUSH_DOWN_IN##":return"slideDown .3s";case"##PUSH_IN##":return"slideUp .3s";case"##ALPHA_IN##":return"fadeIn .3s";case"##ZOOM_IN##":return"zoomIn .3s";default:return}}},{key:"getPropAttributes",value:function(e){var t,n,r,a,i,o,s,l,u,c,d,h,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return{align:"B"===e.type?this.getContainerAlign(e):this.getPropAlign(e.align,e.type),allowedExtensions:e.allowedExtensions,autosave:"true"===e.autosave,autoslideDelay:!isNaN(Number(e.autoslideDelay))&&Number(e.autoslideDelay),bgColor:e.bgColor,bMargin:e.bMargin,borderColor:e.borderColor||e.textForeColor||e.foreColor||"black",borderCornerRadius:"".concat(null!==(t=e.borderCornerRadius)&&void 0!==t?t:2,"px"),borders:this.getBorders(e),borderWidth:"".concat(null!==(n=e.borderWidth)&&void 0!==n?n:1,"px"),breadcrumbFontSize:this.getFontSize(e.breadcrumbFontSize),breadcrumbForeColor:e.breadcrumbForeColor,breadcrumbSelectedFontSize:this.getFontSize(e.breadcrumbSelectedFontSize),breadcrumbSelectedForeColor:e.breadcrumbSelectedForeColor,buttonOption:e.buttonOption,calendarViewMode:e.calendarViewMode,cellBgColor:e.cellBgColor,cellBorderColor:e.cellBorderColor,cellEvenColor:null!==(r=e.cellEvenColor)&&void 0!==r?r:"transparent",cellForeColor:e.cellForeColor,cellOddColor:null!==(a=e.cellOddColor)&&void 0!==a?a:"transparent",cellOtherMonthBgColor:e.cellOtherMonthBgColor,cellSelectedBgColor:e.cellSelectedBgColor,cellSelectedBorderColor:e.cellSelectedBorderColor,cellSelectedForeColor:e.cellSelectedForeColor,contents:e.contents,disableEdit:e.disableEdit,disableVisible:e.disableVisible,editInRow:"true"===e.editInRow,elevation:null!==(i=e.elevation)&&void 0!==i?i:0,fieldSize:this.convertUnits(null!==(o=e.fieldSize)&&void 0!==o?o:12),fixedText:"true"===e.fixedText,floating:this.getFloating(e),floatingTooltip:null!==(s=e.floatingTooltip)&&void 0!==s&&s,fluidLoad:"true"===e.fluidLoad,fontBold:"true"===e.fontBold,fontSize:this.getFontSize(e.fontSize),foreColor:e.foreColor,galleryColumns:Number(null!==(l=e.galleryColumns)&&void 0!==l?l:1),height:this.convertUnits(e.height),href:e.href,image:this.getImage(e.image),imgChecked:this.getImage(e.imgChecked),imgCheckedDisabled:this.getImage(e.imgCheckedDisabled),imgHeight:this.convertUnits(e.imgHeight),imgUnchecked:this.getImage(e.imgUnchecked),imgUncheckedDisabled:this.getImage(e.imgUncheckedDisabled),imgWidth:this.convertUnits(e.imgWidth),isRadio:"radio"===e.checkType||"radio"===e.viewMode,isVisible:this.isNodeVisible(e,p),keepAspectRatio:"true"===e.keepAspectRatio,labelAlign:this.getLabelAlign(e.align),labelBox:"true"===e.labelBox,labelWidth:"TL"===e.type&&e.width?"100%":this.convertUnits(null!==(u=e.labelwidth)&&void 0!==u?u:8),lines:this.convertUnits(null!==(c=e.lines)&&void 0!==c?c:"auto",!0),linkedField:e.linkedField,linkedTo:e.linkedTo,lMargin:e.lMargin,locked:"true"===e.locked,margins:this.getMargins(e),method:e.method,minHeight:this.convertUnits(e.minHeight),minWidth:this.convertUnits(e.minWidth),multiLine:1!==Number(null!==(d=e.lines)&&void 0!==d?d:1)||"-1"===e.height||"-2"===e.height,name:e.name,node:e.node,onClick:e.onClick,onEditorAction:e.onEditorAction,onFocusChanged:e.onFocusChanged,onScroll:e.onScroll,onTextChanged:e.onTextChanged,paddings:this.getPaddings(e),paginationSize:isNaN(e.paginationSize)?void 0:Number(e.paginationSize),postOnchange:e.postOnchange,radioGroup:e.radioGroup,readOnly:"true"===(null!==(h=e.readOnly)&&void 0!==h?h:"true"),rMargin:e.rMargin,rowsPerPage:e.rowsPerPage,showInline:"true"===e.showInline,showInlineKeyboard:"true"===e.showInlineKeyboard,size:e.size,textAlign:this.getPropAlign(e.textAlign,e.type),textBgColor:e.textBgColor,textBgColorDisabled:e.textBgColorDisabled,textBorder:e.textBorder,textBorderBottom:e.textBorderBottom,textBorderLeft:e.textBorderLeft,textBorderRight:e.textBorderRight,textBorderTop:e.textBorderTop,textOverflow:e.textOverflow,textFontSize:this.getFontSize(e.textFontSize),textForeColor:e.textForeColor||e.foreColor,textForeColorDisabled:e.textForeColorDisabled,title:e.title,tMargin:e.tMargin,tooltip:e.tooltip,tooltipColor:e.tooltipColor,tooltipForeColor:e.tooltipForeColor,type:this.getPropType(e),viewMode:e.viewMode,weekdaysLongname:"true"===e.weekdaysLongname,width:this.convertUnits(e.width),wrap:"true"===e.wrap}}},{key:"getContainerAttributes",value:function(e){var t,n,r,a,i,o,s,l,u,c,d,h,p;return{align:this.getContainerAlign(e),animationIn:this.getAnimationIn(e.animationIn),animationOut:null,bgColor:e.bgColor,bMargin:e.bMargin,borderColor:null!==(t=e.borderColor)&&void 0!==t?t:"black",borderCornerRadius:"".concat(null!==(n=e.borderCornerRadius)&&void 0!==n?n:0,"px"),borders:this.getBorders(e),borderWidth:"".concat(null!==(r=e.borderWidth)&&void 0!==r?r:1,"px"),cellEvenColor:null!==(a=e.cellEvenColor)&&void 0!==a?a:"transparent",cellOddColor:null!==(i=e.cellOddColor)&&void 0!==i?i:"transparent",cellSelectedBgColor:e.cellSelectedBgColor,disableVisible:e.disableVisible,drawerOrientation:e.drawerOrientation,elevation:null!==(o=e.elevation)&&void 0!==o?o:0,fixed:null!==(s=e.fixed)&&void 0!==s?s:"",floating:this.getFloating(e),foreColor:e.foreColor,framebox:"true"===e.framebox,groupSwipe:"true"===e.groupSwipe,height:this.convertUnits(e.height),href:e.href,id:e.id,image:this.getImage(e.image),keepAspectRatio:"true"===e.keepAspectRatio,lMargin:e.lMargin,loadAll:"true"===e.loadAll,margins:this.getMargins(e),minHeight:this.convertUnits(e.minHeight),minWidth:this.convertUnits(e.minWidth),name:e.name,newLine:"true"===(null!==(l=e.newLine)&&void 0!==l?l:"true"),node:e.node,noTab:"true"===e.noTab,onClick:e.onClick,onFocus:e.onFocus,onScroll:e.onScroll,orientation:null!==(u=e.orientation)&&void 0!==u?u:"",paddings:this.getPaddings(e),rMargin:e.rMargin,scroll:"true"===e.scroll,scrollOrientation:null!==(c=e.scrollOrientation)&&void 0!==c?c:"vertical",tabBgColor:null!==(d=e.tabBgColor)&&void 0!==d?d:"white",tabFontSize:this.getFontSize(e.tabFontSize),tabForecolor:null!==(h=e.tabForecolor)&&void 0!==h?h:"black",tabPaddings:this.getTabPaddings(e),tabSelectedForecolor:null!==(p=e.tabSelectedForecolor)&&void 0!==p?p:"#3273dc",tMargin:e.tMargin,viewMode:e.viewMode,width:this.convertUnits(e.width),wrap:"true"===e.wrap}}},{key:"executeMethod",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=null===(a=t)||void 0===a?void 0:a.trim().toLowerCase(),o.startsWith("javascript:")&&(t=t.trim().substring(11)),o.includes("executenode")){e.next=9;break}if(!o.startsWith("refresh")){e.next=8;break}if(r){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",n.DoRunScriptAsync("ui.refresh('".concat(r,"')")));case 8:return e.abrupt("return",n.DoRunScriptAsync(t));case 9:if(t=t.substring(t.indexOf("(")).replace("(","").replace(")",""),!t.includes("(")||!t.includes(")")){e.next=19;break}return s=t.substring(t.indexOf("(")),t=t.replace(s,""),s=s.replace("(","").replace(")","").split(","),s=s.map((function(e){return e.toString().startsWith("'")||e.toString().startsWith('"')||e.toString().startsWith("'")||e.toString().startsWith('"')?e:"'".concat(e,"'")})),e.next=17,n.ExecuteNode.apply(n,[t].concat(Object(i["a"])(s)));case 17:e.next=21;break;case 19:return e.next=21,n.ExecuteNode(t);case 21:e.next=26;break;case 23:e.prev=23,e.t0=e["catch"](0),console.error(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"evalFormula",value:function(e,t){var n=this;try{var r=function(){var r=n._mapFormulaFunctions.get(e);if(r)return{v:r(t)};var a=[{from:"+",to:" + "},{from:"-",to:" - "},{from:"/",to:" / "},{from:"*",to:" * "},{from:"&",to:" + "},{from:" and ",to:" && "},{from:" or ",to:" || "},{from:"<>",to:" != "},{from:">",to:" > "},{from:"<",to:" < "},{from:"=",to:" == "}],i=e;do{a.forEach((function(e){var t=e.from;return i=i.replace(" "+t,t)})),a.forEach((function(e){var t=e.from;return i=i.replace(t+" ",t)}))}while(a.some((function(e){var t=e.from;return i.includes(" "+t)||i.includes(t+" ")})));var o=[],s=function(e){var t;while(-1!==(t=i.toLowerCase().indexOf(e.from)))o.push({index:t,oper:e.to}),i=i.replace(i.substr(t,e.from.length),Array(e.from.length+1).join("~"))};a.forEach(s);while(i.includes("~~"))i=i.replace("~~","~");var l=o.map((function(e){return e.index})).sort((function(e,t){return e-t})),u="",c=0;return i.split("~").forEach((function(e){""!==u&&c<l.length&&(u+=o.find((function(e){return e.index===l[c]})).oper,c++);var n=e.trim().split("(").join("").split(")").join("");if(Object.keys(t).find((function(e){return e===n})))return u+=e.replace(n,"self['".concat(n.trim(),"']"));u+=e})),u.includes("##FLD_")&&(u=u.replace(/##FLD_/g,"self['").replace(/##/g,"']")),n._mapFormulaFunctions.set(e,r=Function("self","try{return ".concat(u,'}catch(ex){console.error("Error evaluating formula:", "\'').concat(u,'\'");console.warn(ex);throw "Error evaluating formula";}'))),{v:r(t)}}();if("object"===Object(a["a"])(r))return r.v}catch(i){console.error("Error evaluating formula",e,i)}}},{key:"watchAttributes",value:function(e,t,n){var i=this,s=function(a){if("disableVisible"===a||"disableEdit"===a)return e.value[a]=t.value[a];var o=t.value[a];while(null!==(s=o)&&void 0!==s&&s.toString().includes("##FLD")){var s,l=o.substring(o.indexOf("##FLD_")+6,o.indexOf("##",o.indexOf("##")+6));if(!l||!Object.keys(n).includes(l))return console.warn("Could not resolve ##FLD_ in ".concat(e.value.node," | ").concat(e.value.name," -> ").concat(a,'="').concat(t.value[a],'"'));o=o.replace("##FLD_".concat(l,"##"),n[l])}var u="prop"===t.value.node?i.getPropAttributes(Object(r["a"])(Object(r["a"])({},e.value),{},Object(c["a"])({},a,o))):i.getContainerAttributes(Object(r["a"])(Object(r["a"])({},e.value),{},Object(c["a"])({},a,o)));a.toLowerCase().contains("padding")?(e.value.paddings=u.paddings,"coll"===t.value.node&&(e.value.tabPaddings=u.tabPaddings)):a.toLowerCase().contains("margin")?e.value.margins=u.margins:a.toLowerCase().contains("border")&&(e.value.borders=u.borders),e.value[a]=u[a]};Object.keys(t.value).forEach((function(e){Object(d["L"])((function(){return t.value[e]}),(function(t,n){"object"===Object(a["a"])(t)?JSON.stringify(t)!==JSON.stringify(n)&&s(e):s(e)}))})),Object.keys(n).forEach((function(e){var r=function(){return Object.entries(t.value).forEach((function(t){var n=Object(o["a"])(t,2),r=n[0],a=n[1];"string"===typeof a&&a.includes("##FLD_".concat(e,"##"))&&s(r)}))};Object(d["L"])((function(){return n[e]}),(function(){return r()})),r()}))}},{key:"executeBindedEvent",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,o=Object(h["c"])(t),o){e.next=4;break}return e.abrupt("return");case 4:if(s=null===(i=o.bindedEvents)||void 0===i?void 0:i.find((function(e){return e.fieldName===n.name&&e.eventName===r})),!s||!s.action){e.next=14;break}if("function"!==typeof s.action){e.next=13;break}return l={target:n.name,objItem:n.name,data:s.params},Object.keys(a).forEach((function(e){return l[e]=a[e]})),e.next=11,s.action(l);case 11:e.next=14;break;case 13:t.DoRunScriptAsync(s.action).catch(console.error);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"onScrollEvent",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(a=t.scrollTop,i=t.scrollLeft,!n.onScroll){e.next=6;break}return e.next=6,r.DoRunScriptAsync("let e = { target: '".concat(n.name,"',objItem: '").concat(n.name,"',dy: ").concat(a,",dx: ").concat(i," };\n        ").concat(n.onScroll));case 6:return e.next=8,this.executeBindedEvent(r,n.name,"onscroll",{dy:a,dx:i});case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"onClick",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.method,!a){e.next=4;break}return e.next=4,_.executeMethod(a,n);case 4:if(i=null===t||void 0===t?void 0:t.onClick,e.prev=5,!i){e.next=9;break}return e.next=9,n.DoRunScriptAsync("let e = { target: '".concat(t.name,"',objItem: '").concat(t.name,"' };\n              ").concat(i));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](5),console.error(e.t0);case 14:return e.next=16,_.executeBindedEvent(n,t,"onclick",{});case 16:r.isMsgBox&&t.buttonOption&&r.onMsgBoxOptionSelected&&r.onMsgBoxOptionSelected(t.buttonOption);case 17:case"end":return e.stop()}}),e,null,[[5,11]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}();Object(c["a"])(b,"_instance",void 0);var _=new b},"9d37":function(e,t,n){"use strict";n("99af"),n("a434");var r=n("e19f");String.prototype.equals=function(e){return 0===this.localeCompare(e)},String.prototype.equalsIgnoreCase=function(e){return 0===this.compareToIgnoreCase(e)},String.prototype.contains=function(e){return this.indexOf(e)>=0},String.prototype.compareToIgnoreCase=function(e){return this.toLowerCase().localeCompare(e.toLocaleLowerCase())},String.prototype.compareTo=function(e){return this.localeCompare(e)},String.format=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return r["sprintf"].apply(void 0,[e].concat(n))},Array.prototype.add=function(e,t){this.splice(e,0,t)},Array.prototype.contains=function(e){return this.indexOf(e)>=0},Array.prototype.remove=function(e){"number"==typeof e?this.splice(e,1):this.splice(this.indexOf(e),1)}},"9d38":function(e,t,n){"use strict";n("d911")},"9f29":function(e,t,n){},a00d:function(e,t,n){"use strict";n("a493")},a0c4:function(e,t,n){"use strict";n("0cfd")},a33b:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("d4ec"),a=n("bee2"),i=(n("159b"),n("d3b7"),n("ddb0"),n("bf19"),n("3019")),o=n("0912"),s=n("57ee"),l=n("3be9"),u=n("f0ed"),c=n("8920"),d=n("257e"),h=n("262e"),p=n("2caf"),f=n("9072"),m=(n("99af"),function(e){Object(h["a"])(n,e);var t=Object(p["a"])(n);function n(){var e;Object(r["a"])(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),Object.setPrototypeOf(Object(d["a"])(e),(this instanceof n?this.constructor:void 0).prototype),e}return Object(a["a"])(n,[{key:"count",value:function(){return this.length}},{key:"get",value:function(e){return this[e]}},{key:"addNode",value:function(e){this.push(e)}},{key:"exist",value:function(e,t,n){var r=!1;return this.forEach((function(a){s["a"].areEquals(a.getName(),e)&&a.attrExists(t)&&s["a"].areEquals(a.getAttrValue(t),n)&&(r=!0)})),r}},{key:"clear",value:function(){while(this.length>0)this.pop()}}]),n}(Object(f["a"])(Array))),g=function(){function e(t,n,a,o,s,l){Object(r["a"])(this,e),this.serialVersionUID=500996622020954e4,this.m_children=new Array,this.m_childrenNodes=new i["a"],this.m_strName=n,this.m_parent=t,this.m_attrs=a||new c["a"],null!=t&&t.addChild(this,n,o,s),this.lstEvents=l}return Object(a["a"])(e,[{key:"AddPropToRoot",value:function(e,t,n,r,a){if(null!=e)if(s["a"].areEquals(e.getName(),u["a"].COLL_COLL))e.addFastChild(t,n,r,a);else{var i=e.getParentNode();null!=i&&this.AddPropToRoot(i,t,n,r,a)}}},{key:"attrs",get:function(){return this.m_attrs}},{key:"addChild",value:function(e,t,n,r){if(l["a"].isEmpty(n)||l["a"].isEmpty(r)){var a=this.getName();(u["a"].COLL_COLL.equals(a)||u["a"].PROP_ATTR_GROUP.equals(a)&&!(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME)))&&this.AddPropToRoot(this,e,t,n,r)}else this.m_childrenNodes.put(u["a"].formatKey(t,n,r),e),(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME))&&this.AddPropToRoot(this,e,t,n,r);this.m_children.push(e)}},{key:"addFastChild",value:function(e,t,n,r){switch(t){case u["a"].PROP_NAME:null==this.m_cachePropNodes&&(this.m_cachePropNodes=new i["a"]),this.m_cachePropNodes.put(u["a"].formatKey(t,n,r),e);break;case u["a"].PROP_ATTR_FRAME:case u["a"].PROP_ATTR_CONTENTNAME:null==this.m_cacheContainersNodes&&(this.m_cacheContainersNodes=new i["a"]),this.m_cacheContainersNodes.put(u["a"].formatKey(t,n,r),e);break;default:null==this.m_cacheOtherNodes&&(this.m_cacheOtherNodes=new i["a"]),this.m_cacheOtherNodes.put(t,e);break}}},{key:"appendChild",value:function(e){var t=e.getName(),n="name",r="";if(l["a"].isEmpty(n)||l["a"].isEmpty(r)){var a=this.getName();(u["a"].COLL_COLL.equals(a)||u["a"].PROP_ATTR_GROUP.equals(a)&&!(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME)))&&this.AddPropToRoot(this,e,t,n,r)}else this.m_childrenNodes.put(u["a"].formatKey(t,n,r),e),(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME))&&this.AddPropToRoot(this,e,t,n,r);this.m_children.push(e)}},{key:"getName",value:function(){return this.nodeName}},{key:"nodeName",get:function(){return this.m_strName}},{key:"setName",value:function(e){this.m_strName=e}},{key:"getText",value:function(){return this.m_strText}},{key:"getBooleanText",value:function(e){return s["a"].ParseBoolValue(this.m_strText,e)}},{key:"setText",value:function(e){this.m_strText=e}},{key:"attributes",get:function(){return this.m_attrs}},{key:"getAttributes",value:function(){return this.m_attrs}},{key:"getEvents",value:function(){return this.lstEvents}},{key:"getChildren",value:function(){return this.m_children}},{key:"merge",value:function(e){return this.mergeObj(e.clone(),this,[{nodename:"coll",attrname:"*"},{nodename:"group",attrname:"id"},{nodename:"frame",attrname:"name"},{nodename:"prop",attrname:"name"}])}},{key:"addMergeChild",value:function(e,t){e.appendChild(t)}},{key:"findNodeAttr",value:function(e,t){return{value:e.getAttrValue(t,null)}}},{key:"isEquNode",value:function(e,t,n){if(e.nodeName==t.nodeName)for(var r=n.length,a=0;a<r;++a)if(n[a].nodename==e.nodeName){if("*"==n[a].attrname)return!0;var i=this.findNodeAttr(e,n[a].attrname);if(null==i)return!1;var o=this.findNodeAttr(t,n[a].attrname);return null!=o&&i.value==o.value}return!1}},{key:"findSameChild",value:function(e,t,n){for(var r=e.getChildren().length,a=e.getChildren(),i=0;i<r;++i){var o=a[i];if(this.isEquNode(o,t,n))return o}return null}},{key:"mergeAttrs",value:function(e,t){t.attributes.keys().forEach((function(n){e.attributes.setValue(n,t.attributes.getValue(n))}))}},{key:"mergeObj",value:function(e,t,n){var r=this.isEquNode(e,t,n);if(!r)return e.appendChild(t),e;if(this.mergeAttrs(e,t),!t.hasChildNodes())return e;for(var a=t.getChildren().length,i=t.getChildren(),o=0;o<a;++o){var s=i[o];if("#text"!=s.getName()){var l=this.findSameChild(e,s,n);null!=l?this.mergeObj(l,s,n):e.appendChild(s)}}return e}},{key:"getDocument",value:function(){throw new o["a"]("Not implement")}},{key:"getAttrValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.m_attrs.getValue(e);return null==n?t:n}},{key:"setAttrValue",value:function(e,t){this.m_attrs.setValue(e,t)}},{key:"deleteAttribute",value:function(e){this.m_attrs.deleteAttribute(e)}},{key:"CheckCacheConditions",value:function(e,t){if(null==e)return!1;if(e.isEmpty())return!1;for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return 1==r.length?t.equals(r[0]):r.length>1&&r.indexOf(t)>=0}},{key:"CheckIfCacheExists",value:function(e,t){return null!=e&&(!e.isEmpty()&&e.containsKey(t))}},{key:"getParentNode",value:function(){return this.m_parent}},{key:"setParentNode",value:function(e){this.m_parent=e}},{key:"getChildNodes",value:function(){if(null!=this.m_allChildren)return this.m_allChildren;this.m_allChildren=new m;for(var e=0;e<this.m_children.length;e++){var t=this.m_children[e];this.m_allChildren.addNode(t)}return this.m_allChildren}},{key:"hasChildNodes",value:function(){try{return null!=this.m_allChildren&&this.m_allChildren.count()>0||null!=this.m_children&&this.m_children.length>0}catch(e){return e.printStackTrace(),!1}}},{key:"attrExists",value:function(e){return this.m_attrs.getIndex(e)>=0}},{key:"setAttrs",value:function(e){this.m_attrs=e}},{key:"getAttrs",value:function(){return this.m_attrs}},{key:"getXml",value:function(){return null}},{key:"InsertBefore",value:function(e,t){this.addToCache(e);var n=this.m_children.indexOf(t);-1==n?this.m_children.push(e):this.m_children.add(n,e)}},{key:"InsertAfter",value:function(e,t){this.addToCache(e);var n=this.m_children.indexOf(t);-1==n?this.m_children.push(e):this.m_children.add(n+1,e)}},{key:"addToCache",value:function(e){var t=e.getName();if(e.attrExists(u["a"].PROP_ATTR_NAME)){var n=u["a"].PROP_ATTR_NAME,r=e.getAttrValue(u["a"].PROP_ATTR_NAME);if(u["a"].COLL_COLL.equals(t)||u["a"].PROP_ATTR_GROUP.equals(t)||u["a"].PROP_NAME.equals(t)||u["a"].PROP_ATTR_FRAME.equals(t)||u["a"].PROP_ATTR_CONTENTNAME.equals(t))if(l["a"].isEmpty(n)||l["a"].isEmpty(r)){var a=this.getName();(u["a"].COLL_COLL.equals(a)||u["a"].PROP_ATTR_GROUP.equals(a)&&!(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME)))&&this.AddPropToRoot(this,e,t,n,r)}else this.m_childrenNodes.put(u["a"].formatKey(t,n,r),e),(t.equals(u["a"].PROP_NAME)||t.equals(u["a"].PROP_ATTR_FRAME)||t.equals(u["a"].PROP_ATTR_CONTENTNAME))&&this.AddPropToRoot(this,e,t,n,r)}}},{key:"Remove",value:function(e){var t=this;try{var n=this.m_children.indexOf(e);return n>-1&&(this.m_children.remove(n),this.m_childrenNodes.entrySet().forEach((function(n){n[1]==e&&t.m_childrenNodes.delete(n[0])})),!0)}catch(r){return r.printStackTrace(),!1}}},{key:"replaceChild",value:function(e,t){if(null!=this.m_children){var n=this.m_children.indexOf(e);n>=0&&(this.m_children.add(n,t),this.Remove(e))}null!=this.m_childrenNodes&&this.m_childrenNodes.clear()}},{key:"clone",value:function(){var t=new e(null,this.nodeName,this.attributes.clone(),null,null,this.lstEvents);return this.m_children.forEach((function(e){t.appendChild(e.clone())})),t}},{key:"describeContents",value:function(){return 0}},{key:"selectNodes",value:function(e,t,n,r){return this.SelectNodes(e,t,n,r)}},{key:"SelectNodes",value:function(e,t,n,r){if(!l["a"].isEmpty(n))return this.SelectNodesInt3(e,t,n);if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME))return this.SelectNodesHashExist(this.m_cachePropNodes,e,t,r);if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME))return this.SelectNodesHashExist(this.m_cacheContainersNodes,e,t,r);for(var a=new m,i=0;i<this.m_children.length;i++){var o=this.m_children[i];if(o.getName().equals(e)){var s=o.getAttrValue(t);if(l["a"].isEmpty(s)){if(r)continue}else if(!r)continue;a.addNode(o)}}return a}},{key:"SelectNodesInt1",value:function(e){if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME))return new m(this.m_cachePropNodes.values());if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME))return this.SelectNodesHash2(this.m_cacheContainersNodes,e);for(var t=new m,n=0;n<this.m_children.length;n++){var r=this.m_children[n],a=r.getName();l["a"].equals(a,e)&&t.addNode(r)}return t}},{key:"SelectNodesHash2",value:function(e,t){var n=new m;return e.values().forEach((function(e){var r=e.getName();l["a"].equals(r,t)&&n.addNode(e)})),n}},{key:"SelectNodesHash4",value:function(e,t,n,r){var a=new m;return e.values().forEach((function(e){if(e.getName().equals(t)){var i=e.getAttrValue(n);l["a"].equals(i,r)&&a.addNode(e)}})),a}},{key:"SelectNodesInt3",value:function(e,t,n){if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME))return this.SelectNodesHash4(this.m_cachePropNodes,e,t,n);if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME))return this.SelectNodesHash4(this.m_cacheContainersNodes,e,t,n);for(var r=new m,a=0;a<this.m_children.length;a++){var i=this.m_children[a];if(i.getName().equals(e)){var o=i.getAttrValue(t);l["a"].equals(o,n)&&r.addNode(i)}}return r}},{key:"SelectNodesStr2",value:function(e,t){return this.SelectNodes(e,t,null,!0)}},{key:"SelectNodesHashExist",value:function(e,t,n,r){var a=new m;return e.values().forEach((function(e){if(e.getName().equals(t)){var i=e.getAttrValue(n);if(l["a"].isEmpty(i)){if(r)return}else if(!r)return;a.addNode(e)}})),a}},{key:"selectSingleNode",value:function(e,t,n){return this.SelectSingleNode(e,t,n)}},{key:"SelectSingleNode",value:function(e,t,n){return null==t?this.SelectSingleNodeInt1(e):null==n?this.SelectSingleNodeIntExist(e,t,!0):"boolean"===typeof n?this.SelectSingleNodeIntExist(e,t,n):this.SelectSingleNodeInt3(e,t,n)}},{key:"SelectSingleNodeInt1",value:function(e){if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME))return this.m_cachePropNodes.values()[0];if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME))return this.m_cacheContainersNodes.values()[0];if(null!=this.m_cacheOtherNodes&&!this.m_cacheOtherNodes.isEmpty()&&this.m_cacheOtherNodes.containsKey(e))return this.m_cacheOtherNodes.get(e);for(var t=0;t<this.m_children.length;t++){var n=this.m_children[t];if(l["a"].equals(n.getName(),e))return n;if(u["a"].PROP_ATTR_GROUP.equals(n.getName())&&(n=n.SelectSingleNode(e),null!=n))return n}return null}},{key:"SelectSingleNodeHash4",value:function(e,t,n,r){return e.values().forEach((function(e){var a=e.getName();if(l["a"].equals(a,t)&&l["a"].equals(e.getAttrValue(n),r))return e})),null}},{key:"SelectSingleNodeInt3",value:function(e,t,n){var r=null;if(l["a"].equals(u["a"].PROP_ATTR_NAME,t)){var a=u["a"].formatKey(e,t,n);if(this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME)&&this.CheckIfCacheExists(this.m_cachePropNodes,a))return this.m_cachePropNodes.get(a);if(this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME)&&this.CheckIfCacheExists(this.m_cacheContainersNodes,a))return this.m_cacheContainersNodes.get(a);r=this.m_childrenNodes.get(a)}else this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME)?r=this.SelectSingleNodeHash4(this.m_cachePropNodes,e,t,n):this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME)&&(r=this.SelectSingleNodeHash4(this.m_cacheContainersNodes,e,t,n));return null!=r?r:(this.m_children.forEach((function(r){var a=r.getName();if(a.equals(e)){var i=r.getAttrValue(t);if(l["a"].equals(i,n))return r}})),null)}},{key:"SelectSingleNodeHashExist",value:function(e,t,n,r){return e.values().forEach((function(e){var a=e.getName();if(a.equals(t)){var i=e.getAttrValue(n);if(r&&!l["a"].isEmpty(i))return e;if(!r&&l["a"].isEmpty(i))return e}})),null}},{key:"SelectSingleNodeIntExist",value:function(e,t,n){return this.CheckCacheConditions(this.m_cachePropNodes,e,u["a"].PROP_NAME)?this.SelectSingleNodeHashExist(this.m_cachePropNodes,e,t,n):this.CheckCacheConditions(this.m_cacheContainersNodes,e,u["a"].PROP_ATTR_CONTENTNAME,u["a"].PROP_ATTR_FRAME)?this.SelectSingleNodeHashExist(this.m_cacheContainersNodes,e,t,n):(this.m_children.forEach((function(r){var a=r.getName();if(a.equals(e)){var i=r.getAttrValue(t);if(n&&!l["a"].isEmpty(i))return r;if(!n&&l["a"].isEmpty(i))return r}})),null)}},{key:"toJSON",value:function(){var e=this,t="childs",n={};return n[this.getName()]={},n[this.getName()]["attributes"]=this.m_attrs.toJSON(),this.m_children.length>0&&(n[this.getName()][t]=[],this.m_children.forEach((function(r){return n[e.getName()][t].push(r.toJSON())}))),n}}]),e}()},a493:function(e,t,n){},a6c3:function(e,t,n){},a834:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}},ad3c:function(e,t,n){"use strict";n("120f")},ae56:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("ade3"),a=n("1da1"),i=n("d4ec"),o=n("bee2"),s=(n("96cf"),n("a4d3"),n("e01a"),n("d3b7"),n("159b"),n("ac1f"),n("5319"),n("99af"),n("caad"),n("2532"),n("ddb0"),n("2ca0"),n("25f0"),n("498a"),n("8a79"),n("a9e3"),n("7db0"),n("1276"),n("3019")),l=n("458e"),u=n("0912"),c=n("984b"),d=n("d2c7"),h=n("262e"),p=n("2caf"),f=function(e){Object(h["a"])(n,e);var t=Object(p["a"])(n);function n(e,r){var a;return Object(i["a"])(this,n),a=t.call(this,r),a.code=e,a}return n}(u["a"]),m=n("6dc9"),g=n("ef74"),b=n("733f"),_=n("3743"),v=n("3548"),O=n("54ab"),y=n("8277"),C=n("0e62"),S=n("57ee"),E=n("3be9"),k=n("f0ed"),x=n("927f"),T=function(){function e(t){Object(i["a"])(this,e),this.m_nSetValDepth=0,this.m_model={},this.UNIQUE_ID=Symbol("XoneDataObject"),this.m_bIsLoading=!0;try{this.m_bNewObject=!0,this.m_lstNormalProperties=new s["a"],this.m_lstOldValues=new s["a"],this.m_lstDirtyProperties=new l["a"],this.m_lstXlatProperties=new l["a"],this.m_lstDevelopedXlatProperties=new l["a"],this.m_owner=t,this.m_bPropagateDirty=!0,this.m_lstLinkItems=new l["a"],this.m_lstVariables=new s["a"],this.m_lstContents=new s["a"],this.m_lstDevelopingFields=new l["a"],this.m_messages=this.getOwnerApp().getMessageHolder(),this.m_lstCachedAttributes=new s["a"],this.m_lstOverridenFieldPropertyValueAttributes=new s["a"],this.mMapSysOrder=-1,this.m_reactLayout=new s["a"],this.m_formulaLocker=new Object,this.addObjectProperties()}finally{this.m_bIsLoading=!1}}return Object(o["a"])(e,[{key:"isDataObject",get:function(){return!0}},{key:"model",get:function(){return this.m_model},set:function(e){this.m_model=e}},{key:"addSingleProperty",value:function(e){var t=this,n=t.getValue(e);t.m_lstNormalProperties.put(e,n),t.m_model[e]=n,t.hasOwnProperty(e)||Object.defineProperty(t,e,{get:function(){return t.getNormalValue(e)},set:function(n){t.put(e,n)}})}},{key:"addObjectProperties",value:function(){var e=this;this.m_owner.getMultipleKey()||E["a"].isEmpty(this.getIdFieldName())||this.addSingleProperty(this.getIdFieldName()),this.m_owner.getNodeList("prop").forEach((function(t){return e.addSingleProperty(t.getAttrValue("name"))}))}},{key:"getNormalValue",value:function(e){return this.m_lstNormalProperties.get(e)}},{key:"setNormalValue",value:function(e,t){this.m_model[e]=t,this.m_lstNormalProperties.put(e,t),this.m_lstDirtyProperties.contains(e)||this.m_lstDirtyProperties.push(e),this.m_bDirty=!0}},{key:"PrepareSpecialCollection",value:function(e){return!0}},{key:"EvaluateRule",value:function(e){return!0}},{key:"OnCreate",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.m_bIsCreating=!0,e.prev=1,this.m_owner.getSpecial()&&(this.m_bPropagateDirty=!1),this.m_bPropagateDirty=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("propagate-dirty"),this.m_bPropagateDirty),this.FieldExists("OBJTIMESTAMP")&&(this.m_bUseTimestamp=!0),this.m_bForceCurrChanges=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("forcechanges"),!1),this.m_bXlatExist=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("xlat-exist"),!0),a=this.m_owner,i=0;case 9:if(n=null,o=a.getNode("create"),null!=o&&(n=o.SelectNodes("action"),i=n.count()),null!=(a=a.getParentCollection())){e.next=14;break}return e.abrupt("break",15);case 14:if(0==i){e.next=9;break}case 15:if(null==n){e.next=30;break}s=0;case 17:if(!(s<n.count())){e.next=30;break}if(l=n.get(s),r=S["a"].ParseBoolValue(x["a"].getNodeAttr(l,"always"),!1),!t&&!r){e.next=27;break}if(this.EvaluateNodeRules(l)){e.next=23;break}return e.abrupt("continue",27);case 23:return e.next=25,this.ExecuteNodeAction(null,l,null);case 25:if(e.sent){e.next=27;break}return e.abrupt("return",!1);case 27:s++,e.next=17;break;case 30:return this.m_bDependent=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("dependent"),!0),this.m_bIsCreating=!1,e.abrupt("return",!0);case 35:throw e.prev=35,e.t0=e["catch"](1),u=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),u=u.replace("{0}","CXoneDataObject::OnCreate"),h=e.t0.message,E["a"].isEmpty(h)||(u=u.concat(h)),new c["a"](-10181,e.t0,u);case 42:case"end":return e.stop()}}),e,this,[[1,35]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"executeNode",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.next=3,this.ExecuteNode.apply(this,[t].concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteNode",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!("string"===typeof t&&t.includes("(")&&t.includes(")")&&this["executeMethod"])){e.next=4;break}return e.next=3,this["executeMethod"](t);case 3:return e.abrupt("return",e.sent);case 4:if(null!=t){e.next=6;break}return e.abrupt("return",!1);case 6:if("string"==typeof t&&(t=this.getOwnerCollection().getNode(t)),!O["a"].IsNothing(t)){e.next=9;break}return e.abrupt("return",!1);case 9:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.next=12,this.ExecuteNodeActions.apply(this,[t,"action",null].concat(r));case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteNodeActions",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(S["a"].IsEmptyString(n)&&(n="action"),a=t.SelectNodes(n),i=c.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=c[s];l=0;case 4:if(!(l<a.count())){e.next=21;break}if(u=a.get(l),e.prev=6,this.EvaluateNodeRules(u,r)){e.next=9;break}return e.abrupt("continue",18);case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e["catch"](6),e.abrupt("continue",18);case 14:return e.next=16,this.ExecuteNodeAction.apply(this,[null,u,0].concat(o));case 16:if(e.sent){e.next=18;break}return e.abrupt("return",!1);case 18:l++,e.next=4;break;case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this,[[6,11]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ExecuteNodeAction",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.length>2&&void 0!==s[2]?s[2]:0,r=x["a"].getNodeAttr(n,"name"),!S["a"].IsEmptyString(r)){e.next=4;break}return e.abrupt("return",!1);case 4:e.t0=r,e.next="setval"===e.t0?7:"runscript"===e.t0?10:21;break;case 7:return e.next=9,this.DoSetVal(n);case 9:return e.abrupt("return",e.sent);case 10:for(e.prev=10,a=s.length,i=new Array(a>3?a-3:0),o=3;o<a;o++)i[o-3]=s[o];return e.next=14,this.DoRunScriptAsync.apply(this,[n].concat(i));case 14:return e.abrupt("return",e.sent);case 17:return e.prev=17,e.t1=e["catch"](10),console.error(e.t1),e.abrupt("return",!1);case 21:return e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this,[[10,17]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"EvaluateNodeRules",value:function(e,t){return!0}},{key:"doRunScript",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.next=3,this.DoRunScriptAsync.apply(this,[t].concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"DoRunScriptAsync",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=u.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=u[i];o=(n=this.m_owner).prepareContext.apply(n,[this,t].concat(a)),s=o.scripts.length,new Array,l=0;case 5:if(!(l<s)){e.next=11;break}return e.next=8,this.getOwnerApp().RunScriptAsync(o.funcNames[l],o.slang,o.scripts[l],o.ctx,o.Arguments,o.argsName,o.argsValue);case 8:l++,e.next=5;break;case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"DoSetVal",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="",r="",a="",i=null,n=x["a"].GetNodeAttr(t,"field"),r=x["a"].GetNodeAttr(t,"value"),!S["a"].IsEmptyString(r)){e.next=6;break}return e.abrupt("return",!0);case 6:if(!E["a"].isEmpty(n)){e.next=9;break}throw o=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_SETVALFAIL,"CXoneDataObject::DoSetVal failed. Field attribute is missing."),new f(-1991,o);case 9:if(this.FieldExists(n)){e.next=15;break}throw s=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_SETVALFAIL,"{0} failed. Field '{1}' is not declared in collection '{2}."),s=s.replace("{0}","CXoneDataObject::DoSetVal"),s=s.replace("{1}",n),s=s.replace("{2}",this.m_owner.getName()),new f(-1991,s);case 15:return a=this.FieldPropertyValue(n,"type"),S["a"].IsEmptyString(a)&&(a=x["a"].GetNodeAttr(t,"type")),e.next=19,this.GetValueFromString(r,a);case 19:return i=e.sent,this.put(n,i),e.abrupt("return",!0);case 22:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"FieldExists",value:function(e){return this.m_owner.FieldExists(e)}},{key:"ClearContents",value:function(){null!=this.m_lstContents&&this.m_lstContents.values().forEach((function(e){O["a"].IsNothing(e)||(e.unlock(),e.clear())}))}},{key:"resolveFieldName",value:function(e){if(!E["a"].isEmpty(e)&&!e.startsWith(k["a"].MACRO_TAG))return e;if(E["a"].isEmpty(e))return e;var t=this.m_owner.getProperties();if(null==t)return e;var n=e.indexOf(k["a"].MACRO_TAG,2);n<0&&(n=e.length);var r=e.substring(2,n),a=t.SelectSingleNode(k["a"].PROP_NAME,k["a"].PROP_ATTR_INDEX,r);return null==a?e:a.getAttrValue(k["a"].PROP_ATTR_NAME)}},{key:"reverseResolveFieldName",value:function(e){if(!this.m_owner.isIndexed())return e;if(E["a"].isEmpty(e))return e;var t=this.m_owner.getProperties();if(null==t)return e;var n="";try{n=this.m_owner.FieldPropertyValue(e,k["a"].PROP_ATTR_INDEX)}catch(a){return e}if(E["a"].isEmpty(n))return e;var r=new C["a"](k["a"].MACRO_TAG);return r.append(n),r.toString()}},{key:"Load",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,this.m_lstNormalProperties.clear(),this.ClearContents(),n=t.getColumnCount(),r=0;case 5:if(!(r<n)){e.next=23;break}if(a=this.resolveFieldName(t.getColumnName(r)),i=t.getValue(r,this.m_owner.getTypeFromXml(this.m_owner.PropType(a))),null==i){e.next=18;break}if(!O["a"].prototype.hasOwnProperty.call(i,"isResultset")||a.startsWith(k["a"].MACRO_TAG)||a.equals("ID")){e.next=15;break}if(o=i,this.LoadObjectContents(a,o)){e.next=13;break}return e.abrupt("return",!1);case 13:e.next=16;break;case 15:this[a]=i;case 16:e.next=19;break;case 18:this.m_lstNormalProperties.delete(a);case 19:this.m_owner.getMultipleKey()||a.equals(this.getIdFieldName())&&(this.m_owner.getStringKey()?(null!=i&&(this.m_strObjectId=i.toString()),this.m_lObjectId=-1):0==(this.m_lObjectId=v["a"].SafeToInt(i))?this.m_bReadOnly=!0:this.m_strObjectId=String.format("%d",this.m_lObjectId));case 20:r++,e.next=5;break;case 23:return this.m_lstDirtyProperties=new l["a"],this.m_owner.getMultipleKey()&&(this.m_strObjectId=this.GetMultipleKeyString(),this.m_lObjectId=-1),this.setDirty(!1),this.m_bNewObject=!1,e.next=29,this.OnLoad();case 29:return e.abrupt("return",e.sent);case 32:throw e.prev=32,e.t0=e["catch"](0),e.t0;case 35:case"end":return e.stop()}}),e,this,[[0,32]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"LoadObjectContents",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getContents(t);case 2:if(r=e.sent,null!=r){e.next=14;break}if(a=this.m_owner.FieldPropertyValue(t,k["a"].PROP_ATTR_CONTENTNAME),!E["a"].isEmpty(a)){e.next=8;break}return this.getOwnerApp().RegisterError(-1,"Cannot find contents with name '"+t+"'"),e.abrupt("return",!1);case 8:return e.next=10,this.getContents(a);case 10:if(r=e.sent,null!=r){e.next=14;break}return this.getOwnerApp().RegisterError(-1,"Cannot find contents with name '"+t+"'"),e.abrupt("return",!1);case 14:r.unlock(),r.clear();case 16:return e.next=18,n.next();case 18:if(!e.sent){e.next=35;break}return e.next=21,r.CreateObject(!1);case 21:if(i=e.sent,null!=i){e.next=25;break}return 0!=this.getOwnerApp().getError().getNumber()&&this.getOwnerApp().RegisterError(-1,"Cannot create new object for contents '"+t+"'"),e.abrupt("return",!1);case 25:return e.next=27,i.Load(n);case 27:if(e.sent){e.next=30;break}return 0!=this.getOwnerApp().getError().getNumber()&&this.getOwnerApp().RegisterError(-1,"Error loading object data for contents '"+t+"'"),e.abrupt("return",!1);case 30:if(r.addItem(i)){e.next=33;break}return 0!=this.getOwnerApp().getError().getNumber()&&this.getOwnerApp().RegisterError(-1,"Cannot add new object to contents '"+t+"'"),e.abrupt("return",!1);case 33:e.next=16;break;case 35:return r.setFull(!0),e.abrupt("return",!0);case 37:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"OnLoad",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,t=this.getOwnerCollection();case 2:n=t.getNodeList("prop","onload","true"),r=0;case 4:if(!(r<n.count())){e.next=11;break}return a=n.get(r),e.next=8,this.OnChange(x["a"].getNodeAttr(a,"name"));case 8:r++,e.next=4;break;case 11:t=t.getParentCollection();case 12:if(null!=t){e.next=2;break}case 13:t=this.getOwnerCollection();case 14:if(n=null,i=t.getNode("load"),null==i){e.next=20;break}if(n=i.SelectNodes("action"),!(n.count()>0)){e.next=20;break}return e.abrupt("break",22);case 20:t=t.getParentCollection();case 21:if(null!=t){e.next=14;break}case 22:if(null==n){e.next=35;break}o=0;case 24:if(!(o<n.count())){e.next=35;break}if(s=n.get(o),this.EvaluateNodeRules(s)){e.next=28;break}return e.abrupt("continue",32);case 28:return e.next=30,this.ExecuteNodeAction(null,s);case 30:if(e.sent){e.next=32;break}return e.abrupt("return",!1);case 32:o++,e.next=24;break;case 35:return e.abrupt("return",!0);case 38:throw e.prev=38,e.t0=e["catch"](0),l=e.t0.message,u=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),u=u.replace("{0}","CXoneDataObject::AfterLoad"),S["a"].IsEmptyString(l)||(u=u.concat(l)),new c["a"](-10181,e.t0,u);case 45:case"end":return e.stop()}}),e,this,[[0,38]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"OnChange",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.getNode("onchange"),null!=a){e.next=3;break}return e.abrupt("return");case 3:if(r=this.m_strChangeField,this.m_strChangeField=t,i=!0,o=[],o.push(new _["a"]("ChgField",this.m_strChangeField)),null==(n=a.SelectSingleNode("field","name",t))){e.next=12;break}return e.next=11,this.ExecuteNodeActions.apply(this,[n,k["a"].EMPTY_STRING,null].concat(o));case 11:i=e.sent;case 12:if(!i){e.next=16;break}if(null==(n=a.SelectSingleNode("field","name","##ANY##"))){e.next=16;break}return e.next=16,this.ExecuteNodeActions.apply(this,[n,k["a"].EMPTY_STRING,null].concat(o));case 16:this.m_strChangeField=r;case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ObjectItem",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=s.length>1&&void 0!==s[1]?s[1]:null,r=n,!S["a"].IsEmptyString(r)){e.next=5;break}if(!S["a"].IsEmptyString(r=this.FieldPropertyValue(t,"mapcol"))){e.next=5;break}return e.abrupt("return",null);case 5:if(a=this.get(t),null!=a){e.next=8;break}return e.abrupt("return",null);case 8:return e.next=10,this.getOwnerApp().getCollection(r);case 10:if(i=e.sent,null!=i){e.next=13;break}return e.abrupt("return",null);case 13:if(o=a.toString(),!S["a"].IsEmptyString(o)){e.next=16;break}return e.abrupt("return",null);case 16:return e.abrupt("return",i.get(o));case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getContents",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_bContentsLoaded){e.next=5;break}return e.next=3,this.LoadContents();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",null);case 5:if("number"!=typeof t){e.next=9;break}if(!(t>=this.m_lstContents.length)){e.next=8;break}return e.abrupt("return",null);case 8:t=this.m_lstContents.keys[t];case 9:if(null==this.m_lstContents&&(this.m_lstContents=new s["a"]),!E["a"].isEmpty(t)){e.next=12;break}return e.abrupt("return",null);case 12:if(this.m_lstContents.containsKey(t)){e.next=14;break}return e.abrupt("return",null);case 14:return e.abrupt("return",this.m_lstContents.get(t));case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"LoadContents",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,l,u,h,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=null,n="",i="CXoneDataObject::LoadContents",e.prev=3,null==this.m_lstContents&&(this.m_lstContents=new s["a"]),this.m_lstContents.clear(),o=this.m_owner,t=o.getNodeList("contents"),!O["a"].IsNothing(o=o.getParentCollection())&&o.getNodeList("contents").forEach((function(e){t.exist(e.getName(),k["a"].PROP_ATTR_NAME,e.getAttrValue(k["a"].PROP_ATTR_NAME))||t.addNode(e)})),null!=t){e.next=11;break}return e.abrupt("return",!1);case 11:l=0;case 12:if(!(l<t.count())){e.next=36;break}return u=t.get(l),e.next=16,this.getOwnerApp().getCollection(n=x["a"].getNodeAttr(u,"src"));case 16:if(e.t0=a=e.sent,null!=e.t0){e.next=23;break}throw h=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_LOADCONTENTFAIL_01,"{0} failed. Cannot find collection '{1}' to create contents '{2}'"),h=h.replace("{0}",i),h=h.replace("{1}",n),h=h.replace("{2}",u.getAttrValue("name")),new c["a"](-9191,h);case 23:if(null!=(r=a.CreateClone())){e.next=28;break}throw p=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_LOADCONTENTFAIL_02,"{0} failed. Cannot clone collection '{1}'"),p=p.replace("{0}",i),p=p.replace("{1}",n),new c["a"](-9192,p);case 28:n=x["a"].getNodeAttr(u,"filter"),r.setLinkFilter(n),n=x["a"].getNodeAttr(u,"name"),this.AddContentsColl(n,r),S["a"].IsEmptyString(n=x["a"].getNodeAttr(u,"sort"))||r.setSort(n);case 33:l++,e.next=12;break;case 36:return e.abrupt("return",this.m_bContentsLoaded=!0);case 39:throw e.prev=39,e.t1=e["catch"](3),f=e.t1.message,m=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),m=m.replace("{0}",i),E["a"].isEmpty(f)||(m=m.concat(f)),new c["a"](-10131,e.t1,m);case 46:case"end":return e.stop()}}),e,this,[[3,39]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"AddContentsColl",value:function(e,t){this.m_lstContents.put(e,t),t.setOwnerObject(this)}},{key:"getId",value:function(){return this.m_lObjectId}},{key:"getIdFieldName",value:function(){return this.m_owner.getIdFieldName()}},{key:"getObjectName",value:function(){return this.m_owner.getObjectName()}},{key:"PrepareSqlString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(S["a"].IsEmptyString(e))return e;if(!e.contains("##"))return e;if(e.contains("##FLD_")&&(e=this.ReplaceFieldValueMacros(e,"##FLD_",t),!e.contains("##")))return e;var n=this.m_owner.PrepareSqlString(e,!1,!1);if(!n.contains("##"))return n;var r=n.trim();if(S["a"].IsEmptyString(r))return n;var a,i=n;if(i=S["a"].Replace(i,'"',"##QUOTES##"),i=S["a"].Replace(i,"##ID##",this.GetObjectIdString(!0)),!i.contains("##"))return i;if(i.contains("##CLIENTIDCOLL##")&&(a=this.GetClientIdColl(),S["a"].IsEmptyString(a)?i=S["a"].Replace(i,"=##CLIENTIDCOLL##"," IS NOT NULL "):(r=a.contains(",")?" IN ("+a+")":"="+a,i=S["a"].Replace(i,"=##CLIENTIDCOLL##",r)),!i.contains("##")))return i;if(i.contains("##MULTIKEY##")&&(i=S["a"].Replace(i,"##MULTIKEY##",this.GetMultipleKeyString(!0))),!i.contains("##"))return i;if(i.contains("##OWN_")){var o=this.m_owner.getOwnerObject();if(null!=o&&(i=o.ReplaceFieldValueMacros(i,"##OWN_",!1),!i.contains("##")))return i}if(i=i.replace('"',"'"),i=S["a"].Replace(i,"##QUOTES##",'"'),!i.contains("##"))return i;for(var s=0,l=0;-1!=(l=i.indexOf("##ISNULL("));){if(-1==(s=i.indexOf(")##",l+8)))break;n=i.substring(l+9,s);var u=this.get(n);if("string"==typeof u)r=u.toString(),r=S["a"].IsEmptyString(r)?"("+n+"='' OR {0} IS NULL)":n+"="+r;else{if(O["a"].IsInt(u)){var c=v["a"].SafeToDouble(u);Math.abs(c)<1e-6?r="("+n+"=0 OR {0} IS NULL)":(u=this.get(n),r=n+"="+this.DevelopObjectValue(u));break}r=n+"="+this.DevelopObjectValue(u)}n=i.substring(0,l)+r+i.substring(s,i.length-3),i=n}return i}},{key:"GetRawPropertyValue",value:function(e){throw new Error("Method not implemented.")}},{key:"ReplaceFieldValueMacros",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0,a="CXoneDataObject::ReplaceFieldValueMacros";for(r=e.indexOf(t);-1!=r;r=e.indexOf(t)){var i=void 0;if(-1==(i=e.indexOf("##",r+1))){var o=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_REPLFLDVALUEMACROFAIL,"{0} failed. Syntax error in expression '{1}'");throw o=o.replace("{0}",a),o=o.replace("{1}",e),new c["a"](-13667,o)}var s=e.substring(r+t.length,i);s.length>1&&"$"==s.charAt(0)&&"$"==s.charAt(1)&&(s=s.substring(1,s.length-1));var l=this.get(s);s=this.DevelopObjectValue(l),n&&!S["a"].IsEmptyString(s)&&s.startsWith("'")&&s.endsWith("'")&&(s=s.substring(1,s.length-1));var u=e.substring(r,i+2);e=S["a"].Replace(e,u,s)}return e}},{key:"FieldPropertyValue",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==this.m_owner)return null;var r="",a=e+":"+t;if(r=this.m_lstOverridenFieldPropertyValueAttributes.containsKey(a)?this.m_lstOverridenFieldPropertyValueAttributes.get(a):this.m_lstCachedAttributes.containsKey(a)?this.m_lstCachedAttributes.get(a):this.m_owner.FieldPropertyValue(e,t),n&&!S["a"].IsEmptyString(r)&&r.contains("##")){if(r.equals(k["a"].EMPTY_STRING))return null;if(r=this.PrepareSqlString(r,!1),r.equals("NULL"))return null;S["a"].IsEmptyString(r)||r.startsWith("'")&&r.endsWith("'")&&r.length>=2&&(t.equals("filter")||t.equals("linkfilter")||(r=r.substring(1,r.length-1)))}return r}},{key:"GetObjectIdString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";return S["a"].IsEmptyString(this.m_strObjectId)||e?this.m_lObjectId>0?(S["a"].IsEmptyString(this.m_strObjectId)&&(this.m_strObjectId=String.format("%d",this.m_lObjectId)),this.m_strObjectId):this.m_owner.getStringKey()?this.m_owner.getMultipleKey()?(this.m_strObjectId=this.GetMultipleKeyString(!1),this.GetMultipleKeyString(e)):(t=e?this.DevelopObjectValue(this.get(this.getIdFieldName())):this.m_strObjectId=this.get(this.getIdFieldName()).toString(),t):e?"NULL":"":this.m_strObjectId}},{key:"GetRawStringField",value:function(e){return""}},{key:"DevelopObjectValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.m_owner.DevelopObjectValue(e,t)}},{key:"OnNormalSearh",value:function(){}},{key:"getOwnerApp",value:function(){return this.m_owner.getOwnerApp()}},{key:"getIsCurrentItem",value:function(){return this.m_bIsCurrentItem}},{key:"setIsCurrentItem",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.m_bIsCurrentItem,r=null,!(this.m_bIsCurrentItem=t)){e.next=21;break}return r=this.GetRawPropertyValue(this.getIdFieldName()),this.m_strObjectId=S["a"].SafeToString(r),this.m_owner.getStringKey()?this.m_lObjectId=-1:this.m_lObjectId=v["a"].SafeToLong(r),this.ClearContents(),this.m_lstNormalProperties.clear(),this.m_lstOldValues.clear(),this.ClearAllVariables(),this.setDirty(!1),e.prev=11,e.next=14,this.OnLoad();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](11),console.error(e.t0);case 19:e.next=22;break;case 21:n&&(this.m_lObjectId=0,this.m_strObjectId=null);case 22:case"end":return e.stop()}}),e,this,[[11,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ClearAllVariables",value:function(){this.m_lstVariables.clear()}},{key:"GetMultipleKeyString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="";if(this.m_owner.getMultipleKey())for(var n=0;n<this.m_owner.getKeyFields().length;n++){var r=this.m_owner.getKeyFields()[n],a=this[r];if(null!=a){var i=r+"="+this.DevelopObjectValue(a);t.length>0&&(t+=e?" AND ":","),t+=i}}else t=this.getIdFieldName()+"="+this.GetObjectIdString(e);return t}},{key:"GetClientIdColl",value:function(){return String.format("%d",this.m_lObjectId)}},{key:"put",value:function(e,t){this.PutItem(e,t)}},{key:"PutItem",value:function(e,t){var n,r=this,i="",o="",s="",l="",u="",h=!0,p=!0,f=!1,m=!1,g="CXoneDataObject::PutItem";this.m_bChangesMade=!1;try{if(this.m_nSetValDepth++,i=e,S["a"].IsEmptyString(i))return;if(i.startsWith("#")||i.startsWith("@"))return;if(i.startsWith("%"))return void this.PutBitmappedProperty(e,t);if(o=this.FieldPropertyValue(i,"bit"),!S["a"].IsEmptyString(o))return void this.PutBitmappedProperty(e,t);if(o=this.FieldPropertyValue(i,"method"),!S["a"].IsEmptyString(o))return;if(o=this.FieldPropertyValue(i,"volatile"),S["a"].ParseBoolValue(o,!1)&&(f=!0),i.startsWith("MAP_")&&(h=!1),this.m_lstNormalProperties.containsKey(i)?n=this.m_lstNormalProperties.get(i):(n=null,S["a"].IsEmptyString(u=this.FieldPropertyValue(i,"xlat"))||this.m_lstXlatProperties.push(i)),s=i,this.m_lstOldValues.delete(s),null!=n&&this.m_lstOldValues.put(s,n),"string"===typeof t){if(i=t.toString(),o=this.FieldPropertyValue(e,"type"),S["a"].IsEmptyString(o)&&(o="T"),o.equals("X")){if(!S["a"].IsEmptyString(i)){this.FieldPropertyValue(e,"hash-type"),this.FieldPropertyValue(e,"encode");t=i}}else o.equals("TD")?(i=this.AdjustDate(i),t=i):o.equals("TM")?(i=this.AdjustMonthYear(i),t=i):o.equals("TB")?(i=this.FormatAcc(i),t=i):o.equals("TN")?(i=i.toUpperCase(),t=i):o.equals("TC")?(i=this.FormatCCC(i),i=this.AdjustAccNumber(i),t=i):o.equals("D")?t=S["a"].IsEmptyString(i)?null:S["a"].ParseDateString(this.getOwnerApp().currentContext(),i):o.startsWith("N")&&(t=1==o.length?v["a"].SafeToInt(i):v["a"].SafeToDouble(i));"string"===typeof t&&(u=this.FieldPropertyValue(e,"protect"),S["a"].ParseBoolValue(u,!1)&&(l=this.FieldPropertyValue(e,"size"),S["a"].IsEmptyString(l)||(i=this.ProtectString(i,v["a"].SafeToInt(l)))),p&&(this.m_lstOldValues.put(e,n),(e.startsWith("MAP_")||this.m_bIsLoading&&!this.m_bIsCloning)&&(h=!1),this.setNormalValue(e,t),m=!0))}if("string"!==typeof t&&!m){if(e.equals("ID")&&O["a"].IsNumeric(t)){var _=v["a"].SafeToInt(t);0==_&&(t=null)}if(u=this.FieldPropertyValue(e,"validate"),S["a"].ParseBoolValue(u,!1)&&!this.m_bIsCloning){!1}(p||f)&&(null!=n?this.m_lstOldValues.put(e,n):this.m_lstOldValues.delete(e),null==t?(this.setNormalValue(e,null),this.m_lstNormalProperties.delete(e)):this.setNormalValue(e,t))}var y=!1;if(y=(!O["a"].EqualObj(n,t)||f)&&(!this.m_bIsLoading||this.m_bIsCloning)&&p,y&&(h&&(this.setDirty(!0),this.m_lstDirtyProperties.contains(e)||this.m_lstDirtyProperties.push(e)),this.m_bChangesMade=!0,this.m_bUseTimestamp)){var C=new Date;null==this.m_dtTimeStamp?this.m_dtTimeStamp=b["a"].getInstance():this.m_dtTimeStamp.setTime(C),C=null}if(this.m_bDirty&&this.m_bPropagateDirty&&null!=this.m_owner.getOwnerObject()&&this.m_owner.getOwnerObject().setDirty(this.m_bDirty),this.m_bChangesMade){if(e.equals(this.getIdFieldName())&&(this.m_owner.getStringKey()||(this.m_lObjectId=v["a"].SafeToInt(t))),!S["a"].IsEmptyString(s=this.FieldPropertyValue(e,"updates"))){var k=this.PreprocessValue(e,s,t);this.SetPropertyValue(s,k)}this.m_bIsLoading||null==this.m_owner||this.RestoreMappedFields(e).then((function(t){if(!t){var n=r.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields.");throw n=n.replace("{0}",g),new c["a"](-23231,n)}var i=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.OnChange(e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();i()})).catch((function(e){var t=r.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields. Reason: {1}");throw t=t.replace("{0}",g),t=t.replace("{1}",e),new c["a"](-23231,t)})),this.m_bUseTimestamp&&!e.equals("OBJTIMESTAMP")&&(e.startsWith("MAP_")||this.m_bIsLoading&&!this.m_bIsCloning||this.PutItem("OBJTIMESTAMP",this.m_dtTimeStamp)),this.m_bChangesMade=!0}this.postNewValue(e,t)}catch(w){var x=w.message,T=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. ");throw T=T.replace("{0}",g),E["a"].isEmpty(x)||(T=T.concat(x)),console.error(w),new c["a"](-10101,w,T)}}},{key:"GetItem",value:function(e){var t=this,n="GetItem";if(S["a"].IsEmptyString(e))return null;switch(e.charAt(0)){case"%":return this.GetBitmappedProperty(e);case"$":return this.GetFormulaProperty(e)}if(this.m_owner.IsFormulaProperty(e))return this.GetFormulaProperty(e);if(this.m_owner.IsBitProperty(e))return this.GetBitmappedProperty(e);var r=this.FieldPropertyValue(e,"type");if(!S["a"].IsEmptyString(r)&&r.equals("B")){var a,i;a=this.PropertyTitle(e),i=this.GetNormalProperty(e);var o=S["a"].SafeToString(i);return S["a"].IsEmptyString(o)||(a=o),a}var s=null;if(this.m_owner.getDeferredLoad()&&this.m_bIsCurrentItem){if(this.m_lstNormalProperties.containsKey(e)&&(s=this.m_lstNormalProperties.get(e)),null==s){if(null==(s=this.m_owner.GetCurrentItemValue(e))){var l=this.FieldPropertyValue(e,"linkedto");return S["a"].IsEmptyString(l)||this.m_owner.getConnection().IsOuterJoinSupported()||S["a"].IsEmptyString(this.FieldPropertyValue(e,"linkedfield"))||(this.RestoreMappedFields(l).then((function(e){if(!e){var r=t.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields.");throw r=r.replace("{0}",n),new c["a"](-23231,r)}})).catch((function(e){var r=t.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields. Reason: {1}");throw r=r.replace("{0}",n),r=r.replace("{1}",e),new c["a"](-23231,r)})),!this.m_lstNormalProperties.containsKey(e))?this.AdjustNullValue(e):this.m_lstNormalProperties.get(e)}null!=s&&(this[e]=s)}return this.ProcessValue(e,s)}return this.GetNormalProperty(e)}},{key:"GetFormulaProperty",value:function(e){throw new Error("Method not implemented.")}},{key:"GetBitmappedProperty",value:function(e){var t=this.getFieldPropertyValue(e,"linkedto"),n=Number(this.getFieldPropertyValue(e,"bit"))-1;return(this[t]>>n)%2!=0}},{key:"PropertyTitle",value:function(e){var t=e+":"+k["a"].PROP_ATTR_TITLE;if(this.m_lstOverridenFieldPropertyValueAttributes.containsKey(t))return this.m_lstOverridenFieldPropertyValueAttributes.get(t);if(this.m_lstCachedAttributes.containsKey(t))return this.m_lstCachedAttributes.get(t);if(null==this.m_owner)return this.FieldPropertyValue(e,k["a"].PROP_ATTR_TITLE);var n=this.m_owner.PropertyTitle(e);if(!S["a"].IsEmptyString(n)&&n.contains("##")){if(n.equals(S["a"].XONE_EMPTY_STRING))return k["a"].EMPTY_STRING;if(n=this.PrepareSqlString(n,!0),!S["a"].IsEmptyString(n)){if(n.equals("NULL"))return k["a"].EMPTY_STRING;(n.startsWith("'")||n.endsWith("'")&&n.length>=2)&&(n=n.substring(1,n.length-1))}}return n}},{key:"GetNormalProperty",value:function(e){var t,n=this,r=null,a="GetNormalProperty";if(this.m_lstNormalProperties.containsKey(e))r=this.m_lstNormalProperties.get(e);else if(this.m_owner.getConnection().IsOuterJoinSupported()||S["a"].IsEmptyString(t=this.FieldPropertyValue(e,"linkedto")))this.m_bIsCurrentItem&&(r=this.m_owner.GetCurrentItemValue(e),null!=r&&(this[e]=r));else{var i=this.FieldPropertyValue(e,"linkedfield");S["a"].IsEmptyString(i)||this.m_bIsLoading||(this.RestoreMappedFields(t).then((function(e){if(!e){var t=n.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields.");throw t=t.replace("{0}",a),new c["a"](-23231,t)}})).catch((function(e){var t=n.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PUTITEMFAIL,"{0} failed. Cannot update mapped fields. Reason: {1}");throw t=t.replace("{0}",a),t=t.replace("{1}",e),new c["a"](-23231,t)})),this.m_lstNormalProperties.containsKey(e)&&(r=this.m_lstNormalProperties.get(e)))}return this.ProcessValue(e,r)}},{key:"ProcessValue",value:function(e,t){if(null==t&&this.m_lstXlatProperties.contains(e)&&!this.m_lstDevelopedXlatProperties.contains(e)){if(!this.DevelopXlatProperties(e,!0)){var n=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_PROCESSVALFAIL,"CXoneDataObject::ProcessValue failed. Cannot develop xlat property '{0}'");throw n=n.replace("{0}",e),new c["a"](-19991,n)}this.m_lstDevelopedXlatProperties.push(e)}var r,a=null;if(null==t)return this.AdjustNullValue(e);var i=t;if("string"===typeof t){if(r=t.toString(),a=this.FieldPropertyValue(e,"type"),S["a"].IsEmptyString(a)&&(a="T"),a.equals("TW")){var o=v["a"].SafeToInt(t);r=this.getOwnerApp().GetWeekDayName(o)}else if(a.equals("X")){if(!S["a"].IsEmptyString(r))this.FieldPropertyValue(e,"hash-type"),this.FieldPropertyValue(e,"encode")}else{var s=this.FieldPropertyValue(e,"protect");S["a"].IsEmptyString(s)||s.equals("0")||s.equals("false")||(r=this.UnprotectString(r,s));var l=r.length;switch(l){case 8:a.equals("TD")&&(r=String.format("%02d/%02d/%04d",v["a"].SafeToInt(r.substring(6,8)),v["a"].SafeToInt(r.substring(4,6)),v["a"].SafeToInt(r.substring(0,4))));break;case 22:a.equals("TC")&&r.substring(8,9).equals("#")&&r.substring(11,12).equals("#")&&(a=r.substring(0,4)+"-"+r.substring(4,8)+"-"+r.substring(9,11)+"-"+r.substring(12,22),r=a);break}}i=r}if(O["a"].IsFloat(t)){var u=v["a"].SafeToDouble(t);if(S["a"].IsEmptyString(a)&&(a=this.FieldPropertyValue(e,"type")),"N".equals(a)||"NC".equals(a))return v["a"].SafeToInt(u)}return(e.equals("MAP_MULTIPLE")||e.equals("MAP_REFINE"))&&this.m_lstNormalProperties.delete(e),i}},{key:"ownerCollection",get:function(){return this.m_owner}},{key:"getOwnerCollection",value:function(){return this.ownerCollection}},{key:"getValue",value:function(e){return this.GetItem(e)}},{key:"DevelopXlatProperties",value:function(e,t){throw new Error("Method not implemented.")}},{key:"AdjustNullValue",value:function(e){var t=this.FieldPropertyValue(e,"type"),n=null;if(S["a"].IsEmptyString(t)&&(S["a"].IsEmptyString(t=this.FieldPropertyValue(e,"linkedto"))||S["a"].IsEmptyString(t=this.FieldPropertyValue(t,"mapcol"))),S["a"].IsEmptyString(t))e.equals(this.getIdFieldName())&&(n=this.m_owner.getStringKey()?k["a"].EMPTY_STRING:0),e.equals(this.m_owner.getConnection().getRowIdFieldName())&&(n="");else switch(t.charAt(0)){case"T":case"X":n=k["a"].EMPTY_STRING;break;case"N":n=(1==t.length||t.equals("NC"),0);break;case"I":t.equalsIgnoreCase("img")&&(n=k["a"].EMPTY_STRING);break}return n}},{key:"getLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.m_owner.getLayout(e)}},{key:"getLayoutAsync",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1,e.abrupt("return",this.m_owner.getLayoutAsync(t));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setLayout",value:function(e){this.m_reactLayout=e}},{key:"getPropAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k["a"].PROP_NAME;return g["a"].getPropAttributes(this,e,t)}},{key:"NodePropertyValue",value:function(e,t,n){return this.getOwnerCollection().NodePropertyValue(e,t,n)}},{key:"QualifyField",value:function(e,t){return this.m_owner.QualifyField(e,t)}},{key:"getNodeList",value:function(e,t,n,r){return this.getOwnerCollection().getNodeList(e,t,n)}},{key:"getNode",value:function(e,t,n){return this.getOwnerCollection().getNode(e,t,n)}},{key:"UnprotectString",value:function(e,t){throw new Error("Method not implemented.")}},{key:"AdjustDate",value:function(e){throw new Error("Method not implemented.")}},{key:"AdjustMonthYear",value:function(e){throw new Error("Method not implemented.")}},{key:"FormatAcc",value:function(e){throw new Error("Method not implemented.")}},{key:"FormatCCC",value:function(e){throw new Error("Method not implemented.")}},{key:"AdjustAccNumber",value:function(e){throw new Error("Method not implemented.")}},{key:"ProtectString",value:function(e,t){throw new Error("Method not implemented.")}},{key:"PreprocessValue",value:function(e,t,n){}},{key:"SetPropertyValue",value:function(e,t){if("MAP_SYS_ORDER".equals(e))this.mMapSysOrder=v["a"].SafeToLong(t);else{var n=this.m_owner.MapField(e);this.put(n,t)}}},{key:"GetPropertyValue",value:function(e){var t=this.MapField(e);return this.get(t)}},{key:"MapField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.m_owner.MapField(e,t)}},{key:"DoRestoreMapValues",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,r,a){var i,o,s,l,u,h,p,f,m,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i="",o="",u=!0,h=this[r],p=this.getFieldPropertyValue(r,"mapfld"),s=this.m_owner.getNodeList("prop","linkedto",r),f=0;case 6:if(!(f<s.count())){t.next=43;break}if(m=s.get(f),S["a"].IsEmptyString(x["a"].getNodeAttr(m,"bit"))){t.next=10;break}return t.abrupt("continue",40);case 10:if(o=x["a"].getNodeAttr(m,"name"),i=x["a"].getNodeAttr(m,"linkedfield"),!(a&&a instanceof e)){t.next=23;break}if(a.FieldExists(i)){t.next=20;break}throw g=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_RESTOREMAPFLDFAIL_03,"{0} failed. Cannot find linked field '{1}' to restore field '{2}' in object {3}"),g=g.replace("{0}","CXoneDataObject::DoRestoreMapValues"),g=g.replace("{1}",i),g=g.replace("{2}",o),g=g.replace("{3}",a.getName()),new c["a"](-2444,g);case 20:l=a.get(i),t.next=39;break;case 23:if(!a||!a.isResultset){t.next=38;break}t.prev=24;try{l=a.getData().find((function(e){return e[p]===h}))[i]}catch(b){l=a.getValue(i,this.m_owner.getTypeFromXml(this.m_owner.PropType(i)))}t.next=36;break;case 28:return t.prev=28,t.t0=t["catch"](24),console.error(t.t0),n.setUseObjectsInRestore(!0),a.close(),t.next=35,this.RestoreMappedFields(r);case 35:return t.abrupt("return",t.sent);case 36:t.next=39;break;case 38:l=null;case 39:u&&this.put(o,l);case 40:f++,t.next=6;break;case 43:return t.abrupt("return",!0);case 44:case"end":return t.stop()}}),t,this,[[24,28]])})));function n(e,n,r){return t.apply(this,arguments)}return n}()},{key:"RestoreMapColValues",value:function(e,t){var n,r="",a=v["a"].SafeToInt(this.GetPropertyValue(e),-1);if(a<0)return!1;var i=t.split(","),o=a>=i.length?"":S["a"].SafeToString(i[a]).trim();n=this.m_owner.getNodeList("prop","linkedto",e);for(var s=0;s<n.count();s++){var l=n.get(s);S["a"].IsEmptyString(x["a"].getNodeAttr(l,"bit"))&&(r=x["a"].getNodeAttr(l,"name"),this.put(r,o))}return!0}},{key:"RestoreMappedFields",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,h,p,f,m,g,b,_,O,y,C,k,x,T,w,A,P,R,I;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="",r="",a="",i="",o=0,s=!1,l=!1,u=this.FieldPropertyValue(t,"mapcol-values"),E["a"].isEmpty(u)){e.next=7;break}return e.abrupt("return",this.RestoreMapColValues(t,u));case 7:if(u=this.FieldPropertyValue(t,"mapcol"),!E["a"].isEmpty(u)){e.next=10;break}return e.abrupt("return",!0);case 10:if(h=null,p=null,f=null,g=null,b="CXoneDataObject::RestoreMappedFields",_=this.m_owner.getNodeList("prop","linkedto",t),O=S["a"].ParseBoolValue(this.FieldPropertyValue(t,"retain"),!0),y=!1,!(_.count()>0)){e.next=97;break}if(!u.equals("##OWNERCOLL##")){e.next=30;break}if(null==this.m_owner.getOwnerObject()){e.next=23;break}h=this.m_owner.getOwnerObject().getOwnerCollection(),e.next=28;break;case 23:if(u=this.FieldPropertyValue(t,"default-mapcol"),S["a"].IsEmptyString(u)){e.next=28;break}return e.next=27,this.getOwnerApp().getCollection(u);case 27:h=e.sent;case 28:e.next=40;break;case 30:return e.prev=30,e.next=33,this.getOwnerApp().getCollection(u);case 33:h=e.sent,e.next=40;break;case 36:e.prev=36,e.t0=e["catch"](30),console.error(e.t0),h=null;case 40:if(null==h){e.next=91;break}if(f=this.GetPropertyValue(t),null!=f){e.next=46;break}return e.next=45,this.DoRestoreMapValues(h,t,g);case 45:return e.abrupt("return",e.sent);case 46:if(u=this.FieldPropertyValue(t,"mapfld"),i=h.FieldPropertyValue(u,"type"),S["a"].IsEmptyString(i)&&u.equals(h.getIdFieldName())&&(i=h.getStringKey()?"T":"N"),!i.startsWith("N")){e.next=57;break}if(o=v["a"].SafeToInt(f),!(o<=0)){e.next=55;break}return e.next=54,this.DoRestoreMapValues(h,t,g);case 54:return e.abrupt("return",e.sent);case 55:e.next=63;break;case 57:if(o=-1,C=S["a"].SafeToString(f),!S["a"].IsEmptyString(C)){e.next=63;break}return e.next=62,this.DoRestoreMapValues(h,t,g);case 62:return e.abrupt("return",e.sent);case 63:if(m=null,null!=(m=this.m_owner.getOwnerObject())&&(null!=(k=m.getOwnerCollection())&&h.getName().equals(k.getName())?(p=m.GetPropertyValue(u),-1!=o?(x=v["a"].SafeToLong(p),x!=o&&(m=null)):p.equals(f)||(m=null)):m=null),null!=m){e.next=72;break}return T=!1,h.getUseObjectsInRestore()&&(T=!0),e.next=70,h.getObject(u,f,T,T);case 70:m=e.sent,y=!O;case 72:if(null==m){e.next=79;break}return e.next=75,this.DoRestoreMapValues(h,t,m);case 75:if(e.sent){e.next=77;break}return e.abrupt("return",!1);case 77:e.next=89;break;case 79:if(h.getUseObjectsInRestore()||h.getSpecial()){e.next=89;break}return e.next=82,h.GetResultSet(u,f);case 82:if(w=e.sent,null!=w){e.next=85;break}return e.abrupt("return",!1);case 85:return e.next=87,this.DoRestoreMapValues(h,t,w);case 87:if(e.sent){e.next=89;break}return e.abrupt("return",!1);case 89:e.next=96;break;case 91:throw A=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_RESTOREMAPFLDFAIL_01,"{0} failed. Cannot get collection '{1}' to restore linked fields for field '{2}'."),A=A.replace("{0}",b),A=A.replace("{1}",u),A=A.replace("{2}",t),new c["a"](-3200,A);case 96:null==(m=this.m_owner.getOwnerObject())||this.m_bIsCreating||m.RestoreTranslatedValues(this,u=this.m_owner.getName(),a=t),y&&h.clear();case 97:if(S["a"].IsEmptyString(u=this.FieldPropertyValue(t,"xlat"))){e.next=159;break}return e.next=100,this.getContents(u);case 100:if(h=e.sent,null==h){e.next=159;break}if(l=!1,r=this.FieldPropertyValue(t,"cmpfield"),n=this.FieldPropertyValue(t,"cmpvalue"),S["a"].IsEmptyString(r)||S["a"].IsEmptyString(n)){e.next=159;break}if(!r.equals("self")||!n.equals("self")){e.next=113;break}return!h.getFull()&&this.m_lObjectId>0&&h.loadAll(),e.next=110,h.get(0);case 110:m=e.sent,e.next=124;break;case 113:return i=h.FieldPropertyValue(r,"type"),e.next=116,this.GetValueFromString(n,i);case 116:return p=e.sent,"string"===typeof p&&(n=p.toString(),i.equals("T")&&n.startsWith("'")&&n.endsWith("'")&&(n=n.substring(1,n.length-2)),p=n),s=!l||!this.m_bXlatExist,s=!this.m_bXlatExist,s||this.m_lObjectId>0&&(s=!0),e.next=123,h.getObject(r,p,!0,s);case 123:m=e.sent;case 124:if(null!=m){e.next=145;break}if(u=this.FieldPropertyValue(t,"create"),!S["a"].ParseBoolValue(u,!1)){e.next=145;break}return e.next=129,h.CreateObject();case 129:if(m=e.sent,null==m){e.next=137;break}this.m_bIsRestoring=!0,r.equals("self")||m.SetPropertyValue(r,p),this.m_bIsRestoring=!1,h.addItem(m),e.next=145;break;case 137:throw r=t,p=this.get(r),a=this.DevelopObjectValue(p),P=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_RESTOREMAPFLDFAIL_02,"{0} failed. Field '{1}' Value: {2}"),P=P.replace("{0}",b),P=P.replace("{1}",r),P=P.replace("{2}",a),new c["a"](-9e3,P);case 145:if(null==m){e.next=159;break}if(u=t,!S["a"].IsEmptyString(a=this.FieldPropertyValue(u,"targetfield"))){e.next=152;break}throw R=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_NOXLATTARGET,"{0} failed. Field '{1}' has no 'targetfield' or it's misspelled."),R=R.replace("{0}",b),R=R.replace("{1}",a),new c["a"](-8888,R);case 152:if(m.FieldExists(a)){e.next=157;break}throw I=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_XLATMISSINGFLD,"{0} failed. Field '{1}' is missing in derived object."),I=I.replace("{0}",b),I=I.replace("{1}",a),new c["a"](-8889,I);case 157:p=this.get(u),m.put(a,p);case 159:return e.abrupt("return",!0);case 160:case"end":return e.stop()}}),e,this,[[30,36]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"RestoreTranslatedValues",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h,p,f,m,g,b,_,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s="",l="",u="",c="",d="",f=!1,null!=t&&!this.m_bIsRestoring){e.next=4;break}return e.abrupt("return",!0);case 4:if(m=this.m_owner.getNode("xlatrefresh"),null!=m){e.next=7;break}return e.abrupt("return",!0);case 7:o=this.m_owner.getNodeList("contents","src",n),g=0;case 9:if(!(g<o.count())){e.next=45;break}b=o.get(g),c=x["a"].getNodeAttr(b,"name"),i=m.SelectNodes("action","coll",c),_=0;case 14:if(!(_<i.count())){e.next=42;break}if(O=i.get(_),s=x["a"].getNodeAttr(O,"changefld"),s.equals(r)){e.next=19;break}return e.abrupt("continue",39);case 19:if(l=x["a"].GetNodeAttr(O,"targetfld"),a=this.m_owner.GetNode("prop","name",l),x["a"].GetNodeAttr(a,"type"),!S["a"].IsEmptyString(u=x["a"].GetNodeAttr(a,"cmpfield"))){e.next=24;break}return e.abrupt("continue",39);case 24:if(u.equals("self")){e.next=37;break}return s=x["a"].GetNodeAttr(a,"cmpvalue"),d=t.FieldPropertyValue(u,"type"),e.next=29,this.GetValueFromString(s,d);case 29:h=e.sent,"string"===typeof h&&(s=h.toString(),"'"==s.charAt(0)&&"'"==s.charAt(s.length-1)&&(s=s.length>2?s.substring(1,s.length-2):""),h=s),p=t.GetPropertyValue(u),s=p.getClass().getName().toLowerCase(),s.equals("int")||s.equals("byte")?p=v["a"].SafeToLong(p):(s.equals("single")||s.equals("decimal"))&&(p=v["a"].SafeToDouble(p)),f=h.equals(p),e.next=38;break;case 37:f=!0;case 38:f&&(u=x["a"].GetNodeAttr(O,"sourcefld"),h=null!=t?t.get(u):null,this.put(l,h));case 39:_++,e.next=14;break;case 42:g++,e.next=9;break;case 45:return e.abrupt("return",!0);case 46:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"GetValueFromString",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,d,h,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=b["a"].getInstance(),i="",o="",s=null,l="",u="",d="",h=0,e.prev=5,p=t,!S["a"].IsEmptyString(p)){e.next=9;break}return e.abrupt("return",p);case 9:if(!p.equals("##NULL##")&&!p.equals("##EMPTY##")){e.next=11;break}return e.abrupt("return",null);case 11:if((S["a"].IsEmptyString(n)||n.equals("type"))&&(n="T"),p.startsWith("'")&&p.endsWith("'")&&p.length>=2&&(p=p.substring(1,p.length-1)),(p.equals("##NOW##")||p.equals("##NOW_NOTIME##")||p.equals("##NOW_TIME##"))&&("D"==n.charAt(0)?((p.equals("##NOW##")||p.equals("##NOW_NOTIME##"))&&O["a"].ZeroCalendarTime(a),s=a):n.equals("TD")&&(s=String.format("%04d%02d%02d",a.get(b["a"].YEAR),a.get(b["a"].MONTH),a.get(b["a"].DAY_OF_MONTH)))),p.equals("##DAY##")&&(s=a.get(b["a"].DAY_OF_MONTH)),p.equals("##MONTH##")&&(s=a.get(b["a"].MONTH)),p.equals("##YEAR##")&&(s=a.get(b["a"].YEAR)),null!=s){e.next=67;break}if(p.contains("##")&&(p=this.PrepareSqlString(p)),!p.contains("##")){e.next=23;break}return e.next=22,this.m_owner.EvaluateAllMacros(p);case 22:p=e.sent;case 23:if((n.startsWith("T")||n.equals("AT")||n.equals("PH")||n.equals("WEB")||n.equals("IMG"))&&(p.equals("''")?p="":p.startsWith("'")&&p.endsWith("'")&&p.length>1&&(p=p.substring(1,p.length-1)),s=p),"N"==n.charAt(0))if(p.equals("NULL"))s=null;else if(n.equals("NC"))s=p.equals("on")||p.equals("1")||p.equals("yes")||p.equals("true")?1:0;else if(1==n.length)try{s=v["a"].SafeToLong(p)}catch(g){s=0}else try{s=v["a"].SafeToDouble(p)}catch(g){s=0}if(!n.startsWith("D")){e.next=67;break}if(i=p.trim(),S["a"].IsEmptyString(i)){e.next=67;break}if(s=p,!p.equals("NULL")){e.next=33;break}s=null,e.next=67;break;case 33:f=r,S["a"].IsEmptyString(f)&&(f=this.m_owner.getConnection().getDatemask()),f.startsWith("#")&&(f=f.substring(2,f.length-2)),h=f.equals("mdy")?0:f.equals("dmy")?1:2,m=p.split("/"),e.t0=h,e.next=0===e.t0?41:1===e.t0?45:(e.t0,49);break;case 41:return u=m[0],l=m[1],d=m[2],e.abrupt("break",53);case 45:return l=m[0],u=m[1],d=m[2],e.abrupt("break",53);case 49:return d=m[0],u=m[1],l=m[2],e.abrupt("break",53);case 53:o=this.getOwnerApp().getSysDatemask(),h=o.equals("mdy")?0:o.equals("dmy")?1:2,e.t1=h,e.next=0===e.t1?58:1===e.t1?61:2===e.t1?63:66;break;case 58:return i=u+"/"+l+"/"+d,m.length>3&&(i+=" "+m[3]),e.abrupt("break",66);case 61:return i=l+"/"+u+"/"+d,e.abrupt("break",66);case 63:return i=d+"/"+u+"/"+l,m.length>3&&(i+=" "+m[3]),e.abrupt("break",66);case 66:s=S["a"].ParseDateString(this.getOwnerApp().currentContext(),i);case 67:return e.abrupt("return",s);case 70:throw e.prev=70,e.t2=e["catch"](5),new c["a"](-7e3,e.t2);case 73:case"end":return e.stop()}}),e,this,[[5,70]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"postNewValue",value:function(e,t){}},{key:"postNewFieldProperty",value:function(e,t,n,r){g["a"].setLayoutFieldPropertyValue(this.m_reactLayout,e,t,n,r)}},{key:"PutBitmappedProperty",value:function(e,t){var n=this.getFieldPropertyValue(e,"linkedto");if(this[e]!==(1===t)){var r=Number(this.getFieldPropertyValue(e,"bit"))-1;this[n]&=~(1<<r),1===t&&(this[n]|=1<<r),this.setNormalValue(e,t)}}},{key:"getParent",value:function(){return this.m_owner}},{key:"clone",value:function(){}},{key:"getContentsCount",value:function(){return this.m_lstContents.length}},{key:"getFieldPropertyValue",value:function(e,t){return this.FieldPropertyValue(e,t)}},{key:"getOldItem",value:function(e){}},{key:"setFieldPropertyValue",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e+":"+t;null!=n?n.startsWith("##FLD_")||this.m_lstCachedAttributes.put(a,n):this.m_lstCachedAttributes.containsKey(a)&&this.m_lstCachedAttributes.delete(a),r&&this.m_owner.getOwnerApp().addEvaluatedAttributesList(this.m_owner.getName(),a),this.postNewFieldProperty(k["a"].PROP_NAME,e,t,n,r)}},{key:"setNodePropertyValue",value:function(e,t,n,r){g["a"].setLayoutFieldPropertyValue(this.m_reactLayout,e,t,n,r)}},{key:"getName",value:function(){var e="";try{var t=new C["a"](this.getOwnerCollection().getName());t.append(".");var n=this.GetObjectIdString();E["a"].isEmpty(n)?t.append(this.getOwnerCollection().getObjectIndex(this)):t.append(n),e=t.toString()}catch(r){e="DataObject.0"}return e}},{key:"setOldItem",value:function(e,t){}},{key:"setOwnerColl",value:function(){}},{key:"setValue",value:function(e){}},{key:"get",value:function(e){return this.GetItem(e)}},{key:"getDirty",value:function(){return this.m_bDirty}},{key:"setDirty",value:function(e){this.m_bDirty=e}},{key:"getObjectIndex",value:function(){return this.getOwnerCollection().getObjectIndex(this)}},{key:"SafeGetVariableList",value:function(){return null!=this.m_lstVariables?this.m_lstVariables:this.m_lstVariables=new s["a"]}},{key:"getVariables",value:function(e){return this.getVariable(e)}},{key:"getVariable",value:function(e){return e.equals("##CHGFIELD##")?this.m_strChangeField:this.SafeGetVariableList().containsKey(e)?this.SafeGetVariableList().get(e):null}},{key:"putVariables",value:function(e,t){this.setVariable(e,t)}},{key:"setVariables",value:function(e,t){this.setVariable(e,t)}},{key:"setVariable",value:function(e,t){null==t?this.SafeGetVariableList().containsKey(e)&&this.SafeGetVariableList().delete(e):this.SafeGetVariableList().put(e,t)}},{key:"IsNew",value:function(){var e=this.m_bNewObject;if(!e)return e;if(this.m_owner.getStringKey())return e;try{var t=this.GetPropertyValue(this.m_owner.getIdFieldName()),n=v["a"].SafeToLong(t);if(n<=0)return e;var r=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("identity-key"),!0);return!r&&e}catch(a){return e}}},{key:"isNew",value:function(){return this.IsNew()}},{key:"loadFromJson",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"loadFromJson","string"===typeof t&&(t=JSON.parse(t)),e.next=4,this.loadFromJsonObject(this,t);case 4:return e.abrupt("return",this);case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadFromJsonObject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=regeneratorRuntime.keys(n);case 1:if((e.t1=e.t0()).done){e.next=16;break}if(r=e.t1.value,a=n[r],!Array.isArray(a)){e.next=13;break}return e.next=7,t.getContents(r);case 7:if(i=e.sent,null!=i){e.next=10;break}throw new u["a"]("loadFromJson(): Content collection "+r+" not found");case 10:return e.next=12,this.loadFromJsonArray(i,a);case 12:return e.abrupt("continue",1);case 13:t[r]=a,e.next=1;break;case 16:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"loadFromJsonArray",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(n,r){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=0;case 1:if(!(a<r.length())){t.next=9;break}return i=new e(n),t.next=5,this.loadFromJsonObject(i,r[a]);case 5:n.addItem(i,a);case 6:a++,t.next=1;break;case 9:case"end":return t.stop()}}),t,this)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"bind",value:function(e,t,n){}},{key:"getObjectItem",value:function(e){}},{key:"getPropertyGroup",value:function(e){}},{key:"getPropertyTitle",value:function(e){}},{key:"getFixedUpdateObjectName",value:function(){return this.m_owner.getFixedUpdateObjectName()}},{key:"getFixedObjectName",value:function(){return this.m_owner.getFixedObjectName()}},{key:"save",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,o,s,l,u,h,p,f,g,b,_,C,x,T,w,A,P,R,I,j,N,M,D,L,F,G,B,V,U,W,Y,H,X,q,z;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="",n="",a="",i="",o="",s="",l="",u=this.GetObjectIdString(!0),h=null,p=!0,!1,f=0,g=!0,!1,!S["a"].ParseBoolValue(a=this.m_owner.CollPropertyValue("readonly"),!1)){e.next=10;break}return this.m_bReadOnly=!0,e.abrupt("return",!0);case 10:if(b=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("transactions"),!1),_=this.m_owner.getConnection(),C="CXoneDataObject::Save",!this.m_bReadOnly&&!this.m_owner.getSpecial()){e.next=15;break}return e.abrupt("return",!0);case 15:if(null==this.m_owner.getOwnerObject()||!this.m_bDependent){e.next=18;break}if(!this.m_owner.getOwnerObject().IsNew()){e.next=18;break}return e.abrupt("return",!0);case 18:if(s=this.getIdFieldName(),o=u,o.contains("'")&&(o=S["a"].removeChars(o,"'")),o.contains(" ")&&(o=S["a"].removeChars(o," ")),o.contains(",")&&(o=S["a"].removeChars(o,",")),!this.m_bDirty){e.next=32;break}if(!this.m_bIsCurrentItem){e.next=31;break}if(x=!1,this.m_owner.getStringKey()?(S["a"].IsEmptyString(this.m_strObjectId)||0==this.m_strObjectId.compareToIgnoreCase("null"))&&(x=!0):this.m_lObjectId<=0&&(x=!0),!x){e.next=31;break}throw T="{0} failed. Object is current item and has no ID.",T=T.replace("{0}",C),new c["a"](-1990,T);case 31:this.IsNew()&&!0;case 32:if(w=new m["a"](this.m_owner.getConnection().getRowIdFieldName(),this.m_messages),w.SetTableName(this.getFixedUpdateObjectName()),e.prev=34,A=this.m_owner.getStringKey(),P=this.m_owner.getMultipleKey(),!this.m_bDirty){e.next=163;break}R=S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("incremental-save"),!0),I=R?this.m_lstDirtyProperties:this.m_lstNormalProperties.keys(),j=0;case 41:if(!(j<I.length)){e.next=55;break}if(N=I[j],i=this.FieldPropertyValue(N,"type"),S["a"].IsEmptyString(i)){e.next=47;break}if(!i.equals("B")){e.next=47;break}return e.abrupt("continue",52);case 47:p=!0,A||!P&&N.equals(s)&&(p=!1),p&&(S["a"].IsEmptyString(this.getObjectName())||(N.startsWith("MAP_")&&(p=!1),"$"!=N.charAt(0)&&"#"!=N.charAt(0)||(p=!1),!N.equals(this.m_owner.getConnection().getRowIdFieldName())||S["a"].IsEmptyString(o)||o.equals("NULL")||(p=!1))),p&&(a=this.FieldPropertyValue(N,"readonly"),S["a"].ParseBoolValue(a,!1)&&(p=!1)),p&&(N.equals(this.m_owner.getConnection().getRowIdFieldName())&&(g=!1),i=N,n=S["a"].IsEmptyString(a=this.FieldPropertyValue(i,"alias"))?this.MapField(i,!0):a,M=null,this.m_lstNormalProperties.containsKey(N)&&(M=this.m_lstNormalProperties.get(N)),S["a"].IsEmptyString(a=this.FieldPropertyValue(N,"mapcol"))||null!=M&&(O["a"].IsNumeric(M)?(D=v["a"].SafeToLong(M),M=0==D?null:D):(a=M.toString(),M=S["a"].IsEmptyString(a)?null:a)),a=this.DevelopObjectValue(M),"string"===typeof M&&!S["a"].IsEmptyString(a)&&a.length>2&&this.m_owner.getConnection().HasEscapeChars()&&(a=this.m_owner.getConnection().EscapeString(a.substring(1,a.length-2)),a="'"+a+"'"),L=this.reverseResolveFieldName(n),w.SetFieldValue(L,a),S["a"].ParseBoolValue(this.FieldPropertyValue(N,k["a"].PROP_ATTR_EMBED),!1)&&w.SetFieldType(L,1));case 52:j++,e.next=41;break;case 55:if(!(w.GetFields().length>0)){e.next=163;break}if(this.IsNew()){e.next=73;break}return!1,P?w.SetWhereSentence(this.GetMultipleKeyString(!0)):w.SetWhereSentence("WHERE "+s+"="+u),w.SetSqlType(y["a"].SQLTYPE_UPDATE),w.SetFieldValue(s,this.getId()),w.addkey(s),t=w.RegenerateSql(),w.SetSqlType(y["a"].SQLTYPE_UPDATE),(this.m_owner.getIsDebugging()||this.m_owner.getOwnerApp().isDebugMode())&&k["a"].DebugLog(k["a"].TAG_DATABASE_LOG,t),e.next=67,this.m_owner.getConnection().ExecuteSqlStringAsync(null,w,!1,this.m_owner.getName(),Object(r["a"])({},s,u));case 67:if(e.t0=e.sent,null!=e.t0){e.next=70;break}return e.abrupt("return",!1);case 70:a=this.m_owner.getMultipleKey()?" WHERE "+this.GetMultipleKeyString(!0):" WHERE "+this.getIdFieldName()+"="+this.GetObjectIdString(!0),e.next=163;break;case 73:if(!0,l=this.getRowId(),!this.m_owner.getConnection().getIsReplicating()&&(A||P)){e.next=92;break}if(!g){e.next=89;break}case 77:if(l=this.m_owner.GenerateRowId(),!this.m_owner.IsUniqueRowId(l)){e.next=81;break}return e.abrupt("break",83);case 81:e.next=77;break;case 83:a=this.DevelopObjectValue(l),w.SetFieldValue(this.m_owner.getConnection().getRowIdFieldName(),a),w.addkey(this.m_owner.getConnection().getRowIdFieldName()),a=l,e.next=91;break;case 89:F=this.GetRawPropertyValue(this.m_owner.getConnection().getRowIdFieldName()),null!=F&&(l=F.toString(),a="'"+l+"'");case 91:w.SetSqlType(y["a"].SQLTYPE_INSERT);case 92:if(t=w.RegenerateSql(),(this.m_owner.getIsDebugging()||this.m_owner.getOwnerApp().isDebugMode())&&(k["a"].DebugLog(k["a"].TAG_DATABASE_LOG,t),this.getOwnerApp().writeConsoleString(t)),G=!1,b&&(b=_.supportsTransactions()),b&&_.beginTrans(),B=!1,!_.acceptsParsedSentences()){e.next=104;break}return e.next=101,_.ExecuteParsedSqlAsync(null,w,G,this.m_owner.getName());case 101:B=e.sent,e.next=107;break;case 104:return e.next=106,_.ExecuteSqlStringAsync(null,t,G,this.m_owner.getName());case 106:B=e.sent;case 107:if("boolean"!==typeof B||B){e.next=110;break}return b&&_.rollBack(),e.abrupt("return",!1);case 110:if(!B.hasOwnProperty("isResultset")){e.next=124;break}if(V=this.m_owner.CollPropertyValue("save-result"),E["a"].isEmpty(V)){e.next=124;break}return e.next=115,this.m_owner.getOwnerApp().getCollection(V);case 115:if(U=e.sent,null==U){e.next=124;break}return e.next=119,U.CreateObject();case 119:return W=e.sent,U.addItem(W),e.next=123,W.Load(B);case 123:this.m_owner.getOwnerApp().pushValue(W);case 124:if(A||P){e.next=162;break}if(!_.retrievesAutonumericKeys()){e.next=129;break}try{Y=a,Y.startsWith("'")||(Y="'"+Y),Y.endsWith("'")||(Y+="'"),f=_.RetrieveNumericKey(this.getFixedObjectName(),s,this.m_owner.getRowIdFieldName(),Y)}catch(K){f=-1}e.next=162;break;case 129:if(t="SELECT "+s+" FROM "+this.getFixedObjectName()+" WHERE "+this.m_owner.getRowIdFieldName()+"="+a,(this.m_owner.getIsDebugging()||this.m_owner.getOwnerApp().isDebugMode())&&k["a"].DebugLog(k["a"].TAG_DATABASE_LOG,"Save Find Record: "+t),null!=(h=this.m_owner.getConnection().CreateRecordset(t))){e.next=138;break}throw t="DELETE FROM "+this.m_owner.getFixedObjectName()+" WHERE "+this.m_owner.getRowIdFieldName()+"="+a,this.m_owner.getConnection().ExecuteSqlString(t),H=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_SAVEFAIL,"{0} failed. Cannot get Object ID."),H=H.replace("{0}",C),b&&_.rollBack(),new c["a"](-1999,H);case 138:return e.next=140,h.next();case 140:if(!e.sent){e.next=160;break}if(A){e.next=159;break}if(X=null,X=h.getValue(s,this.m_owner.getIdFieldType()),f=v["a"].SafeToLong(X),0!=f){e.next=157;break}if(!b){e.next=150;break}_.rollBack(),e.next=157;break;case 150:if(t="DELETE FROM "+this.m_owner.getFixedObjectName()+" WHERE "+this.m_owner.getRowIdFieldName()+"='"+l+"'",null!=this.m_owner.getConnection().ExecuteSqlString(t)){e.next=153;break}return e.abrupt("return",!1);case 153:throw q=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_SAVEFAIL_02,"{0} failed. Field '{1}' seems to be non-identity or it is not being updated."),q=q.replace("{0}",C),q=q.replace("{1}",s),new c["a"](-19899,q);case 157:e.next=160;break;case 159:f=-1;case 160:h.close(),h=null;case 162:this.m_bNewObject=!1;case 163:return f>0&&(S["a"].IsEmptyString(l)&&(l=this.getRowId()),A||(this.put(s,f),this.m_strObjectId=String.format("%s",f)),this.m_lObjectId=f,g&&this.put(this.m_owner.getRowIdFieldName(),w.GetRowId())),z=!0,e.abrupt("return",z);case 168:if(e.prev=168,e.t1=e["catch"](34),null!=h){try{h.close()}catch(J){}h=null}throw b&&_.rollBack(),e.t1;case 173:case"end":return e.stop()}}),e,this,[[34,168]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"ClearCaches",value:function(){this.m_lstCachedAttributes.clear()}},{key:"deleteObject",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="",n=!1,r=!1,a="CXoneDataObject::DeleteObject",e.prev=4,!this.m_owner.getSpecial()){e.next=7;break}return e.abrupt("return",!0);case 7:if(n=!this.m_bFollowRules||this.CanDelete(),n&&(this.m_owner.getSpecial()||(r=!0)),!r){e.next=15;break}if(this.ExecuteDeleteActions()){e.next=15;break}throw this.m_bFollowRules=!0,i=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_DELETEOBJFAIL_01,"{0} failed. Pre-delete actions have not been executed."),i=i.replace("{0}",a),new c["a"](-6e3,i);case 15:if(S["a"].IsEmptyString(this.getObjectName())||this.GetObjectIdString().equals("NULL")){e.next=30;break}if(!n){e.next=28;break}return t="DELETE FROM "+this.getFixedObjectName()+" WHERE "+this.getIdFieldName()+"="+this.GetObjectIdString(!0),(this.m_owner.getIsDebugging()||this.m_owner.getOwnerApp().isDebugMode())&&k["a"].DebugLog(k["a"].TAG_DATABASE_LOG,t),o=this.m_owner.getConnection().getRowIdFieldName(),s=new m["a"](o),s.ParseSqlString(t),s.SetFieldValue(this.getIdFieldName(),this.getId()),s.addkey(this.getIdFieldName()),e.next=26,this.m_owner.getConnection().ExecuteSqlStringAsync(null,s,!1,this.m_owner.getName());case 26:e.next=30;break;case 28:return this.m_bFollowRules=!0,e.abrupt("return",!1);case 30:if(!n||!r){e.next=36;break}if(this.ExecuteDeleteActions(!0)){e.next=36;break}throw this.m_bFollowRules=!0,l=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_DELETEOBJFAIL_02,"{0} failed. Could not execute post-delete actions."),l=l.replace("{0}",a),new c["a"](-6001,l);case 36:return this.m_bFollowRules=!0,e.abrupt("return",!0);case 40:throw e.prev=40,e.t0=e["catch"](4),u=e.t0.message,h=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),h=h.replace("{0}",a),E["a"].isEmpty(u)||(h=h.concat(u)),new c["a"](-1001,e.t0,h);case 47:case"end":return e.stop()}}),e,this,[[4,40]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"CanDelete",value:function(){var e,t,n=this.GetObjectIdString(!0);try{if(S["a"].IsEmptyString(n))return!0;t=this.m_owner;do{e=null;var r=t.GetNode("delete");if(null!=r&&(e=r.SelectNodes("rule"),e.count()>0))break;t=t.getParentCollection()}while(null!=t);if(null!=e)for(var a=0;a<e.count();a++){var i=e.get(a);if(!this.EvaluateRule(i))return!1}if(S["a"].ParseBoolValue(this.m_owner.CollPropertyValue("readonly"),!1)){var o=this.m_messages.GetMessage(d["a"].SYS_MSG_OBJ_CANNOTDELETE,"Cannot delete object. Collection '{0}' is read-only.");throw o=o.replace("{0}",this.m_owner.getName()),new c["a"](-8101,o)}return!0}catch(u){var s=u.message,l=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. ");throw l=l.replace("{0}","CXoneDataObject::CanDelete"),E["a"].isEmpty(s)||(l=l.concat(s)),new c["a"](-10151,u,l)}}},{key:"ExecuteDeleteActions",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]&&h[0],r=this.GetObjectIdString(!0),e.prev=2,!S["a"].IsEmptyString(r)){e.next=5;break}return e.abrupt("return",!0);case 5:a=this.m_owner;case 6:if(i=a.GetNode("delete"),null!=i){e.next=9;break}return e.abrupt("return",!0);case 9:n=i.SelectNodes(t?"afteraction":"action"),o=0;case 11:if(!(o<n.count())){e.next=22;break}if(s=n.get(o),this.EvaluateNodeRules(s)){e.next=15;break}return e.abrupt("continue",19);case 15:return e.next=17,this.ExecuteNodeAction(null,s,2,null);case 17:if(e.sent){e.next=19;break}return e.abrupt("return",!1);case 19:o++,e.next=11;break;case 22:a=a.getParentCollection();case 23:if(null!=a){e.next=6;break}case 24:return e.abrupt("return",!0);case 27:throw e.prev=27,e.t0=e["catch"](2),l=e.t0.message,u=this.m_messages.GetMessage(d["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),u=u.replace("{0}","CXoneDataObject::ExecuteDeleteActions"),E["a"].isEmpty(l)||(u=u.concat(l)),new c["a"](-10171,e.t0,u);case 34:case"end":return e.stop()}}),e,this,[[2,27]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getRowId",value:function(){return S["a"].SafeToString(this.get(this.m_owner.getConnection().getRowIdFieldName()))}},{key:"setRowId",value:function(e){this.put(this.m_owner.getConnection().getRowIdFieldName(),e)}},{key:"setFollowRules",value:function(e){this.m_bFollowRules=e}}]),e}();T.PARSE_NODE_NAME=0,T.PARSE_EXPECTING_OPEN_PAR=1,T.PARSE_PARAM_VALUE=2,T.PARSE_EXPECTING_COMMA=3},aec6:function(e,t,n){},b39f:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("8a79"),n("6dc9")),s=n("3be9"),l=function(){function e(t){Object(a["a"])(this,e),this.m_stringData=["Valor prueba texto","Texto corto","0002346","Otro texto","Un texto mas largo de prueba","Mas texto"],this.m_maxRows=100,this.isResultset=!0,this.m_nIterate=0,this.m_parsed=new o["a"]("ROWID"),this.m_parsed.ParseSqlString(t)}return Object(i["a"])(e,[{key:"getBytes",value:function(e){return null}},{key:"getColumnCount",value:function(){return this.m_parsed.getQueryFields().length}},{key:"getColumnTypes",value:function(){return[1,2,3,4,5,6,7,8]}},{key:"getColumnName",value:function(e){if(e<this.m_parsed.getQueryFields().length){var t=this.m_parsed.getQueryFields()[e].getResolvedName();return(t.endsWith("*")||s["a"].isEmpty(t))&&(t="Column"+e),t}return"Column"+e}},{key:"getData",value:function(){return this.m_stringData}},{key:"close",value:function(){this.m_nIterate=0}},{key:"getValue",value:function(e,t){switch(t){case 0:return Math.floor(999*Math.random())+1;case 2:return 999*Math.random()+1;case 3:return new Date;default:return this.m_stringData[Math.floor(6*Math.random())]}return"Test Value"}},{key:"getString",value:function(e){return"test string"}},{key:"getInt",value:function(e){return Math.floor(999*Math.random())+1}},{key:"getDate",value:function(e){return new Date}},{key:"next",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate++!=this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EOF",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveTo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t==this.m_maxRows||(this.m_nIterate=t)==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},b512:function(e,t){window.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}},b7a7:function(e,t,n){},b8b9:function(e,t,n){},be29:function(e,t,n){"use strict";n("cdfe")},c187:function(e,t,n){"use strict";n("97dd")},cdfe:function(e,t,n){},ce48:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("d4ec"),a=n("bee2"),i=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,[{key:"clear",value:function(){}},{key:"getDescription",value:function(){return this.m_description}},{key:"getFailedSql",value:function(){return this.m_failedSql}},{key:"setFailedSql",value:function(e){this.m_failedSql=e}},{key:"getNumber",value:function(){return this.m_code}},{key:"setNumber",value:function(e){this.m_code=e}},{key:"setDescription",value:function(e){this.m_description=e}}]),e}()},d2c7:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={SYS_MSG_GENERALFAIL:"SYS_MSG_GENERALFAIL",SYS_MSG_DATASRCFAIL:"SYS_MSG_DATASRCFAIL",SYS_MSG_FILENOTFOUND:"SYS_MSG_FILENOTFOUND",SYS_MSG_FILENOTFOUND_01:"SYS_MSG_FILENOTFOUND_01",SYS_MSG_FORMULAERROR:"SYS_MSG_FORMULAERROR",SYS_MSG_COLL_CIRCULARCOLLDEF:"SYS_MSG_COLL_CIRCULARCOLLDEF",SYS_MSG_COLL_UNDEFINEDFIELD:"SYS_MSG_COLL_UNDEFINEDFIELD",SYS_MSG_COLL_NONAME:"SYS_MSG_COLL_NONAME",SYS_MSG_COLL_CANNOTCREATEOBJ:"SYS_MSG_COLL_CANNOTCREATEOBJ",SYS_MSG_COLL_SQLPARSEERROR:"SYS_MSG_COLL_SQLPARSEERROR",SYS_MSG_COLL_SQLPARSEERROR_01:"SYS_MSG_COLL_SQLPARSEERROR_01",SYS_MSG_COLL_CANNOTQUALIFY:"SYS_MSG_COLL_CANNOTQUALIFY",SYS_MSG_COLL_XPROPVALUEFAIL:"SYS_MSG_COLL_XPROPVALUEFAIL",SYS_MSG_COLL_PREPARESQLFAIL:"SYS_MSG_COLL_PREPARESQLFAIL",SYS_MSG_COLL_COLLCONNOPENERR:"SYS_MSG_COLL_COLLCONNOPENERR",SYS_MSG_COLL_LOADALLFAIL_02:"SYS_MSG_COLL_LOADALLFAIL_02",SYS_MSG_COLL_LOADALLFAIL_03:"SYS_MSG_COLL_LOADALLFAIL_03",SYS_MSG_COLL_CREATECLONEFAIL:"SYS_MSG_COLL_CREATECLONEFAIL",SYS_MSG_COLL_GETROWCOUNTFAIL:"SYS_MSG_COLL_GETROWCOUNTFAIL",SYS_MSG_COLL_EXECUTENODEFAIL:"SYS_MSG_COLL_EXECUTENODEFAIL",SYS_MSG_COLL_EMBEDFILTERFAIL:"SYS_MSG_COLL_EMBEDFILTERFAIL",SYS_MSG_COLL_LOOKUPOBJFAIL_02:"SYS_MSG_COLL_LOOKUPOBJFAIL_02",SYS_MSG_COLL_LOOKUPOBJFAIL_03:"SYS_MSG_COLL_LOOKUPOBJFAIL_03",SYS_MSG_COLL_EVALMACROFAIL_01:"SYS_MSG_COLL_EVALMACROFAIL_01",SYS_MSG_COLL_EVALMACROFAIL_02:"SYS_MSG_COLL_EVALMACROFAIL_02",SYS_MSG_COLL_FIELDEXISTSFAIL:"SYS_MSG_COLL_FIELDEXISTSFAIL",SYS_MSG_COLL_LOADCURRITEMFAIL_01:"SYS_MSG_COLL_LOADCURRITEMFAIL_01",SYS_MSG_OBJ_GENERATEFLDFAIL:"SYS_MSG_OBJ_GENERATEFLDFAIL",SYS_MSG_OBJ_SAVEFAIL:"SYS_MSG_OBJ_SAVEFAIL",SYS_MSG_OBJ_SAVEFAIL_02:"SYS_MSG_OBJ_SAVEFAIL_02",SYS_MSG_OBJ_DELETEOBJFAIL_01:"SYS_MSG_OBJ_DELETEOBJFAIL_01",SYS_MSG_OBJ_DELETEOBJFAIL_02:"SYS_MSG_OBJ_DELETEOBJFAIL_02",SYS_MSG_OBJ_CREATEFAIL_01:"SYS_MSG_OBJ_CREATEFAIL_01",SYS_MSG_OBJ_CREATEFAIL_02:"SYS_MSG_OBJ_CREATEFAIL_02",SYS_MSG_OBJ_CREATEFAIL_03:"SYS_MSG_OBJ_CREATEFAIL_03",SYS_MSG_OBJ_COPYPROPFAIL:"SYS_MSG_OBJ_COPYPROPFAIL",SYS_MSG_OBJ_LINKFAIL_01:"SYS_MSG_OBJ_LINKFAIL_01",SYS_MSG_OBJ_LINKFAIL_02:"SYS_MSG_OBJ_LINKFAIL_02",SYS_MSG_OBJ_CANNOTDELETE:"SYS_MSG_OBJ_CANNOTDELETE",SYS_MSG_OBJ_GETNORMALPROPFAIL:"SYS_MSG_OBJ_GETNORMALPROPFAIL",SYS_MSG_OBJ_PROCESSVALFAIL:"SYS_MSG_OBJ_PROCESSVALFAIL",SYS_MSG_OBJ_NOXLATTARGET:"SYS_MSG_OBJ_NOXLATTARGET",SYS_MSG_OBJ_XLATMISSINGFLD:"SYS_MSG_OBJ_XLATMISSINGFLD",SYS_MSG_OBJ_EXECUTEMETHODFAIL_01:"SYS_MSG_OBJ_EXECUTEMETHODFAIL_01",SYS_MSG_OBJ_EXECUTEMETHODFAIL_02:"SYS_MSG_OBJ_EXECUTEMETHODFAIL_02",SYS_MSG_OBJ_RESTOREMAPFLDFAIL_01:"SYS_MSG_OBJ_RESTOREMAPFLDFAIL_01",SYS_MSG_OBJ_RESTOREMAPFLDFAIL_02:"SYS_MSG_OBJ_RESTOREMAPFLDFAIL_02",SYS_MSG_OBJ_RESTOREMAPFLDFAIL_03:"SYS_MSG_OBJ_RESTOREMAPFLDFAIL_03",SYS_MSG_OBJ_LOADCONTENTFAIL_01:"SYS_MSG_OBJ_LOADCONTENTFAIL_01",SYS_MSG_OBJ_LOADCONTENTFAIL_02:"SYS_MSG_OBJ_LOADCONTENTFAIL_02",SYS_MSG_OBJ_REPLFLDVALUEMACROFAIL:"SYS_MSG_OBJ_REPLFLDVALUEMACROFAIL",SYS_MSG_OBJ_PUTITEMFAIL:"SYS_MSG_OBJ_PUTITEMFAIL",SYS_MSG_OBJ_GETFORMULAPROPFAIL_01:"SYS_MSG_OBJ_GETFORMULAPROPFAIL_01",SYS_MSG_OBJ_GETFORMULAPROPFAIL_02:"SYS_MSG_OBJ_GETFORMULAPROPFAIL_02",SYS_MSG_OBJ_GETEXTFORMULAFAIL:"SYS_MSG_OBJ_GETEXTFORMULAFAIL",SYS_MSG_OBJ_CHKUNIQFLDFAIL_01:"SYS_MSG_OBJ_CHKUNIQFLDFAIL_01",SYS_MSG_OBJ_CHKUNIQFLDFAIL_02:"SYS_MSG_OBJ_CHKUNIQFLDFAIL_02",SYS_MSG_OBJ_UPDDEPTHFAIL_01:"SYS_MSG_OBJ_UPDDEPTHFAIL_01",SYS_MSG_OBJ_UPDDEPTHFAIL_02:"SYS_MSG_OBJ_UPDDEPTHFAIL_02",SYS_MSG_OBJ_UPDATECNTFAIL:"SYS_MSG_OBJ_UPDATECNTFAIL",SYS_MSG_OBJ_SETVALFAIL:"SYS_MSG_OBJ_SETVALFAIL",SYS_MSG_OBJ_DOLINKFAIL:"SYS_MSG_OBJ_DOLINKFAIL",SYS_MSG_OBJ_SETFLDVALFAIL:"SYS_MSG_OBJ_SETFLDVALFAIL",SYS_MSG_OBJ_MAPVALFAIL:"SYS_MSG_OBJ_MAPVALFAIL",SYS_MSG_OBJ_EXECCOMPSQLFAIL_01:"SYS_MSG_OBJ_EXECCOMPSQLFAIL_01",SYS_MSG_OBJ_EXECCOMPSQLFAIL_02:"SYS_MSG_OBJ_EXECCOMPSQLFAIL_02",SYS_MSG_OBJ_RULEFAIL:"SYS_MSG_OBJ_RULEFAIL",SYS_MSG_OBJ_RULEFAIL_02:"SYS_MSG_OBJ_RULEFAIL_02",SYS_MSG_OBJ_FAILIFNULLFAIL:"SYS_MSG_OBJ_FAILIFNULLFAIL",SYS_MSG_OBJ_EOFRULEFAIL:"SYS_MSG_OBJ_EOFRULEFAIL",SYS_MSG_OBJ_COMPARENUMBERFAIL:"SYS_MSG_OBJ_COMPARENUMBERFAIL",SYS_MSG_OBJ_INCORRECTVALUE:"SYS_MSG_OBJ_INCORRECTVALUE",SYS_MSG_CONN_CONNFACTORY:"SYS_MSG_CONN_CONNFACTORY",SYS_MSG_CONN_LOADERROR:"SYS_MSG_CONN_LOADERROR",SYS_MSG_CONN_RPLLOADERROR:"SYS_MSG_CONN_RPLLOADERROR",SYS_MSG_CONN_INCORRECVALUE:"SYS_MSG_CONN_INCORRECVALUE",SYS_MSG_CONN_INNERCMDNULL:"SYS_MSG_CONN_INNERCMDNULL",SYS_MSG_CONN_INVALIDACTION:"SYS_MSG_CONN_INVALIDACTION",SYS_MSG_CONN_CMDNOTINITIALIZED:"SYS_MSG_CONN_CMDNOTINITIALIZED",SYS_MSG_CONN_CONNNOTINITIALIZED:"SYS_MSG_CONN_CONNNOTINITIALIZED",SYS_MSG_CONN_CLIENTFILENOTFOUND:"SYS_MSG_CONN_CLIENTFILENOTFOUND",SYS_MSG_CONN_SQLSYNTAXERROR:"SYS_MSG_CONN_SQLSYNTAXERROR",SYS_MSG_CONN_SQLPARSEERROR:"SYS_MSG_CONN_SQLPARSEERROR",SYS_MSG_CONN_INVALIDPARAMVAL:"SYS_MSG_CONN_INVALIDPARAMVAL",SYS_MSG_CONN_QUEUEINSERTERROR_01:"SYS_MSG_CONN_QUEUEINSERTERROR_01",SYS_MSG_CONN_QUEUEINSERTERROR_02:"SYS_MSG_CONN_QUEUEINSERTERROR_02",SYS_MSG_CONN_INCORRECTPARAM_01:"SYS_MSG_CONN_INCORRECTPARAM_01",SYS_MSG_CONN_INCORRECTPARAM_02:"SYS_MSG_CONN_INCORRECTPARAM_02",SYS_MSG_CONN_INVALIDCONNSTRING:"SYS_MSG_CONN_INVALIDCONNSTRING",SYS_MSG_APP_CANNOTCREATEMAINCONN:"SYS_MSG_APP_CANNOTCREATEMAINCONN",SYS_MSG_APP_OPENCONNERROR:"SYS_MSG_APP_OPENCONNERROR",SYS_MSG_APP_LOGONNOUSERCOLL:"SYS_MSG_APP_LOGONNOUSERCOLL",SYS_MSG_APP_LOGONUSERNOTFOUND:"SYS_MSG_APP_LOGONUSERNOTFOUND",SYS_MSG_APP_UNKNOWNSYSMACRO:"SYS_MSG_APP_UNKNOWNSYSMACRO",SYS_MSG_APP_ONLOGONFAILED:"SYS_MSG_APP_ONLOGONFAILED",SYS_MSG_APP_ENTIDLEVELFAILED_01:"SYS_MSG_APP_ENTIDLEVELFAILED_01",SYS_MSG_APP_NOCOMPANYCOLL:"SYS_MSG_APP_NOCOMPANYCOLL",SYS_MSG_APP_NOCOMPANY:"SYS_MSG_APP_NOCOMPANY",SYS_MSG_XERR_UNKNOWNMETHOD:"SYS_MSG_XERR_UNKNOWNMETHOD",SYS_MSG_CTX_STAKUNDERFLOW:"SYS_MSG_CTX_STAKUNDERFLOW",SYS_MSG_USR_READONLYFIELD:"SYS_MSG_USR_READONLYFIELD",SYS_MSG_SQL_STRIPFIELDERROR:"SYS_MSG_SQL_STRIPFIELDERROR",SYS_MSG_SQL_ADDFIELDERROR:"SYS_MSG_SQL_ADDFIELDERROR",SYS_MSG_SQL_EMPTYBUFFERERROR:"SYS_MSG_SQL_EMPTYBUFFERERROR",SYS_MSG_SQL_INCOMPLETETOKEN:"SYS_MSG_SQL_INCOMPLETETOKEN",SYS_MSG_SQL_SYNTAXERROR:"SYS_MSG_SQL_SYNTAXERROR",SYS_MSG_DBG_LINKDISCONNECTED:"SYS_MSG_DBG_LINKDISCONNECTED",SYS_MSG_VBS_BADPARAMCOUNT:"SYS_MSG_VBS_BADPARAMCOUNT"}},d2fd:function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r,a=n("2909"),i=n("53ca"),o=n("3835"),s=n("1da1"),l=n("d4ec"),u=n("bee2"),c=(n("96cf"),n("a4d3"),n("e01a"),n("d3b7"),n("ac1f"),n("1276"),n("498a"),n("5319"),n("25f0"),n("159b"),n("4fad"),n("99af"),n("2ca0"),n("8a79"),n("fb6a"),n("3be9")),d=n("57ee"),h=n("3019"),p=n("f0ed"),f=n("ae56"),m=n("0912"),g=n("984b"),b=n("d2c7"),_=n("3548"),v=function(){function e(){Object(l["a"])(this,e)}return Object(u["a"])(e,null,[{key:"RsReadLong",value:function(e,t){var n=0;try{n=e.getInt(t)}catch(r){}return n}},{key:"RsReadInt",value:function(e,t){return this.RsReadLong(e,t)}},{key:"RsReadString",value:function(e,t){var n=p["a"].EMPTY_STRING;try{n=e.getString(t),n=d["a"].SafeToString(n)}catch(r){r.printStackTrace()}return n}}]),e}(),O=n("927f"),y=function(){function e(t,n){Object(l["a"])(this,e),this.m_lstMacros=new h["a"],this.m_parsedMacros=new Array,this.m_ownerApp=t,this.m_ownerColl=n}return Object(u["a"])(e,[{key:"getMacro",value:function(e){return this.m_lstMacros.containsKey(e)?this.m_lstMacros.get(e):null}},{key:"getMacros",value:function(){return this.m_evaluatedMacros?this.m_evaluatedMacros.toObject():{}}},{key:"ParseMacros",value:function(e){if(e){var t=e.slice(),n=-1;while((n=t.indexOf("##"))>=0){var r=t.indexOf("##",n+1);if(r>n){var a=t.substr(n,r-n+2).trim();this.m_parsedMacros.indexOf(a)<0&&!a.equals("##PREF##")&&this.m_parsedMacros.push(a),t=t.replace(a,"")}}}}},{key:"setMacro",value:function(e,t){var n=t;null==n&&(n=""),this.m_lstMacros.put(e,n),this.m_parsedMacros&&this.m_parsedMacros.indexOf(e)<0&&this.m_parsedMacros.push(e);var r=this.m_ownerColl.BrowseData.getParsedAccessString();null!=r&&r.GetSentence().contains(e)&&this.m_ownerColl.BrowseData.clearParsedAccessString()}},{key:"CopyMacros",value:function(e){this.m_lstMacros.entrySet().forEach((function(t){return e.setMacro(t[0],t[1])}))}},{key:"EvaluateAllMacrosOld",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,c=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]&&c[1],null!=t){e.next=3;break}return e.abrupt("return",null);case 3:r=this.m_ownerColl.getLookupMacroName(),a=t,i=0;case 6:if(!(i<a.length)){e.next=27;break}if(i=a.indexOf("##",i),-1!=i){e.next=10;break}return e.abrupt("break",27);case 10:if(o=a.indexOf("##",i+2),-1!=o){e.next=13;break}return e.abrupt("break",27);case 13:if(s=a.substring(i,o+2),l=!0,n||d["a"].IsEmptyString(r)||r.equals(s)&&(l=!1),u=void 0,!l){e.next=23;break}return e.next=20,this.EvaluateMacro(s);case 20:u=e.sent,e.next=24;break;case 23:u=s;case 24:s.equals(u)?i=o+2:a=d["a"].Replace(a,s,u);case 25:e.next=6;break;case 27:return a.contains("##")&&(a=this.m_ownerApp.PrepareSqlString(a)),e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EvaluateAllMacros",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i=this,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:"",n=o.length>1&&void 0!==o[1]&&o[1],null!=t){e.next=4;break}return e.abrupt("return",null);case 4:return r=this.m_ownerColl.getLookupMacroName(),a=t,this.m_evaluatedMacros=new h["a"],e.next=9,this.m_parsedMacros.forEach(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=!0,n||d["a"].IsEmptyString(r)||r.equals(t)&&(a=!1),e.next=4,i.EvaluateMacro(t);case 4:o=e.sent,a&&i.m_evaluatedMacros.put(t,o),o.startsWith("##")&&i.m_evaluatedMacros.put(t,i.m_ownerApp.EvaluateMacro(t));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EvaluateMacro",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,c,h,p,f,m,_,y,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="CXoneDataCollection::EvaluateMacro",a=!1,o=this.m_ownerColl.getNode("macro","name",t),null!=o&&(r=O["a"].getNodeAttr(o,"filter"),a=d["a"].ParseBoolValue(r,!1)),!this.m_lstMacros.containsKey(t)){e.next=14;break}if(s=this.m_lstMacros.get(t),i=a?this.m_ownerColl.DevelopObjectValue(s):d["a"].SafeToString(s),d["a"].IsEmptyString(i)||!this.m_ownerColl.getConnection()){e.next=14;break}if(r=this.m_ownerColl.getConnection().PrepareSqlString(i),!a){e.next=13;break}return e.next=12,this.m_ownerColl.BrowseData.PrepareFilter(r);case 12:r=e.sent;case 13:return e.abrupt("return",r);case 14:if(null!=o){e.next=16;break}return e.abrupt("return",t);case 16:if(i=O["a"].getNodeAttr(o,"value"),l="",u=null,!d["a"].IsEmptyString(i)){e.next=71;break}i="",c=o.SelectNodes("Node"),h=0;case 23:if(!(h<c.count())){e.next=71;break}if(p=c.get(h),!this.EvaluateNodeRules(p)){e.next=68;break}if(!"id-list".equals(O["a"].getNodeAttr(p,"name"))){e.next=68;break}if(i=O["a"].getNodeAttr(p,"mask"),l=O["a"].getNodeAttr(p,"sql"),null!=(u=this.m_ownerApp.getCurrentCompany())&&(l=u.PrepareSqlString(l)),f=null,m=null,e.prev=32,null!=(m=this.m_ownerColl.getConnection().GetNewConnection(!0))){e.next=38;break}throw _=this.m_ownerColl.GetMessage(b["a"].SYS_MSG_COLL_EVALMACROFAIL_01,"{0} failed. Error evaluating macro '{1}'. Cannot create new data connection."),_=_.replace("{0}",n),_=_.replace("{1}",t),new g["a"](-3998,_);case 38:return e.next=40,this.m_ownerColl.getConnection().CreateRecordsetAsync(m,l);case 40:if(e.t0=f=e.sent,null!=e.t0){e.next=47;break}throw m=null,y=this.m_ownerColl.GetMessage(b["a"].SYS_MSG_COLL_EVALMACROFAIL_02,"{0} failed. Error evaluating macro '{1}'. Error executing SQL query."),y=y.replace("{0}",n),y=y.replace("{1}",t),new g["a"](-3999,y);case 47:r="";case 48:return e.next=50,f.next();case 50:if(!e.sent){e.next=56;break}C=d["a"].SafeToString(v.RsReadLong(f,"N")),d["a"].IsEmptyString(r)||(r+=","),r+=C,e.next=48;break;case 56:f.close(),f=null,m=null,e.next=65;break;case 61:if(e.prev=61,e.t1=e["catch"](32),null!=f){try{f.close()}catch(S){}f=null}throw e.t1;case 65:return d["a"].IsEmptyString(r)&&(r="NULL"),i=d["a"].Replace(i,"##LIST##",r),e.abrupt("break",71);case 68:h++,e.next=23;break;case 71:return l=this.m_ownerColl.getConnection().PrepareSqlString(i),l.contains("##")&&(l=this.m_ownerColl.getConnection().ReplaceCustomOper(this.m_ownerColl,l,"##BIT##")),a&&(l=this.m_ownerColl.getConnection().PrepareFilter(l)),e.abrupt("return",l);case 75:case"end":return e.stop()}}),e,this,[[32,61]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EvaluateNodeRules",value:function(e){var t,n,r=null;t=e.SelectNodes("rule");for(var a=0;a<t.count();a++){var i=t.get(a);if(n=O["a"].getNodeAttr(i,"scope"),n.equals("current-enterprise")){if(null==r&&(r=this.m_ownerApp.getCompany()),null==r)return!1;if(!r.EvaluateRule(i))return!1}else;}return!0}}]),e}(),C=n("0e62"),S=n("262e"),E=n("2caf"),k=function(e){Object(S["a"])(n,e);var t=Object(E["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return n}(f["a"]),T=n("1c46"),w=function(){function e(){Object(l["a"])(this,e)}return Object(u["a"])(e,null,[{key:"encodeBytes",value:function(t){return e.encode(t)}},{key:"_keyStr",get:function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode",value:function(t){var n,r,a,i,o,s,l,u="",c=0;t=e._utf8_encode(t);while(c<t.length)n=t.charCodeAt(c++),r=t.charCodeAt(c++),a=t.charCodeAt(c++),i=n>>2,o=(3&n)<<4|r>>4,s=(15&r)<<2|a>>6,l=63&a,isNaN(r)?s=l=64:isNaN(a)&&(l=64),u=u+e._keyStr.charAt(i)+e._keyStr.charAt(o)+e._keyStr.charAt(s)+e._keyStr.charAt(l);return u}},{key:"decode",value:function(t){var n,r,a,i,o,s,l,u="",c=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<t.length)i=e._keyStr.indexOf(t.charAt(c++)),o=e._keyStr.indexOf(t.charAt(c++)),s=e._keyStr.indexOf(t.charAt(c++)),l=e._keyStr.indexOf(t.charAt(c++)),n=i<<2|o>>4,r=(15&o)<<4|s>>2,a=(3&s)<<6|l,u+=String.fromCharCode(n),64!=s&&(u+=String.fromCharCode(r)),64!=l&&(u+=String.fromCharCode(a));return u=e._utf8_decode(u),u}},{key:"_utf8_encode",value:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t}},{key:"_utf8_decode",value:function(e){var t="",n=0,r=0,a=0,i=0;while(n<e.length)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(a=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&a),n+=2):(a=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&a)<<6|63&i),n+=3);return t}}]),e}(),A=function(){function e(){Object(l["a"])(this,e)}return Object(u["a"])(e,null,[{key:"createHash",value:function(e,t,n){return c["a"].isEmpty(n)?p["a"].EMPTY_STRING:c["a"].isEmpty(e)?w.encodeBytes(n):c["a"].isEmpty(t)||"BASE64".compareToIgnoreCase(t)?Object(T["createHash"])(e).update(n).digest("base64"):"hex".equals(t)?Object(T["createHash"])(e).update(n).digest("hex").toLowerCase():"HEX".equals(t)?Object(T["createHash"])(e).update(n).digest("hex").toUpperCase():Object(T["createHash"])(e).update(n).digest("base64")}},{key:"encodeHash",value:function(e,t){return null==e||0==e.length?p["a"].EMPTY_STRING:c["a"].isEmpty(t)||"BASE64".compareToIgnoreCase(t)?e.toString("base64"):"hex".equals(t)?e.toString("hex").toLowerCase():"HEX".equals(t)?e.toString("hex").toUpperCase():e.toString("base64")}}]),e}(),P=function(e){Object(S["a"])(n,e);var t=Object(E["a"])(n);function n(e){var r;Object(l["a"])(this,n),r=t.call(this,e);try{r.m_strHashType=e.FieldPropertyValue("PWD","hash-type"),d["a"].IsEmptyString(r.m_strEncode=e.FieldPropertyValue("PWD","encode"))&&(r.m_strEncode="base64")}catch(a){throw a}return r}return Object(u["a"])(n,[{key:"ValidateUserCredentials",value:function(e){var t=d["a"].SafeToString(e[0]),n=d["a"].SafeToString(this.get("PWD"));return d["a"].IsEmptyString(t)?d["a"].IsEmptyString(n):(d["a"].IsEmptyString(this.m_strHashType)||(t=A.createHash(this.m_strHashType,this.m_strEncode,t)),n.equals(t))}}]),n}(f["a"]),R=n("458e"),I=n("a33b"),j=n("54c9"),N=n("ef74"),M=n("b85c"),D=(n("7039"),n("ddb0"),n("3ca3"),n("6dc9")),L=n("733f"),F=n("54ab"),G=n("8277"),B=(n("b64b"),n("5eb9")),V=function(){function e(t,n){Object(l["a"])(this,e),this.m_ownerApp=t,this.m_ownerColl=n}return Object(u["a"])(e,[{key:"LookupObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,h,p,f,m,v,O,y,C,S;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=null,o=null,s=null,l=null,u="CXoneDataCollection::LookupObject",e.prev=5,d["a"].IsEmptyString(this.m_ownerColl.getLookupMacroName())||this.m_ownerColl.setMacro(this.m_ownerColl.getLookupMacroName(),n),!c["a"].isEmpty(i=this.m_ownerColl.getAccessString())){e.next=9;break}return e.abrupt("return",null);case 9:return d["a"].IsEmptyString(this.m_ownerColl.getLookupMacroName())||this.m_ownerColl.setMacro(this.m_ownerColl.getLookupMacroName(),null),e.next=12,this.m_ownerColl.BrowseData.ResolveFilters(!1,null,n);case 12:return h=e.sent,p=this.m_ownerColl.getSort(),this.m_ownerColl.ParseMacros(h),this.m_ownerColl.ParseMacros(p),this.m_ownerColl.ParseMacros(i),e.next=19,this.m_ownerColl.EvaluateAllMacros(i,!0);case 19:if(f=e.sent,m={coll:this.m_ownerColl.getName(),macros:this.m_ownerColl.getMacros(),where:h,sort:p,loadall:!1,page:{}},!window.generateTestingData){e.next=29;break}v=window.generateTestingData(this.m_ownerColl),s=new B["a"](this.m_ownerColl.getConnection().GetCurrentConnection(),v),s.m_data=v,s.m_keys=Object.keys(v[0]),s.m_maxRows=v.length,e.next=36;break;case 29:return e.next=31,this.m_ownerColl.getConnection().CreateRecordsetAsync(f,Object.assign({count:!1,page:{start:0,length:2}},m));case 31:if(e.t0=s=e.sent,null!=e.t0){e.next=36;break}throw O=this.m_ownerColl.GetMessage(b["a"].SYS_MSG_COLL_LOOKUPOBJFAIL_02,"{0} failed. Error executing data access query."),O=O.replace("{0}",u),new g["a"](-5634,O);case 36:return e.next=38,s.next();case 38:if(!e.sent){e.next=69;break}if(this.m_ownerColl.strPk.contains(",")||(a="",l=s.getValue(this.m_ownerColl.strPk,this.m_ownerColl.Options.nPkType),this.m_ownerColl.Options.bStringPk||(l=_["a"].SafeToInt(l)),a=this.m_ownerColl.BrowseData.DevelopObjectValue(l)),d["a"].IsEmptyString(a)||this.m_ownerColl.BrowseData.ObjectList.containsKey(a)&&(o=this.m_ownerColl.BrowseData.ObjectList.get(a)),y=!1,null!=o){e.next=53;break}return e.next=45,this.m_ownerColl.CreateObject(!1);case 45:if(o=e.sent,null!=o){e.next=52;break}throw s.close(),s=null,C=this.m_ownerColl.GetMessage(b["a"].SYS_MSG_COLL_LOOKUPOBJFAIL_03,"{0} failed. CreateObject returned NULL."),C=C.replace("{0}",u),new g["a"](-5635,C);case 52:y=!0;case 53:if(S=!0,!y&&!this.m_ownerColl.Options.bVolatile){e.next=58;break}return e.next=57,o.Load(s);case 57:S=e.sent;case 58:if(s.close(),s=null,S){e.next=63;break}return o=null,e.abrupt("return",null);case 63:if(!y){e.next=67;break}if(this.m_ownerColl.addItem(o)){e.next=67;break}return o=null,e.abrupt("return",null);case 67:e.next=71;break;case 69:s.close(),s=null;case 71:return e.abrupt("return",o);case 74:if(e.prev=74,e.t1=e["catch"](5),null!=s){try{s.close()}catch(t){}s=null}throw e.t1;case 78:case"end":return e.stop()}}),e,this,[[5,74]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"LookupObjectByObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=null,r=null,a=null,i=null,o="CXoneDataCollection::LookupObject",e.prev=5,e.next=8,this.m_ownerColl.getConnection().CreateRecordsetAsync(null,{count:!0,coll:this.m_ownerColl.getName(),loadall:!0,page:{}});case 8:if(e.t0=a=e.sent,null!=e.t0){e.next=13;break}throw s=this.m_ownerColl.GetMessage(b["a"].SYS_MSG_COLL_LOOKUPOBJFAIL_02,"{0} failed. Error executing data access query."),s=s.replace("{0}",o),new g["a"](-5634,s);case 13:return e.next=15,a.next();case 15:if(!e.sent){e.next=46;break}if(!this.m_ownerColl.strPk.contains(",")){n="";try{i=a.getValue(this.m_ownerColl.strPk,this.m_ownerColl.Options.nPkType),this.m_ownerColl.Options.bStringPk||(i=_["a"].SafeToInt(i)),n=this.m_ownerColl.BrowseData.DevelopObjectValue(i)}catch(t){}}if(d["a"].IsEmptyString(n)||this.m_ownerColl.BrowseData.ObjectList.containsKey(n)&&(r=this.m_ownerColl.BrowseData.ObjectList.get(n)),l=!1,null!=r){e.next=30;break}return e.next=22,this.m_ownerColl.CreateObject(!1);case 22:if(r=e.sent,null!=r){e.next=29;break}throw a.close(),a=null,u=this.m_ownerColl.GetMessage(b["a"].SYS_MSG_COLL_LOOKUPOBJFAIL_03,"{0} failed. CreateObject returned NULL."),u=u.replace("{0}",o),new g["a"](-5635,u);case 29:l=!0;case 30:if(c=!0,!l&&!this.m_ownerColl.Options.bVolatile){e.next=35;break}return e.next=34,r.Load(a);case 34:c=e.sent;case 35:if(a.close(),a=null,c){e.next=40;break}return r=null,e.abrupt("return",null);case 40:if(!l){e.next=44;break}if(this.m_ownerColl.addItem(r)){e.next=44;break}return r=null,e.abrupt("return",null);case 44:e.next=48;break;case 46:a.close(),a=null;case 48:return e.abrupt("return",r);case 51:if(e.prev=51,e.t1=e["catch"](5),null!=a){try{a.close()}catch(h){}a=null}throw e.t1;case 55:case"end":return e.stop()}}),e,this,[[5,51]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();(function(e){e[e["MOVE_PTR_FIRST"]=1]="MOVE_PTR_FIRST",e[e["MOVE_PTR_LAST"]=2]="MOVE_PTR_LAST",e[e["MOVE_PTR_NEXT"]=3]="MOVE_PTR_NEXT",e[e["MOVE_PTR_PREV"]=4]="MOVE_PTR_PREV"})(r||(r={}));var U=function(){function e(t){Object(l["a"])(this,e),this.m_dataColl=t;var n="";this.m_lookupObject=new V(t.getOwnerApp(),t),this.m_lstObjectList=new h["a"],this.m_lstOrderedList=new Array,this.m_lstObjectLru=new R["a"],this.m_lstFieldMappings=new h["a"],this.m_currentStart=0,this.m_currentLength=1,this.m_nCurrentIndex=0,this.m_bIsFetchDataRunning=!1,d["a"].IsEmptyString(n=this.DataColl.CollPropertyValue("connection"))?this.m_connection=this.DataColl.getOwnerApp().getConnection():(this.m_strConnectionName=n,this.m_connection=this.DataColl.getOwnerApp().getConnection(this.m_strConnectionName))}return Object(u["a"])(e,[{key:"DataColl",get:function(){return this.m_dataColl}},{key:"Options",get:function(){return this.m_dataColl.Options}},{key:"isEquivalent",value:function(e,t){var n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(t);if(n.length!=r.length)return!1;for(var a=0;a<n.length;a++){var i=n[a];if(e[i]!==t[i])return!1}return!0}},{key:"AddItem",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=!0,a="",i="";if(null!=this.m_lstCopyList&&(this.m_lstCopyList=new R["a"]),"NULL".equals(i=e.GetObjectIdString())&&(i=null),!d["a"].IsEmptyString(i)){if(this.m_lstObjectList.containsKey(i)){var o=this.m_lstObjectList.get(i);if(null!=o){if(!(r=!this.isEquivalent(o,e)))return!0;this.m_lstOrderedList.contains(o)&&this.m_lstOrderedList.remove(o),this.m_lstObjectLru.contains(o)&&this.m_lstObjectLru.removeElement(o)}}r&&this.m_lstObjectList.put(i,e)}return this.Options.nThreshold>0&&(this.m_lstObjectLru.contains(e)&&this.m_lstObjectLru.removeElement(e),this.m_lstOrderedList.length>=this.Options.nThreshold&&(t=this.m_lstObjectLru[0],d["a"].IsEmptyString(a=t.GetObjectIdString())||this.m_lstObjectList.containsKey(a)&&this.m_lstObjectList.delete(a),this.m_lstOrderedList.remove(0),this.m_lstObjectLru.removeElement(t))),n>=0?this.m_lstOrderedList.length>n?this.m_lstOrderedList.add(n,e):this.m_lstOrderedList.push(e):this.m_lstOrderedList.contains(e)||this.m_lstOrderedList.push(e),this.Options.nThreshold>0&&this.m_lstObjectLru.push(e),this.m_bIsSpecial&&(this.m_nBrowseLength=this.m_lstOrderedList.length),!0}},{key:"ObjectIndex",value:function(e){if(!this.m_lstOrderedList.contains(e))return-1;for(var t=0;t<this.m_lstOrderedList.length;t++)if(this.m_lstOrderedList[t]===e)return t;return-1}},{key:"GetObjectInt",value:function(e){return this.m_lstOrderedList.length<=e?null:(e<0&&(e=0),this.m_lstOrderedList[e])}},{key:"ObjectList",get:function(){return this.m_lstObjectList}},{key:"GetObjectSring",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.m_lstObjectList.containsKey(t)){e.next=2;break}return e.abrupt("return",this.m_lstObjectList.get(t));case 2:if(n=this.DataColl.getIdFieldName(),r=null,r=this.Options.bStringPk?t:_["a"].SafeToInt(t),null!=r){e.next=7;break}return e.abrupt("return",null);case 7:return e.next=9,this.GetObject(n,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"GetLocalObject",value:function(e,t){if("number"===typeof e)return this.GetObjectInt(e);if(null==t){var n=e;if(this.m_lstObjectList.containsKey(n))return this.m_lstObjectList.get(n)}for(var r=this.m_lstOrderedList.entries,a=0;a<r.length;a++){var i=r[a];if(F["a"].EqualObj(i.get(e),t))return i}return null}},{key:"GetObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(l.length>2&&void 0!==l[2])||l[2],r=!(l.length>3&&void 0!==l[3])||l[3],i=null,"number"!==typeof t){e.next=5;break}return e.abrupt("return",this.GetObjectInt(t));case 5:if(null!=n){e.next=9;break}return e.next=8,this.GetObjectSring(t);case 8:return e.abrupt("return",e.sent);case 9:if(((null===(a=t)||void 0===a?void 0:a.equals("MAP_$KEY"))||this.m_bIsSpecial)&&(r=!1),!r||null!=i){e.next=26;break}return e.next=13,this.GenerateKeySearch(t,n);case 13:return o=e.sent,e.next=16,this.GenerateSearchSql(o);case 16:return s=e.sent,e.t0=this,e.t1=s,e.t2=o,e.next=22,this.IsSqlPrefiltered();case 22:return e.t3=e.sent,e.next=25,e.t0.LookupObject.call(e.t0,e.t1,e.t2,e.t3);case 25:return e.abrupt("return",e.sent);case 26:return e.abrupt("return",i);case 27:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"LookupObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_lookupObject.LookupObject(t,n,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"findObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="","",r="",a=null,e.prev=2,!d["a"].IsEmptyString(t)){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.PrepareFilter(t);case 7:return r=e.sent,e.t0=this,e.t1=n,e.t2=r,e.next=13,this.IsSqlPrefiltered();case 13:return e.t3=e.sent,e.next=16,e.t0.LookupObject.call(e.t0,e.t1,e.t2,e.t3);case 16:return a=e.sent,e.abrupt("return",a);case 20:throw e.prev=20,e.t4=e["catch"](2),i=e.t4.message,o=this.DataColl.GetMessage(b["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),o=o.replace("{0}","CXoneDataCollection::findObject"),d["a"].IsEmptyString(i)||(o=o.concat(i)),new g["a"](-1002,e.t4,o);case 27:case"end":return e.stop()}}),e,this,[[2,20]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"PrepareSpecialCollection",value:function(){return this.m_dataColl.getNode("onprepare"),!1}},{key:"CountAsync",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.DataColl.getConnection().CountAsync(null,t);case 2:if(n=e.sent,!n){e.next=8;break}return e.next=6,n.next();case 6:if(!e.sent){e.next=8;break}return e.abrupt("return",n.getInt("N"));case 8:return e.abrupt("return",-1);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"startBrowse",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u,c,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]&&h[0],n=h.length>1?h[1]:void 0,this.m_bIsSpecial=this.DataColl.Options.bIsSpecial,r="",a="","","",!1,!this.m_bIsSpecial){e.next=16;break}if(this.PrepareSpecialCollection()){e.next=14;break}return null!=this.DataColl.getOwnerObject()&&this.DataColl.getOwnerObject().PrepareSpecialCollection(this.DataColl),this.m_nBrowseLength=this.m_lstOrderedList.length,this.m_nCurrentIndex=0,e.next=12,this.LoadCurrentItem();case 12:if(!e.sent){e.next=14;break}return e.abrupt("return",this.DataColl);case 14:e.next=17;break;case 16:this.EndBrowse();case 17:if(1!=this.m_bIsFetchDataRunning){e.next=22;break}return e.next=20,function(){return new Promise((function(e){return setTimeout((function(){return e()}),100)}))}();case 20:e.next=17;break;case 22:if(e.prev=22,this.m_bIsFetchDataRunning=!0,this.m_nCurrentRow=0,this.ClearCurrentItem(!0),!d["a"].IsEmptyString(this.DataColl.getAccessString())||this.getConnection().acceptsEmptyQueries()){e.next=28;break}return e.abrupt("return",null);case 28:return r="",e.next=31,this.ResolveFilters(!1,null);case 31:return i=e.sent,o=this.DataColl.getSort(),this.DataColl.ParseMacros(i),this.DataColl.ParseMacros(o),this.DataColl.ParseMacros(a),e.next=38,this.DataColl.EvaluateAllMacros(a,!0);case 38:if(r=e.sent,s={coll:this.DataColl.getName(),macros:this.DataColl.getMacros(),where:i,sort:o,loadall:!1,page:{}},this.DataColl.Options.bDebug&&(a="\r\n"+r+"\r\n",this.DataColl.getOwnerApp().writeConsoleString(a)),(this.DataColl.getIsDebugging()||this.DataColl.getOwnerApp().isDebugMode())&&p["a"].DebugLog(p["a"].TAG_DATABASE_LOG,"StartBrowse: "+r),1!=t){e.next=48;break}return e.next=45,this.CountAsync(Object.assign({count:!0,page:{}},s));case 45:this.m_nBrowseLength=e.sent,e.next=49;break;case 48:this.m_nBrowseLength=-1;case 49:return e.next=51,this.getConnection().CreateRecordsetAsync(r,Object.assign({count:t,page:null!=n?n:{}},s));case 51:if(e.t0=this.m_rs=e.sent,null!=e.t0){e.next=56;break}throw l=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_COLLCONNOPENERR,"Error opening connection in collection '{0}'"),l=l.replace("{0}",this.DataColl.getName()),new g["a"](-1900,l);case 56:return e.next=58,this.MoveFirst();case 58:if(e.sent){e.next=62;break}return this.m_rs.close(),this.m_rs=null,e.abrupt("return",null);case 62:return this.DataColl.getOwnerApp().AddOpenColl(this.DataColl),e.abrupt("return",this.DataColl);case 66:throw e.prev=66,e.t1=e["catch"](22),this.m_bIsFetchDataRunning=!1,console.error(e.t1),this.EndBrowse(),u=this.DataColl.GetMessage(b["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),u=u.replace("{0}","CXoneDataCollection::StartBrowse"),c=e.t1.message,null!=c&&(u=u.concat(c)),new g["a"](-1008,e.t1,u);case 76:return e.prev=76,this.m_bIsFetchDataRunning=!1,e.finish(76);case 79:case"end":return e.stop()}}),e,this,[[22,66,76,79]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"browseLength",value:function(){return this.m_nBrowseLength}},{key:"GetRowCount",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u,h,f,m,_,O;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=0,n="",r="",a="",i=null,o=!1,s="CXoneDataCollection::GetRowCount",e.prev=5,r=this.DataColl.getAccessString(),!d["a"].IsEmptyString(r)){e.next=10;break}if(!this.m_bIsSpecial){e.next=10;break}return e.abrupt("return",this.getCount());case 10:if(!this.m_bSingleObject){e.next=14;break}n="SELECT COUNT("+this.DataColl.strPk+") AS N FROM "+r+" rrss ",e.next=46;break;case 14:if(this.DataColl.Options.bUseRaw&&!r.toLowerCase().contains("group by")){e.next=26;break}return e.t0=r+" ",e.t1=d["a"],e.next=19,this.ApplyFilters(!0);case 19:e.t2=e.sent,e.t3=e.t1.Replace.call(e.t1,e.t2," WHERE "," HAVING "),l=e.t0+e.t3,n="SELECT COUNT("+this.DataColl.strPk+") AS N FROM ("+l+") rrss",o=!0,e.next=46;break;case 26:if(null!=this.m_parsedAccessString){e.next=31;break}return e.next=29,this.ParseAccessString();case 29:if(e.sent){e.next=31;break}return e.abrupt("return",-1);case 31:if(u=new D["a"](this.m_parsedAccessString),u.CopyData(this.m_parsedAccessString),u.getIsUnionQuery()){e.next=42;break}return a="COUNT("+this.QualifyField(this.DataColl.strPk)+")",u.clearQueryFields(),u.AddField(a,"N"),e.next=39,this.EmbedFilters(u,null);case 39:n=e.sent,e.next=46;break;case 42:for(h=0;h<u.getUnionQueries().length;h++)f=u.getUnionQueries()[h],a="COUNT("+this.QualifyField(this.DataColl.strPk,f)+")",f.clearQueryFields(),f.AddField(a,"N");return e.next=45,this.EmbedFilters(u,null);case 45:n=e.sent;case 46:return n=this.getConnection().PrepareSqlString(n,!1,o),e.next=49,this.DataColl.EvaluateAllMacros(n,!0);case 49:return n=e.sent,n=n.replace("\t"," "),n=n.replace("\r"," "),n=n.replace("\n"," "),this.DataColl.Options.bDebug&&(a="\r\n"+n+"\r\n",this.DataColl.getOwnerApp().writeConsoleString(a)),(this.DataColl.getIsDebugging()||this.DataColl.getOwnerApp().isDebugMode())&&p["a"].DebugLog(p["a"].TAG_DATABASE_LOG,"GetRowCount: "+n),e.next=57,this.DataColl.getConnection().CreateRecordsetAsync(n,{count:!0,coll:this.DataColl.getName(),macros:this.DataColl.getMacros(),loadall:!1,page:{}});case 57:if(e.t4=i=e.sent,null!=e.t4){e.next=62;break}throw m=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_GETROWCOUNTFAIL,"{0} failed. Row count query failed."),m=m.replace("{0}",s),new g["a"](-2e3,m);case 62:return e.next=64,i.next();case 64:if(!e.sent){e.next=72;break}if(t+=v.RsReadLong(i,"N"),!(this.m_nMaxRows>0)){e.next=70;break}if(!(t>this.m_nMaxRows)){e.next=70;break}return t=this.m_nMaxRows,e.abrupt("break",72);case 70:e.next=62;break;case 72:return i.close(),i=null,e.abrupt("return",t);case 77:if(e.prev=77,e.t5=e["catch"](5),null!=i){try{i.close()}catch(y){}i=null}throw _=e.t5.message,O=this.DataColl.GetMessage(b["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),O=O.replace("{0}",s),c["a"].isEmpty(_)||(O=O.concat(_)),new g["a"](-87878,e.t5,O);case 85:case"end":return e.stop()}}),e,this,[[5,77]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"MoveFirst",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_nBrowseOrder=1,!this.m_bIsSpecial){e.next=6;break}return this.m_nCurrentIndex=0,e.next=5,this.LoadCurrentItem();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.MovePtr(r.MOVE_PTR_FIRST);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"MoveNext",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_nBrowseOrder++,!this.m_bIsSpecial){e.next=6;break}return++this.m_nCurrentIndex>=this.m_nBrowseLength&&(this.m_nCurrentIndex=-1),e.next=5,this.LoadCurrentItem();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.MovePtr(r.MOVE_PTR_NEXT);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"MoveLast",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_nBrowseOrder=-1,!this.m_bIsSpecial){e.next=6;break}return this.m_nCurrentIndex=this.m_nBrowseLength>0?this.m_nBrowseLength-1:0,e.next=5,this.LoadCurrentItem();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.MovePtr(r.MOVE_PTR_LAST);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"MovePrevious",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(--this.m_nBrowseOrder<1&&(this.m_nBrowseOrder=1),!this.m_bIsSpecial){e.next=6;break}return this.m_nCurrentIndex-=this.m_nCurrentIndex>0?1:0,e.next=5,this.LoadCurrentItem();case 5:return e.abrupt("return",e.sent);case 6:return e.next=8,this.MovePtr(r.MOVE_PTR_PREV);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"MovePtr",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=!1,a=!1,e.prev=2,null==this.m_rs){e.next=35;break}e.t0=t,e.next=e.t0===r.MOVE_PTR_FIRST?7:e.t0===r.MOVE_PTR_LAST?12:e.t0===r.MOVE_PTR_NEXT?14:e.t0===r.MOVE_PTR_PREV?28:30;break;case 7:return e.next=9,this.m_rs.next();case 9:return this.m_nCurrentRow=0,this.m_bHasTopRow&&null!=this.m_pTopRowItem&&(this.m_pTopRowItem=null),e.abrupt("break",30);case 12:return this.m_nMaxRows>0&&(this.m_nCurrentRow=this.m_nMaxRows-1),e.abrupt("break",30);case 14:if(i=!1,!(this.m_nMaxRows>0)){e.next=23;break}if(!(this.m_nCurrentRow<this.m_nMaxRows)){e.next=21;break}return this.m_nCurrentRow++,e.next=20,this.m_rs.next();case 20:i=e.sent;case 21:e.next=26;break;case 23:return e.next=25,this.m_rs.next();case 25:i=e.sent;case 26:return i||(this.m_rs.close(),this.m_rs=null,this.DataColl.getOwnerApp().RemoveOpenColl(this.DataColl)),e.abrupt("break",30);case 28:return--this.m_nCurrentRow<0&&(this.m_nCurrentRow=0),e.abrupt("break",30);case 30:return e.next=32,this.LoadCurrentItem();case 32:a=e.sent,e.next=36;break;case 35:n=!0;case 36:return n&&this.ClearCurrentItem(!0),e.abrupt("return",a);case 40:throw e.prev=40,e.t1=e["catch"](2),this.EndBrowse(),o=this.m_dataColl.GetMessage(b["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),o=o.replace("{0}","CXoneDataCollection::MovePtr"),s=e.t1.message,c["a"].isEmpty(s)?console.error(e.t1):o=o.concat(s),new g["a"](-1010,e.t1,o);case 48:case"end":return e.stop()}}),e,this,[[2,40]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"EndBrowse",value:function(){try{if(null==this.getConnection()){var e=this.DataColl.GetMessage(b["a"].SYS_MSG_GENERALFAIL,"{0} failed. ");throw e=e.replace("{0}","CXoneDataCollection::GetConnection"),e=e.concat("Cannot find connection "+this.getConnectionName()),new g["a"](-1900,e)}return this.getConnection().cancelProcesses(0),this.m_bIsSpecial?(this.DataColl.clear(),!0):(this.ClearCurrentItem(!0),null!=this.m_rs&&(this.m_rs.close(),this.m_rs=null),this.DataColl.getOwnerApp().RemoveOpenColl(this.DataColl),!0)}catch(n){var t=this.DataColl.GetMessage(b["a"].SYS_MSG_GENERALFAIL,"{0} failed. ");throw t=t.replace("{0}","CXoneDataCollection::EndBrowse"),t=t.concat(n.getMessage()),new g["a"](-1009,n,t)}}},{key:"getConnectionName",value:function(){return this.m_strConnectionName}},{key:"getConnection",value:function(){return null==this.m_connection&&(this.m_connection=this.DataColl.getOwnerApp().getConnection(this.m_strConnectionName)),this.m_connection}},{key:"loadAllAsyncWithParser",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l,u,h,f,m,_,v=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=v.length>0&&void 0!==v[0]&&v[0],n=v.length>1?v[1]:void 0,r=null,s=null,l=1,u="XoneDataCollection::LoadAll",h=!1,!0!==this.DataColl.isLock()){e.next=9;break}return e.abrupt("return",this.DataColl);case 9:if(!this.m_bIsSpecial){e.next=13;break}return this.PrepareSpecialCollection(),this.DataColl.setFull(!0),e.abrupt("return",this.DataColl);case 13:if(1!=this.m_bIsFetchDataRunning){e.next=18;break}return e.next=16,function(){return new Promise((function(e){return setTimeout((function(){return e()}),100)}))}();case 16:e.next=13;break;case 18:if(e.prev=18,this.m_bIsFetchDataRunning=!0,this.DataColl.setFull(!1),this.Clear(),!this.Options.bCheckOwner){e.next=26;break}if(null==this.DataColl.getOwnerObject()){e.next=26;break}if(!this.DataColl.getOwnerObject().GetObjectIdString(!0).equals("NULL")){e.next=26;break}return e.abrupt("return",this.DataColl);case 26:if(!c["a"].isEmpty(i=this.DataColl.getAccessString())||this.getConnection().acceptsEmptyQueries()){e.next=28;break}return e.abrupt("return",this.DataColl);case 28:if(a="",!this.Options.bParseSQL){e.next=47;break}if(this.Options.bSingleObject?a="SELECT * FROM "+i+" rrss":this.Options.bUseRaw||(a="SELECT * FROM ("+i+") rrss"),!this.Options.bUseRaw||this.Options.bSingleObject){e.next=35;break}return e.next=34,this.IsSqlPrefiltered();case 34:h=e.sent;case 35:if(this.Options.bUseRaw){e.next=42;break}return e.t0=a,e.next=39,this.ApplyFilters(!0);case 39:a=e.t0+=e.sent,e.next=45;break;case 42:return e.next=44,this.EmbedFilters(null);case 44:a=e.sent;case 45:e.next=49;break;case 47:a=i,h=!1;case 49:return d["a"].IsEmptyString(o=this.PrepareSort(this.DataColl.getSort()))||(i=" ORDER BY "+o,a+=i),a=this.PrepareSqlString(a,!1,h),null!=this.DataColl.getOwnerObject()&&(a=this.DataColl.getOwnerObject().PrepareSqlString(a)),e.next=54,this.DataColl.EvaluateAllMacros(a,!0);case 54:if(a=e.sent,this.Options.bDebug&&(i="\r\n"+a+"\r\n",this.DataColl.getOwnerApp().writeConsoleString(i)),(this.DataColl.getIsDebugging()||this.DataColl.getOwnerApp().isDebugMode())&&p["a"].DebugLog(p["a"].TAG_DATABASE_LOG,"LoadAll: "+a),this.getConnection().cancelProcesses(0),1!=t){e.next=64;break}return e.next=61,this.CountAsync(null);case 61:this.m_nBrowseLength=e.sent,e.next=65;break;case 64:this.m_nBrowseLength=-1;case 65:return e.next=67,this.getConnection().CreateRecordsetAsync(a,{count:!1,coll:this.DataColl.getName(),macros:this.DataColl.getMacros(),loadall:!1,page:null!=n?n:{start:0,length:1e3}});case 67:if(e.t1=r=e.sent,null!=e.t1){e.next=72;break}throw f=this.DataColl.GetMessage(b["a"].SYS_MSG_DATASRCFAIL,"{0} failed. Cannot open data source."),f=f.replace("{0}",u),new g["a"](-2999,f);case 72:return e.next=74,r.next();case 74:if(!e.sent){e.next=92;break}return e.next=77,this.DataColl.CreateObject(!1);case 77:if(s=e.sent,null!=s){e.next=82;break}throw m=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_LOADALLFAIL_02,"{0} cannot create a new object. CreateObject failed."),m=m.replace("{0}",u),new g["a"](-1005,m);case 82:if(s.SetPropertyValue("MAP_SYS_ORDER",l-1),s.Load(r)){e.next=87;break}throw _=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_LOADALLFAIL_03,"{0} failed. Call to XoneDataObject::Load failed."),_=_.replace("{0}",u),new g["a"](-10051,_);case 87:s.GetObjectIdString(),this.AddItem(s);case 89:l++,e.next=72;break;case 92:return r.close(),r=null,this.DataColl.setFull(!0),e.abrupt("return",this.DataColl);case 98:if(e.prev=98,e.t2=e["catch"](18),this.m_bIsFetchDataRunning=!0,null!=r){try{r.close()}catch(O){}r=null}throw e.t2;case 103:return e.prev=103,this.m_bIsFetchDataRunning=!1,e.finish(103);case 106:case"end":return e.stop()}}),e,this,[[18,98,103,106]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadAllAsync",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,s,l,u,d,h,f,m,_,v,O,y,C,S,E,k=this,x=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=x.length>0&&void 0!==x[0]&&x[0],n=x.length>1?x[1]:void 0,r=null,s=null,l=1,u="XoneDataCollection::LoadAll",!1,!0!==this.DataColl.isLock()){e.next=9;break}return e.abrupt("return",this.DataColl);case 9:if(d=window.generateTestingData?window.generateTestingData(this.DataColl):this.DataColl.getXmlNode().getAttrValue("json"),!this.m_bIsSpecial&&!d){e.next=38;break}if(this.PrepareSpecialCollection(),!d){e.next=36;break}e.prev=13,h="string"===typeof d?function(){}.constructor("return ".concat(d))():d,f=Object(M["a"])(h),e.prev=16,_=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=m.value,e.next=3,k.DataColl.CreateObject();case 3:n=e.sent,Object.entries(t).forEach((function(e){var t=Object(o["a"])(e,2),r=t[0],a=t[1];return n[r]=a})),k.DataColl.addItem(n);case 6:case"end":return e.stop()}}),e)})),f.s();case 19:if((m=f.n()).done){e.next=23;break}return e.delegateYield(_(),"t0",21);case 21:e.next=19;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e["catch"](16),f.e(e.t1);case 28:return e.prev=28,f.f(),e.finish(28);case 31:e.next=36;break;case 33:e.prev=33,e.t2=e["catch"](13),console.error("Error getting json.",e.t2);case 36:return this.DataColl.setFull(!0),e.abrupt("return",this.DataColl);case 38:if(1!=this.m_bIsFetchDataRunning){e.next=43;break}return e.next=41,function(){return new Promise((function(e){return setTimeout((function(){return e()}),100)}))}();case 41:e.next=38;break;case 43:if(e.prev=43,this.m_bIsFetchDataRunning=!0,this.DataColl.setFull(!1),this.Clear(),!this.Options.bCheckOwner){e.next=51;break}if(null==this.DataColl.getOwnerObject()){e.next=51;break}if(!this.DataColl.getOwnerObject().GetObjectIdString(!0).equals("NULL")){e.next=51;break}return e.abrupt("return",this.DataColl);case 51:if(!c["a"].isEmpty(i=this.DataColl.getAccessString())||this.getConnection().acceptsEmptyQueries()){e.next=53;break}return e.abrupt("return",this.DataColl);case 53:return a="",e.next=56,this.ResolveFilters(!1,null);case 56:return v=e.sent,O=this.DataColl.getSort(),this.DataColl.ParseMacros(v),this.DataColl.ParseMacros(O),this.DataColl.ParseMacros(i),e.next=63,this.DataColl.EvaluateAllMacros(i,!0);case 63:if(a=e.sent,y={coll:this.DataColl.getName(),macros:this.DataColl.getMacros(),where:v,sort:O,loadall:!1,page:{}},this.Options.bDebug&&this.DataColl.getOwnerApp().writeConsoleString(y),(this.DataColl.getIsDebugging()||this.DataColl.getOwnerApp().isDebugMode())&&p["a"].DebugLog(p["a"].TAG_DATABASE_LOG,"LoadAll: "+y),this.getConnection().cancelProcesses(0),1!=t){e.next=74;break}return e.next=71,this.CountAsync(Object.assign({count:!0,page:{}},y));case 71:this.m_nBrowseLength=e.sent,e.next=75;break;case 74:this.m_nBrowseLength=-1;case 75:return e.next=77,this.getConnection().CreateRecordsetAsync(a,Object.assign({count:!1,page:null!=n?n:{start:0,length:1e3}},y));case 77:if(e.t3=r=e.sent,null!=e.t3){e.next=82;break}throw C=this.DataColl.GetMessage(b["a"].SYS_MSG_DATASRCFAIL,"{0} failed. Cannot open data source."),C=C.replace("{0}",u),new g["a"](-2999,C);case 82:return e.next=84,r.next();case 84:if(!e.sent){e.next=102;break}return e.next=87,this.DataColl.CreateObject(!1);case 87:if(s=e.sent,null!=s){e.next=92;break}throw S=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_LOADALLFAIL_02,"{0} cannot create a new object. CreateObject failed."),S=S.replace("{0}",u),new g["a"](-1005,S);case 92:if(s.SetPropertyValue("MAP_SYS_ORDER",l-1),s.Load(r)){e.next=97;break}throw E=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_LOADALLFAIL_03,"{0} failed. Call to XoneDataObject::Load failed."),E=E.replace("{0}",u),new g["a"](-10051,E);case 97:s.GetObjectIdString(),this.AddItem(s);case 99:l++,e.next=82;break;case 102:return r.close(),r=null,this.DataColl.setFull(!0),e.abrupt("return",this.DataColl);case 108:if(e.prev=108,e.t4=e["catch"](43),this.m_bIsFetchDataRunning=!0,null!=r){try{r.close()}catch(T){}r=null}throw e.t4;case 113:return e.prev=113,this.m_bIsFetchDataRunning=!1,e.finish(113);case 116:case"end":return e.stop()}}),e,this,[[13,33],[16,25,28,31],[43,108,113,116]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"PrepareSort",value:function(e){return e}},{key:"IsUnionQuery",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t,null!=n){e.next=11;break}if(null!=this.m_parsedAccessString){e.next=10;break}return e.next=5,this.ParseAccessString();case 5:if(e.sent){e.next=10;break}throw r=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_SQLPARSEERROR_01,"{0} failed. Cannot parse SQL sentence for collection '{1}'"),r=r.replace("{0}","CXoneDataCollection::IsUnionQuery"),r=r.replace("{1}",this.DataColl.getName()),new g["a"](-10990,r);case 10:n=this.m_parsedAccessString;case 11:if(null!=n){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",n.getIsUnionQuery());case 14:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ParseAccessString",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.m_parsedAccessString=new D["a"](this.getConnection().getRowIdFieldName(),this.DataColl.getOwnerApp().getMessageHolder()),t=this.DataColl.getAccessString(),!c["a"].isEmpty(t)){e.next=4;break}return e.abrupt("return",!0);case 4:return this.DataColl.ParseMacros(t),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"clearParsedAccessString",value:function(){this.m_parsedAccessString=null}},{key:"getParsedAccessString",value:function(){return this.m_parsedAccessString}},{key:"GenerateRowID",value:function(){return this.getConnection().GenerateRowId()}},{key:"MapField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e;return d["a"].IsEmptyString(n)?e:(this.m_lstFieldMappings.containsKey(e)&&(n=this.m_lstFieldMappings.get(e)),-1!=n.indexOf(" ")&&t&&(n=this.getConnection().QuoteFieldName(n)),n)}},{key:"PrepareSqlString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(d["a"].IsEmptyString(e))return e;if(!e.contains("##"))return e;if(null==this.getConnection())return e;var r=e;if(r.contains("##FILTER##")&&(r=d["a"].Replace(r,"##FILTER##",d["a"].SafeToString(this.DataColl.getFilter())),!r.contains("##")))return r;if(r.contains("##LINKFILTER##")&&(r=d["a"].Replace(r,"##LINKFILTER##",d["a"].SafeToString(this.DataColl.getLinkFilter())),!r.contains("##")))return r;if(r.contains("##ACCESS_STRING##")&&(r=d["a"].Replace(r,"##ACCESS_STRING##",p["a"].EMPTY_STRING),!r.contains("##")))return r;r.contains("##ROWID##")&&(r=d["a"].Replace(r,"##ROWID##",d["a"].SafeToString(this.GenerateRowID())));var a=this.getConnection();return r=a.PrepareSqlString(r,t,n),r.contains("##BIT##")&&(r=a.ReplaceCustomOper(this.DataColl,r,"##BIT##")),r.contains("##")&&(r=this.DataColl.getOwnerApp().PrepareSqlString(r)),r}},{key:"DevelopFilterMacros",value:function(e){var t="";if(d["a"].IsEmptyString(e))return e;var n=e;if(n.contains("##")&&n.contains("##NOW")){var r=L["a"].getInstance();n.contains("##NOW_TIME##")&&(t=this.DevelopObjectValue(r),n=d["a"].Replace(n,"##NOW_TIME##",t)),n.contains("##NOW")&&(F["a"].ZeroCalendarTime(r),t=this.DevelopObjectValue(r),n.contains("##NOW_NOTIME##")&&(n=d["a"].Replace(n,"##NOW_NOTIME##",t)),n.contains("##NOW##")&&(n=d["a"].Replace(n,"##NOW##",t)))}return n}},{key:"DevelopCollFilters",value:function(e){var t,n="",r="",a="",i="";if(!e.contains("##"))return e;var o=e;if((o.contains("##ENTID##")||o.contains("##ENTIDCOLL##")||o.contains("##USERID##")||o.contains("##USERIDCOLL##")||o.contains("##ENTIDLEVEL##")||o.contains("##ENTIDOWNER##"))&&null!=(t=this.DataColl.getOwnerApp().getCurrentCompany())){n="="+t.GetObjectIdString(!0),d["a"].IsEmptyString(this.DataColl.getOwnerApp().getIdColl())?r=n:(i=this.DataColl.getOwnerApp().getIdColl(),r=-1==i.indexOf(",")&&-1==i.indexOf(" ")?"="+i:" IN ("+i+") "),a=d["a"].IsEmptyString(this.DataColl.getOwnerApp().getUserIdColl())?" IS NULL":" IN ("+this.DataColl.getOwnerApp().getUserIdColl()+")",o=d["a"].Replace(o,"=##ENTID##",n),o=d["a"].Replace(o,"=##ENTIDCOLL##",r),o=d["a"].Replace(o,"=##USERIDCOLL##",a),o.contains("##ENTIDLEVEL##")&&(d["a"].IsEmptyString(this.DataColl.getOwnerApp().getEntIdLevel())?r=n:(i=this.DataColl.getOwnerApp().getEntIdLevel(),r=-1==i.indexOf(",")&&-1==i.indexOf(" ")?"="+i:" IN ("+i+") "),o=d["a"].Replace(o,"=##ENTIDLEVEL##",r)),o.contains("##ENTIDOWNER##")&&(i=this.DataColl.getOwnerApp().getEntIdOwner(),r=d["a"].IsEmptyString(i)?n:"="+i,o=d["a"].Replace(o,"=##ENTIDOWNER##",r)),o=d["a"].Replace(o,'"',"'");var s=_["a"].SafeToInt(t.GetRawPropertyValue("MAP_IDCURRENTUSER"));n=0==s?" IS NULL":"="+s,o=d["a"].Replace(o,"=##USERID##",n)}return o.contains("##MID##")&&this.getConnection().getIsReplicating()&&(n="'"+this.getConnection().getMID()+"'",o=d["a"].Replace(o,"##MID##",n)),o.contains("##ID##")&&null!=this.DataColl.getOwnerObject()&&(n=this.DataColl.getOwnerObject().GetObjectIdString(!0),o=d["a"].Replace(o,"=##ID##",n.equals("NULL")?" IS NULL":"="+n)),o=this.getConnection().ReplaceCustomOper(this.DataColl,o,"##BIT##"),o}},{key:"DevelopObjectValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.getConnection().DevelopObjectValue(e,t)}},{key:"GenerateSearchSql",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.Options.bUseRaw){e.next=21;break}if(this.Options.bParseSQL){e.next=3;break}return e.abrupt("return",this.DataColl.getAccessString());case 3:if(null!=this.m_parsedAccessString){e.next=8;break}return e.next=6,this.ParseAccessString();case 6:if(e.sent){e.next=8;break}return e.abrupt("return","");case 8:if(null!=this.m_parsedAccessString){e.next=12;break}n=p["a"].EMPTY_STRING,e.next=19;break;case 12:if(this.m_parsedAccessString.GetSqlType()!=G["a"].SQLTYPE_UNKNOWN){e.next=16;break}n=p["a"].EMPTY_STRING,e.next=19;break;case 16:return e.next=18,this.EmbedFilters(t);case 18:n=e.sent;case 19:e.next=22;break;case 21:n=this.Options.bSingleObject?"SELECT * FROM "+this.DataColl.getAccessString()+" rrss WHERE "+t:"SELECT * FROM ("+this.DataColl.getAccessString()+") rrss WHERE "+t;case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"GenerateKeySearch",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=this.QualifyField(t),!t.equals(this.DataColl.getIdFieldName())){e.next=6;break}return r=a+"="+this.FormatKeyValue(n.toString()),e.abrupt("return",r);case 6:if(r=a+"="+this.DevelopObjectValue(n),this.DataColl.IsLinkedField(t)&&this.DataColl.FieldPropertyValue(t,"type").equals("N"))try{0==_["a"].SafeToInt(n)&&(r="(("+r+") OR ("+a+" IS NULL))")}catch(x){}case 8:if(!d["a"].IsEmptyString(this.Options.strLookupMacroName)){e.next=13;break}return e.next=11,this.ApplyFilters(!1);case 11:i=e.sent,d["a"].IsEmptyString(i)||(r=r+" AND ("+i+")");case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"FormatKeyValue",value:function(e){return this.DataColl.getStringKey()?"'"+e+"'":d["a"].removeChars(e,"'")}},{key:"IsSqlPrefiltered",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.Options.bParseSQL){e.next=2;break}return e.abrupt("return",!1);case 2:if(null!=this.m_parsedAccessString&&0!=this.m_parsedAccessString.GetSqlType()){e.next=10;break}return e.next=5,this.ParseAccessString();case 5:if(e.sent){e.next=10;break}throw t=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_SQLPARSEERROR_01,"{0} failed. Cannot parse SQL sentence for collection '{1}'"),t=t.replace("{0}","CXoneDataCollection::IsSqlPrefiltered"),t=t.replace("{1}",this.DataColl.getName()),new g["a"](-6631,t);case 10:if(d["a"].IsEmptyString(this.m_parsedAccessString.GetWhereSentence())){e.next=12;break}return e.abrupt("return",!0);case 12:if(d["a"].IsEmptyString(this.m_parsedAccessString.getHavingSentence())){e.next=14;break}return e.abrupt("return",!0);case 14:if(!this.m_parsedAccessString.getIsUnionQuery()){e.next=25;break}n=0;case 16:if(!(n<this.m_parsedAccessString.getUnionQueries().length)){e.next=25;break}if(r=this.m_parsedAccessString.getUnionQueries()[n],d["a"].IsEmptyString(r.GetWhereSentence())){e.next=20;break}return e.abrupt("return",!0);case 20:if(d["a"].IsEmptyString(r.getHavingSentence())){e.next=22;break}return e.abrupt("return",!0);case 22:n++,e.next=16;break;case 25:return e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EmbedFilters",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,u,h,f,m,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null,"string"==typeof t?(n=t,t=null):r=t,a="CXoneDataCollection::EmbedFilters",!d["a"].IsEmptyString(n)){e.next=9;break}return e.next=6,this.ApplyFilters(!1);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=n;case 10:if(i=e.t0,null!=r){e.next=21;break}if(null!=this.m_parsedAccessString){e.next=20;break}return e.next=15,this.ParseAccessString();case 15:if(e.sent){e.next=20;break}throw o=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_SQLPARSEERROR_01,"{0} failed. Cannot parse SQL sentence for collection '{1}'"),o=o.replace("{0}",a),o=o.replace("{1}",this.DataColl.getName()),new g["a"](-1278,o);case 20:r=this.m_parsedAccessString;case 21:if(!d["a"].IsEmptyString(i)){e.next=23;break}return e.abrupt("return",r.RegenerateSql());case 23:if(s=new D["a"](r),s.CopyData(r)){e.next=29;break}throw l=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_EMBEDFILTERFAIL,"{0} failed. Error embedding filters in collection '{1}'"),l=l.replace("{0}",a),l=l.replace("{1}",this.DataColl.getName()),new g["a"](-1279,l);case 29:if(s.getIsUnionQuery())for(h=0;h<s.getUnionQueries().length;h++)f=s.getUnionQueries()[h],u=d["a"].IsEmptyString(f.GetWhereSentence())?i:"("+f.GetWhereSentence()+") AND "+i,f.SetWhereSentence(u);else _=!c["a"].isEmpty(s.getGroupBySentence()),m=_?s.getHavingSentence():s.GetWhereSentence(),u=d["a"].IsEmptyString(m)?i:"("+m+") AND "+i,_?(s.setHavingSentence(u),s.SetWhereSentence(p["a"].EMPTY_STRING)):(s.SetWhereSentence(u),s.setHavingSentence(p["a"].EMPTY_STRING));return e.abrupt("return",s.RegenerateSql());case 31:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"ApplyFilters",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:null,r="",a="",d["a"].IsEmptyString(this.DataColl.getLinkFilter())){e.next=8;break}return e.next=5,this.PrepareFilter(this.DataColl.getLinkFilter());case 5:e.t0=e.sent,e.t1="("+e.t0,a=e.t1+")";case 8:if(d["a"].IsEmptyString(this.DataColl.getFilter())){e.next=16;break}return d["a"].IsEmptyString(a)||(a+=" AND "),e.next=12,this.PrepareFilter(this.DataColl.getFilter(),n);case 12:e.t2=e.sent,e.t3="("+e.t2,r=e.t3+")",a+=r;case 16:if(d["a"].IsEmptyString(a)||t&&(a=" WHERE ("+a+") "),d["a"].IsEmptyString(a)){e.next=28;break}return a=this.DevelopCollFilters(a),a=this.DevelopFilterMacros(a),e.next=22,this.DataColl.EvaluateAllMacros(a,!0);case 22:if(a=e.sent,a=null!=this.DataColl.getOwnerObject()?this.DataColl.getOwnerObject().PrepareSqlString(a):this.PrepareSqlString(a,!1,!1),!a.contains("##")||null==this.DataColl.getOwnerObject()){e.next=28;break}return e.next=27,this.DataColl.getOwnerObject().getOwnerCollection().EvaluateAllMacros(a,!0);case 27:a=e.sent;case 28:return e.abrupt("return",a);case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ResolveFilters",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:null,r=o.length>2&&void 0!==o[2]?o[2]:null,a="",i="",d["a"].IsEmptyString(this.DataColl.getLinkFilter())){e.next=9;break}return e.next=6,this.PrepareFilter(this.DataColl.getLinkFilter());case 6:e.t0=e.sent,e.t1="("+e.t0,i=e.t1+")";case 9:if(!r){e.next=15;break}d["a"].IsEmptyString(i)||(i+=" AND "),a="("+r+")",i+=a,e.next=23;break;case 15:if(d["a"].IsEmptyString(this.DataColl.getFilter())){e.next=23;break}return d["a"].IsEmptyString(i)||(i+=" AND "),e.next=19,this.PrepareFilter(this.DataColl.getFilter(),n);case 19:e.t2=e.sent,e.t3="("+e.t2,a=e.t3+")",i+=a;case 23:if(d["a"].IsEmptyString(i)||t&&(i=" WHERE ("+i+") "),d["a"].IsEmptyString(i)){e.next=35;break}return i=this.DevelopCollFilters(i),i=this.DevelopFilterMacros(i),e.next=29,this.DataColl.EvaluateAllMacros(i,!0);case 29:if(i=e.sent,i=null!=this.DataColl.getOwnerObject()?this.DataColl.getOwnerObject().PrepareSqlString(i):this.PrepareSqlString(i,!1,!1),!i.contains("##")||null==this.DataColl.getOwnerObject()){e.next=35;break}return e.next=34,this.DataColl.getOwnerObject().getOwnerCollection().EvaluateAllMacros(i,!0);case 34:i=e.sent;case 35:return e.abrupt("return",i);case 36:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"PrepareFilter",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,u,c,h,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="",a="",i=new C["a"],o=new C["a"],s="",l=0,u=0,c=!1,h=!1,f=!1,!d["a"].IsEmptyString(t)){e.next=8;break}return e.abrupt("return",t);case 8:if(this.Options.bUseRaw){e.next=10;break}return e.abrupt("return",t);case 10:if(null!=n){e.next=15;break}if(null!=this.m_parsedAccessString){e.next=14;break}return e.next=14,this.ParseAccessString();case 14:n=this.m_parsedAccessString;case 15:if(null==n){e.next=20;break}if(m=n.getTableFrom(),null==m){e.next=20;break}if(null!=m.getSecondTable()){e.next=20;break}return e.abrupt("return",t);case 20:l=0,u=t.length,c=h=f=!1;case 21:if(!(l<u)){e.next=56;break}e.t0=s=t.charAt(l),e.next=" "===e.t0||"="===e.t0||">"===e.t0||"<"===e.t0||"("===e.t0||")"===e.t0||","===e.t0?25:"'"===e.t0?46:50;break;case 25:if(!c||f){e.next=44;break}o=new C["a"];case 27:if(!(l<u)){e.next=33;break}if(" "!=t.charAt(l)&&this.IsClosingToken(t.charAt(l))){e.next=30;break}return e.abrupt("break",33);case 30:o.append(t.charAt(l)),l++,e.next=27;break;case 33:if(!(l<u)){e.next=39;break}if(" "==t.charAt(l)){e.next=36;break}return e.abrupt("break",39);case 36:o.append(t.charAt(l)),l++,e.next=33;break;case 39:h=!0,c=!1,l--,e.next=45;break;case 44:i.append(s);case 45:return e.abrupt("break",52);case 46:return d["a"].IsEmptyString(r)||(i.append(r),r=p["a"].EMPTY_STRING,c=h=!1),f=!f,i.append(s),e.abrupt("break",52);case 50:return c?r+=s:f?i.append(s):(c=!0,l--),e.abrupt("break",52);case 52:h&&(a=r.toLowerCase(),a.equals("is")||a.equals("and")||a.equals("or")||a.equals("in")||a.equals("between")||a.equals("not")||(r=this.QualifyField(r,n)),i.append(r),i.append(o.toString()),r="",h=!1);case 53:l++,e.next=21;break;case 56:return i.append(r),e.abrupt("return",i.toString());case 58:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"IsClosingToken",value:function(e){return"="==e||")"==e||"="==e||">"==e||"<"==e||" "==e}},{key:"GetResultSet",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.GenerateKeySearch(t,n);case 2:return r=e.sent,e.next=5,this.GenerateSearchSql(r);case 5:if(a=e.sent,!a.contains("##")){e.next=13;break}return e.t0=this,e.t1=a,e.next=11,this.IsSqlPrefiltered();case 11:e.t2=e.sent,a=e.t0.PrepareSqlString.call(e.t0,e.t1,!1,e.t2);case 13:return e.next=15,this.getConnection().CreateRecordsetAsync(a,{count:!1,coll:this.DataColl.getName(),macros:this.DataColl.getMacros(),loadall:!1,page:{}});case 15:return i=e.sent,e.next=18,i.next();case 18:return e.abrupt("return",i);case 19:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"IsNotFieldName",value:function(e){for(var t=" /{}\\,;\r\n\t:#",n=0;n<t.length;n++){var r=t.charAt(n);if(-1!=e.indexOf(r))return!0}return!1}},{key:"QualifyField",value:function(e,t){var n,r,a;if(!this.Options.bUseRaw||d["a"].IsEmptyString(e))return e;if(this.IsNotFieldName(e))return e;var i=null;if(null!=(i=this.DataColl.getOwnerApp().GetQualifyCache(this.DataColl.getName()))&&i.containsKey(e))return i.get(e);if(null===(n=this.DataColl.BitProps)||void 0===n?void 0:n.contains(e))return e;if(null===(r=this.DataColl.FormulaProps)||void 0===r?void 0:r.contains(e))return e;var o=this.DataColl.FieldPropertyValue(e,"qualifier");if(!d["a"].IsEmptyString(o))return null!=i&&i.put(e,o),o;if(null==t){if(null==this.m_parsedAccessString)return e;t=this.m_parsedAccessString}if(F["a"].IsNothing(t))return e;if(!e.equals(this.DataColl.strPk)&&!this.DataColl.FieldExists(e)){if(e.startsWith("MAP_"))throw a="No se puede cualificar el campo '"+e+"' porque no est definido en la coleccin '"+this.DataColl.getName()+"'",new m["a"](a);if(!e.equals(this.m_connection.getRowIdFieldName())&&!e.equals("OBJTIMESTAMP"))return e}var s,l=t.getQueryFields();if(e.startsWith("MAP_"))for(var u=0;u<l.length;u++){var c=l[u];if(c.getAlias().equals(e))return null!=i&&i.put(e,c.getName()),c.getName()}else{a="."+e;for(var h=0;h<l.length;h++){var p=l[h];if(p.getName().endsWith(a)){var f=null;if((d["a"].IsEmptyString(p.getAlias())||0==p.getAlias().compareToIgnoreCase(e))&&(f=p.getName()),!d["a"].IsEmptyString(f))return null!=i&&i.put(e,f),f}}}for(var g=0;g<l.length;g++){var b=l[g];if(b.getName().endsWith(".*"))return a=b.getName().substring(0,b.getName().indexOf(".*"))+"."+e,null!=i&&i.put(e,a),a}return null!=(s=t.getTableFrom())?d["a"].IsEmptyString(a=s.getAlias())?(d["a"].IsEmptyString(a)&&(a=e),null!=i&&i.put(e,a),a):(a=a+"."+e,null!=i&&i.put(e,a),a):e}},{key:"getCount",value:function(){return this.m_lstOrderedList.length}},{key:"Clear",value:function(){try{this.m_lstObjectList.clear(),this.m_lstOrderedList=new Array,null!=this.m_lstCopyList&&(this.m_lstCopyList=new R["a"]),this.m_lstObjectLru=new R["a"],this.m_bIsSpecial&&(this.m_nBrowseLength=-1)}catch(e){this.Options.bDebug&&console.log(e.message)}return!0}},{key:"LoadCurrentItem",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="CXoneDataCollection::LoadCurrentItem",r=!0,a=!1,e.prev=2,!this.m_bIsSpecial){e.next=12;break}if(this.m_pCurrentItem=null,this.m_nBrowseLength<0&&(this.m_nBrowseLength=this.m_lstOrderedList.length),!(0==this.m_nBrowseLength||this.m_nCurrentIndex<0)){e.next=8;break}return e.abrupt("return",!0);case 8:return e.next=10,this.GetObject(this.m_nCurrentIndex);case 10:return this.m_pCurrentItem=e.sent,e.abrupt("return",!0);case 12:if(null!=this.m_pCurrentItem&&this.m_bDeferredLoad&&(r=!1),null!=this.m_rs){e.next=17;break}r=a=!0,e.next=21;break;case 17:return e.next=19,this.m_rs.EOF();case 19:if(!e.sent){e.next=21;break}r=a=!0;case 21:if(r&&this.ClearCurrentItem(!0,!0),!a){e.next=24;break}return e.abrupt("return",!0);case 24:if(n=r?null:this.m_pCurrentItem,null!=n){e.next=34;break}return e.next=28,this.DataColl.CreateObject(!1);case 28:if(n=e.sent,null!=n){e.next=34;break}throw i=this.DataColl.GetMessage(b["a"].SYS_MSG_COLL_LOADCURRITEMFAIL_01,"{0} failed. Cannot create new object from collection '{1}'"),i=i.replace("{0}",t),i=i.replace("{1}",this.DataColl.getName()),new g["a"](-1818,i);case 34:if(n.SetPropertyValue("MAP_SYS_ORDER",this.m_nBrowseOrder-1),this.m_bDeferredLoad){e.next=42;break}return e.next=38,n.Load(this.m_rs);case 38:if(e.sent){e.next=40;break}return e.abrupt("return",!1);case 40:e.next=43;break;case 42:n.setIsCurrentItem(!0);case 43:return this.m_pCurrentItem=n,e.abrupt("return",!0);case 47:throw e.prev=47,e.t0=e["catch"](2),o=e.t0.message,s=this.DataColl.GetMessage(b["a"].SYS_MSG_GENERALFAIL,"{0} failed. "),s=s.replace("{0}",t),c["a"].isEmpty(o)||(s=s.concat(o)),new g["a"](-10089,e.t0,s);case 54:case"end":return e.stop()}}),e,this,[[2,47]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"ClearCurrentItem",value:function(){this.m_pCurrentItem=null}},{key:"getCurrentItem",value:function(){return this.m_pCurrentItem}},{key:"removeItem",value:function(e){var t=null;if(null!=this.m_lstCopyList&&(this.m_lstCopyList=new R["a"],this.m_lstCopyList=null),t="number"==typeof e&&e<this.m_lstOrderedList.length?this.m_lstOrderedList[e]:"string"==typeof e?this.m_lstObjectList.get(e):e,!t)return!1;this.m_lstOrderedList.remove(t);var n=t.GetObjectIdString();return c["a"].isEmpty(n)||this.m_lstObjectList.containsKey(n)&&this.m_lstObjectList.delete(n),this.m_bIsSpecial&&(this.m_nBrowseLength=this.m_lstOrderedList.length),this.DataColl.setFull(!1),!0}}]),e}(),W=function(){function e(){Object(l["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GenerateFunctionName",value:function(e){var t=new C["a"],n="",r=e.getParentNode().SelectNodes(e.getName());if(1==r.count())n=e.getAttrValue(p["a"].PROP_ATTR_NAME),t.append(e.getName()),d["a"].IsEmptyString(n)||(t.append("[@"),t.append(p["a"].PROP_ATTR_NAME),t.append("='"),t.append(n),t.append("']"));else{t.append(e.getName());for(var a=0;a<r.count();a++){var i=r.get(a);if(i===e){t.length()>0&&t.append("["),t.append(d["a"].SafeToString(a+1)),t.append("]");break}}}e.hasChildNodes()&&null!=e.getChildren()&&e.getChildren().length>0&&null!=e.SelectSingleNode("script")&&t.append("/script"),0==t.length()&&t.append(e.getName());var o=e.getParentNode();while(1){var s=o.getName();if(n=o.getAttrValue("name"),d["a"].IsEmptyString(n)||(s+="[@",t.append(p["a"].PROP_ATTR_NAME),t.append("='"),s+=n,t.append("']")),t.insert(0,"/"),t.insert(0,s),o=o.getParentNode(),o.getName().equals("coll")){t.insert(0,"|//"),t.insert(0,o.getAttrValue("name"));break}t.insert(0,"/")}return t.insert(0,"@"),t.toString()}},{key:"GenerateFunctionNameDebug",value:function(e){var t=new C["a"],n="",r=e.getParentNode().SelectNodes(e.getName());if(1==r.count())n=e.getAttrValue(p["a"].PROP_ATTR_NAME),t.append(e.getName()),d["a"].IsEmptyString(n)||(t.append("[@"),t.append(p["a"].PROP_ATTR_NAME),t.append("='"),t.append(n),t.append("']"));else{t.append(e.getName());for(var a=0;a<r.count();a++){var i=r.get(a);if(i===e){t.length()>0&&t.append("["),t.append(d["a"].SafeToString(a+1)),t.append("]");break}}}e.hasChildNodes()&&null!=e.getChildren()&&e.getChildren().length>0&&null!=e.SelectSingleNode("script")&&t.append("/script"),0==t.length()&&t.append(e.getName());var o=e.getParentNode();while(1){var s=o.getName();if(n=o.getAttrValue("name"),d["a"].IsEmptyString(n)||(s+="[@",t.append(p["a"].PROP_ATTR_NAME),t.append("='"),s+=n,t.append("']")),t.insert(0,"/"),t.insert(0,s),o=o.getParentNode(),o.getName().equals("coll")){t.insert(0,"|//"),t.insert(0,o.getAttrValue("name"));break}t.insert(0,"/")}return t.insert(0,"@"),t.toString()}}]),e}(),Y=n("1ea0"),H=function(){function e(t,n,r){if(Object(l["a"])(this,e),this.UNIQUE_ID=Symbol("XoneDataCollection"),this.m_ownerApp=t,this.m_xmlNode=n,this.m_version=r,this.m_messages=t.getMessageHolder(),this.m_options={},this.m_strPk="ID",this.m_nPkType=0,this.m_parent=null,this.m_bLocked=!1,this.m_macrosEvaluator=new y(this.m_ownerApp,this),d["a"].IsEmptyString(this.m_strName=this.m_xmlNode.getAttrValue("name")))throw new m["a"](this.m_messages.GetMessage(b["a"].SYS_MSG_COLL_NONAME,"Cannot create a collection with an empty name."));this.m_lstKeyFields=new R["a"],this.m_lstFormulaProps=new Array,this.m_lstBitProps=new Array,this.m_cachePlatformNodes=new h["a"],this.m_browserData=new U(this)}return Object(u["a"])(e,[{key:"isDataCollection",get:function(){return!0}},{key:"getXmlNode",value:function(){return this.m_xmlNode}},{key:"getVersion",value:function(){return this.m_version}},{key:"BrowseData",get:function(){return this.m_browserData}},{key:"FieldPropertyValue",value:function(e,t){if(t){if(c["a"].isEmpty(e)||c["a"].isEmpty(t))throw new j["a"]("Empty field name passed to XoneDataCollection.FieldPropertyValue(). Collection name: "+this.getName());var n="";if(null==this.m_xmlNode)return p["a"].EMPTY_STRING;var r=null,a=this.m_ownerApp.GetCollPropValueCache(this.m_strName,"prop",e);if(null!=a&&a.containsKey(t))return a.get(t);if(r=this.m_xmlNode.SelectSingleNode("prop","name",e),null==r&&(r=this.m_xmlNode.SelectSingleNode("button","name",e)),null!=r){if(!d["a"].IsEmptyString(n=this.getOwnerApp().getPlatform())){var i=r.SelectSingleNode("platform","name",n);if(null!=i&&!d["a"].IsEmptyString(n=O["a"].getNodeAttr(i,t)))return null!=a&&a.put(t,n),this.CheckIfEvaluated(e,t,n)}var o=O["a"].getNodeAttr(r,t);if(!d["a"].IsEmptyString(o))return null!=a&&a.put(t,o),this.CheckIfEvaluated(e,t,o);if(t.equals("type")){var s=r.getName();if(s.equals("button"))return null!=a&&a.put(t,"B"),"B"}if(this.getOwnerApp().hasStylesheets()){var l=r.getAttrValue("type"),u=null,h=r.getAttrValue("class");if(d["a"].IsEmptyString(h)&&(h=this.m_xmlNode.getAttrValue("class")),d["a"].IsEmptyString(h))null==(u=this.m_ownerApp.FindStylesheetByClassName("prop:"+l,t))&&(u=this.m_ownerApp.FindStylesheetByClassName("prop",t));else{var f=h.split(" ");f.reverse();for(var m=0;m<f.length;m++){var _=f[m].trim();if(!c["a"].isEmpty(_)&&(null==(u=this.m_ownerApp.FindStylesheetByClassName("prop."+_+":"+l,t))&&null==(u=this.m_ownerApp.FindStylesheetByClassName("prop."+_,t))&&(u=this.m_ownerApp.FindStylesheetByClassName("."+_,t)),null!=u))break}}if(null!=u&&(n=u.getRuleValue(t),!d["a"].IsEmptyString(n)))return null!=a&&a.put(t,n),this.CheckIfEvaluated(e,t,n)}return null!=a&&a.put(t,p["a"].EMPTY_STRING),p["a"].EMPTY_STRING}if(!d["a"].IsEmptyString(this.m_options.strParentCollection)){if(null==this.getParentCollection()){var v=this.m_messages.GetMessage(b["a"].SYS_MSG_COLL_XPROPVALUEFAIL,"{0} failed for collection '{1}'. Cannot get parent collection '{2}'");throw v=v.replace("{0}","CXoneDataCollection::FieldPropertyValue"),v=v.replace("{1}",this.m_strName),v=v.replace("{2}",this.m_options.strParentCollection),new g["a"](-17171,v)}return this.getParentCollection().FieldPropertyValue(e,t)}return null!=a&&a.put(t,p["a"].EMPTY_STRING),p["a"].EMPTY_STRING}}},{key:"getName",value:function(){return this.m_strName}},{key:"getReplicate",value:function(){return d["a"].ParseBoolValue(this.CollPropertyValue("replicate"),!1)}},{key:"CheckIfEvaluated",value:function(e,t,n){try{if(!d["a"].IsEmptyString(n)&&n.contains("##")){if(n.equals(d["a"].XONE_EMPTY_STRING))return p["a"].EMPTY_STRING;var r=e+":"+t;this.m_ownerApp.addEvaluatedAttributesList(this.m_strName,r)}}catch(a){console.error(a)}return n}},{key:"getLayout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return N["a"].getLayout(this,t||this.getHierarchyXml(),e)}},{key:"getLayoutAsync",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,n=r.length>1&&void 0!==r[1]?r[1]:null,e.next=4,N["a"].getLayoutAsync(this,n||this.getHierarchyXml(),t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getHierarchyXml",value:function(){return null==this.getParentCollection()?this.getProperties():this.getProperties().merge(this.getParentCollection().getHierarchyXml())}},{key:"QualifyField",value:function(e,t){return this.BrowseData.QualifyField(e,t)}},{key:"getPropAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p["a"].PROP_NAME;return N["a"].getPropAttributes(this,e,t)}},{key:"NodePropertyValueBase",value:function(e,t,n,r){var a="";if(null==this.m_xmlNode)return p["a"].EMPTY_STRING;var i=new C["a"](t),o=e;while(!o.getName().equals(p["a"].COLL_COLL))i.insert(0,"/"),i.insert(0,o.getName()),o=o.getParentNode();var s=this.m_ownerApp.GetCollPropValueCache(this.m_strName,i.toString(),n);if(null!=s&&s.containsKey(r))return s.get(r);var l=null;if(l=d["a"].IsEmptyString(n)?e.SelectSingleNode(t):e.SelectSingleNode(t,p["a"].PROP_ATTR_NAME,n),null!=l){if(!d["a"].IsEmptyString(a=this.getOwnerApp().getPlatform())){var u=l.SelectSingleNode("platform",p["a"].PROP_ATTR_NAME,a);if(null!=u&&!d["a"].IsEmptyString(a=u.getAttrValue(r)))return null!=s&&s.put(r,a),this.CheckIfEvaluated(n,r,a)}if(a=l.getAttrValue(r),!d["a"].IsEmptyString(a))return null!=s&&s.put(r,a),this.CheckIfEvaluated(n,r,a);if(this.m_ownerApp.hasStylesheets()){var h=null,f=l.getAttrValue("class");if(d["a"].IsEmptyString(f)&&(f=this.m_xmlNode.getAttrValue("class")),d["a"].IsEmptyString(f))h=this.m_ownerApp.FindStylesheetByClassName(t,r);else{var m=f.split(" ");m.reverse();for(var b=0;b<m.length;b++){var _=m[b].trim();if(!c["a"].isEmpty(_)&&(null==(h=this.m_ownerApp.FindStylesheetByClassName(t+"."+_,r))&&(h=this.m_ownerApp.FindStylesheetByClassName("."+_,r)),null!=h))break}}if(null!=h&&(a=h.getRuleValue(r),!d["a"].IsEmptyString(a)))return null!=s&&s.put(r,a),this.CheckIfEvaluated(n,r,a)}return null!=s&&s.put(r,p["a"].EMPTY_STRING),p["a"].EMPTY_STRING}if(!d["a"].IsEmptyString(this.Options.strParentCollection)){if(null==this.getParentCollection())throw new g["a"](-17171,"CXoneDataCollection::NodePropertyValue ha fallado en la coleccin '"+this.m_strName+"'. La coleccin padre ('"+this.Options.strParentCollection+"') no se puede obtener.");return this.getParentCollection().NodePropertyValueBase(e,t,n,r)}return null!=s&&s.put(r,p["a"].EMPTY_STRING),p["a"].EMPTY_STRING}},{key:"NodePropertyValue",value:function(e,t,n){var r="";if(null==this.m_xmlNode)return p["a"].EMPTY_STRING;var a=null,i=this.m_ownerApp.GetCollPropValueCache(this.m_strName,e,t);if(null!=i&&i.containsKey(n))return i.get(n);if(a=e.equals(this.m_xmlNode.getName())?this.m_xmlNode:this.m_xmlNode.SelectSingleNode(e,p["a"].PROP_ATTR_NAME,t),null!=a){if(!d["a"].IsEmptyString(r=this.getOwnerApp().getPlatform())){var o=a.SelectSingleNode(p["a"].PLATFORM_NAME,p["a"].PROP_ATTR_NAME,r);if(null!=o&&!d["a"].IsEmptyString(r=O["a"].getNodeAttr(o,n)))return null!=i&&i.put(n,r),this.CheckIfEvaluated(t,n,r)}if(r=a.getAttrValue(n),!d["a"].IsEmptyString(r))return null!=i&&i.put(n,r),this.CheckIfEvaluated(t,n,r);if(this.m_ownerApp.hasStylesheets()){var s=null,l=a.getAttrValue("class");if(d["a"].IsEmptyString(l)&&(l=this.m_xmlNode.getAttrValue("class")),d["a"].IsEmptyString(l))s=this.m_ownerApp.FindStylesheetByClassName(e,n);else{var u=l.split(" ");u.reverse();for(var h=0;h<u.length;h++){var f=u[h].trim();if(!c["a"].isEmpty(f)&&(null==(s=this.m_ownerApp.FindStylesheetByClassName(e+"."+f,n))&&(s=this.m_ownerApp.FindStylesheetByClassName("."+f,n)),null!=s))break}}if(null!=s&&(r=s.getRuleValue(n),!d["a"].IsEmptyString(r)))return null!=i&&i.put(n,r),this.CheckIfEvaluated(t,n,r)}return null!=i&&i.put(n,p["a"].EMPTY_STRING),p["a"].EMPTY_STRING}if(!d["a"].IsEmptyString(this.Options.strParentCollection)){if(null==this.getParentCollection()){var m=this.m_messages.GetMessage(b["a"].SYS_MSG_COLL_XPROPVALUEFAIL,"{0} failed for collection '{1}'. Cannot get parent collection '{2}'.");throw m=m.replace("{0}","CXoneDataCollection::NodePropertyValue"),m=m.replace("{1}",this.m_strName),m=m.replace("{2}",this.Options.strParentCollection),new g["a"](-17171,m)}return this.getParentCollection().NodePropertyValue(e,t,n)}return null!=i&&i.put(n,p["a"].EMPTY_STRING),p["a"].EMPTY_STRING}},{key:"SetNodePropertyValue",value:function(e,t,n,r){if(null!=this.m_xmlNode){var a=this.m_ownerApp.GetCollPropValueCache(this.m_strName,e,t);null!=a&&a.put(n,r)}}},{key:"GroupPropertyValue",value:function(e,t){var n="";if(null==this.m_xmlNode)return p["a"].EMPTY_STRING;var r=null,a=this.m_ownerApp.GetCollPropValueCache(this.m_strName,"group",e);if(null!=a&&a.containsKey(t))return a.get(t);if(r=this.m_xmlNode.SelectSingleNode("group","id",e),null!=r){if(!d["a"].IsEmptyString(n=this.getOwnerApp().getPlatform())){var i=r.SelectSingleNode("platform","name",n);if(null!=i&&!d["a"].IsEmptyString(n=O["a"].getNodeAttr(i,t)))return null!=a&&a.put(t,n),n}if(n=O["a"].getNodeAttr(r,t),d["a"].IsEmptyString(n)&&!d["a"].IsEmptyString(this.Options.strParentCollection)&&null!=this.getParentCollection()&&(n=this.getParentCollection().GroupPropertyValue(e,t)),!d["a"].IsEmptyString(n))return null!=a&&a.put(t,n),n;if(this.m_ownerApp.hasStylesheets()){var o=null,s=r.getAttrValue("class");if(d["a"].IsEmptyString(s)&&(s=this.m_xmlNode.getAttrValue("class")),d["a"].IsEmptyString(s))o=this.m_ownerApp.FindStylesheetByClassName("group",t);else{var l=s.split(" ");l.reverse();for(var u=0;u<l.length;u++){var h=l[u].trim();if(!c["a"].isEmpty(h)&&(null==(o=this.m_ownerApp.FindStylesheetByClassName("group."+h,t))&&(o=this.m_ownerApp.FindStylesheetByClassName("."+h,t)),null!=o))break}}if(null!=o&&(n=o.getRuleValue(t),!d["a"].IsEmptyString(n)))return null!=a&&a.put(t,n),n}return null!=a&&a.put(t,p["a"].EMPTY_STRING),p["a"].EMPTY_STRING}if(!d["a"].IsEmptyString(this.Options.strParentCollection)){if(null==this.getParentCollection()){var f=this.m_messages.GetMessage(b["a"].SYS_MSG_COLL_XPROPVALUEFAIL,"{0} failed for collection '{1}'. Cannot get parent collection '{2}'");throw f=f.replace("{0}","CXoneDataCollection::GroupPropertyValue"),f=f.replace("{1}",this.m_strName),f=f.replace("{2}",this.Options.strParentCollection),new g["a"](-17171,f)}return this.getParentCollection().GroupPropertyValue(e,t)}return null!=a&&a.put(t,p["a"].EMPTY_STRING),p["a"].EMPTY_STRING}},{key:"CollPropertyValue",value:function(e){var t="",n=this.m_ownerApp.GetCollPropUndefinedValues(this.m_strName);if(null!=n&&n.contains(e))return t;var r=this.m_ownerApp.GetCollPropValueCache(this.m_strName);if(null!=r&&r.containsKey(e))return r.get(e);if(e.equals("##DBMS##"))return this.BrowseData.getConnection().getDbmsTag();var a=this.m_ownerApp.getPlatform();if(!d["a"].IsEmptyString(a)){var i=null;this.m_cachePlatformNodes.containsKey(a)?i=this.m_cachePlatformNodes.get(a):this.m_cachePlatformNodes.put(a,i=this.m_xmlNode.SelectSingleNode("platform","name",a)),null!=i&&(t=i.getAttrValue(e))}if(d["a"].IsEmptyString(t)&&(t=O["a"].getNodeAttr(this.m_xmlNode,e)),d["a"].IsEmptyString(t)){if(this.m_ownerApp.hasStylesheets()){var o=null,s=this.m_xmlNode.getAttrValue("class");if(d["a"].IsEmptyString(s)?o=this.m_ownerApp.FindStylesheetByClassName("coll",e):null==(o=this.m_ownerApp.FindStylesheetByClassName("coll."+s,e))&&(o=this.m_ownerApp.FindStylesheetByClassName("."+s,e)),null!=o){var l=o.getRuleValue(e);if(!d["a"].IsEmptyString(l))return null!=r&&r.put(e,l),l}}try{if(!d["a"].IsEmptyString(this.Options.strParentCollection)&&null!=this.getParentCollection())return this.getParentCollection().CollPropertyValue(e)}catch(u){console.error(u)}t=""}return t}},{key:"getFirstParentCollection",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==this.m_parent){e.next=2;break}return e.abrupt("return",this.m_parent);case 2:if(!d["a"].IsEmptyString(this.Options.strParentCollection)){e.next=4;break}return e.abrupt("return",null);case 4:if(!this.m_strName.equals(this.Options.strParentCollection)){e.next=6;break}throw new g["a"](-2322,"CXoneDataCollection::ParentCollection has failed for collection "+this.m_strName+". Cannot define a parent collection as its own.");case 6:return e.next=8,this.m_ownerApp.getCollection(this.Options.strParentCollection);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getParentCollection",value:function(){return this.m_parent}},{key:"ExtractConnections",value:function(){for(var e=this.m_xmlNode.SelectNodes("connection"),t=0;t<e.count();t++){var n=e.get(t),r=n.getAttrValue("name");if(!d["a"].IsEmptyString(r)&&null==this.m_ownerApp.getConnection(r)&&!this.m_ownerApp.LoadConnection(n))return!1}return!0}},{key:"GetNodeList",value:function(e,t,n,r){return this.getNodeList(e,t,n,r)}},{key:"getNodeList",value:function(e,t,n,r){return null==this.m_xmlNode?null:this.m_xmlNode.SelectNodes(e,t,n,r)}},{key:"GetNode",value:function(e,t,n){return this.getNode(e,t,n)}},{key:"getNode",value:function(e,t,n){if(null==this.m_xmlNode)return null;var r=this.m_xmlNode.SelectSingleNode(e,t,n);if(null==r&&!d["a"].IsEmptyString(this.m_options.strParentCollection))try{var a=this.getParentCollection();null!=a&&(r=a.getNode(e,t,n))}catch(i){console.error(i)}return r}},{key:"getNodeAttr",value:function(e,t){if(null==this.m_xmlNode)return null;var n=this.getNode(e);if(null==n&&!d["a"].IsEmptyString(this.m_options.strParentCollection))try{var r=this.getParentCollection();null!=r&&(n=r.getNode(e))}catch(o){console.error(o)}if(null==n)return null;var a=n.getAttrValue(t);if(null==a&&!d["a"].IsEmptyString(this.m_options.strParentCollection))try{var i=this.getParentCollection();null!=i&&(a=i.getNodeAttr(e,t))}catch(o){console.error(o)}return a}},{key:"Load",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==this.m_xmlNode){e.next=2;break}return e.abrupt("return",!0);case 2:if(this.ExtractConnections()){e.next=5;break}return p["a"].DebugLog(p["a"].TAG_FRAMEWORK,"DataCollection.Load(): Cannot extract connections from collection "+this.m_xmlNode),e.abrupt("return",!1);case 5:if(this.m_options.bLoadLayouts=d["a"].ParseBoolValue(this.CollPropertyValue("load-layouts"),!0),this.m_options.bisIndexed=d["a"].ParseBoolValue(t=this.CollPropertyValue("indexed"),!1),this.m_options.bCheckOwner=d["a"].ParseBoolValue(t=this.CollPropertyValue("check-owner"),!1),this.m_options.bIsSpecial=d["a"].ParseBoolValue(t=this.CollPropertyValue("special"),!1),this.m_options.bStringPk=d["a"].ParseBoolValue(t=this.CollPropertyValue("stringkey"),!1),this.m_options.bObjLoadAll=d["a"].ParseBoolValue(t=this.CollPropertyValue("obj-loadall"),!0),this.m_options.bVolatile=d["a"].ParseBoolValue(this.CollPropertyValue("volatile"),!1),this.m_options.bDeferredLoad=d["a"].ParseBoolValue(this.CollPropertyValue("deferred-load"),!0),this.m_options.bDebug=d["a"].ParseBoolValue(this.CollPropertyValue("sql-debug"),!1),this.m_options.bUseRaw=d["a"].ParseBoolValue(t=this.CollPropertyValue("userawsql"),!0),d["a"].IsEmptyString(t)&&null!=this.BrowseData.getConnection()&&(this.m_options.bUseRaw=!this.BrowseData.getConnection().getSubqueries()),this.m_options.bParseSQL=d["a"].ParseBoolValue(this.CollPropertyValue("sql-parser"),!0),this.m_strPk="ID",d["a"].IsEmptyString(t=this.CollPropertyValue("idfieldname"))||(this.m_strPk=t,this.m_options.nPkType=d["a"].ParseBoolValue(this.CollPropertyValue("stringkey"),!1)?1:0,this.m_strPk.contains(",")&&(this.m_options.bMultipleKey=!0)),d["a"].IsEmptyString(t=this.CollPropertyValue("object-prefix"))||(this.m_options.strPrefix=t),this.m_strLinkFilter=this.CollPropertyValue("filter"),this.m_strSort=this.CollPropertyValue("sort"),this.m_options.strLookupMacroName=this.CollPropertyValue("lookup-macro"),this.m_options.strAccessString=this.CollPropertyValue("sql"),d["a"].IsEmptyString(this.m_options.strAccessString)||(this.m_options.bSingleObject=-1==this.m_options.strAccessString.indexOf(" ")),this.m_options.strProgId=this.CollPropertyValue("progid"),this.m_options.strClassName=this.CollPropertyValue("classname"),this.m_options.strParentCollection=this.CollPropertyValue("inherits"),!c["a"].isEmpty(this.m_options.strParentCollection)&&this.m_options.strParentCollection.equals(this.m_xmlNode.getName())&&(this.m_options.strParentCollection=p["a"].EMPTY_STRING),d["a"].IsEmptyString(this.m_options.strParentCollection)){e.next=34;break}if(d["a"].areEquals(this.m_strName,this.m_options.strParentCollection)){e.next=34;break}return e.next=33,this.getFirstParentCollection();case 33:this.m_parent=e.sent;case 34:for(d["a"].IsEmptyString(t=this.CollPropertyValue("threshold"))||(this.m_options.nThreshold=_["a"].SafeToInt(t)),d["a"].IsEmptyString(t=this.CollPropertyValue("maxrows"))||(this.m_options.nMaxRows=_["a"].SafeToInt(t)),this.m_options.strObjectName=this.CollPropertyValue("objname"),d["a"].IsEmptyString(this.m_options.strObjectName)&&(this.m_options.bIsSpecial||(this.m_options.strObjectName=this.m_xmlNode.getName())),this.m_options.strUpdateObject=this.CollPropertyValue("updateobj"),null!=this.getParentCollection()&&(this.m_options.bHasXlatProps=!1),this.m_options.bHasXlatProps||(n=this.getNodeList("prop","xlat",null,!0),n.count()>0&&(this.m_options.bHasXlatProps=!0)),r=this.m_xmlNode.SelectNodes("prop","formula",p["a"].EMPTY_STRING,!0),a=0;a<r.count();a++)i=r.get(a),this.m_lstFormulaProps.push(i.getAttrValue("name"));for(r=this.m_xmlNode.SelectNodes("prop","bit",p["a"].EMPTY_STRING,!0),o=0;o<r.count();o++)s=r.get(o),this.m_lstBitProps.push(s.getAttrValue("name"));return e.abrupt("return",!0);case 46:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"BitProps",get:function(){return this.m_lstBitProps}},{key:"FormulaProps",get:function(){return this.m_lstFormulaProps}},{key:"getIsDebugging",value:function(){return this.Options.bDebug}},{key:"getLocalObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.BrowseData.GetLocalObject(e,t)}},{key:"get",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,e.abrupt("return",this.getObject(t,n));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=!(i.length>2&&void 0!==i[2])||i[2],a=!(i.length>3&&void 0!==i[3])||i[3],e.abrupt("return",this.BrowseData.GetObject(t,n,r,a));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"findObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.BrowseData.findObject(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"GenerateRowId",value:function(){return this.getConnection().GenerateRowId(this.getFixedObjectName())}},{key:"IsUniqueRowId",value:function(e){return this.getConnection().isUniqueRowID(this.getFixedObjectName(),e)}},{key:"getRowIdFieldName",value:function(){return this.getConnection().getRowIdFieldName()}},{key:"getFixedObjectName",value:function(){return this.getFixedUpdateObjectName()}},{key:"getFixedUpdateObjectName",value:function(){return this.getConnection().FixObjectName(this.getObjectName())}},{key:"MapField",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.BrowseData.MapField(e,t)}},{key:"GetResultSet",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.BrowseData.GetResultSet(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"DevelopObjectValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.BrowseData.DevelopObjectValue(e,t)}},{key:"getObjectName",value:function(){return this.Options.strObjectName}},{key:"addItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.BrowseData.AddItem(e,t)}},{key:"IsLinkedField",value:function(e){try{return!d["a"].IsEmptyString(this.FieldPropertyValue(e,"mapcol"))&&!d["a"].IsEmptyString(this.FieldPropertyValue(e,"mapfld"))}catch(t){return!1}}},{key:"getIdFieldName",value:function(){return this.m_strPk}},{key:"getIdFieldType",value:function(){return this.m_nPkType}},{key:"getAccessString",value:function(){return this.m_options.strAccessString}},{key:"accessString",get:function(){return this.m_options.strAccessString}},{key:"getCollPropertyValue",value:function(e){return this.CollPropertyValue(e)}},{key:"getStringKey",value:function(){return this.m_options.bStringPk}},{key:"getLookupMacroName",value:function(){return this.m_options.strLookupMacroName}},{key:"EvaluateAllMacros",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.next=3,this.m_macrosEvaluator.EvaluateAllMacros(t,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"SafeGetVariableList",value:function(){return null!=this.m_lstVariables?this.m_lstVariables:this.m_lstVariables=new h["a"]}},{key:"getVariables",value:function(e){return this.getVariable(e)}},{key:"getVariable",value:function(e){return this.SafeGetVariableList().containsKey(e)?this.SafeGetVariableList().get(e):null}},{key:"setVariables",value:function(e,t){this.setVariable(e,t)}},{key:"setVariable",value:function(e,t){null==t?this.SafeGetVariableList().containsKey(e)&&this.SafeGetVariableList().delete(e):this.SafeGetVariableList().put(e,t)}},{key:"ParseMacros",value:function(e){this.m_macrosEvaluator.ParseMacros(e)}},{key:"getMacro",value:function(e){return this.m_macrosEvaluator.getMacro(e)}},{key:"getMacros",value:function(){var e=this,t=this.m_macrosEvaluator.getMacros();return Object.entries(t).forEach((function(n){var r=Object(o["a"])(n,2),a=r[0],i=r[1];return t[a]=e.BrowseData.PrepareSqlString(i)})),t}},{key:"setMacro",value:function(e,t){this.m_macrosEvaluator.setMacro(e,t)}},{key:"strPk",get:function(){return this.m_strPk},set:function(e){this.m_strPk=e}},{key:"GetMessage",value:function(e,t){return this.m_messages.GetMessage(e,t)}},{key:"Options",get:function(){return this.m_options}},{key:"createObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:null,n=s.length>1&&void 0!==s[1]&&s[1],e.next=4,this.CreateObject();case 4:if(r=e.sent,n&&this.addItem(r),"object"==Object(i["a"])(t))for(a in t)o=t[a],r.put(a.toString(),o);return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"CreateObject",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],n=null,r=p["a"].EMPTY_STRING,r=d["a"].IsEmptyString(r=this.Options.strClassName)?this.Options.strClassName=this.m_ownerApp.GetClassName(this.Options.strProgId):this.m_ownerApp.CheckClassName(this.Options.strClassName),n=d["a"].IsEmptyString(r)||r.equalsIgnoreCase("xonedataobject")?new f["a"](this):r.equalsIgnoreCase("xoneuser")?new P(this):r.equalsIgnoreCase("xonecompany")?new k(this):new f["a"](this),e.next=7,n.OnCreate(t);case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getOwnerApp",value:function(){return this.m_ownerApp}},{key:"getMultipleKey",value:function(){return this.Options.bMultipleKey}},{key:"getKeyFields",value:function(){return this.m_lstKeyFields}},{key:"PropType",value:function(e){var t=this.FieldPropertyValue(e,"type");return e.equals(this.m_strPk)?this.Options.bStringPk?"T":"N":(d["a"].IsEmptyString(t)&&(t="T"),t)}},{key:"PropVisibility",value:function(e){var t=this.FieldPropertyValue(e,"visible");return d["a"].IsEmptyString(t)||t.equals("true")?t="1":t.equals("false")&&(t="0"),t}},{key:"isIndexed",value:function(){return!1}},{key:"getProperties",value:function(){return this.m_xmlNode}},{key:"getUseObjectsInRestore",value:function(){return this.m_bUseObjectsInRestore}},{key:"setUseObjectsInRestore",value:function(e){this.m_bUseObjectsInRestore=e}},{key:"PropertyTitle",value:function(e){var t="",n="",r=null,a=null;if(!d["a"].IsEmptyString(t=this.FieldPropertyValue(e,"title")))return t;if(!d["a"].IsEmptyString(t=this.FieldPropertyValue(e,"caption")))return t;var i=this;do{if(null!=(r=i.getNode("prop","name",e)))break;if(null!=(r=i.getNode("button","name",e)))break;i=i.getParentCollection()}while(null!=i);if(null==r)return e;if(d["a"].IsEmptyString(n=this.getOwnerApp().getPlatform())||(a=r.SelectSingleNode("platform","name",n)),n="",null!=a&&d["a"].IsEmptyString(n=O["a"].getNodeAttr(a,"title"))&&(n=a.getAttrValue("caption")),d["a"].IsEmptyString(n)&&(n=O["a"].getNodeAttr(r,"title"),d["a"].IsEmptyString(n)&&(n=r.getAttrValue("caption"),d["a"].IsEmptyString(n)&&(n=r.getText()),d["a"].IsEmptyString(n)))){var o=!1;if(r.getName().equals("button"))o=!0;else{var s=r.getAttrValue("type");d["a"].IsEmptyString(s)||s.equals("B")&&(o=!0)}o||(n=e)}return d["a"].SafeToString(n)}},{key:"IsFormulaProperty",value:function(e){return 0!=this.m_lstFormulaProps.length&&!!this.m_lstFormulaProps.contains(e)}},{key:"IsBitProperty",value:function(e){return 0!=this.m_lstBitProps.length&&!!this.m_lstBitProps.contains(e)}},{key:"getDeferredLoad",value:function(){return this.Options.bDeferredLoad}},{key:"GetCurrentItemValue",value:function(e){throw new Error("Method not implemented.")}},{key:"FieldExists",value:function(e){if(null!=this.m_xmlNode.SelectSingleNode("prop","name",e))return!0;if(null!=this.m_xmlNode.SelectSingleNode("button","name",e))return!0;if(this.m_strPk.equals(e))return!0;if(!d["a"].IsEmptyString(this.Options.strParentCollection)){if(null==this.getParentCollection()){var t=this.m_messages.GetMessage(b["a"].SYS_MSG_COLL_FIELDEXISTSFAIL,"CXoneDataCollection::FieldExists failed. Collection '{0}' inherits '{1}' and it cannot be found.");throw t=t.replace("{0}",this.m_strName),t=t.replace("{1}",this.Options.strParentCollection),new g["a"](-17778,t)}return this.getParentCollection().FieldExists(e)}return!1}},{key:"getSpecial",value:function(){return this.isSpecial}},{key:"isSpecial",get:function(){return this.m_options.bIsSpecial}},{key:"getObjectIndex",value:function(e){return this.BrowseData.ObjectIndex(e)}},{key:"getTypeFromXml",value:function(t){if(c["a"].isEmpty(t))return e.PROP_TYPE_STRING;switch(t){case"T":case"TN":case"DR":case"IMG":case"PH":case"TT":return e.PROP_TYPE_STRING;case"N":case"NC":return e.PROP_TYPE_INTEGER;case"D":case"DT":return e.PROP_TYPE_DATE;case"Z":return e.PROP_TYPE_RESULTSET;default:var n=t.charAt(0);return"N"==n?e.PROP_TYPE_DOUBLE:e.PROP_TYPE_STRING}}},{key:"lock",value:function(){this.m_bLocked=!0}},{key:"unlock",value:function(){this.m_bLocked=!1}},{key:"isLock",value:function(){return this.m_bLocked}},{key:"clear",value:function(){return!!this.m_bLocked||this.ClearCollection()}},{key:"ClearCollection",value:function(){if(this.m_bIsClearing||this.m_bLocked)return!0;try{this.m_bIsClearing=!0,this.BrowseData.Clear(),this.m_bFull=this.m_bIsClearing=!1,this.m_bIsSpecial&&(this.m_nBrowseLength=-1)}catch(e){this.Options.bDebug&&console.log(e.message)}return!0}},{key:"getSort",value:function(){return this.m_strSort}},{key:"setSort",value:function(e){this.m_strSort=e}},{key:"setLinkFilter",value:function(e){this.m_strLinkFilter=e}},{key:"getLinkFilter",value:function(){return this.m_strLinkFilter}},{key:"getFilter",value:function(){return this.m_strFilter}},{key:"setFilter",value:function(e){this.m_strFilter=e}},{key:"getOwnerObject",value:function(){return this.m_pOwnerObject}},{key:"setOwnerObject",value:function(e){this.m_pOwnerObject=e}},{key:"createClone",value:function(){return this.CreateClone()}},{key:"CreateClone",value:function(){var t=null;return t=new e(this.getOwnerApp(),this.getProperties(),this.getVersion()),t.Load()?(t.setSort(this.m_strSort),t.setFilter(this.m_strFilter),this.CopyMacros(t),this.CopyVariables(t),t):null}},{key:"CopyVariables",value:function(e){this.SafeGetVariableList().entrySet().forEach((function(t){return e.setVariables(t[0],t[1])}))}},{key:"CopyMacros",value:function(e){this.m_macrosEvaluator.CopyMacros(e)}},{key:"loadAll",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1?r[1]:void 0,e.abrupt("return",this.BrowseData.loadAllAsync(t,n));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadAllAsync",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1?r[1]:void 0,e.abrupt("return",this.BrowseData.loadAllAsync(t,n));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"startBrowse",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],n=r.length>1?r[1]:void 0,e.abrupt("return",this.BrowseData.startBrowse(t,n));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveNext",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.BrowseData.MoveNext());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"endBrowse",value:function(){return this.BrowseData.EndBrowse()}},{key:"currentItem",get:function(){return this.getCurrentItem()}},{key:"getCurrentItem",value:function(){return this.BrowseData.getCurrentItem()}},{key:"getConnection",value:function(){return this.BrowseData.getConnection()}},{key:"isFull",value:function(){return this.getFull()}},{key:"getFull",value:function(){return this.m_bFull}},{key:"setFull",value:function(e){this.m_bFull=e}},{key:"getCount",value:function(){return this.BrowseData.getCount()}},{key:"count",value:function(){return this.getCount()}},{key:"length",get:function(){return this.getCount()}},{key:"PrepareSqlString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.BrowseData.PrepareSqlString(e,t,n)}},{key:"browseLength",value:function(){return this.BrowseData.browseLength()}},{key:"ExecuteCollAction",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(r=o.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=o[i];return e.next=3,this.executeCollAction.apply(this,[t,n].concat(a));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeCollAction",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=null,a="",!d["a"].IsEmptyString(t)){e.next=4;break}return e.abrupt("return",null);case 4:if(i=this.GetNode(t),null!=i){e.next=8;break}return this.Options.bDebug&&console.log("Coleccin '"+this.getName()+"' ExecuteCollAction no encuentra el nodo '"+t+"'"),e.abrupt("return",null);case 8:if(r=d["a"].IsEmptyString(n)?i.SelectSingleNode("action"):i.SelectSingleNode("action","name",n),null==r){e.next=19;break}for(a=O["a"].GetNodeAttr(r,"type"),d["a"].IsEmptyString(a)&&(a="runscript"),o=u.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=u[l];if(!a.equals("runscript")){e.next=17;break}return e.next=16,this.doRunScript(r,s);case 16:return e.abrupt("return",e.sent);case 17:e.next=20;break;case 19:this.Options.bDebug&&(d["a"].IsEmptyString(a=n)&&(a=""),console.log("Coleccin '"+this.getName()+"' ExecuteCollAction no encuentra el nodo action[name='"+a+"']"));case 20:return e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"prepareContext",value:function(e,t){for(var n,r=this,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];var l="",u="",c="",h=new Y["a"](e),p="",f=[],m=[],g=[],b=[];if(t instanceof I["a"]){o&&Array.isArray(o)&&o.length>0?h.ExtractArguments.apply(h,[t].concat(Object(a["a"])(o))):o=null,n=t.SelectNodes("script");for(var _=function(e){var a=n.get(e),i=a;if(c=O["a"].getNodeAttr(a,"name"),!d["a"].IsEmptyString(c)){if(null==(i=r.getNode("script","name",c)))return"continue";l=null}u=O["a"].getNodeAttr(i,"language"),d["a"].IsEmptyString(u)&&(u=r.getOwnerApp().getDefaultLanguage()),l=i.getText();var o=0;h.GetParams()&&!h.GetParams().isEmpty()&&h.GetParams().entrySet().forEach((function(e){l="\t"+"let ".concat(e[0],"=XArguments[").concat(o,"];")+"\n"+l,g.push(e[0]),e[1].toString().startsWith("'")&&e[1].toString().endsWith("'")&&(e[1]=e[1].toString().slice(1,e[1].toString().length-1)),b.push(e[1]),o++})),p=W.GenerateFunctionName(t),f.push(l),m.push(p)},v=0;v<n.count();v++)_(v)}else l=t.replace("javascript:",""),f.push(l),m.push(p);return{ctx:h,scripts:f,funcNames:m,slang:u,Arguments:o,argsName:g,argsValue:b}}},{key:"doRunScript",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=i.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=i[a];return e.next=3,this.DoRunScriptAsync.apply(this,[t].concat(r));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"DoRunScriptAsync",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(n=l.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=l[a];i=this.prepareContext.apply(this,[this,t].concat(r)),o=i.scripts.length,new Array,s=0;case 5:if(!(s<o)){e.next=11;break}return e.next=8,this.getOwnerApp().RunScriptAsync(i.funcNames[s],i.slang,i.scripts[s],i.ctx,i.Arguments,i.argsName,i.argsValue);case 8:s++,e.next=5;break;case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getItem",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=a.length,n=new Array(t),r=0;r<t;r++)n[r]=a[r];return e.next=3,this.WrapGetItem(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"WrapGetItem",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t=null,n=l.length,r=new Array(n),a=0;a<n;a++)r[a]=l[a];e.t0=r.length,e.next=1===e.t0?5:2===e.t0?15:20;break;case 5:if("string"!==typeof r[0]){e.next=10;break}return e.next=8,this.get(r[0].toString());case 8:return t=e.sent,e.abrupt("break",23);case 10:return i=_["a"].SafeToInt(r[0]),e.next=13,this.get(i);case 13:return t=e.sent,e.abrupt("break",23);case 15:return o=r[0].toString(),e.next=18,this.get(o,r[1]);case 18:return t=e.sent,e.abrupt("break",23);case 20:throw s=this.m_messages.GetMessage(b["a"].SYS_MSG_VBS_BADPARAMCOUNT,"VBS Runtime Error. Incorrect number of parameters for '{0}'"),s=s.replace("{0}","Item"),new g["a"](-91111,s);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"deleteItem",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t instanceof f["a"]&&(t=t.getObjectIndex()),e.next=3,this.get(t);case 3:if(n=e.sent,!n){e.next=10;break}if(n.setFollowRules(this.m_bFollowRules),this.m_options.bIsSpecial){e.next=9;break}if(n.deleteObject()){e.next=9;break}return e.abrupt("return",!1);case 9:this.removeItem(t);case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeItem",value:function(e){return this.BrowseData.removeItem(e),this.m_bFull=!1,!0}},{key:"loadFromJson",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t="loadFromJson",n=l.length,r=new Array(n),a=0;a<n;a++)r[a]=l[a];return p["a"].CheckNullParameters(t,r),p["a"].CheckIncorrectParamRange(t,r,1,2),i=r[0],o=r.length>1?r[1]:null,s=o&&d["a"].ParseBoolValue(o["strictMode"],!1),"string"===typeof i&&(i=JSON.parse(i)),this.ClearCollection(),e.next=11,this.loadFromJsonArray(this,i,s);case 11:return e.abrupt("return",this);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadFromJsonArray",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a=0;a<n.length;a++)i=new f["a"](t),i.loadFromJson(n[a]),t.addItem(i);case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()}]),e}();H.PROP_TYPE_INTEGER=0,H.PROP_TYPE_STRING=1,H.PROP_TYPE_DOUBLE=2,H.PROP_TYPE_DATE=3,H.PROP_TYPE_RESULTSET=0},d38b:function(e,t,n){"use strict";n("6764")},d442:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n("1da1"),a=(n("96cf"),n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("ac1f"),n("5319"),n("caad"),n("2532"),n("2ca0"),n("498a"),""),i=function(e){return a=e},o=function(){return a},s=new Map,l=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o,u,c,d=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:"icons",r=d.length>2&&void 0!==d[2]?d[2]:0,i=d.length>3?d[3]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:if(i||(i="getImagePath:".concat(t,"-").concat(n)),!s.has(i)){e.next=8;break}return e.abrupt("return",s.get(i));case 8:return o=new Image,u=t,e.prev=10,2==r&&(u=u.replace("icons/","source/").replace("images/","source/")),e.next=14,new Promise((function(e,r){var i,s,l;null!==(i=u)&&void 0!==i&&i.includes("icons/")||null!==(s=u)&&void 0!==s&&s.includes("files/")||null!==(l=u)&&void 0!==l&&l.includes("source/")||t.startsWith("http")||t.startsWith("www.")||(u="/".concat(n,"/").concat(u)),a&&!u.startsWith(a)&&(u="".concat(a).concat(u)),o.src=u,o.onload=function(){e()},o.onerror=function(){return r()}}));case 14:e.next=24;break;case 16:if(e.prev=16,e.t0=e["catch"](10),r++,!(r>2||t.trim().startsWith("http")||t.trim().startsWith("www."))){e.next=21;break}return e.abrupt("return",null);case 21:if(null===(c=u)||void 0===c||!c.includes("icons/")){e.next=23;break}return e.abrupt("return",l(u.replace("icons/","files/"),"",r,i));case 23:return e.abrupt("return",l(u.replace("files/","icons/"),"",r));case 24:return s.has(i)||s.set(i,u),e.abrupt("return",u);case 26:case"end":return e.stop()}}),e,null,[[10,16]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,i,o,l,c,d,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:"icons",r=h.length>2&&void 0!==h[2]?h[2]:0,i=h.length>3?h[3]:void 0,t){e.next=5;break}return e.abrupt("return");case 5:if(i||(i="getImagePathAndSize:".concat(t,"-").concat(n)),!s.has(i)){e.next=8;break}return e.abrupt("return",s.get(i));case 8:return o=new Image,l=t,c={width:0,height:0},e.prev=11,2==r&&(l=l.replace("icons/","source/").replace("images/","source/")),e.next=15,new Promise((function(e,r){var i,s,u;null!==(i=l)&&void 0!==i&&i.includes("icons/")||null!==(s=l)&&void 0!==s&&s.includes("files/")||null!==(u=l)&&void 0!==u&&u.includes("source/")||t.startsWith("http")||t.startsWith("www.")||(l="/".concat(n,"/").concat(l)),a&&!l.startsWith(a)&&(l="".concat(a).concat(l)),o.src=l,o.onload=function(){e({width:this.width,height:this.height})},o.onerror=function(){return r()}}));case 15:c=e.sent,e.next=26;break;case 18:if(e.prev=18,e.t0=e["catch"](11),r++,!(r>2||t.trim().startsWith("http")||t.trim().startsWith("www."))){e.next=23;break}return e.abrupt("return",null);case 23:if(null===(d=l)||void 0===d||!d.includes("icons/")){e.next=25;break}return e.abrupt("return",u(l.replace("icons/","files/"),"",r,i));case 25:return e.abrupt("return",u(l.replace("files/","icons/"),"",r));case 26:return s.has(i)||s.set(i,{path:l,imgSize:c}),e.abrupt("return",{path:l,imgSize:c});case 28:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}()},d911:function(e,t,n){},dcf0:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return __SCRIPT_WRAPPER})),__webpack_require__.d(__webpack_exports__,"b",(function(){return __SCRIPT_WRAPPERASYNC}));var _home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("1da1"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("a434"),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("25f0"),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac1f"),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5319"),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("498a"),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("1276"),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("a15b"),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("a9e3"),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("38cf"),core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_string_repeat_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("bf19"),core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_web_url_to_json_js__WEBPACK_IMPORTED_MODULE_12__),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("96cf"),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_13__),appData,self,ui,selfDataColl,__SCRIPT_WRAPPER=function __SCRIPT_WRAPPER(appDataVal,uiVal,selfVal,functionString,Arguments){appData=appDataVal,ui=uiVal,self=selfVal,"string"==typeof functionString?eval(functionString):functionString.call(this,Arguments)},__SCRIPT_WRAPPERASYNC=function(){var _ref=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function _callee(appDataVal,uiVal,selfVal,selfDataCollVal,functionString,Arguments){return regeneratorRuntime.wrap((function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(appData=appDataVal,ui=uiVal,self=selfVal,selfDataColl=selfDataCollVal,"string"!=typeof functionString){_context.next=9;break}return _context.next=7,eval(functionString);case 7:_context.next=11;break;case 9:return _context.next=11,functionString.call(this,Arguments);case 11:case"end":return _context.stop()}}),_callee,this)})));return function(e,t,n,r,a,i){return _ref.apply(this,arguments)}}();function GetPosGPS(e,t){return _GetPosGPS.apply(this,arguments)}function _GetPosGPS(){return _GetPosGPS=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,o,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=0,a=0,i=0,ui.startGps(),e.next=6,appData.getCollection("ContentConectarGPS");case 6:return o=e.sent,e.next=9,o.startBrowse();case 9:return e.next=11,o.getCurrentItem();case 11:if(s=e.sent,"undefined"!==typeof s&&(null!==s&&1==s.STATUS?s.HGPS.length>0&&(""!==s.LATITUD&&(r=parseFloat(s.LATITUD)),s.LONGITUD.length>0&&(a=parseFloat(s.LONGITUD))):(r=appData.getCurrentEnterprise().getVariables("LATITUD"),a=appData.getCurrentEnterprise().getVariables("LONGITUD"))),o=null,s=null,appData.getCurrentEnterprise().getVariables("LATITUD")===r&&appData.getCurrentEnterprise().getVariables("LONGITUD")===a||(appData.getCurrentEnterprise().setVariables("LATITUD",r),appData.getCurrentEnterprise().setVariables("LONGITUD",a),i=1),"tracking"!==t){e.next=35;break}if(1!==i){e.next=33;break}return e.next=20,appData.getCollection(n);case 20:return l=e.sent,e.next=23,l.createObject();case 23:return u=e.sent,l.addItem(u),u.LATITUD=r,u.LONGITUD=a,e.next=29,u.save();case 29:replica.start(),l.clear(),l=null,u=null;case 33:e.next=37;break;case 35:n.LATITUD=r,n.LONGITUD=a;case 37:case"end":return e.stop()}}),e)}))),_GetPosGPS.apply(this,arguments)}function PosicionamientoGPS(){return _PosicionamientoGPS.apply(this,arguments)}function _PosicionamientoGPS(){return _PosicionamientoGPS=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==appData.getCurrentEnterprise().getVariables("MIUBICACION")){e.next=5;break}38.886442,-7.004351,e.next=18;break;case 5:return n=0,ui.setMaxWaitDialog(2),ui.updateWaitDialog("Detectando localizacion del dispositivo",1),t=0,e.next=11,appData.getCollection("GPSColl");case 11:return r=e.sent,e.next=14,r.loadAll();case 14:a=r.getObject(0);while(0==n)r.clear(),void 0!=a&&(1!=a.STATUS||a.HGPS.length>0&&(""!==a.LATITUD&&parseFloat(a.LATITUD),a.LONGITUD.length>0&&parseFloat(a.LONGITUD))),t++,200===t&&(n=1,38.886442,-7.004351);200===t&&appData.getCurrentEnterprise().setVariables("MIUBICACION",10),r=null;case 18:ui.updateWaitDialog("Localizacion Terminada",2);case 19:case"end":return e.stop()}}),e)}))),_PosicionamientoGPS.apply(this,arguments)}function ComprobarConexion(){return _ComprobarConexion.apply(this,arguments)}function _ComprobarConexion(){return _ComprobarConexion=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=0,e.prev=1,e.next=4,appData.getCollection("ContentComprobarConexion");case 4:return n=e.sent,e.next=7,n.startBrowse();case 7:return e.next=9,n.getCurrentItem();case 9:if(e.t0=e.sent,null===e.t0){e.next=16;break}return e.next=13,n.getCurrentItem();case 13:if(e.t1=e.sent.RESULTADO,"##OK##"!==e.t1){e.next=16;break}t=1;case 16:return n.endBrowse(),n.clear(),n=null,e.abrupt("return",t);case 22:return e.prev=22,e.t2=e["catch"](1),e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,null,[[1,22]])}))),_ComprobarConexion.apply(this,arguments)}var bBreakUpdateGpsLoop=!1,allMarkers=[];function startUpdateGpsLoop(){var e=new Promise((function(e,t){bBreakUpdateGpsLoop=!1;var n=ui.getView(self);while(!bBreakUpdateGpsLoop){if(!n)break;try{actualizarGps()}catch(r){ui.showToast("Hubo un error")}n.refreshValue("MAP_LONGITUD","MAP_LATITUD","MAP_FGPS")}}));e.then((function(){ui.showToast("Todo OK en promesa")}),(function(){ui.showToast("Error en promesa")}))}function stopUpdateGpsLoop(){bBreakUpdateGpsLoop=!0}function startGpsCallback(){var e={nodeName:"callbackgps",timeBetweenUpdates:1e4,minimumMetersDistanceRange:0,foreground:!0,title:"Titulo",text:"Texto"};ui.startGps(e),ui.showSnackbar("Invocado con callback 50 segs")}function startGpsInterval(){var e={timeBetweenUpdates:0,minimumMetersDistanceRange:0};ui.startGps(e)}function comprobarEstadoGps(){var e=appData.getGlobalMacro("##DEVICE_OS##");if("android"==e){var t=ui.checkGpsStatus();0===t&&ui.showToast("No hay GPS, no se puede activar."),1==t&&ui.showToast("Est activada la localizacin por GPS."),2==t&&ui.showToast("Est activada la localizacin por redes wifi y de telefona."),3==t&&(ui.showToast("No est activado el GPS ni la ubicacin por redes wifi y telefona, a ver si nos lo activan."),ui.askUserForGpsPermission()),4==t&&ui.showToast("Est activada la localizacin por GPS y redes wifi y de telefona."),-1==t&&ui.showToast("Error inesperado, compruebe la consola de mensajes.")}}function actualizarGps(){return _actualizarGps.apply(this,arguments)}function _actualizarGps(){return _actualizarGps=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("GPSColl");case 2:return t=e.sent,e.next=5,t.startBrowse();case 5:return e.prev=5,e.next=8,t.getCurrentItem();case 8:if(n=e.sent,n){e.next=11;break}throw"GPS no disponible. objCollGps es: "+n;case 11:if(1==n.STATUS){e.next=13;break}throw"GPS no disponible. STATUS vale: "+n.STATUS;case 13:if(n.LONGITUD){e.next=15;break}throw"Sin cobertura GPS";case 15:self.MAP_LONGITUD=n.LONGITUD,self.MAP_LATITUD=n.LATITUD,self.MAP_ALTITUD=n.ALTITUD,self.MAP_VELOCIDAD=n.VELOCIDAD,self.MAP_RUMBO=n.RUMBO,self.MAP_FGPS=n.FGPS,self.MAP_HGPS=n.HGPS,self.MAP_STATUS=n.STATUS,self.MAP_SATELITES=n.SATELITES,self.MAP_FUENTE=n.FUENTE,self.MAP_PRECISION=n.PRECISION,ui.getView(self).refresh("MAP_LONGITUD,MAP_LATITUD,MAP_ALTITUD,MAP_VELOCIDAD,MAP_RUMBO,MAP_FGPS,MAP_HGPS,MAP_STATUS,MAP_SATELITES,MAP_FUENTE,MAP_PRECISION");case 27:return e.prev=27,t.endBrowse(),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[5,,27,30]])}))),_actualizarGps.apply(this,arguments)}function onMapClicked(e){ui.showToast("onMapClicked(): latitude: "+e.latitude+" longitude: "+e.longitude);var t=getControl(e.target),n={latitude:e.latitude,longitude:e.longitude,draggable:!0,icon:"icon.png",tag:"Soy un marker"},r=t.addMarker(n);allMarkers.push(r)}function onMapLongClicked(e){ui.showToast("onMapLongClicked(): latitude: "+e.latitude+" longitude: "+e.longitude)}function onMarkerDraggedEnd(e){return _onMarkerDraggedEnd.apply(this,arguments)}function _onMarkerDraggedEnd(){return _onMarkerDraggedEnd=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ui.msgBox("Aqu est bien?","Mensaje",4);case 2:n=e.sent,6!=n&&t.marker.remove(),ui.showToast("Tag: "+t.tag+" latitude: "+t.latitude+" longitude: "+t.longitude);case 5:case"end":return e.stop()}}),e)}))),_onMarkerDraggedEnd.apply(this,arguments)}function onMapReady(e){ui.showToast("El mapa ha sido creado")}function onLocationReady(e){ui.showToast("Localizacin encontrada por primera vez.\nLatitud: "+e.latitude+"\nLongitud:"+e.longitude)}function onLocationChanged(e){ui.showToast("Localizacin cambiada.\nLatitud: "+e.latitude+"\nLongitud:"+e.longitude)}function onDistanceMeter(e){ui.showToast("Distancia en metros: "+e.distance)}function showMarkers(){for(var e=allMarkers.length,t=0;t<e;t++){var n=allMarkers[t];n.setVisible(!0)}}function hideMarkers(){for(var e=allMarkers.length,t=0;t<e;t++){var n=allMarkers[t];n.setVisible(!1)}}function setMarkersDraggable(e){for(var t=allMarkers.length,n=0;n<t;n++){var r=allMarkers[n];r.setDraggable(e)}}function removeMarkers(){for(var e=allMarkers.length,t=0;t<e;t++){var n=allMarkers[t];n.remove()}allMarkers.splice(0,allMarkers.length)}function doChangeMapPois(e){return _doChangeMapPois.apply(this,arguments)}function _doChangeMapPois(){return _doChangeMapPois=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,self.getContents("ClientesCoord");case 2:return n=e.sent,"t1.NOMBRE = 'Madrid'"==n.getFilter()?n.setFilter(""):n.setFilter("t1.NOMBRE = 'Madrid'"),n.unlock(),n.clear(),e.next=8,n.loadAll();case 8:n.lock(),ui.refresh(t);case 10:case"end":return e.stop()}}),e)}))),_doChangeMapPois.apply(this,arguments)}function doRefresh(e){if(!e)throw"El nombre del control no puede estar vaco";ui.refresh(e)}function getUserLocation(e){var t=getControl(e);if(t){var n=t.getUserLocation();null===n?ui.showToast("No se ha podido obtener la localizacin del usuario"):ui.showToast("Latitud: "+n.latitude+"\nLongitud: "+n.longitude)}}function isUserLocationEnabled(e){var t=getControl(e);t&&ui.showToast("Enabled: "+t.isUserLocationEnabled())}function enableUserLocation(e){var t=getControl(e);t&&t.enableUserLocation()}function disableUserLocation(e){var t=getControl(e);t&&t.disableUserLocation()}function drawLine(e){var t=getControl(e);t&&(t.drawLine("ruta 1","#FF0000","normal",37.348394305664385,-9.723497182130814,37.348394305664385,-.002672821283340454),t.drawLine("ruta 1","#00FF00","dashed",38.47718888472095,-9.644861854612827,38.63807799294125,-.1756015419960022),t.drawLine("ruta 2","#0000FF","dotted",41.053614029734,-9.531369879841805,40.98011827779008,.7152241095900536),t.drawLine("ruta 2","#FFFF00","mixed",43.67910133655382,-10.153294019401073,43.03194923828824,3.0807440355420117))}function drawLine2(e){var t=getControl(e);if(t){var n={line:"ruta 1",strokeColor:"#FF0000",mode:"normal",locations:[{latitude:37.348394305664385,longitude:-9.723497182130814},{latitude:37.348394305664385,longitude:-.002672821283340454}]};t.drawLine(n),n={line:"ruta 1",strokeColor:"#00FF00",mode:"dashed",locations:[{latitude:38.47718888472095,longitude:-9.644861854612827},{latitude:38.63807799294125,longitude:-.1756015419960022}]},t.drawLine(n),n={line:"ruta 2",strokeColor:"#0000FF",mode:"dotted",locations:[{latitude:41.053614029734,longitude:-9.531369879841805},{latitude:40.98011827779008,longitude:.7152241095900536}]},t.drawLine(n),n={line:"ruta 2",strokeColor:"#FFFF00",mode:"mixed",locations:[{latitude:43.67910133655382,longitude:-10.153294019401073},{latitude:43.03194923828824,longitude:3.0807440355420117}]},t.drawLine(n)}}function drawRoute(e){var t=getControl(e);if(t){var n={route:"ruta 1",sourceLatitude:38.8685452,sourceLongitude:-6.8170906,destinationLatitude:40.4167747,destinationLongitude:-3.70379019,mode:"driving",strokeColor:"#FFFF00",strokeWidth:5};t.drawRoute(n)}}function drawArea(e){var t=getControl(e);if(t){var n={id:"Area #2",fillcolor:"#7F00FF00",color:"#FF0000FF",width:5,pattern:"normal",data:["43.3712591, -8.4188010","43.2603479, -2.9334110","38.7166700, -9.1333300"]};t.drawArea(n)}}function drawEncodeArea(e){var t=getControl(e);if(t){var n={id:"Area #1",fillcolor:"#7F0000FF",color:"#FFFF0000",width:5,pattern:"normal",data:toEncoded(["38.8685452, -6.8170906","40.4167747, -3.70379019","41.3850632, 2.1734035","39.4561165, -0.3545661"])};t.drawEncodeArea(n)}}function removeArea(e){var t=getControl(e);t&&t.removeArea("Area #1")}function clearAllAreas(e){var t=getControl(e);t&&t.clearAllAreas()}function routeTo(e){var t=getControl(e);if(t){var n={route:"ruta 1",sourceLatitude:40.4167747,sourceLongitude:-3.70379019,destinationLatitude:41.3850632,destinationLongitude:2.1734035,mode:"driving",strokeColor:"#FFFF00",strokeWidth:5,source:"external"};t.routeTo(n)}}function clearRoute(e){var t=getControl(e);t&&t.clearRoute("ruta 1")}function clearAllRoutes(e){var t=getControl(e);t&&t.clearAllRoutes()}function clearLine(e){var t=getControl(e);t&&t.clearLine("ruta 1")}function clearAllLines(e){var t=getControl(e);t&&t.clearAllLines()}function showPoisMenu(e){var t=getControl(e);t&&t.showPoisMenu()}function hidePoisMenu(e){var t=getControl(e);t&&t.hidePoisMenu()}function togglePoisMenu(e){var t=getControl(e);t&&t.togglePoisMenu()}function zoomTo(e){var t=getControl(e);t&&t.zoomTo(38.886546,-7.0043193)}function zoomToEncodeData(e){var t=getControl(e);t&&t.zoomToEncodeData(toEncoded(["38.8685452, -6.8170906","40.4167747, -3.70379019"]))}function zoomToBounds(e){var t=getControl(e);t&&t.zoomToBounds(["35.946850084, -9.39288367353","43.7483377142, 3.03948408368"])}function zoomToMyLocation(e){var t=getControl(e);t&&t.zoomToMyLocation(20)}function restrictMapToBounds(e){var t=getControl(e);t&&t.restrictMapToBounds(["35.946850084, -9.39288367353","43.7483377142, 3.03948408368"])}function startDistanceMeter(e){var t=getControl(e);if(t){var n={latitude:38.886546,longitude:-7.0043193,startMarkerIcon:"start_distance_marker_icon.png",endMarkerIcon:"end_distance_marker_icon.png"};t.startDistanceMeter(n),t.zoomTo(38.886546,-7.0043193)}}function stopDistanceMeter(e){var t=getControl(e);t&&t.stopDistanceMeter()}function testInexistente(e){return _testInexistente.apply(this,arguments)}function _testInexistente(){return _testInexistente=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,self.getContents("ClientesCoord");case 2:return n=e.sent,e.next=5,n.createObject();case 5:if(r=e.sent,r.NOMBRE="Test POI",r.DIRECCION="Calle Falsa",n.unlock(),n.clear(),n.addItem(r),n.lock(),a=ui.getView(self),a){e.next=15;break}return e.abrupt("return");case 15:a.refresh(t);case 16:case"end":return e.stop()}}),e)}))),_testInexistente.apply(this,arguments)}function distanceTo(){var e=[{latitude:38.8685452,longitude:-6.8170906},{latitude:40.4167747,longitude:-3.70379019}],t=(new GpsTools).distanceTo(e);ui.showToast("Distancia entre Badajoz y Madrid: "+t+" metros.")}function getAddressFromPosition(){return _getAddressFromPosition.apply(this,arguments)}function _getAddressFromPosition(){return _getAddressFromPosition=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=(new GpsTools).getAddressFromPosition("38.8862106, -7.0040345"),n="Localidad: "+t.locality+"\nSublocalidad: "+t.subLocality+"\nrea administracin: "+t.adminArea+"\nSubrea de administracin: "+t.subAdminArea+"\nCaractersticas: "+t.features+"\nPas: "+t.country+"\nCdigo pas: "+t.countryCode+"\nCalle: "+t.street+"\nNmero: "+t.number+"\nDireccin: "+t.address+"\nCdigo postal: "+t.postal,e.next=4,ui.msgBox(n,"Resultado",0);case 4:case"end":return e.stop()}}),e)}))),_getAddressFromPosition.apply(this,arguments)}function containsLocation(){return _containsLocation.apply(this,arguments)}function _containsLocation(){return _containsLocation=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ui.msgBox("Es Teruel una ciudad contenida en un polgono formado por La Corua -> Bilbao -> Lisboa?","Mensaje",0);case 2:if(t=(new GpsTools).containsLocation("40.3633442, -1.0893794",["43.3712591, -8.4188010","43.2603479, -2.9334110","38.7166700, -9.1333300"]),!t){e.next=8;break}return e.next=6,ui.msgBox("Por ah anda Teruel","Mensaje",0);case 6:e.next=10;break;case 8:return e.next=10,ui.msgBox("No, Teruel no est ah","Mensaje",0);case 10:return e.next=12,ui.msgBox("Es Teruel una ciudad contenida en un polgono formado por Badajoz -> Madrid -> Barcelona -> Valencia?","Mensaje",0);case 12:if(t=(new GpsTools).containsLocation("40.3633442, -1.0893794",["38.8685452, -6.8170906","40.4167747, -3.70379019","41.3850632, 2.1734035","39.4561165, -0.3545661"]),!t){e.next=18;break}return e.next=16,ui.msgBox("Por ah anda Teruel","Mensaje",0);case 16:e.next=20;break;case 18:return e.next=20,ui.msgBox("No, Teruel no est ah","Mensaje",0);case 20:case"end":return e.stop()}}),e)}))),_containsLocation.apply(this,arguments)}function getLastKnownLocation(){return _getLastKnownLocation.apply(this,arguments)}function _getLastKnownLocation(){return _getLastKnownLocation=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=(new GpsTools).getLastKnownLocation(),t){e.next=4;break}return ui.showToast("No hay ltima localizacin conocida"),e.abrupt("return");case 4:return e.next=6,ui.msgBox("Latitud: "+t.latitude+"\nLongitud: "+t.longitude+"\nPrecisin (metros): "+t.accuracy+"\nAltitud (metros elipsis WSG 84): "+t.altitude+"\nRumbo (grados): "+t.bearing+"\nVelocidad (metros/segundo): "+t.speed+"\nFecha: "+t.time.toString(),"Mensaje",0);case 6:case"end":return e.stop()}}),e)}))),_getLastKnownLocation.apply(this,arguments)}function encoded(){var e=toEncoded(["38.8685452, -6.8170906","40.4167747, -3.70379019"]);ui.showToast(e)}function toEncoded(e){return e?(new GpsTools).encode(e):null}function doFollowUserLocation(e,t){var n=getControl(e);n&&n.setFollowUserLocation(t)}function doSetMapType(e,t){var n=getControl(e);n&&n.setMapType(t)}function getControl(e){if(!e)throw"El nombre del control no puede estar vaco";var t=ui.getView(self);if(!t)return null;var n=t[e];return n?void 0===n?null:n:null}function AddTableCellText(e,t,n,r,a,i){e.setCellBorder("none"),!0===n&&e.setCellBorder("left"),!0===a&&e.setCellBorder("right"),!0===r&&e.setCellBorder("top"),i&&e.setCellBorder("bottom"),e.addCellText(t)}function GeneratePDFDocument(){return _GeneratePDFDocument.apply(this,arguments)}function _GeneratePDFDocument(){return _GeneratePDFDocument=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=createObject("XOnePDF"),t.create("PDFbyXOne.pdf"),t.open(),t.setFont("helvetica"),t.setFontSize(12),t.setFontStyle("normal"),t.setFontColor("#000000"),t.createTable(1),t.setTableCellWidths(400),AddTableCellText(t,"",0,0,0,0),t.setAlignment("center"),AddTableCellText(t,"Prueba Crear PDF",0,0,0,0),t.addTable(),t.setFontSize(9),t.createTable(1),t.setTableCellWidths(400),AddTableCellText(t," ",0,0,0,0),t.addTable(),t.createTable(3),t.setTableCellWidths(280,70,50),AddTableCellText(t,"",0,0,0,0),t.setAlignment("left"),AddTableCellText(t,"Serie: ",1,1,0,0),t.setAlignment("center"),AddTableCellText(t,self.MAP_PDFSERIE,0,1,1,0),t.addTable(),t.createTable(6),t.setTableCellWidths(60,70,60,90,30,90),t.setAlignment("left"),AddTableCellText(t,"FECHA ",1,1,0,1),t.setAlignment("center"),AddTableCellText(t,getDate(self.MAP_PDFFECHA),0,1,1,1),t.setAlignment("left"),AddTableCellText(t," ",0,1,0,1),t.setAlignment("center"),AddTableCellText(t,"",0,1,1,1),t.setAlignment("left"),AddTableCellText(t,"N ",0,1,0,1),t.setAlignment("center"),AddTableCellText(t,self.MAP_PDFNUMERO,0,1,1,1),t.addTable(),t.createTable(1),t.setTableCellWidths(400),AddTableCellText(t,"",0,0,0,0),t.setAlignment("left"),AddTableCellText(t,cstr(self.MAP_PDFTEXT),0,0,0,0),t.addTable(),t.addImageSetXY("faro.jpg",200,100,150,75),t.close(),t.flattenPdf(""),e.next=52,ui.msgBox("Quiere Abrir el PDF?","PDF GENERADO",4);case 52:if(e.t0=e.sent,6!==e.t0){e.next=55;break}t.launchPDF("PDFbyXOne.pdf");case 55:t=null;case 56:case"end":return e.stop()}}),e)}))),_GeneratePDFDocument.apply(this,arguments)}function getDate(e){return e.toString().substr(0,11)}function VBScriptSupport(){this.cstr=function(e){return safeToString(e)},this.now=function(){return new Date},this.len=function(e){return safeToString(e).length},this.cint=function(e){return parseInt(e)},this.left=function(e,t){return t<=0?new String:t>String(e).length?safeToString(e):safeToString(e).substring(0,t)},this.replace=function(e,t,n){return e=safeToString(e),t=safeToString(t),n=safeToString(n),t=escapeRegularExpression(t),e.replace(t,n),e},this.day=function(e){return e=safeToDate(e),e.getDate()},this.month=function(e){return e=safeToDate(e),e.getMonth()},this.year=function(e){return e=safeToDate(e),e.getFullYear()},this.right=function(e,t){if(e=new String(e),t<=0||t>e.length)return e;var n=e.length;return e.substring(n,n-t)},this.mid=function(e,t,n){if(t<0||n<0)return e;var r,a=new String(e).length;return r=t+n>a?a:t+n,new String(e).substring(t,r)},this.inStr=function(e,t){for(i=0;i<len(e);i++)if(t==mid(e,i,1))return i;return-1},this.lcase=function(e){return isString(e)?e.toLowerCase():new String(e).toLowerCase()},this.ucase=function(e){return isString(e)?e.toUpperCase():new String(e).toUpperCase()},this.abs=function(e){return Math.abs(e)},this.trim=function(e){return e=safeToString(e),e.trim()},this.split=function(e,t){return e.split(t)},this.dateDiff=function(e,t,n){switch(t=safeToDate(t),n=safeToDate(n),nDiff=Math.abs(t.getTime()-n.getTime()),e){case"h":return nDiff/36e5;case"n":return nDiff/6e4;default:throw new Error("dateDiff(): Unknown date period "+e)}},this.dateAdd=function(e,t,n){switch(n=safeToDate(n),e){case"yyyy":return n.setYear(n.getYear()+t),n;case"q":return n;case"m":return n.setMonth(n.getMonth()+t),n;case"y":return n;case"d":return n.setDate(n.getDate()+t),n;case"w":return n;case"ww":return n;case"h":return n.setHours(n.getHours()+t),n;case"n":return n.setMinutes(n.getMinutes()+t),n;case"s":return n.setSeconds(n.getSeconds()+t),n;default:throw new Error("dateAdd(): Unknown date period "+e)}}}var vbSupport=new VBScriptSupport;function isNothing(e){return null===e||"undefined"==e}function isSomething(e){return null!==e&&"undefined"!=e}function getClassName(e){return isNothing(e)?null:e.constructor.name}function isFloatNumber(e){return e===+e&&e!==(0|e)}function isIntegerNumber(e){return e===+e&&e===(0|e)}function isNumber(e){return!isNothing(e)&&(!isNaN(parseFloat(e))&&isFinite(e))}function isString(e){return"string"===typeof e||e instanceof String}function isEmptyString(e){return!!isString(e)&&(!e||0===e.length)}function isDate(e){return e instanceof Date}function safeToString(e){return isNothing(e)?new String:new String(e)}function safeToDate(e){return isDate(e)?e:new Date(replaceAll(safeToString(e),"-","/"))}function escapeRegularExpression(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function replaceAll(e,t,n){return t=escapeRegularExpression(t),e.split(t).join(n)}function ponerCallbackNfc(){var e=new XOneNFC;e.setOnTagDiscoveredCallback(tagNfcEncontrado)}function tagNfcEncontrado(e){var t="ID tag NFC (hex): "+e.getHexId();if(e.isTechnologyAvailable("ndef")){e.setType("ndef");var n=e.getNdefMessage(),r=n.getAllRecords();if(!r||r.length<=0)t+="\nNo hay records NDEF en este tag";else for(var a=0;a<r.length;a++){var i=r[a],o=i.getMimeType(),s=i.getText();t=t+"\nRecord #1\nMime type: "+o+"\nText: "+s}self.MAP_DATA=t,ui.refreshValue("MAP_DATA")}else e.isTechnologyAvailable("nfc_v")?(e.setType("nfc_v"),e.connect(),ui.showToast("Es NFC-V: "+e.readNfcV())):ui.showToast("Tag NFC invlido")}function enableDnieReader(){if(""!==self.MAP_CAN_NUMBER){var e={readProfileData:!0,readUserImage:!0,readSignatureImage:!0,canNumber:self.MAP_CAN_NUMBER,onDnieRead:function(e){self.MAP_TEXT="DNI number: "+e.getDniNumber()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Document type: "+e.getDocumentType()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Name: "+e.getName()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Surname: "+e.getSurname()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Date of birth: "+e.getDateOfBirth()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Date of expiry: "+e.getDateOfExpiry()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Nationality: "+e.getNationality()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Issuer: "+e.getIssuer()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Optional data: "+e.getOptionalData()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Sex: "+e.getSex()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Birth place: "+e.getBirthPlace()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Address: "+e.getAddress()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Custody info: "+e.getCustodyInfo()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Icao name: "+e.getIcaoName()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Other info: "+e.getOtherInfo()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Profession: "+e.getProfession()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Phone: "+e.getPhone()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Title: "+e.getTitle()+"\n",self.MAP_TEXT=self.MAP_TEXT+"Summary: "+e.getSummary(),self.MAP_USER_IMAGE=e.getUserImage(appData.getFilesPath()+"user_"+e.getDniNumber()+".png"),self.MAP_SIGNATURE_IMAGE=e.getSignatureImage(appData.getFilesPath()+"signature_"+e.getDniNumber()+".png"),ui.refreshValue("MAP_TEXT"),ui.refresh("MAP_TEXT","MAP_USER_IMAGE","MAP_SIGNATURE_IMAGE")},onDnieReadError:function(e){self.MAP_TEXT="Error: "+e,ui.refreshValue("MAP_TEXT")},onProgressUpdated:function(e,t){self.MAP_TEXT="Reading DNIe.\nProgress: "+t+"\n"+e,ui.refreshValue("MAP_TEXT")}},t=createObject("XOneNFC");t.enableDnieReader(e),ui.showSnackbar("Pase su DNI electrnico por el lector NFC")}else ui.showSnackbar("Introduzca el CAN del DNI electrnico")}function disableDnieReader(){var e=createObject("XOneNFC");e.disableDnieReader()}function generatePdfDemo(){var e="<P> <TABLE border='1'> <CAPTION align='top'> A more complex table-within-a table. </CAPTION> <TR> <TH> Outer Table </TH> <TD> <TABLE border='1'> <CAPTION align='top'> An inner table showing a variety of headings and data items. </CAPTION> <TR> <TH colspan='5'> Inner Table </TH> </TR> <TR> <TH rowspan='2' colspan='2'> CORNER </TH> <TH colspan='3'> Head1 </TH> </TR> <TR> <TH rowspan='2'> Head2 </TH> <TH colspan='2'> Head3 </TH> </TR> <TR> <TH> Head4 </TH> <TH> Head5 </TH> <TH> Head6 </TH> </TR> <TR> <TD> A </TD> <TD rowspan='2' valign='middle' bgcolor= 'yellow'> Two Tall </TD> <TD bgcolor='green'> <UL> <LI> Lists can be table data </LI> <LI> Images can be table data </LI> </UL> </TD> <TD colspan='2' align='center'> Two Wide </TD> </TR> <TR valign='middle'> <TD> aaaaa </TD> <TD align='center'> A <A href='form.html'>Form</A> in a table: <FORM Method='POST' Action= 'http://www.december.com/cgi-bin/formmail.secure.cgi'> <INPUT type='hidden' name='recipient' value='nobody@december.com'><INPUT type= 'hidden' name='subject' value= 'Table Example'> Your age: <INPUT type= 'text' name='user-age' size='2'><BR> What is your favorite ice cream?<BR> <SELECT name='favorite-icecream'> <OPTION> Vanilla </OPTION> <OPTION> Chocolate </OPTION> <OPTION> Cherry Garcia </OPTION> <OPTION> Pizza Pancake </OPTION> <OPTION> None of the above! </OPTION> </SELECT><BR> <INPUT type='submit' value='OK'> <INPUT type='reset' value='Cancel'> </FORM> </TD> <TD> <TABLE> <CAPTION> No border </CAPTION> <TR> <TH> Little </TH> </TR> <TR> <TD> Table </TD> </TR> </TABLE> </TD> <TD> Multiple<BR> line<BR> item </TD> </TR> </TABLE> </TD> </TR> </TABLE> <P> For more practical examples, see the Periodic Table of the Elements, <A href= 'http://www.webelements.com/'>WebElements</A>. </P> <P> You can see a <A href='tablem.html'>variety of table cellspacing and cellpadding attributes demonstrated</A>. </P>",t=createObject("XOnePDF");t.permissions("assembly"),t.create(appData.getFilesPath()+"PDFbyXOne.pdf"),t.open(),t.fromHtml(e),t.close(),t.launchPDF()}function signPdfDemo(){var e=createObject("FileManager"),t=e.fileExists(appData.getFilesPath()+"PDFbyXOne.pdf");if(0==t)if(""!=self.MAP_CAN_NUMBER)if(""!=self.MAP_PIN){var n={readSignatureCertificate:!0,canNumber:self.MAP_CAN_NUMBER,pin:self.MAP_PIN,onDnieRead:function(e){var t=createObject("XOnePDF"),n=appData.getFilesPath()+"PDFbyXOne.pdf",r=appData.getFilesPath()+"PDFbyXOne_signed.pdf";t.signPdfWithKey(n,r,e.getSignatureKey(),e.getSignatureCertificateChain()),t.launchPDF(r)},onDnieReadError:function(e){self.MAP_TEXT="Error: "+e,ui.refreshValue("MAP_TEXT")},onProgressUpdated:function(e,t){self.MAP_TEXT="Reading DNIe.\nProgress: "+t+"%\n"+e,ui.refreshValue("MAP_TEXT")}},r=createObject("XOneNFC");r.enableDnieReader(n),ui.showSnackbar("Pase su DNI electrnico por el lector NFC")}else ui.showSnackbar("Introduzca el PIN del DNI electrnico");else ui.showSnackbar("Introduzca el CAN del DNI electrnico");else ui.showSnackbar("El fichero PDF a firmar no existe. Genrelo primero.")}function sendSignedPdf(){var e=createObject("FileManager"),t=appData.getFilesPath()+"PDFbyXOne_signed.pdf",n=e.fileExists(t);0==n?ui.sendMail("","","PDF firmado","Adjunto PDF firmado con DNI electrnico",t):ui.showSnackbar("El fichero PDF firmado no existe. Frmelo primero.")}function inicializarCal(){return _inicializarCal.apply(this,arguments)}function _inicializarCal(){return _inicializarCal=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("ContentdatosCalendario");case 2:t=e.sent,i=1;case 4:if(!(i<=5)){e.next=21;break}return a=new Date,e.next=8,t.createObject();case 8:return n=e.sent,t.addItem(n),r="00"+5*i,r=Right(r,2),n.FECHA=a.getFullYear()+"-"+a.getMonth()+"-"+r,n.HORAINI="19:00",n.HORAFIN="23:00",1===i||3===i?(n.TIPO="Info: Azul",n.DESCRIPCION="Tarea de informacin"):2===i||5===i?(n.TIPO="Visita: Naranja",n.DESCRIPCION="Visita al cliente"):(n.TIPO="Pedido: Verde",n.DESCRIPCION="Visita con pedido creado"),e.next=18,n.save();case 18:i++,e.next=4;break;case 21:n=null,t=null;case 23:case"end":return e.stop()}}),e)}))),_inicializarCal.apply(this,arguments)}function ShowMessageDebug(e,t){return _ShowMessageDebug.apply(this,arguments)}function _ShowMessageDebug(){return _ShowMessageDebug=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!0!==appData.getCurrentEnterprise().getVariables("Debug")){e.next=7;break}if("msgbox"!==t){e.next=6;break}return e.next=4,ui.msgBox(n,"App_log_xone!",0);case 4:e.next=7;break;case 6:"showtoast"===t?ui.showToast("App_log_xone->"+n):"consola"===t&&appdata.writeConsoleString("App_log_xone->"+n);case 7:case"end":return e.stop()}}),e)}))),_ShowMessageDebug.apply(this,arguments)}function lockContents(e){return _lockContents.apply(this,arguments)}function _lockContents(){return _lockContents=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=null,r=0;case 2:if(!(r<t.length)){e.next=10;break}return e.next=5,self.getContents(t[r]);case 5:n=e.sent,null!=n&&n.lock();case 7:r++,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))),_lockContents.apply(this,arguments)}function inicializeChats(){return _inicializeChats.apply(this,arguments)}function _inicializeChats(){return _inicializeChats=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return self.MAP_GRUPOSEL=1,self.MAP_VERFLOTANTE=0,self.MAP_RECORDON=0,self.MAP_PHONE="",self.MAP_USERLOGIN=user.LOGIN,e.next=7,self.getContents("Chat");case 7:e.sent.setMacro("##MACRO##",user.LOGIN),self.MAP_FOTO_FONDO="fondo_chat.png";case 9:case"end":return e.stop()}}),e)}))),_inicializeChats.apply(this,arguments)}function createChat(e,t){return _createChat.apply(this,arguments)}function _createChat(){return _createChat=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=0,e.next=3,self.getContents("Chat");case 3:return a=e.sent,a.unlock(),e.next=7,a.findObject("(USUARIO='"+t+"' AND USUARIO2='"+n+"') OR (USUARIO='"+n+"' AND USUARIO2='"+t+"')");case 7:if(i=e.sent,null!=i){e.next=17;break}return e.next=11,a.createObject();case 11:return i=e.sent,i.USUARIO=t,i.USUARIO2=n,i.FECHA=new Date,e.next=17,i.save();case 17:return r=i.getObjectIndex(),a.lock(),e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),_createChat.apply(this,arguments)}function openChat(e,t){return _openChat.apply(this,arguments)}function _openChat(){return _openChat=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.getContents("Chat");case 2:return r=e.sent,r.unlock(),e.next=6,r.loadAll();case 6:return a=r.get(t),n.MAP_INDICESEL=t,n.MAP_IDCHATSEL=a.ID,n.MAP_IMGTIPO=a.MAP_IMAGEN,n.MAP_CHATTITULO=a.MAP_TITULO,n.MAP_CCUSUARIO=a.USUARIO2,r.lock(),ui.getView(n).refresh("MAP_BTVERGENTE","MAP_IMGTIPO","MAP_CHATTITULO"),e.next=16,n.executeNode("abrirDrawer(2)");case 16:case"end":return e.stop()}}),e)}))),_openChat.apply(this,arguments)}function openListUser(){return _openListUser.apply(this,arguments)}function _openListUser(){return _openListUser=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return self.MAP_VERFLOTANTE=1,e.next=3,self.getContents("nUsuarios");case 3:return e.sent.unlock(),e.next=6,self.getContents("nUsuarios");case 6:return e.next=8,e.sent.loadAll();case 8:return e.next=10,self.getContents("nUsuarios");case 10:return e.sent.lock(),e.next=13,self.getContents("nUsuarios");case 13:e.sent.createSearchIndex(["NOMBRE,"]),ui.getView(self).refreshAll("frmnuevochat");case 15:case"end":return e.stop()}}),e)}))),_openListUser.apply(this,arguments)}function closeListUser(){self.MAP_VERFLOTANTE=0,ui.getView(self).refresh("frmnuevochat")}function salir(){0!=self.MAP_VERFLOTANTE?(self.MAP_VERFLOTANTE=0,ui.refresh("frmnuevochat,frmInfoCentralfloating")):1==self.MAP_GRUPOSEL?appData.failWithMessage(-11888,"##EXIT##"):(ui.refresh("Chat"),self.MAP_GRUPOSEL=1,irGrupo(1))}function setTimeRecording(e){var t=self[e].split(":"),n=Number(t[0]),r=Number(t[1]);r<60?r++:(n++,r=0),r<10&&(r="0"+r.toString()),self[e]=n.toString()+":"+r.toString(),ui.refreshValue(e),1==self.MAP_RECORDON&&ui.executeActionAfterDelay("onSetTime",1)}function AccionesChatEspecial(e,t){return _AccionesChatEspecial.apply(this,arguments)}function _AccionesChatEspecial(){return _AccionesChatEspecial=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="nuevochat"===e.t0?3:"ok"===e.t0?6:"llamada"===e.t0?13:"fotoabrir"===e.t0?20:"voz"===e.t0?23:"textoChange"===e.t0?25:"enviar"===e.t0?27:"textoU"===e.t0?64:70;break;case 3:return e.next=5,openListUser();case 5:return e.abrupt("break",70);case 6:return e.next=8,createChat(user.LOGIN,self.MAP_CCUSUARIO);case 8:return r=e.sent,closeListUser(),e.next=12,openChat(r,self);case 12:return e.abrupt("break",70);case 13:if(0!=self.MAP_PHONE.toString().length){e.next=18;break}return e.next=16,ui.msgBox("La persona con la que quiere contactar no tiene relleno el nmero de telfono","Notificacin",0);case 16:e.next=19;break;case 18:ui.makePhoneCall(self.MAP_PHONE);case 19:return e.abrupt("break",70);case 20:return self.MAP_TIPO=1,ui.startCamera("MAP_FOTO","photo"),e.abrupt("break",70);case 23:return 0==self.MAP_RECORDON?(self.MAP_TIPO=2,self.MAP_RECORDON=1,self.MAP_SHOWADDTEXT=1,self.MAP_TIMERECORD="0:00",ui.startAudioRecord("onrecordfinished","MAP_VOZGRABADA",0),ui.executeActionAfterDelay("onSetTime",1),ui.refresh("frmNormal,MAP_ADDTEXT"),ui.getView(self).refreshAll("frmRecording")):(self.MAP_TIPO=0,self.MAP_RECORDON=0,self.MAP_SHOWADDTEXT=0,self.MAP_TIMERECORD="0:00",ui.stopAudioRecord(),ui.refresh("frmRecording,MAP_ADDTEXT"),ui.getView(self).refreshAll("frmNormal")),e.abrupt("break",70);case 25:return null!=n&&(self.MAP_TIPO=0,n.newText.length>0&&0==self.MAP_SHOWADDTEXT?(self.MAP_SHOWADDTEXT=1,a=self.getFieldPropertyValue("MAP_TITLE","width"),a=a.replace("p",""),a=parseInt(a)+100,self.setFieldPropertyValue("MAP_TITLE","width",a.toString()+"p"),self.MAP_TITLE=n.newText,ui.refresh("MAP_TITLE,MAP_ADDFOTO,MAP_ADDRECORD,MAP_ADDTEXT")):0==n.newText.length&&(self.MAP_SHOWADDTEXT=0,a=self.getFieldPropertyValue("MAP_TITLE","width"),a=a.replace("p",""),a=parseInt(a)-100,self.setFieldPropertyValue("MAP_TITLE","width",a.toString()+"p"),self.MAP_TITLE=n.newText,ui.refresh("MAP_TITLE,MAP_ADDFOTO,MAP_ADDRECORD,MAP_ADDTEXT"))),e.abrupt("break",70);case 27:e.t1=self.MAP_TIPO,e.next=0===e.t1?30:1===e.t1?39:2===e.t1?48:63;break;case 30:return e.t2=sendMessage,e.next=33,self.getContents("Chatear");case 33:return e.t3=e.sent,e.t4=self,e.next=37,(0,e.t2)(e.t3,e.t4,"MAP_TITLE",!0);case 37:return self.MAP_TIPO=0,e.abrupt("break",63);case 39:return e.t5=sendMessage,e.next=42,self.getContents("Chatear");case 42:return e.t6=e.sent,e.t7=self,e.next=46,(0,e.t5)(e.t6,e.t7,"MAP_FOTO",!0);case 46:return self.MAP_TIPO=0,e.abrupt("break",63);case 48:return ui.stopAudioRecord(),e.t8=sendMessage,e.next=52,self.getContents("Chatear");case 52:return e.t9=e.sent,e.t10=self,e.next=56,(0,e.t8)(e.t9,e.t10,"MAP_VOZGRABADA",!0);case 56:return self.MAP_TIPO=0,self.MAP_RECORDON=0,self.MAP_SHOWADDTEXT=0,self.MAP_TIMERECORD="0:00",ui.refresh("frmRecording,MAP_ADDTEXT"),ui.getView(self).refreshAll("frmNormal"),e.abrupt("break",63);case 63:return e.abrupt("break",70);case 64:if(null==n){e.next=69;break}return e.next=67,self.getContents("nUsuarios");case 67:e.sent.doSearch(n.newText),ui.refresh("@nUsuarios");case 69:return e.abrupt("break",70);case 70:case"end":return e.stop()}}),e)}))),_AccionesChatEspecial.apply(this,arguments)}function AccionesChat(e){return _AccionesChat.apply(this,arguments)}function _AccionesChat(){return _AccionesChat=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next="ver"===e.t0?3:"verfoto"===e.t0?6:"vervoz"===e.t0?8:10;break;case 3:return e.next=5,openChat(self.getObjectIndex(),self.getOwnerCollection().getOwnerObject());case 5:return e.abrupt("break",10);case 6:return ui.openFile(self.MAP_FOTO),e.abrupt("break",10);case 8:return ui.openFile(self.MAP_VOZ),e.abrupt("break",10);case 10:case"end":return e.stop()}}),e)}))),_AccionesChat.apply(this,arguments)}function sendMessage(e,t,n,r){return _sendMessage.apply(this,arguments)}function _sendMessage(){return _sendMessage=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0==n[r].length){e.next=24;break}return e.next=3,appData.getCollection("MensajesReader");case 3:return i=e.sent,e.next=6,i.createObject();case 6:return o=e.sent,a?(o.USUARIOTO=self.MAP_CCUSUARIO,o.USUARIOFROM=user.LOGIN):(o.USUARIOTO=user.LOGIN,o.USUARIOFROM=self.MAP_CCUSUARIO),o.FECHA=new Date,o.MENSAJE=self[r],o.TIPO=self.MAP_TIPO,o.IDCHAT=self.MAP_IDCHATSEL,e.next=14,o.save();case 14:return ui.startReplica(),t.unlock(),e.next=18,addUserMessage(t,o,-1,o.ROWID);case 18:t.lock(),self[r]="",o=null,i.clear(),i=null,ui.refresh("MensajesUsuarios",r);case 24:case"end":return e.stop()}}),e)}))),_sendMessage.apply(this,arguments)}function fillMessagesContent(e,t,n){return _fillMessagesContent.apply(this,arguments)}function _fillMessagesContent(){return _fillMessagesContent=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("MensajesReader");case 2:return a=e.sent,a.setFilter("IDCHAT="+self.MAP_IDCHATSEL),t.unlock(),t.clear(),e.next=8,t.loadAll();case 8:return a.setSort("FECHA ASC"),e.next=11,a.startBrowse();case 11:return e.next=13,a.getCurrentItem();case 13:if(e.t1=e.sent,e.t2=void 0,e.t0=e.t1!==e.t2,!e.t0){e.next=21;break}return e.next=19,a.getCurrentItem();case 19:e.t3=e.sent,e.t0=null!=e.t3;case 21:if(!e.t0){e.next=31;break}return e.next=24,a.getCurrentItem();case 24:return i=e.sent,e.next=27,addUserMessage(t,i,0,i.ROWID);case 27:return e.next=29,a.moveNext();case 29:e.next=11;break;case 31:a.endBrowse(),a.clear(),a=null,t.lock(),ui.refresh("Chatear");case 36:case"end":return e.stop()}}),e)}))),_fillMessagesContent.apply(this,arguments)}function addUserMessage(e,t,n,r){return _addUserMessage.apply(this,arguments)}function _addUserMessage(){return _addUserMessage=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.createObject();case 2:i=e.sent,t.addItem(i),i.FECHA=n.FECHA,i.USUARIOFROM=n.USUARIOFROM,i.USUARIOTO=n.USUARIOTO,e.t0=n.TIPO,e.next=0===e.t0?10:1===e.t0?12:2===e.t0?14:3===e.t0?16:18;break;case 10:return i.MENSAJE=n.MENSAJE,e.abrupt("break",18);case 12:return i.MAP_FOTO=n.MENSAJE,e.abrupt("break",18);case 14:return null!=n.MENSAJE&&(o=n.MENSAJE.substring(n.MENSAJE.lastIndexOf("/")+1),i.MAP_VOZ=o),e.abrupt("break",18);case 16:return i.MAP_ADJUNTO=n.MENSAJE,e.abrupt("break",18);case 18:i.TIPO=n.TIPO,i.IDCHAT=n.IDCHAT,i.MAP_FECHAHORA=n.FECHA,n.USUARIOFROM==user.LOGIN?(i.MAP_COLORVIEW="#A5DF00",i.MAP_FORECOLOR="#666666",i.MAP_FORECOLORFECHA="#B3FFFFFF",i.MAP_ESPACIO=1):(i.MAP_COLORVIEW="#e5e5ea",i.MAP_FORECOLOR="#000000",i.MAP_FORECOLORFECHA="#80000000",i.MAP_ESPACIO=0,i.MAP_IMAGE="trasparente.png"),ui.refresh("Chatear");case 23:case"end":return e.stop()}}),e)}))),_addUserMessage.apply(this,arguments)}function irGrupo(e){ui.showGroup(e,"##RIGHTN##",150,"##RIGHTN_OUT##",150)}var literales=null;function iniciarLiterales(){literales={stVersionLog:"- Version Log.",stScreensRework:"- Screens rework.",stNewSup:"- New supervisor option.",stMustIndicateWarehouse:"You must indicate the warehouse."}}iniciarLiterales(),String.prototype.repeat=function(e){for(var t="",n=0;n<e;n++)t+=this;return t};var MAP_OBJETO_HIJO=null,pdfGlobal;function addZero(e){return e<10&&(e="0"+e),e}function doAuthLogout(){(new OAuth2).withOptions({authority:"https://gaccess-int.gamesacorp.com/identity/",clientID:"APP_0275_GOTMOBILITY",clientSecret:"C7331D93-9109-4F87-B2BA-17C77711B54E",scope:"openid profile",persistenceKey:"key_1234",responseType:"code id_token",redirectUri:"com.xone.oauth2:/gamesaredirect"}).logout()}function doAuthLogin(){(new OAuth2).withOptions({authority:"https://gaccess-int.gamesacorp.com/identity/",clientID:"APP_0275_GOTMOBILITY",clientSecret:"C7331D93-9109-4F87-B2BA-17C77711B54E",scope:"openid profile",responseType:"code id_token",persistenceKey:"key_1234",redirectUri:"com.xone.oauth2:/gamesaredirect"}).authenticate({onSuccess:function(e){console.log(e)},onError:function(e){console.log(e)}})}function doLoginNew(){return _doLoginNew.apply(this,arguments)}function _doLoginNew(){return _doLoginNew=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={userName:self.MAP_USER,password:self.MAP_PASSWORD,entryPoint:"Menu",onLoginSuccessful:function(){ui.showToast("Login OK!")},onLoginFailed:function(){ui.showToast("Login failed!")}},e.next=3,appData.login(t);case 3:case"end":return e.stop()}}),e)}))),_doLoginNew.apply(this,arguments)}function doLogout(){appData.logout()}function exit(){appData.exit()}function funcionesFecha(){var e=new Date,t=new Array("Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"),n=e.getFullYear(),r=addZero(e.getMonth()+1),a=addZero(e.getDate()),i=(e.getDay(),t[e.getDay()],addZero(e.getHours())),o=addZero(e.getMinutes()),s=addZero(e.getSeconds()),l=e.getMilliseconds(),u=e.getTime(),c=e.getTimezoneOffset(),d="Fecha local: "+a+"/"+r+"/"+n;d+="\nDia semana: "+e.getDay()+", "+t[e.getDay()],d+="\nHora: "+i+":"+o+":"+s+"."+l,d+="\nMilisegundos desde 1970: "+u,d+="\nDiferencia GMT minutos: "+c;var h=new Date,p=h.getUTCFullYear(),f=addZero(h.getUTCMonth()+1),m=addZero(h.getUTCDate()),g=h.getUTCDay()+", "+t[h.getUTCDay()],b=addZero(h.getUTCHours()),_=addZero(h.getUTCMinutes()),v=addZero(h.getUTCSeconds()),O=h.getUTCMilliseconds(),y=Date.UTC(p,f,m,b,_,v,O),C="\nFecha UTC: "+m+"/"+f+"/"+p;C+="\nDia semana UTC: "+g,C+="\nHora UTC: "+b+":"+_+":"+v+"."+O,C+="\nMilisegundos desde 1970 en UTC: "+y;var S=e.toString(),E=h.toUTCString(),k=e.toDateString(),x=e.toLocaleString(),T=e.toLocaleDateString(),w=e.toTimeString(),A=e.toLocaleTimeString(),P=e.toISOString(),R=e.toJSON(),I="\ntoString(): \n"+S;return I+="\ntoUTCString(): \n    "+E,I+="\ntoDateString(): "+k,I+="\ntoLocaleString(): \n"+x,I+="\ntoLocaleDateString(): \n    "+T,I+="\ntoTimeString(): \n    "+w,I+="\ntoLocaleTimeString(): "+A,I+="\ntoISOString(): \n    "+P,I+="\ntoJSON(): \n    "+R,d+="\n"+C,d+="\n"+I,d}function userMsgBox(e,t,n){return _userMsgBox.apply(this,arguments)}function _userMsgBox(){return _userMsgBox=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("EspecialMsgbox");case 2:return a=e.sent.createClone(),e.next=5,a.createObject();case 5:return i=e.sent,a.addItem(i),i.MAP_TITULO=t,i.MAP_MENSAJE=n,i.MAP_TIPO=r,e.next=12,ui.msgBox(i);case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),_userMsgBox.apply(this,arguments)}function frameScroll(e){e.dy<=10&&1===self.MAP_SHOWOVERSCROLL?(self.MAP_SHOWOVERSCROLL=0,ui.getView(self).refresh("froverscroll")):e.dy>10&&0===self.MAP_SHOWOVERSCROLL&&(self.MAP_SHOWOVERSCROLL=1,ui.getView(self).refresh("froverscroll"))}function EscanearMatricula(e){var t=createObject("XOneOCR");return t.scanLicensePlate(e)}function EscanearTexto(e){var t=createObject("XOneOCR");return t.scanText(e,"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM")}function prev(e,t,n){e.MAP_GROUP>1&&goPage(e,e.MAP_GROUP-1,n)}function next(e,t,n){e.MAP_GROUP<e.MAP_TOTAL_PAGES&&goPage(e,e.MAP_GROUP+1,n)}function goPage(e,t,n){ui.showGroup(t,"##ALPHA_IN##",500,"##ALPHA_OUT##",500),e.MAP_GROUP=t}function cstr(e){return void 0===e||null===e?"":e.toString()}function formatDateTime(e,t){var n=e.getHours(),r=e.getMinutes(),a=n>=12?"pm":"am";n%=12,n=n||12,r=r<10?"0"+r:r;var i=n+":"+r+" "+a;switch(t){case 0:return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+"  "+i;case 1:return e.getDate()+1+"/"+e.getMonth()+"/"+e.getFullYear();case 2:return e.getDate()+1+"/"+e.getMonth()+"/"+e.getFullYear().toString().substring(2,4);case 3:return i;case 4:return n+":"+r}return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+"  "+i}function len(e){return cstr(e).length}function Left(e,t){return t<=0?"":t>String(e).length?e:String(e).substring(0,t)}function Right(e,t){if(t<=0)return"";if(t>String(e).length)return e;var n=String(e).length;return String(e).substring(n,n-t)}function testClick(e){return _testClick.apply(this,arguments)}function _testClick(){return _testClick=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ui.msgBox(t.target,"Test",0);case 2:case"end":return e.stop()}}),e)}))),_testClick.apply(this,arguments)}function scanAvailableNetworks(){return _scanAvailableNetworks.apply(this,arguments)}function _scanAvailableNetworks(){return _scanAvailableNetworks=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,self.MAP_LOADING=1,ui.refresh("frmLoading"),e.next=5,self.getContents("ContentWifis");case 5:e.sent.clear(),t=new WifiManager,t.isWifiAdapterEnabled()?(onWifiNetworksFound.OBJETO=self,t.scanAvailableNetworks(onWifiNetworksFound),ui.showToast("Escaneando redes WiFi...")):ui.executeActionAfterDelay("scanAvailableNetworks",5),e.next=12;break;case 10:e.prev=10,e.t0=e["catch"](0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])}))),_scanAvailableNetworks.apply(this,arguments)}function onWifiNetworksFound(e){return _onWifiNetworksFound.apply(this,arguments)}function _onWifiNetworksFound(){return _onWifiNetworksFound=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o,s,l,u,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:self=onWifiNetworksFound.OBJETO,"",n=new WifiManager,r=1,a=0;case 5:if(!(a<t.length)){e.next=24;break}return i=t[a],o=!1,e.next=10,self.getContents("ContentWifis");case 10:if(s=e.sent,null==s){e.next=21;break}if(l=s.getItem("MAP_SSID",i.getSsid()),l){e.next=21;break}return s.lock(),e.next=17,s.createObject();case 17:u=e.sent,s.addItem(u),u&&("OPEN"==i.getNetworkSecurity()?(u.MAP_IMAGE="wifi-open.png",o=!0):(u.MAP_IMAGE="wifi-lock.png",o=!1),saberSiWifiGuardada(i.getSsid())?(u.MAP_ESTADO="Guardado",u.MAP_ORDEN=r,r++,u.MAP_IDESTADO=0):(u.MAP_ESTADO="",u.MAP_ORDEN=99999,u.MAP_IDESTADO=-1),c=n.getActiveWifiInfo(),null!=c&&c.getSsid()==i.getSsid()&&(u.MAP_ESTADO="Conexin establecida",u.MAP_IMAGE=o?"wifi-open-conected.png":"wifi-lock-conected.png",u.MAP_ORDEN=0,u.MAP_IDESTADO=1),i.getSsid().length>0?u.MAP_SSID=i.getSsid():u.MAP_SSID="Red desconocida",u.MAP_SECURITY=i.getNetworkSecurity()),s.unlock();case 21:a++,e.next=5;break;case 24:return self.MAP_LOADING=0,ui.refresh("ContentWifis,frmLoading"),e.next=28,self.getContents("ContentWifis");case 28:e.sent.doSort("MAP_ORDEN ASC");case 29:case"end":return e.stop()}}),e)}))),_onWifiNetworksFound.apply(this,arguments)}function saberSiWifiGuardada(e){for(var t=createObject("WifiManager"),n=t.listSavedNetworks(),r=0;r<n.length;r++)if(e==n[r].getSsid())return!0;return!1}function GenerarPDFBasico(e,t,n){return _GenerarPDFBasico.apply(this,arguments)}function _GenerarPDFBasico(){return _GenerarPDFBasico=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n.create(t),n.permissions("assembly"),n.permissions("print"),n.setEncryption("","1234","128bits"),n.open(),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setAlignment("center"),n.setFontSize(9),n.setFontColor("#000000"),1==r&&showGridDebug(n),n.setFont("helvetica"),n.setFontSize(9),n.setFontStyle("normal"),n.setFontColor("#000000"),n.addText("Esto es un ejemplo de texto, en la posicion: "+n.getVerticalPosition().toString()),n.newLine(),n.addText("Segunda Lnea, en la posicion: "+n.getVerticalPosition().toString()),n.newLine(),n.createTable(3),n.setCellBorder("none"),n.setTableWidth(100),n.setTableCellWidths(33,33,33),n.setAlignment("left"),n.addCellText("Texto a la izquierda"),n.setAlignment("center"),n.addCellText("Texto centrado"),n.setAlignment("right"),n.addCellText("Texto a la derecha"),n.addTable(),n.createTable(1),n.setCellBorder("all"),n.setTableWidth(100),n.setAlignment("center"),n.setFontStyle("bold"),n.setFontSize(12),n.setFontColor("#FFFFFF"),n.addCellText("Con las tablas es ms sencillo alinear el texto","#000000"),n.setAlignment("left"),n.setFontStyle("normal"),n.setFontSize(10),n.setFontColor("#000000"),n.addCellText("El ancho de una tabla NO FLOTANTE es 418, desde la posicin 88 hasta la 506, da igual el ancho que se especifique para la tabla  para las columnas"),n.setAlignment("center"),n.setFontStyle("bold"),n.setFontSize(12),n.setFontColor("#FFFFFF"),n.addCellText("El ancho de las celdas ser un porcentaje con respecto a la suma de los anchos de las columnas","#000000"),n.setFontColor("#000000"),n.setAlignment("left"),n.setFontStyle("normal"),n.setFontSize(10),n.addCellText("Da igual el ancho que se ponga para una tabla NO FLOTANTE, el ancho de la celda ser determinado mediante una regla de 3 para averiguar el porcentaje correspondiente a la cantidad asignada."),n.addCellText("Por ejemplo: 3 columnas 60 de ancho para cada una:"+String.fromCharCode(10)+"SetTableCellWidths 60,60,60  ->  60+60+60 = 180 que sera el 100% de la tabla"+String.fromCharCode(10)+"Para averiguar el porcentaje, calculamos 60x100 / 180 = 33.3%."),n.addTable(),n.createTable(3),n.setTableCellWidths(60,60,60),n.setAlignment("center"),n.addCellText("SetTableCellWidths 60,60,60"),n.addCellText("60+60+60=180 -> 100%"),n.addCellText("60x100 / 180 = 33.3%"),n.addTable(),n.createTable(1),n.setCellBorder("all"),n.setAlignment("center"),n.setFontStyle("bold"),n.setFontColor("#FFFFFF"),n.addCellText("Lo ms sencillo ser hacer coincidir los anchos de las columnas con 100 y as tendremos el porcentaje que tomar cada celda de ancho.","#000000"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontStyle("normal"),n.addCellText("Por ejemplo: SetTableCellWidths 20,50,15,15."),n.addTable(),n.setAlignment("center"),n.createTable(4),n.setTableCellWidths(20,50,15,15),n.addCellText("20%"),n.addCellText("50%"),n.addCellText("15%"),n.addCellText("15%"),n.addTable(),n.createTable(1),n.setTableWidth(418),n.setAlignment("center"),n.setFontStyle("bold"),n.setFontSize(12),n.setFontColor("#000000"),n.addCellText("Tabla 'FLOTANTE' de 418 de ancho"),n.addTableSetXY(88,542),n.setFontColor("#000000"),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(2),n.setTableWidth(340),n.setTableCellWidths(180,160),n.addCellText("Texto en tabla 'flotante', el alto de la tabla lo marcar el contenido."),n.setAlignment("center"),n.addCellText("Situada en:"+String.fromCharCode(10)+String.fromCharCode(13)+"Eje X=120, Eje Y=500"),n.addTableSetXY(120,500),n.createTable(3),n.setAlignment("center"),n.setTableWidth(460),n.setTableCellWidths(30,40,30),n.addCellText("Una flotante puede ocupar lo que se quiera.","#99FFFF"),n.addCellText("Y posicionarla en cualquier lugar.","#99FFFF"),n.addCellText("Los anchos definidos 30,40,30","#99FFFF"),n.addTableSetXY(60,430),n.addImageSetXY("./icons/coordenada00.png",0,0),n.close(),e.next=111,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 111:a=e.sent,6==a&&n.launchPDF();case 113:case"end":return e.stop()}}),e)}))),_GenerarPDFBasico.apply(this,arguments)}function showGridDebug(e){var t,n;for(e.setAlignment("center"),e.setFontSize(9),e.setFontStyle("bold"),e.setFontColor("#0000CC"),n=2;n<26;n++)t=parseInt(20*n),e.createTable(1),e.setTableWidth(20),e.addCellText(t.toString()),e.addTableSetXY(t,840),e.addRectangle(t,20,0,820,0,"#FF0000","#FF0000"),e.createTable(1),e.setTableWidth(20),e.addCellText(t.toString()),e.addTableSetXY(t,20);for(e.setFontColor("#009900"),n=0;n<42;n++)t=parseInt(20*n),e.createTable(1),e.setTableWidth(30),e.addCellText(t.toString()),e.addTableSetXY(10,t),e.addRectangle(10,t,540,0,0,"#FF0000","#FF0000"),e.createTable(1),e.setTableWidth(30),e.addCellText(t.toString()),e.addTableSetXY(540,t);e.setFontStyle("normal"),e.setFontColor("#000000")}function AddCellTexttable(e,t,n,r,a){e.setCellBorder("none"),0==r?e.setCellBorder("top"):1==r&&e.setCellBorder("bottom"),e.addCellText(a)}function addNewLine(e){e.createTable(1),e.setCellBorder("none"),e.addCellText(" "),e.addTable()}function CreatePDF(e,t){try{appData.error.clear(),t.delete(e),appData.error.clear()}catch(n){}t.permissions("assembly"),t.create(e),t.setEncryption("","1234","128bits")}function getTime(e){return e=getEmptyFromNull(e),e.toString().substring(11)}function GenerarPDF1(e,t,n){return _GenerarPDF.apply(this,arguments)}function _GenerarPDF(){return _GenerarPDF=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return CreatePDF(t,n),n.open(),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),1==r&&showGridDebug(n),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,1,1,1,""),n.addTable(),addNewLine(n),n.createTable(1),n.setTableWidth(150),n.setCellBorder("none"),n.setAlignment("left"),n.addCellImage("./icons/LogoPrint.png",150,73),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("right"),AddCellTexttable(n,1,1,1," CIF: B01234567"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setFontStyle("bold"),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,getDate(new Date)),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,getTime(new Date)),n.addTable(),n.createTable(2),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Ticket: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,t),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Montador: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"Manuel Chaves"),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,1,""),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,0,""),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Cliente: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"Cliente del curso"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Cod.Cliente: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"378-522"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Finca: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"La finca 3"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Cod.Proyecto: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"123-456"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," N.ORDEN: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"123456"),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,1,""),n.addTable(),n.createTable(3),n.setFontStyle("bold"),n.setTableCellWidths(100,25,25),n.setAlignment("left|bottom"),AddCellTexttable(n,2,1,0," Tarea "),AddCellTexttable(n,2,1,0," Inicio "),AddCellTexttable(n,2,1,0," Fin "),n.addTable(),n.createTable(1),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,1,""),n.addTable(),addNewLine(n),n.createTable(3),n.setTableCellWidths(100,25,25),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,"Tarea Numero Uno"),AddCellTexttable(n,2,1,-1,"11:45"),AddCellTexttable(n,2,1,-1,"12:00"),n.addTable(),n.createTable(3),n.setTableCellWidths(100,25,25),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,"Tarea Numero Dos"),AddCellTexttable(n,2,1,-1,"12:00"),AddCellTexttable(n,2,1,-1,"12:30"),n.addTable(),n.createTable(3),n.setTableCellWidths(100,25,25),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,"Tarea Numero Tres"),AddCellTexttable(n,2,1,-1,"12:30"),AddCellTexttable(n,2,1,-1,"13:00"),n.addTable(),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1,"Total Horas"),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"1.15 h"),n.addTable(),addNewLine(n),addNewLine(n),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Subtotal = 1.15h x 40 ?/h ="),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"46 Eur"),n.addTable(),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Gastos"),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"12 Eur"),n.addTable(),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Desplazamiento = 1 Ud * 20 Eur/Ud ="),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"20 ?"),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,1,""),n.addTable(),n.createTable(2),n.setTableCellWidths(110,40),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," TOTAL "),n.setFontStyle("bold"),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"78 ?"),n.addTable(),addNewLine(n),n.createTable(2),n.setTableWidth(150),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Cliente: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"Antonio Rodriguez Lpez"),n.addTable(),n.createTable(2),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," DNI: "),n.setAlignment("right"),AddCellTexttable(n,2,1,-1,"08.123.456"),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setAlignment("left"),AddCellTexttable(n,2,1,-1," Firma del cliente: "),n.addTable(),n.createTable(1),n.setTableWidth(150),n.setCellBorder("none"),n.setAlignment("left"),n.addCellImage("4b0a07e4-2213-47eb-83a1-e28d15662f0a.jpg",120,120),n.addTable(),n.close(),e.next=207,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 207:a=e.sent,6==a&&n.launchPDF();case 209:case"end":return e.stop()}}),e)}))),_GenerarPDF.apply(this,arguments)}function CrearPdf_Factura(e,t,n){return _CrearPdf_Factura.apply(this,arguments)}function _CrearPdf_Factura(){return _CrearPdf_Factura=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:ui.updateWaitDialog("Generando PDF...",0);try{n.delete(t)}catch(s){}for(n.create(t),n.setEncryption("","1234","128bits"),n.beginHeader(),n.createTable(1),n.setCellBorder("none"),n.setAlignment("left"),n.setTableCellWidths(100),n.addImageSetXY("logo_cabecera_pdf.png",86,750,80,40),n.setFont("courier"),n.setFontSize(15),n.setFontColor("#0000AA"),n.setFontStyle("bold"),n.addCellText(" "),n.addCellText("FACTURA:  123.123"),n.addCellText("23569   Crnicas del Suroeste S.L."),n.setFontSize(12),n.setFontStyle("normal"),n.addCellText("CIF: 08.123.123    TLF: +34 123 123 456"),n.addCellText("La direccin del cliente, 34 A  06001"),n.addCellText("MERIDA  -  BADAJOZ"),n.addCellText("ESPAA"),n.addCellText("FECHA: 03/02/2015"),n.setFontSize(7),n.addCellText("Bens constantes desta factura, colocados  disposio do adquirente nesta data"),n.addCellText(" "),n.addTable(),n.createTable(3),n.setTableWidth(250),n.setTableCellWidths(25,20,55),n.setCellBorder("all"),n.setAlignment("center"),n.addCellText("FACTURA","#EEEEEE"),n.addCellText("FECHA","#EEEEEE"),n.setAlignment("left"),n.addCellText("FORMA PAGO","#EEEEEE"),n.setAlignment("center"),n.addCellText("123.123"),n.addCellText("03/02/2015"),n.setAlignment("left"),n.addCellText("90 das"),n.addTableSetXY(90,700),n.setFont("helvetica"),n.setFontSize(8),n.setFontColor("#0000AA"),n.createTable(7),n.setTableCellWidths(10,40,10,10,10,10,10),n.setCellBorder("none"),n.setCellBorder("left"),n.setCellBorder("top"),n.setCellBorder("bottom"),n.setAlignment("left"),n.addCellText("CODIGO","#EEEEEE"),n.setCellBorder("left"),n.setCellBorder("bottom"),n.setCellBorder("top"),n.addCellText("DESCRIPCION","#EEEEEE"),n.setAlignment("right"),n.addCellText("BULTOS","#EEEEEE"),n.addCellText("K/U","#EEEEEE"),n.addCellText("T.CANT","#EEEEEE"),n.addCellText("IMPORTE","#EEEEEE"),n.setCellBorder("left"),n.setCellBorder("right"),n.setCellBorder("bottom"),n.setCellBorder("top"),n.addCellText("TOTAL","#EEEEEE"),n.addTable(),n.endHeader(),n.beginFooter(),n.createTable(1),n.setTableWidth(418),n.setCellBorder("none"),n.addCellImage("logo_pie_pdf.png",600,70),n.setFont("courier"),n.setAlignment("center"),n.setFontSize(10),n.setFontStyle("normal"),n.setFontColor("#FFFFFF"),a=n.getCurrentPage(),n.addCellText("PAG: "+a),n.addTableSetXY(88,104),n.endFooter(),n.open(),ui.updateWaitDialog("Generando PDF...",20),n.newLine(),1==r&&showGridDebug(n),n.setAlignment("left"),n.setFontSize(9),n.setFontColor("#000000"),n.setCellBorder("none"),i=0,ui.updateWaitDialog("Generando PDF...",40),i=0;i<59;i++)n.createTable(7),n.setTableCellWidths(10,40,10,10,10,10,10),n.setCellBorder("none"),59==i||n.getVerticalPosition()<=130?(n.setCellBorder("left"),n.setAlignment("left"),n.setCellBorder("bottom"),n.addCellText("000"+i.toString()),n.setCellBorder("none"),n.setCellBorder("left"),n.setCellBorder("bottom"),n.addCellText("Pollo asado"),n.setAlignment("right"),n.addCellText("2.00"),n.addCellText("1.00"),n.addCellText("2.33"),n.addCellText("4.66"),n.setCellBorder("none"),n.setCellBorder("left"),n.setCellBorder("bottom"),n.setCellBorder("right"),n.addCellText("4.66"),n.getVerticalPosition()<130&&n.newPage()):(n.setCellBorder("left"),n.setAlignment("left"),n.addCellText("000"+i.toString()),n.addCellText("Pollo asado al vaco"+n.getVerticalPosition().toString()),n.setAlignment("right"),n.addCellText("2.00"),n.addCellText("1.00"),n.addCellText("2.33"),n.addCellText("4.66"),n.setCellBorder("none"),n.setCellBorder("left"),n.setCellBorder("right"),n.addCellText("4.66")),n.addTable();return ui.updateWaitDialog("Generando PDF...",90),n.setFontSize(7),n.setFontStyle("normal"),n.setFontColor("#000000"),n.addTextLine(" "),n.addTextLine(" "),n.addTextLine(" "),n.addTextLine("Declaro pelo presente documento que os artigos adquiridos a XXXXXX. para su expediiao que se descreve neste documento sero agravados mo destino pelo I.V.A. dada a minha condiao de sujeto pasivo do I.V.A. em Portugal"),n.setFontSize(12),n.setFontStyle("bold"),n.addTextLine(" "),n.addText("EXENTO DE IVA "),n.setFontSize(8),n.setFontStyle("bold"),n.addText("Art. 25 de la Ley del IVA"),n.setFontSize(8),n.setFontStyle("normal"),n.addText("           FORMA DE PAGO: "),n.setFontSize(12),n.setFontStyle("bold"),n.addTextLine("Efectivo"),n.setFont("courier"),n.setFontSize(9),n.setFontStyle("normal"),n.setFontColor("#0000AA"),n.addText("BULTOS: 60"),n.setFontSize(12),n.setFontColor("#0000AA"),n.addTextSetX("TOTAL FACTURA: XXX.XX ?",350),n.close(),ui.updateWaitDialog("Generando PDF...",100),e.next=128,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 128:o=e.sent,6==o&&n.launchPDF();case 130:case"end":return e.stop()}}),e)}))),_CrearPdf_Factura.apply(this,arguments)}function getStrFill(e,t,n){var r="";return e.length<n&&(n=2*(n-e.length),r=t.repeat(n-1)),r=e+r,r}function getBoolStr(e){return 1==self[e]?"true":"false"}function getEmptyFromNull(e){return null==e?"":e}function GenerarPDFChecks(e,t,n){return _GenerarPDFChecks.apply(this,arguments)}function _GenerarPDFChecks(){return _GenerarPDFChecks=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0;try{n.delete(t)}catch(c){}n.create(t),n.permissions("assembly"),n.permissions("print"),n.setEncryption("","1234","128bits"),n.open(),n.setFont("gillsans.ttf"),n.setFontStyle("normal"),n.setAlignment("center"),n.setFontColor("#000000"),n.setFontSize(9),1==r&&showGridDebug(n),n.createTable(3),n.setTableWidth(415),n.setTableCellWidths(90,235,90),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(3)),n.setFontStyle("bold"),n.setFontColor("#FFFFFF"),n.setFontSize(12),n.addCellText(String.fromCharCode(10)+"INSPECCION","#000000"),n.setFontSize(10),n.setFontColor("#000000"),n.addCellText("FSI-1.4"+String.fromCharCode(10)+String.fromCharCode(13)+"V.1"),n.addTable(),n.setFontSize(2),addNewLine(n),n.setFontSize(10),n.addRectangle(408,786,99,0,1,"#000000","#000000"),n.addImageSetXY("./icons/logo_xone.png",118,770,30,30),n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("bold"),n.setAlignment("left"),n.createTable(2),n.setTableWidth(415),n.setTableCellWidths(60,355),n.addCellText("SERVICIO"),n.addCellText(getEmptyFromNull(self.CODSERVICIO)),n.addTable(),n.createTable(6),n.setTableWidth(415),n.setTableCellWidths(60,178,42,60,40,35),n.addCellText("INSPECTOR"),n.setFontSize(7),n.addCellText(getEmptyFromNull(self.MAP_USUARIO)),n.setFontSize(8),n.addCellText("FECHA"),n.addCellText(getDate(self.FECHA)),n.addCellText("HORA"),n.addCellText(getEmptyFromNull(self.HORA)),n.addTable(),n.createTable(2),n.setTableWidth(415),n.setTableCellWidths(60,355),n.addCellText("V/S"+String.fromCharCode(10)+String.fromCharCode(13)+"ASIGNADOS"),n.addCellText(" "),n.addTable(),n.setCellBorder("all"),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontSize(10),n.createTable(2),n.setTableWidth(358),n.setTableCellWidths(179,179),n.addCellText("abcdefghijklmnopqrstuvwxyz"),n.addCellText("abcdefghijklmnopqrstuvwxyz"),n.addCellText("abcdefghijklmnopqrstuvwxyz"),n.addCellText("abcdefghijklmnopqrstuvwxyz"),n.addTableSetXY(149,736),n.setFontSize(2),addNewLine(n),i=n.getVerticalPosition()-10,o=11,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("CONTROL DE DOCUMENTACIN","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(4)),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(5)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontSize(9),n.setFontStyle("bold"),n.createTable(8),n.setTableWidth(414),n.setTableCellWidths(220,25,25,25,79,20,20,20),n.setAlignment("center"),n.addCellText(" "),n.addCellText("SI"),n.addCellText("NO"),n.addCellText("N/A*"),n.addCellText(" "),n.addCellText("B"),n.addCellText("M"),n.addCellText("R"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(8),a=1;case 107:if(!(a<=3)){e.next=141;break}a=parseInt(a),n.createTable(2),n.setTableWidth(380),n.setTableCellWidths(380,100),n.addCellText(getStrFill("Lo que sea",".",40)),n.addCellText("ESTADO"),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",307,i-o,9,"check",getBoolStr("MAP_01_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",331,i-o,9,"check",getBoolStr("MAP_01_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",354,i-o,9,"check",getBoolStr("MAP_01_"+a+"_NA"),"true"),e.t0=self["ESTADO"+a],e.next="BIEN"===e.t0?122:"MAL"===e.t0?126:"REGULAR"===e.t0?130:134;break;case 122:return n.addCheckboxSetXY(" ",452,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",138);case 126:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",138);case 130:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","true","true"),e.abrupt("break",138);case 134:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",138);case 138:a++,e.next=107;break;case 141:i-=6,n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(8),a=1;case 147:if(!(a<=4)){e.next=173;break}a=parseInt(a),n.createTable(3),n.setTableWidth(414),n.setTableCellWidths(402,110,78),n.addCellText(getStrFill("Lo que sea 2",".",40)),e.t1=a.toString(),e.next="1"===e.t1?156:"2"===e.t1?159:162;break;case 156:return n.addCellText("Fecha ltima revisin"),""==getEmptyFromNull(self.FECHAUR4)?n.addCellText("__ / __ / ____"):n.addCellText(getDate(self.FECHAUR4)),e.abrupt("break",165);case 159:return n.addCellText("Fecha ltima revisin"),""==getEmptyFromNull(self.FECHAUR5)?n.addCellText("__ / __ / ____"):n.addCellText(getDate(self.FECHAUR5)),e.abrupt("break",165);case 162:return n.addCellText(""),n.addCellText(""),e.abrupt("break",165);case 165:i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",307,i-o,9,"check",getBoolStr("MAP_01_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",331,i-o,9,"check",getBoolStr("MAP_01_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",354,i-o,9,"check",getBoolStr("MAP_01_"+a+"_NA"),"true");case 170:a++,e.next=147;break;case 173:for(i=n.getVerticalPosition()-10,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("REVISIN DE MEDIOS AUXILIARES","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(9)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontSize(9),n.setFontStyle("bold"),n.setAlignment("center"),n.createTable(4),n.setTableWidth(414),n.setTableCellWidths(324,30,30,30),n.addCellText(""),n.addCellText("SI"),n.addCellText("NO"),n.addCellText("N/A*"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;a<=6;a++)a=parseInt(a),n.createTable(1),n.setTableWidth(414),n.addCellText(getStrFill("Lo que sea 3",".",80)),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",425,i-o,9,"check",getBoolStr("MAP_02_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",456,i-o,9,"check",getBoolStr("MAP_02_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",485,i-o,9,"check",getBoolStr("MAP_02_"+a+"_NA"),"true");i=n.getVerticalPosition()-10,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("CUMPLIMIENTO DEONTOLGICO","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(3)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontStyle("bold"),n.setAlignment("center"),n.setFontSize(9),n.createTable(8),n.setTableWidth(414),n.setTableCellWidths(157,20,20,20,157,20,20,20),n.addCellText(" "),n.addCellText("B"),n.addCellText("M"),n.addCellText("R"),n.addCellText(" "),n.addCellText("B"),n.addCellText("M"),n.addCellText("R"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;case 237:if(!(a<=2)){e.next=289;break}a=parseInt(a),s=parseInt(2*a+2),n.createTable(2),n.setTableWidth(400),n.setTableCellWidths(210,190),n.addCellText(getStrFill("Aa",".",34)),n.addCellText(getStrFill("Bb",".",34)),i-=o,n.addTableSetXY(96,i),e.t2=self["ESTADO"+s.toString()],e.next="BIEN"===e.t2?250:"MAL"===e.t2?254:"REGULAR"===e.t2?258:262;break;case 250:return n.addCheckboxSetXY(" ",245,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",264,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",283,i-o,9,"check","false","true"),e.abrupt("break",266);case 254:return n.addCheckboxSetXY(" ",245,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",264,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",283,i-o,9,"check","false","true"),e.abrupt("break",266);case 258:return n.addCheckboxSetXY(" ",245,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",264,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",283,i-o,9,"check","true","true"),e.abrupt("break",266);case 262:return n.addCheckboxSetXY(" ",245,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",264,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",283,i-o,9,"check","false","true"),e.abrupt("break",266);case 266:s++,e.t3=self["ESTADO"+s.toString()],e.next="BIEN"===e.t3?270:"MAL"===e.t3?274:"REGULAR"===e.t3?278:282;break;case 270:return n.addCheckboxSetXY(" ",452,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",286);case 274:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",286);case 278:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","true","true"),e.abrupt("break",286);case 282:return n.addCheckboxSetXY(" ",452,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",471,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",490,i-o,9,"check","false","true"),e.abrupt("break",286);case 286:a++,e.next=237;break;case 289:for(i=n.getVerticalPosition()-10,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("CONTROL OPERACIONAL","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(12)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontStyle("bold"),n.setAlignment("center"),n.setFontSize(9),n.createTable(4),n.setTableWidth(414),n.setTableCellWidths(324,30,30,30),n.addCellText(""),n.addCellText("SI"),n.addCellText("NO"),n.addCellText("N/A*"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;a<=8;a++)a=parseInt(a),n.createTable(1),n.setTableWidth(414),n.addCellText(getStrFill("Lo que sea 4",".",80)),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",425,i-o,9,"check",getBoolStr("MAP_04_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",456,i-o,9,"check",getBoolStr("MAP_04_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",485,i-o,9,"check",getBoolStr("MAP_04_"+a+"_NA"),"true");i=n.getVerticalPosition()-9,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("EVALUACIN EFICACIA Y FORMACIN","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(3)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontStyle("bold"),n.setAlignment("center"),n.setFontSize(9),n.createTable(4),n.setTableWidth(414),n.setTableCellWidths(324,30,30,30),n.addCellText(""),n.addCellText("MB"),n.addCellText("B"),n.addCellText("R"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=8;case 349:if(!(a<=9)){e.next=378;break}a=parseInt(a),n.createTable(1),n.setTableWidth(414),n.addCellText(getStrFill("Lo que sea 5",".",80)),i-=o,n.addTableSetXY(90,i),e.t4=self["ESTADO"+a],e.next="MUY BIEN"===e.t4?359:"BIEN"===e.t4?363:"REGULAR"===e.t4?367:371;break;case 359:return n.addCheckboxSetXY(" ",425,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",456,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",485,i-o,9,"check","false","true"),e.abrupt("break",375);case 363:return n.addCheckboxSetXY(" ",425,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",456,i-o,9,"check","true","true"),n.addCheckboxSetXY(" ",485,i-o,9,"check","false","true"),e.abrupt("break",375);case 367:return n.addCheckboxSetXY(" ",425,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",456,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",485,i-o,9,"check","true","true"),e.abrupt("break",375);case 371:return n.addCheckboxSetXY(" ",425,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",456,i-o,9,"check","false","true"),n.addCheckboxSetXY(" ",485,i-o,9,"check","false","true"),e.abrupt("break",375);case 375:a++,e.next=349;break;case 378:for(i=n.getVerticalPosition()-10,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("INSTRUCCIONES DE EMERGENCIA","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(6)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontSize(9),n.setFontStyle("bold"),n.setAlignment("center"),n.createTable(3),n.setTableWidth(414),n.setTableCellWidths(334,40,40),n.addCellText(""),n.addCellText("SI"),n.addCellText("NO"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;a<=4;a++)a=parseInt(a),n.createTable(1),n.setTableWidth(414),n.addCellText(getStrFill("Lo que sea 6",".",80)),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",440,i-o,9,"check",getBoolStr("MAP_06_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",480,i-o,9,"check",getBoolStr("MAP_06_"+a+"_NO"),"true");i=n.getVerticalPosition()-11,o=12,n.setCellBorder("all"),n.setFontSize(8),n.setFontStyle("normal"),n.setAlignment("left"),n.createTable(1),n.setTableWidth(750),n.setFont("frutiger.ttf"),n.addCellText("PREVENCIN DE RIESGOS","#EEEEEE"),n.addCellText((String.fromCharCode(10)+String.fromCharCode(13)).repeat(11)),n.addTable(),n.setFont("gillsans.ttf"),n.setCellBorder("none"),n.setFontStyle("bold"),n.setAlignment("center"),n.setFontSize(9),n.createTable(4),n.setTableWidth(414),n.setTableCellWidths(351,18,20,25),n.addCellText(""),n.addCellText("SI"),n.addCellText("NO"),n.addCellText("N/A*"),n.addTableSetXY(90,i),n.setFontStyle("normal"),n.setAlignment("left"),n.setFontColor("#000000"),n.setFontSize(9),a=1;case 437:if(!(a<=6)){e.next=467;break}a=parseInt(a),n.createTable(1),n.setTableWidth(414),l="",e.t5=a.toString(),e.next="1"===e.t5?445:"2"===e.t5?452:"6"===e.t5?454:456;break;case 445:return n.addCellText("Existe en el Servicio la evaluacin de riesgos y la planificacin de actividad preventiva?"),i-=o,n.addTableSetXY(90,i),n.createTable(1),n.setTableWidth(414),l="Se evidencian las Firmas de Entrega de dichos documentos por los Trabajadores?",e.abrupt("break",458);case 452:return l=self.fieldPropertyValue("MAP_ETQ07_2","title")+" "+self.fieldPropertyValue("MAP_ETQ07_21","title"),e.abrupt("break",458);case 454:return l=self.fieldPropertyValue("MAP_ETQ07_6","title")+" "+self.fieldPropertyValue("MAP_ETQ07_61","title"),e.abrupt("break",458);case 456:return l="Se evidencian las Firmas de Entrega de dichos documentos por los Trabajadores?",e.abrupt("break",458);case 458:n.addCellText(getStrFill(l,".",85)),i-=o,n.addTableSetXY(90,i),n.addCheckboxSetXY(" ",445,i-o,9,"check",getBoolStr("MAP_07_"+a+"_SI"),"true"),n.addCheckboxSetXY(" ",466,i-o,9,"check",getBoolStr("MAP_07_"+a+"_NO"),"true"),n.addCheckboxSetXY(" ",487,i-o,9,"check",getBoolStr("MAP_07_"+a+"_NA"),"true");case 464:a++,e.next=437;break;case 467:return n.setFontSize(8),n.setCellBorder("none"),n.createTable(2),n.setTableWidth(410),n.setTableCellWidths(40,380),n.addCellText(" "),n.addCellText("*N/A no aplicable"),n.addTable(),n.setCellBorder("all"),n.setFontSize(9),n.setFontStyle("bold"),n.setAlignment("left"),n.createTable(3),n.setTableCellWidths(220,220,220),n.addCellText("Firma Inspector"+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)),n.addCellText("Firma Jefe de Equipo/R. Turno"+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)),n.addCellText("Firma Jefe de Servicio/Delegado"+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)+String.fromCharCode(10)+String.fromCharCode(13)),n.addTable(),getEmptyFromNull(self.FIRMA1).length>0&&n.addImageSetXY(getEmptyFromNull(self.FIRMA1),125,32,50,50),getEmptyFromNull(self.FIRMA2).length>0&&n.addImageSetXY(getEmptyFromNull(self.FIRMA2),265,32,50,50),getEmptyFromNull(self.FIRMA3).length>0&&n.addImageSetXY(getEmptyFromNull(self.FIRMA3),410,32,50,50),n.close(),e.next=491,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 491:u=e.sent,6==u&&n.launchPDF();case 493:case"end":return e.stop()}}),e)}))),_GenerarPDFChecks.apply(this,arguments)}function setTextStyle(e,t,n,r,a,i){e.setFont("Roboto-Regular.ttf"),e.setFontStyle(n),e.setAlignment(r),e.setFontColor(i),e.setFontSize(a)}function GenerarPDF3(e,t,n){return _GenerarPDF2.apply(this,arguments)}function _GenerarPDF2(){return _GenerarPDF2=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{n.delete(t)}catch(s){}return n.create(t),n.permissions("assembly"),n.permissions("print"),n.setEncryption("","1234","128bits"),n.open(),setTextStyle(n,"gillsans.ttf","normal","center",14,"#000000"),1==r&&showGridDebug(n),a=46,546,i=810,i-=70,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","bold","center",14,"#000000"),n.addCellText("SOLICITUD","#FFFFFF"),setTextStyle(n,"gillsans.ttf","normal","center",10,"#000000"),n.addTableSetXY(a,i),i-=20,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("ACTIVO FISICO","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","center",10,"#000000"),n.addTableSetXY(a,i),i-=16,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" Denominacin:  "),n.addCellText(" Codigo Identificacin (KKS):  "),n.addTableSetXY(a,i),i-=28,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(50,50),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" Solicitante (Nombre y Area):"+String.fromCharCode(13)+"  "+String.fromCharCode(13).repeat(1)),n.addCellText(" Ejecutor (Nombre):"+String.fromCharCode(13)+"  "),n.addTableSetXY(a,i),i-=34,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("ALCANCE ORDEN","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText(String.fromCharCode(13).repeat(5)),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("ALCANCE OPERACION","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText(String.fromCharCode(13).repeat(5)),n.addTableSetXY(a,i),i-=15,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9),n.addCellText(" "),n.addTableSetXY(a,i),i-=75,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9),n.addCellText(" "),n.addTableSetXY(a,i),i-=58,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(50,50),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" Fecha Requerida:  "),n.addCellText(" Duracin prevista:  "),n.addTableSetXY(a,i),i-=14,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText(" PROCEDIMIENTO ASOCIADO:  "+String.fromCharCode(13)+"  "),n.addTableSetXY(a,i),i-=22,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(80,20),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("TRABAJO CON RIESGO ESPECIAL","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(9)+"SI"+" ".repeat(11)+"NO"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+412,i-13,10,"check","true","true"),n.addCheckboxSetXY(" ",a+451,i-13,10,"check","false","true"),i-=16,n.createTable(3),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(34,33,33),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(7)+"Elctrico"),n.addCellText(" ".repeat(7)+"Trabajos en altura"),n.addCellText(" ".repeat(7)+"Trabajos en zanjas"),n.addCellText(" ".repeat(7)+"Espacios confinados"),n.addCellText(" ".repeat(7)+"Presencia de gas"),n.addCellText(" ".repeat(7)+""),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+6,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+176,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+342,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+6,i-26,10,"check","true","true"),n.addCheckboxSetXY(" ",a+176,i-26,10,"check","true","true"),i-=28,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" Observaciones, precauciones y proteccin adicionales: "+String.fromCharCode(13)+"  "+String.fromCharCode(13)),n.addTableSetXY(a,i),i-=45,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","center",9,"#FF0000"),n.addCellText("NOTA: SI SE MODIFICAN O AMPLIAN LAS ACTIVIDADES DESCRITAS EN EL ALCANCE DEL TRABAJO SER NECESARIO REVISAR ESTE PERMISO ANTES DE CONTINUAR CON LOS TRABAJOS"),n.addTableSetXY(a,i),i-=34,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("REQUERIMIENTOS","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addTableSetXY(a,i),i-=16,n.createTable(4),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(20,30,20,30),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" DESCARGO"),n.addCellText(" ".repeat(7)+"SI"+" ".repeat(11)+"NO"),n.addCellText(" PRUEBAS"),n.addCellText(" ".repeat(7)+"SI"+" ".repeat(11)+"NO"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+110,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+150,i-12,10,"check","false","true"),n.addCheckboxSetXY(" ",a+360,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+400,i-12,10,"check","false","true"),i-=14,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),n.addCellText(" Observaciones:"+String.fromCharCode(13).repeat(5)),n.addTableSetXY(a,i),i-=13,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("  "),n.addTableSetXY(a,i),i-=51,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(80,20),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("CONDICIONES DEL SISTEMA REQUERIDAS POR MANTENIMIENTO","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(8)+"SI"+" ".repeat(11)+"NO"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+412,i-13,10,"check","true","true"),n.addCheckboxSetXY(" ",a+451,i-13,10,"check","false","true"),i-=16,n.createTable(3),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(34,33,33),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(7)+"Drenado"),n.addCellText(" ".repeat(7)+"Despresurizado"),n.addCellText(" ".repeat(7)+"Bloqueado Mecnicamente"),n.addCellText(" ".repeat(7)+"Barrido"),n.addCellText(" ".repeat(7)+"Inertizado"),n.addCellText(" ".repeat(7)+"Bloqueado Elctricamente"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+6,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+176,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+342,i-12,10,"check","true","true"),n.addCheckboxSetXY(" ",a+6,i-26,10,"check","true","true"),n.addCheckboxSetXY(" ",a+176,i-26,10,"check","true","true"),n.addCheckboxSetXY(" ",a+342,i-26,10,"check","true","true"),i-=28,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",10),n.addCellText(" Observaciones, precauciones y proteccin adicionales: "+String.fromCharCode(13).repeat(5)),n.addTableSetXY(a,i),i-=13,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("  "),n.addTableSetXY(a,i),i-=51,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(80,20),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("ENTREGA DEL SISTEMA EN LAS CONDICIONES REQUERIDAS","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",10,"#000000"),n.addCellText(" ".repeat(9)+"SI"+" ".repeat(11)+"NO"),n.addTableSetXY(a,i),n.addCheckboxSetXY(" ",a+412,i-13,10,"check","true","true"),n.addCheckboxSetXY(" ",a+451,i-13,10,"check","false","true"),i-=16,n.createTable(1),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",10),n.addCellText(" Observaciones: "+String.fromCharCode(13).repeat(5)),n.addTableSetXY(a,i),i-=13,n.createTable(1),n.setCellBorder("none"),n.setTableWidth(500),n.setTableCellWidths(100),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("  "),n.addTableSetXY(a,i),n.createTable(1),n.setCellBorder("none"),n.addCellText(" "+String.fromCharCode(13).repeat(85)),n.addTable(),setTextStyle(n,"gillsans.ttf","normal","center",14,"#000000"),a=46,546,i=810,n.createTable(3),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(20,55,25),n.addCellText(String.fromCharCode(10).repeat(3)),setTextStyle(n,"gillsans.ttf","bold","center",16,"#000000"),n.addCellText(String.fromCharCode(13)+"Central Termosolar  ","#FFFFFF"),setTextStyle(n,"gillsans.ttf","normal","center",10,"#000000"),n.addCellText(String.fromCharCode(13)+"MECANICO"+String.fromCharCode(13).repeat(2)+"N OT: 4065833  -  0010","#99FF99"),n.addTableSetXY(a,i),n.addRectangle(421,780,125,0,1,"#000000","#000000"),i-=90,n.createTable(2),n.setCellBorder("all"),n.setTableWidth(500),n.setTableCellWidths(50,50),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("FIRMAS DE APERTURA","#CCCCCC"),n.addCellText("CONFORME","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",8,"#000000"),n.addCellText(String.fromCharCode(13).repeat(10)+" Ejecutor / Nombre / Fecha / Hora"),n.addCellText(String.fromCharCode(13).repeat(10)+" Supervisor de turno / Nombre / Fecha / Hora"),setTextStyle(n,"gillsans.ttf","normal","left",12,"#000000"),n.addCellText("TRABAJO FINALIZADO","#CCCCCC"),n.addCellText("CONFORME","#CCCCCC"),setTextStyle(n,"gillsans.ttf","normal","left",8,"#000000"),n.addCellText(String.fromCharCode(13).repeat(10)+" Ejecutor / Nombre / Fecha / Hora"),n.addCellText(String.fromCharCode(13).repeat(10)+" Supervisor de turno / Nombre / Fecha / Hora"),n.addTableSetXY(a,i),n.close(),e.next=294,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 294:o=e.sent,6==o&&n.launchPDF();case 296:case"end":return e.stop()}}),e)}))),_GenerarPDF2.apply(this,arguments)}function GenerarPDF3Apaisado(e,t,n){return _GenerarPDF3Apaisado.apply(this,arguments)}function _GenerarPDF3Apaisado(){return _GenerarPDF3Apaisado=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:try{n.delete(t)}catch(s){}return n.create(t,865,600),n.permissions("assembly"),n.permissions("print"),n.setEncryption("","1234","128bits"),n.open(),1==r&&showGridDebug(n),setTextStyle(n,"gillsans.ttf","normal","center",14,"#000000"),a=20,845,i=600,i-=25,n.createTable(3),n.setCellBorder("none"),n.setTableWidth(825),n.setTableCellWidths(10,80,10),n.addCellText(String.fromCharCode(10).repeat(3)),setTextStyle(n,"gillsans.ttf","bold","center",16,"#000000"),n.addCellText(String.fromCharCode(13)+"Central Termosolar  ","#FFFFFF"),n.addCellText(" "),n.addTableSetXY(a,i),i-=70,n.createTable(12),n.setTableWidth(825),n.setTableCellWidths(8,1,12,17,1,35,6,1,6,6,1,6),n.setCellBorder("none"),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.addCellText("N Permiso"),n.addCellText(" "),n.setCellBorder("all"),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("  -  "),n.setCellBorder("none"),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.addCellText("Supervisor de Turno / Fecha"),n.addCellText(" "),n.setCellBorder("all"),setTextStyle(n,"gillsans.ttf","normal","left",9,"#000000"),n.addCellText("Nombre del tio con los apellidos y la fecha"),n.setCellBorder("none"),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.addCellText("Caja"),n.addCellText(" "),n.setCellBorder("all"),setTextStyle(n,"gillsans.ttf","normal","center",9,"#000000"),n.addCellText(" "),n.setCellBorder("none"),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.addCellText("Unidad"),n.addCellText(" "),n.setCellBorder("all"),setTextStyle(n,"gillsans.ttf","normal","center",9,"#000000"),n.addCellText(" "),n.addTableSetXY(20,i),i-=23,n.createTable(3),n.setTableWidth(825),n.setTableCellWidths(39,42,19),setTextStyle(n,"gillsans.ttf","bold","center",10,"#000000"),n.setCellBorder("none"),n.addCellText(" "),n.setCellBorder("all"),n.addCellText("Secuencia Ejecucin y pruebas"),n.addCellText("Secuencia de reposicin"),n.addTableSetXY(a,i),i-=14,n.createTable(7),n.setTableWidth(825),n.setTableCellWidths(39,15,9,9,9,9,10),setTextStyle(n,"gillsans.ttf","normal","center",8,"#000000"),n.setCellBorder("none"),n.addCellText(" "),n.setCellBorder("all"),n.addCellText("COLOCACIN"),n.addCellText("PREPARACIN"+String.fromCharCode(13)+"PARA PRUEBA"),n.addCellText("VUELTA A"+String.fromCharCode(13)+"DESCARGO"),n.addCellText("PREPARACIN"+String.fromCharCode(13)+"PARA PRUEBA"),n.addCellText("LEVANTAMIENTO"),n.addCellText("SI NO ES POSIBLE"+String.fromCharCode(13)+"REPONER"),n.addTableSetXY(a,i),i-=20,n.createTable(9),n.setTableWidth(825),n.setTableCellWidths(12,4,23,15,9,9,9,9,10),setTextStyle(n,"gillsans.ttf","normal","center",8,"#000000"),n.setCellBorder("all"),n.addCellText("N Total Tarjetas"),n.addCellText(" "),setTextStyle(n,"gillsans.ttf","normal","center",7,"#000000"),n.addCellText(" "),n.addCellText("Posicin en descargo"),n.addCellText("Posicin en 1 prueba"),n.addCellText("Posicin en descargo"),n.addCellText("Posicin en 2 prueba"),n.addCellText("Posicin reposicin"),n.addCellText("Reposicin pendiente"),n.addTableSetXY(a,i),i-=12,n.createTable(16),n.setCellBorder("all"),n.setTableWidth(825),n.setTableCellWidths(4,12,23,4,6,5,4,5,4,5,4,5,4,5,5,5),setTextStyle(n,"gillsans.ttf","normal","center",9,"#000000"),n.addCellText("N"+String.fromCharCode(13)+"Tarjeta"),n.addCellText(String.fromCharCode(13)+"KKS"),n.addCellText(String.fromCharCode(13)+"DESCRIPCIN"),n.addCellText("N"+String.fromCharCode(13)+"Orden"),n.addCellText("N"+String.fromCharCode(13)+"Candado"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addCellText("N"+String.fromCharCode(13)+"Orden"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addCellText("N"+String.fromCharCode(13)+"Orden"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addCellText("N"+String.fromCharCode(13)+"Orden"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addCellText("N"+String.fromCharCode(13)+"Orden"),n.addCellText(String.fromCharCode(13)+"Estado"),setTextStyle(n,"gillsans.ttf","normal","center",7,"#000000"),n.addCellText("Otros"+String.fromCharCode(13)+"Descargos"),setTextStyle(n,"gillsans.ttf","normal","center",9,"#000000"),n.addCellText(String.fromCharCode(13)+"Estado"),n.addTableSetXY(a,i),i=140,n.createTable(7),n.setTableWidth(825),n.setTableCellWidths(39,15,9,9,9,9,10),setTextStyle(n,"gillsans.ttf","normal","right",9,"#000000"),n.setCellBorder("all"),n.addCellText("NOMBRE Y FIRMA DEL OPERADOR"+String.fromCharCode(13).repeat(2)+"FECHA Y HORA"),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText("NOMBRE Y FIRMA DEL SUPERVISOR DE TURNO"+String.fromCharCode(13).repeat(2)+"FECHA Y HORA"),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addCellText(" "),n.addTableSetXY(a,i),i-=80,n.createTable(7),n.setTableWidth(825),n.setTableCellWidths(39,15,9,9,9,9,10),setTextStyle(n,"gillsans.ttf","normal","center",8,"#000000"),n.setCellBorder("none"),n.addCellText(" "),n.setCellBorder("all"),n.addCellText("COLOCACIN"),n.addCellText("PREPARACIN"+String.fromCharCode(13)+"PARA PRUEBA"),n.addCellText("VUELTA A"+String.fromCharCode(13)+"DESCARGO"),n.addCellText("PREPARACIN"+String.fromCharCode(13)+"PARA PRUEBA"),n.addCellText("LEVANTAMIENTO"),n.addCellText("SI NO ES POSIBLE"+String.fromCharCode(13)+"REPONER"),n.addTableSetXY(a,i),n.close(),e.next=161,ui.msgBox("ABRIR PDF?","PDF GENERADO",4);case 161:o=e.sent,6==o&&n.launchPDF();case 163:case"end":return e.stop()}}),e)}))),_GenerarPDF3Apaisado.apply(this,arguments)}function setLanguage(e){switch(e){case"es-ES":self.setFieldPropertyValue("MAP_IDIOMA","title","Seleccione un idioma: "),self.setFieldPropertyValue("MAP_LABEL","title","Etiqueta: "),self.setFieldPropertyValue("MAP_TEXT","title","Texto: "),self.setFieldPropertyValue("MAP_PASSWORD","title","Contrasea: "),self.setFieldPropertyValue("MAP_TEXTAREA","title","Multilnea: "),self.setFieldPropertyValue("MAP_NUMBER","title","Nmero: "),self.setFieldPropertyValue("MAP_DECIMAL","title","N. Decimal: "),self.setFieldPropertyValue("MAP_NUMTEXT","title","Nmero-Texto: "),self.setFieldPropertyValue("MAP_DECTEXT","title","Decimal-Texto: "),self.setFieldPropertyValue("MAP_DATE","title","Fecha: "),self.setFieldPropertyValue("MAP_HOUR","title","Hora: "),self.setFieldPropertyValue("MAP_TELEFONO","title","Telfono: "),self.setFieldPropertyValue("MAP_CHECKBOX","title","Casilla de Verificacion (0/1): "),self.setFieldPropertyValue("TIPOIDENTIFICADOR","title","Combo: "),self.setFieldPropertyValue("TIPOIDENTIFICADOR2","title","Lupa: "),self.setFieldPropertyValue("MAP_TEXTAT","title","Adjunto: "),self.setFieldPropertyValue("MAP_BT_EJEMPLO","title","Ejemplo de titulo");break;case"en-US":self.setFieldPropertyValue("MAP_IDIOMA","title","Select a language: "),self.setFieldPropertyValue("MAP_LABEL","title","Tag: "),self.setFieldPropertyValue("MAP_TEXT","title","Text: "),self.setFieldPropertyValue("MAP_PASSWORD","title","Password: "),self.setFieldPropertyValue("MAP_TEXTAREA","title","Multiline: "),self.setFieldPropertyValue("MAP_NUMBER","title","Number: "),self.setFieldPropertyValue("MAP_DECIMAL","title","N. Decimal: "),self.setFieldPropertyValue("MAP_NUMTEXT","title","Number-Text: "),self.setFieldPropertyValue("MAP_DECTEXT","title","Decimal-Text: "),self.setFieldPropertyValue("MAP_DATE","title","Date: "),self.setFieldPropertyValue("MAP_HOUR","title","Time: "),self.setFieldPropertyValue("MAP_TELEFONO","title","Phone: "),self.setFieldPropertyValue("MAP_CHECKBOX","title","Checkbox (0/1): "),self.setFieldPropertyValue("TIPOIDENTIFICADOR","title","Combo: "),self.setFieldPropertyValue("TIPOIDENTIFICADOR2","title","Magnifier: "),self.setFieldPropertyValue("MAP_TEXTAT","title","Attachment: "),self.setFieldPropertyValue("MAP_BT_EJEMPLO","title","Attachment: ");break;case"pt-PT":self.setFieldPropertyValue("MAP_IDIOMA","title","Selecionar um idioma: "),self.setFieldPropertyValue("MAP_LABEL","title","Etiqueta: "),self.setFieldPropertyValue("MAP_TEXT","title","Texto: "),self.setFieldPropertyValue("MAP_PASSWORD","title","Senha: "),self.setFieldPropertyValue("MAP_TEXTAREA","title","Multilina: "),self.setFieldPropertyValue("MAP_NUMBER","title","Nmero: "),self.setFieldPropertyValue("MAP_DECIMAL","title","N. Decimal: "),self.setFieldPropertyValue("MAP_NUMTEXT","title","Nmero-Texto: "),self.setFieldPropertyValue("MAP_DECTEXT","title","Decimal-Texto: "),self.setFieldPropertyValue("MAP_DATE","title","Data: "),self.setFieldPropertyValue("MAP_HOUR","title","Hora: "),self.setFieldPropertyValue("MAP_TELEFONO","title","Telfono: "),self.setFieldPropertyValue("MAP_CHECKBOX","title","Caixa de verificao (0/1): "),self.setFieldPropertyValue("TIPOIDENTIFICADOR","title","Combo: "),self.setFieldPropertyValue("TIPOIDENTIFICADOR2","title","Lupa: "),self.setFieldPropertyValue("MAP_TEXTAT","title","Anexo: "),self.setFieldPropertyValue("MAP_BT_EJEMPLO","title","Attachment: ");break;case"ru":self.setFieldPropertyValue("MAP_IDIOMA","title","  : "),self.setFieldPropertyValue("MAP_LABEL","title",": "),self.setFieldPropertyValue("MAP_TEXT","title",": "),self.setFieldPropertyValue("MAP_PASSWORD","title",": "),self.setFieldPropertyValue("MAP_TEXTAREA","title",": "),self.setFieldPropertyValue("MAP_NUMBER","title",": "),self.setFieldPropertyValue("MAP_DECIMAL","title","N. : "),self.setFieldPropertyValue("MAP_NUMTEXT","title","-: "),self.setFieldPropertyValue("MAP_DECTEXT","title","-: "),self.setFieldPropertyValue("MAP_DATE","title",": "),self.setFieldPropertyValue("MAP_HOUR","title",": "),self.setFieldPropertyValue("MAP_TELEFONO","title",": "),self.setFieldPropertyValue("MAP_CHECKBOX","title"," (0/1): "),self.setFieldPropertyValue("TIPOIDENTIFICADOR","title","Combo: "),self.setFieldPropertyValue("TIPOIDENTIFICADOR2","title"," : "),self.setFieldPropertyValue("MAP_TEXTAT","title",": "),self.setFieldPropertyValue("MAP_BT_EJEMPLO","title"," ");break}}function DevolverIframeVideoYoutube(e,t){if(""==e)return ui.showToast("Error, URL de youtube invlida"),"";var n=e.length,r=e.indexOf("watch?v=",1);if(-1!=r){if(r>=n)return"";e=e.substring(r+8,n);var a=e.indexOf("&",1);return a>-1&&(e=e.substring(1,a-1)),"<iframe id='video' type='text/html' width='100%' height='100%' src='https://www.youtube.com/embed/"+e+"?rel=0&autoplay=0' frameborder='0'/>"}return"<iframe id='video' type='text/html' width='100%' height='100%' src='"+e+"?rel=0&autoplay=0' frameborder='0'/>"}function doRegisterNewFingerprint(){var e={onSuccess:function(e){var t=e.getPublicKey();user.PUBLICKEY!=t?(user.PUBLICKEY=t,user.save(),ui.showToast("Autenticacin por huella dactilar habilitada para usuario "+user.LOGIN),appData.failWithMessage(-11888,"##EXIT##")):(ui.showToast("Ya est registrado!"),appData.failWithMessage(-11888,"##EXIT##"))},onFailure:function(e,t){void 0==e?6==ui.msgBox("Huella no registrada. Aada una nueva en los ajustes de seguridad del dispositivo , Quiere hacerlo ahora?","Informacin!",4)&&fingerprintManager.launchFingerprintSettings():ui.showToast("Error huella dactilar.\nCdigo: "+e+"\nMensaje: "+t)}};fingerprintManager.setCallback(e),fingerprintManager.listen(),ui.showToast("Pase su dedo por el lector de huellas dactilares")}function doRegisterNewFingerprintIOS(){var e={onSuccess:function(e){var t=e.getPublicKey();user.PUBLICKEY!=t?(user.PUBLICKEY=t,user.save(),ui.showToast("Autenticacin por huella dactilar habilitada para usuario "+user.LOGIN)):ui.showToast("Ya est registrado!")},onFailure:function(e,t){ui.showToast("Error huella dactilar.\nCdigo: "+e+"\nMensaje: "+t)}};fingerprintManager.setCallback(e),fingerprintManager.launch()}function doFingerprintAuth(){var e={onSuccess:function(e){var t=e.getPublicKey(),n=getUserByPublicKey(t);null==n?(ui.showToast("Huella no asignada a ningun usuario."),fingerprintManager.listen()):(fingerprintManager.stopListening(),hacerLogin(n.LOGIN,n.PWD))},onFailure:function(e,t){void 0==e?ui.showToast("Huella no registrada. Entre en la aplicacion y asigne la huella al usuario."):ui.showToast("Error huella dactilar.\nCdigo: "+e+"\nMensaje: "+t),10===e?fingerprintManager.stopListening():fingerprintManager.listen()}};fingerprintManager.setCallback(e),fingerprintManager.listen()}function doFingerprintAuthIOS(){var e={onSuccess:function(e){var t=e.getPublicKey(),n=getUserByPublicKey(t);null==n?ui.showToast("Huella no asignada a ningun usuario."):hacerLogin(n.LOGIN,n.PWD)},onFailure:function(e,t){void 0==e?ui.showToast("Huella no registrada. Entre en la aplicacion y asigne la huella al usuario."):ui.showToast("Error huella dactilar.\nCdigo: "+e+"\nMensaje: "+t)}};fingerprintManager.setCallback(e),fingerprintManager.launch()}function hacerLogin(e,t){return _hacerLogin.apply(this,arguments)}function _hacerLogin(){return _hacerLogin=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("Usuarios");case 2:return r=e.sent,e.next=5,r.findObject("LOGIN='"+t.toString()+"'");case 5:if(a=e.sent,void 0===a||null==a){e.next=18;break}if(a.PWD!=n){e.next=14;break}return self["MAP_T_ERROR"]="",ui.refresh("MAP_T_ERROR"),e.next=12,doLogin(t,n);case 12:e.next=16;break;case 14:self["MAP_T_ERROR"]="Usuario o contrasea incorrectos.",ui.refresh("MAP_T_ERROR,frmError");case 16:e.next=20;break;case 18:self["MAP_T_ERROR"]="Usuario o contrasea incorrectos.",ui.refresh("MAP_T_ERROR,frmError");case 20:case"end":return e.stop()}}),e)}))),_hacerLogin.apply(this,arguments)}function getOS(){return appData.getGlobalMacro("##DEVICE_OS##")}function doLogin(e,t){return _doLogin.apply(this,arguments)}function _doLogin(){return _doLogin=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r={userName:t,password:n,entryPoint:"Menu"},e.next=3,appData.login(r);case 3:case"end":return e.stop()}}),e)}))),_doLogin.apply(this,arguments)}function getUserByPublicKey(e){return _getUserByPublicKey.apply(this,arguments)}function _getUserByPublicKey(){return _getUserByPublicKey=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,appData.getCollection("Usuarios");case 2:return n=e.sent,e.next=5,n.findObject("PUBLICKEY = '"+t+"'");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),_getUserByPublicKey.apply(this,arguments)}function testReplica(){var e=replica.testConnection();ui.showToast("Connection: "+e),e=replica.testAuthentication(),ui.showToast("Authentication: "+e)}function doDRCamera(){var e=self;ui.startCamera({width:640,onSuccess:function(t){e.setFieldPropertyValue("DIBUJO","img",t),ui.refresh()},onCancelled:function(){}})}function jstestClick(e){return _jstestClick.apply(this,arguments)}function _jstestClick(){return _jstestClick=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.data.msg){e.next=10;break}return e.next=3,ui.msgBox(t.target+": "+t.data.msg,t.data.title+" "+t.data.collName,0);case 3:if(null==t.data.collName){e.next=8;break}if(!(t.data.collName.length>0)){e.next=8;break}return e.next=7,appData.getCollection(t.data.collName);case 7:n=e.sent;case 8:e.next=17;break;case 10:return e.next=12,ui.msgBox("Abre el objeto "+t.data,"Titulo",0);case 12:if(null==t.data){e.next=17;break}if(!(t.data.length>0)){e.next=17;break}return e.next=16,appData.getCollection(t.data);case 16:n=e.sent;case 17:return e.next=19,n.createObject();case 19:r=e.sent,n.addItem(r),appData.pushValue(r);case 22:case"end":return e.stop()}}),e)}))),_jstestClick.apply(this,arguments)}function handleError(e){}function eventoOnTextChanged(e){self["MAP_DESCRIPCIONEVENTO"]="onTextChanged! target: "+e.target+"\nObjItem: "+e.objItem+"\nTecla pulsada: "+e.keyPressed+"\noldText: "+e.oldText+"\nnewText: "+e.newText,ui.getView(self).refresh("MAP_DESCRIPCIONEVENTO")}function FiltraMarcados(e){return _FiltraMarcados.apply(this,arguments)}function _FiltraMarcados(){return _FiltraMarcados=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return self.MAP_BUSCAR_TEXT=t.newText,e.next=3,self.executeNode("applyfilter");case 3:case"end":return e.stop()}}),e)}))),_FiltraMarcados.apply(this,arguments)}function eventoOnFocusChanged(e){self.MAP_DESCRIPCIONEVENTO="onFocusChanged! target: "+e.target+"\nObjItem: "+e.objItem+"\nTiene foco: "+e.isFocused,ui.getView(self).refresh("MAP_DESCRIPCIONEVENTO")}function eventoOnFocusChanged3(e){self.MAP_DESCRIPCIONEVENTO3="onFocusChanged! target: "+e.target+"\nObjItem: "+e.objItem+"\nTiene foco: "+e.isFocused,ui.getView(self).refresh("MAP_DESCRIPCIONEVENTO3")}function jstestClickNode(e,t){return _jstestClickNode.apply(this,arguments)}function _jstestClickNode(){return _jstestClickNode=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.msg){e.next=8;break}return e.next=3,ui.msgBox(t.target+": "+n.msg,n.title+" "+n.collName,0);case 3:return e.next=5,appData.getCollection(n.collName);case 5:r=e.sent,e.next=13;break;case 8:return e.next=10,ui.msgBox("Abre el objeto "+n,"Titulo",0);case 10:return e.next=12,appData.getCollection(n);case 12:r=e.sent;case 13:return e.next=15,r.createObject();case 15:a=e.sent,r.addItem(a),appData.pushValue(a);case 18:case"end":return e.stop()}}),e)}))),_jstestClickNode.apply(this,arguments)}function scrollArrow(e,t){1==t?e.dy<=10&&1==self.MAP_VALORVER?(self.MAP_VALORVER=0,ui.getView(self).refresh("frmblotante")):e.dy>10&&0==self.MAP_VALORVER&&(self.MAP_VALORVER=1,ui.getView(self).refresh("frmblotante")):e.dy<=10&&1==self.MAP_ATTSHOWOVERSCROLL?(self.MAP_ATTSHOWOVERSCROLL=0,ui.getView(self).refresh("attfroverscroll")):e.dy>10&&0==self.MAP_ATTSHOWOVERSCROLL&&(self.MAP_ATTSHOWOVERSCROLL=1,ui.getView(self).refresh("attfroverscroll"))}function sysMessage(e,t){return _sysMessage.apply(this,arguments)}function _sysMessage(){return _sysMessage=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"",e.t0=t,e.next=1e3===e.t0?4:1001===e.t0?6:1002===e.t0?8:1003===e.t0?10:15;break;case 4:return" Actualizacin descargndose (un mensaje por cada actualizacin).",e.abrupt("break",15);case 6:return" Actualizacin aplicada (un mensaje por cada actualizacin).",e.abrupt("break",15);case 8:return" Se han aplicado todas las actualizaciones (al comprobar las actualizaciones puede haber ms de una, ste se invoca al aplicar todas).",e.abrupt("break",15);case 10:return e.next=12,ui.msgBox("Advertencia, se ha programado una actualizacin de base de datos. Se van a replicar todos los datos y se cerrar la aplicacin.","Mensaje",0);case 12:return r=replica.processReplicatorQueue(liveResponse),r?appData.failWithMessage(-11888,"##EXITAPP##"):ui.showToast("Error al procesar la cola de salida"),e.abrupt("break",15);case 15:case"end":return e.stop()}}),e)}))),_sysMessage.apply(this,arguments)}function EnviarMail(e){return _EnviarMail.apply(this,arguments)}function _EnviarMail(){return _EnviarMail=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="",0===self.MAP_CORREO.length&&(n="Es obligatorio indicar el correo de destino"),0===self.MAP_ASUNTO.length&&0===n.length&&(n="Es obligatorio indicar el asunto del correo"),0===self.MAP_CUERPO.length&&0===n.length&&(n="Es obligatorio indicar el cuerpo del correo"),0!==n.length){e.next=20;break}if("NO"!==t){e.next=12;break}return e.next=8,ui.msgBox("Desea adjuntar un fichero?","Aviso",4);case 8:r=e.sent,6===r?(self.MAP_VISIBLE=1,ui.refresh("MAP_TEXTAT,boton0,boton1")):ui.sendMail(self.MAP_CORREO,"direccion_con_copia@xone.es",self.MAP_ASUNTO,self.MAP_CUERPO,""),e.next=18;break;case 12:if(0!==self.MAP_TEXTAT.length){e.next=17;break}return e.next=15,ui.msgBox("Error: Es Obligatorio indicar el fichero adjunto","AVISO",0);case 15:e.next=18;break;case 17:ui.sendMail(self.MAP_CORREO,"direccion_con_copia@xone.es",self.MAP_ASUNTO,self.MAP_CUERPO,self.MAP_TEXTAT);case 18:e.next=22;break;case 20:return e.next=22,ui.msgBox("Error: "+n,"AVISO",0);case 22:case"end":return e.stop()}}),e)}))),_EnviarMail.apply(this,arguments)}function CodigoBarras(){return _CodigoBarras.apply(this,arguments)}function _CodigoBarras(){return _CodigoBarras=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="",0===self.MAP_TIPOCB.length&&(t="Es obligatorio indicar el tipo de codigo de barras a leer"),0===self.MAP_CHECKBOX1&&0===self.MAP_CHECKBOX2&&(t="Es obligatorio indicar la aplicacion a utilizar"),0!==t.length){e.next=7;break}1===self.MAP_CHECKBOX1?ui.startScanner("",self.MAP_TIPOCB,""):ui.startScanner("quickmark",self.MAP_TIPOCB,""),e.next=9;break;case 7:return e.next=9,ui.msgBox("Error: "+t,"AVISO",0);case 9:case"end":return e.stop()}}),e)}))),_CodigoBarras.apply(this,arguments)}function takePicture(){var e=getControl("MAP_CAMERA");if(e){var t={filename:"test.jpg",saveToGallery:!0,width:360,height:360,onFinished:function(e){e?(ui.showToast("Abriendo nueva foto..."),ui.openFile(e)):ui.showToast("Error de cmara")}};e.takePicture(t)}}function record(){var e=getControl("MAP_CAMERA");if(e){var t={quality:self.MAP_CAMERA_QUALITY,maxDuration:1e4,withMicAudio:!0,onFinished:function(e){self.MAP_RECORDING=0,ui.refresh("MAP_START_RECORDING,MAP_STOP_RECORDING,MAP_START_PREVIEW,MAP_STOP_PREVIEW"),e?(ui.showToast("Nuevo vdeo..."),ui.openFile(e)):ui.showToast("Error de cmara")}};e.record(t),self.MAP_RECORDING=1,ui.refresh("MAP_START_RECORDING,MAP_STOP_RECORDING,MAP_START_PREVIEW,MAP_STOP_PREVIEW")}}function stopRecording(){var e=getControl("MAP_CAMERA");e&&e.stopRecording()}function startPreview(){var e=getControl("MAP_CAMERA");e&&e.startPreview()}function stopPreview(){var e=getControl("MAP_CAMERA");e&&e.stopPreview()}function isOpened(){var e=getControl("MAP_CAMERA");if(e){var t=e.isCameraOpened();ui.showToast("Abierta: "+t)}}function isAutoFocus(){var e=getControl("MAP_CAMERA");if(e){var t=e.isAutoFocus();ui.showToast("Autofoco: "+t)}}function getSupportedAspectRatios(){return _getSupportedAspectRatios.apply(this,arguments)}function _getSupportedAspectRatios(){return _getSupportedAspectRatios=Object(_home_amiyares_Projects_XOne_XOneWebVue_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=getControl("MAP_CAMERA"),t){e.next=3;break}return e.abrupt("return");case 3:for(n=t.getSupportedAspectRatios(),r="Relaciones de aspecto soportadas: ",a=0;a<n.length;a++)r=r+"\n"+n[a];return e.next=8,ui.msgBox(r,"Mensaje",0);case 8:case"end":return e.stop()}}),e)}))),_getSupportedAspectRatios.apply(this,arguments)}function doSetOnCodeScanned(){var e=getControl("MAP_CAMERA");e&&e.setOnCodeScanned((function(e){var t=ui.msgBox("Valor: "+e.data+"\nTipo: "+e.type,"Cdigo OK?",4);return 6==t}))}function doSetFlashMode(e){var t=getControl("MAP_CAMERA");t&&t.setFlashMode(e)}function doToggleFlashMode(){var e=getControl("MAP_CAMERA");if(e){var t=e.getFlashMode();"on"==t?(e.setFlashMode("off"),self.setFieldPropertyValue("MAP_TOGGLE_FLASH_MODE","img","flash-off.png")):"off"==t?(e.setFlashMode("auto"),self.setFieldPropertyValue("MAP_TOGGLE_FLASH_MODE","img","flash-auto.png")):"auto"==t?(e.setFlashMode("torch"),self.setFieldPropertyValue("MAP_TOGGLE_FLASH_MODE","img","flash-torch.png")):"torch"==t&&(e.setFlashMode("on"),self.setFieldPropertyValue("MAP_TOGGLE_FLASH_MODE","img","flash-on.png")),ui.refresh("MAP_TOGGLE_FLASH_MODE")}}function doToggleCamera(){var e=getControl("MAP_CAMERA");if(e){var t=e.getCamera();"front"==t?e.setCamera("back"):"back"==t&&e.setCamera("front")}}function doToggleAutoFocus(){var e=getControl("MAP_CAMERA");e&&e.setAutoFocus(!e.isAutoFocus())}},ddd6:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return p}));var r=n("d4ec"),a=n("bee2"),i=n("ade3"),o=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("159b"),n("a630"),n("caad"),n("2532"),n("b0c0"),n("7db0"),n("25f0"),n("ac1f"),n("1276"),n("07ac"),n("a1e9")),s=n("5c40"),l=(n("ae56"),n("88a8")),u=function(){function e(){if(Object(r["a"])(this,e),Object(i["a"])(this,"viewsMap",new Map),e._instance)return e._instance;e._instance=this}return Object(a["a"])(e,[{key:"addView",value:function(e){this.viewsMap.set(e.getXoneDataObject().getHashId(),e)}},{key:"getView",value:function(e){return this.viewsMap.has(e.getHashId())?this.viewsMap.get(e.getHashId()):null}},{key:"cleanRemovedViews",value:function(){var e=this,t=Object(o["c"])((function(){return l["a"].getBreadcrumbs().map((function(e){return e.xoneHashId}))}));Object(s["U"])((function(){return t.value.length}),(function(){return Array.from(e.viewsMap.keys()).forEach((function(n){t.value.includes(n)||e.viewsMap.delete(n)}))}))}}]),e}();Object(i["a"])(u,"_instance",void 0);var c=new u;Promise.resolve().then((function(){return c.cleanRemovedViews()}));var d=function(e){return c.getView(e)},h=function(){function e(t){var n=this;Object(r["a"])(this,e),Object(i["a"])(this,"_bindedEvents",[]),Object(i["a"])(this,"_xoneDataObject",void 0),Object(i["a"])(this,"refreshValue",(function(e){n.refresh(e)})),this._xoneDataObject=t,c.addView(this)}return Object(a["a"])(e,[{key:"bindedEvents",get:function(){return this._bindedEvents}},{key:"addControl",value:function(e){this[e.name]=e}},{key:"getXoneDataObject",value:function(){return this._xoneDataObject}},{key:"bind",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t||t.length<3)return console.error("Error calling bind method. You need 3 arguments at least.");var r=this._bindedEvents.find((function(e){return e.field===t[0]&&e.eventName===t[1].toString().toLowerCase()}));r||(r={fieldName:t[0],eventName:t[1].toString().toLowerCase()}),3===t.length?r.action=t[2]:(r.params=t[2],r.action=t[3]),this._bindedEvents.push(r)}},{key:"exit",value:function(){l["a"].clearBreadcrumbsFromXoneHashId(this._xoneDataObject["_XoneHashId"])}},{key:"refresh",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=1===n.length?n[0].toString().split(","):n;a.forEach((function(t){var n;null!==(n=e[t])&&void 0!==n&&n.refresh&&e[t].refresh()})),0===n.length&&Object.values(this).forEach((function(e){e&&e.refresh&&e.refresh()}))}},{key:"refreshAll",value:function(){this.refresh()}}]),e}(),p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(r["a"])(this,e),Object(i["a"])(this,"name",void 0),Object(i["a"])(this,"element",void 0),Object(i["a"])(this,"refresh",(function(){})),Object(i["a"])(this,"refreshValue",(function(){})),this.name=t;while(n&&!n.classList.contains("xone-prop")&&!n.classList.contains("xone-frame"))n=n.parentElement;this.element=n}},de66:function(e,t,n){"use strict";n("b8b9")},e2c0:function(e,t,n){},e9ed:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=n("262e"),s=n("2caf"),l=(n("96cf"),n("99af"),n("2ca0"),n("7ef1")),u=(n("d3b7"),n("54ab")),c=(n("b64b"),n("0912")),d=n("3548"),h=n("57ee"),p=function(){function e(t,n,r){Object(a["a"])(this,e),this.m_stringData=["Valor prueba texto","Texto corto","0002346","Otro texto","Un texto mas largo de prueba","Mas texto"],this.m_maxRows=100,this.m_keys=[],this.isResultset=!0,this.m_connection=t,this.m_nIterate=-1,this.m_sentence=n,this.m_options=r,this.m_data=[],this.m_maxRows=this.m_data.length,this.m_keys=[]}return Object(i["a"])(e,[{key:"populate",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_connection.fetchDataAsync(this.m_sentence,t||this.m_options);case 2:if(n=e.sent,1!=n.hasError){e.next=5;break}throw new c["a"](n.err);case 5:return this.m_data=Array.isArray(n.data)?n.data:[],this.m_maxRows=this.m_data.length,this.m_keys=0==this.m_maxRows?[]:Object.keys(this.m_data[0]),e.abrupt("return",this);case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBytes",value:function(e){return null}},{key:"getColumnCount",value:function(){return 0==this.m_maxRows?0:this.m_keys.length}},{key:"getColumnTypes",value:function(){return[1,2,3,4,5,6,7,8]}},{key:"getColumnName",value:function(e){return 0==this.m_maxRows?0:this.m_keys[e]}},{key:"getData",value:function(){return this.m_data}},{key:"close",value:function(){this.m_nIterate=-1,this.m_data=null,this.m_maxRows=0}},{key:"resolverField",value:function(e){return"number"==typeof e?this.m_keys[e]:e}},{key:"getValue",value:function(e,t){switch(t){case 0:return d["a"].SafeToInt(this.m_data[this.m_nIterate][this.resolverField(e)]);case 2:return d["a"].SafeToDouble(this.m_data[this.m_nIterate][this.resolverField(e)]);case 3:return u["a"].SafeToDate(this.m_data[this.m_nIterate][this.resolverField(e)]);default:return h["a"].SafeToString(this.m_data[this.m_nIterate][this.resolverField(e)])}}},{key:"getString",value:function(e){return this.getValue(e,1)}},{key:"getInt",value:function(e){return this.getValue(e,0)}},{key:"getDate",value:function(e){return this.getValue(e,3)}},{key:"PageLen",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.length)||-1}},{key:"PageCache",get:function(){var e,t;return(null===(t=null===(e=this.m_options)||void 0===e?void 0:e.page)||void 0===t?void 0:t.cache)||-1}},{key:"next",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",++this.m_nIterate<this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"EOF",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.m_nIterate>=this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"moveTo",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t==this.m_maxRows||(this.m_nIterate=t)==this.m_maxRows);case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),f=function(){function e(){Object(a["a"])(this,e),this.m_sentence="Select STATUS,LATITUD,LONGITUD,ALTITUD,RUMBO,FGPS,HGPS,VELOCIDAD,SATELITES from GPS"}return Object(i["a"])(e,[{key:"getTestResult",value:function(){return{hasError:!1,data:[{ID:1,STATUS:1,LATITUD:38.886524,LONGITUD:-7.0038,ALTITUD:Math.floor(999*Math.random())+1,RUMBO:Math.floor(359*Math.random())+1,FGPS:new Date,HGPS:u["a"].SafeToHours(),VELOCIDAD:Math.floor(199*Math.random())+1,SATELITES:Math.floor(7*Math.random())+1}]}}},{key:"countAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return 10}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchDataAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getTestResult());case 1:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeQueryAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=new p(this,t),e.next=3,n.populate();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"executeUpdateAsync",value:function(e){throw new Error("Method not implemented.")}},{key:"executeNonQuery",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",{hasError:!1,data:[{result:1}]});case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"executeAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.executeNonQuery();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"executeQuery",value:function(e){return new p(this,this.m_sentence)}},{key:"createStatement",value:function(){throw new Error("Method not implemented.")}},{key:"isClosed",value:function(){throw new Error("Method not implemented.")}},{key:"commit",value:function(){throw new Error("Method not implemented.")}},{key:"beginTrans",value:function(){throw new Error("Method not implemented.")}},{key:"rollback",value:function(){throw new Error("Method not implemented.")}},{key:"execute",value:function(e,t){throw new Error("Method not implemented.")}},{key:"executeUpdate",value:function(e){throw new Error("Method not implemented.")}},{key:"executeOperation",value:function(e,t,n,r){throw new Error("Method not implemented.")}},{key:"getDBMS",value:function(){throw new Error("Method not implemented.")}},{key:"outerJoinsSupported",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsParsedSentences",value:function(){throw new Error("Method not implemented.")}},{key:"acceptsEmptyQueries",value:function(){throw new Error("Method not implemented.")}},{key:"LastRowsAffected",value:function(){throw new Error("Method not implemented.")}},{key:"LastInsertedRowId",value:function(){throw new Error("Method not implemented.")}},{key:"cancelProcesses",value:function(e){throw new Error("Method not implemented.")}},{key:"setCryptoData",value:function(e){throw new Error("Method not implemented.")}},{key:"getCryptoData",value:function(){throw new Error("Method not implemented.")}},{key:"cryptoSupported",value:function(){throw new Error("Method not implemented.")}},{key:"getTokenFromAuth",value:function(e,t){throw new Error("Method not implemented.")}}]),e}(),m=function(e){Object(o["a"])(n,e);var t=Object(s["a"])(n);function n(e,r,i){var o;return Object(a["a"])(this,n),o=t.call(this,r,i),o.m_context=e,o.m_connection=null,o}return Object(i["a"])(n,[{key:"TopAllowed",value:function(){return!1}},{key:"LimitAllowed",value:function(){return!1}},{key:"HasEscapeChars",value:function(){return!1}},{key:"acceptsParsedSentences",value:function(){return!1}},{key:"acceptsEmptyQueries",value:function(){return!1}},{key:"retrievesAutonumericKeys",value:function(){return!1}},{key:"GetNewConnection",value:function(e){return this.m_connection=new f}},{key:"GetCurrentConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return null!==this.m_connection?this.m_connection:this.GetNewConnection(e)}},{key:"CreateRecordset",value:function(e){return"string"==typeof e?this.GetCurrentConnection().executeQuery(e):null}},{key:"CreateRecordsetAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"string"!=typeof t){e.next=7;break}for(n=this.GetCurrentConnection(),r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=6,n.executeQueryAsync.apply(n,[t].concat(a));case 6:return e.abrupt("return",e.sent);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error(e.t0);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteSqlString",value:function(e,t,n){return{}}},{key:"CountAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,o=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=5;break}for(r=o.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=o[i];return e.next=4,(n=this.GetCurrentConnection()).countAsync.apply(n,[t].concat(a));case 4:return e.abrupt("return",e.sent);case 5:return e.abrupt("return",null);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"ExecuteSqlStringAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i=l.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=l[s];return e.next=3,(a=this.GetCurrentConnection()).executeAsync.apply(a,[n,100].concat(o));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ExecuteParsedSql",value:function(e,t,n){return{}}},{key:"ExecuteParsedSqlAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return e.stop()}}),e)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"ReplaceCustomOper",value:function(e,t,n){return t}},{key:"InsertTop",value:function(e,t){return e}},{key:"QuoteFieldName",value:function(e){return e}},{key:"EscapeString",value:function(e){return e.startsWith("'")?e:"'".concat(e,"'")}},{key:"Terminate",value:function(){}},{key:"IsOuterJoinSupported",value:function(){return!1}},{key:"RetrieveNumericKey",value:function(e,t,n,r){return 0}},{key:"isUniqueRowID",value:function(e,t){return!0}},{key:"getDbmsTag",value:function(){return"test"}}]),n}(l["a"])},edca:function(e,t,n){},ef74:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n("b85c"),a=n("1da1"),i=n("d4ec"),o=n("bee2"),s=(n("96cf"),n("159b"),n("d3b7"),n("2ca0"),n("4d90"),n("b0c0"),n("3548")),l=n("54ab"),u=n("3be9"),c=n("f0ed"),d=n("53ca"),h=n("3835"),p=(n("4fad"),{coll:{cellEvenColor:"cell-even-color",cellOddColor:"cell-odd-color",cellSelectedBgColor:"cell-selected-bgcolor",groupSwipe:"group-swipe",loadAll:"loadall",name:"name",noTab:"notab",tabBgColor:"tab-bgcolor",tabBPadding:"tab-bpadding",tabFontSize:"tab-fontsize",tabForecolor:"tab-forecolor",tabLPadding:"tab-lpadding",tabRPadding:"tab-rpadding",tabSelectedForecolor:"tab-selected-forecolor",tabTPadding:"tab-tpadding"},group:{align:"align",bgColor:"bgcolor",bMargin:"bmargin",borderCornerRadius:"border-corner-radius",bPadding:"bpadding",drawerOrientation:"drawer-orientation",elevation:"elevation",fixed:"fixed",foreColor:"forecolor",height:"height",id:"id",image:{value:["imgbk","img","image","path"]},keepAspectRatio:"keep-aspect-ratio",lMargin:"lmargin",lPadding:"lpadding",name:"name",onFocus:"onfocus",orientation:"orientation",rMargin:"rmargin",rPadding:"rpadding",tMargin:"tmargin",tPadding:"tpadding",width:"width"},frame:{align:"align",animationIn:"animation-in",animationOut:"animation-out",bgColor:"bgcolor",bMargin:"bmargin",borderColor:"border-color",borderCornerRadius:"border-corner-radius",borderWidth:"border-width",bPadding:"bpadding",disableVisible:"disablevisible",elevation:"elevation",floating:"floating",foreColor:"forecolor",framebox:"framebox",height:"height",href:"href",image:{value:["imgbk","img","image","path"]},keepAspectRatio:"keep-aspect-ratio",left:"left",lMargin:"lmargin",lPadding:"lpadding",mapCol:"mapcol",mapFld:"mapfld",minHeight:"min-height",minWidth:"min-width",name:"name",newLine:"newline",onClick:"onclick",onScroll:"onscroll",rMargin:"rmargin",rPadding:"rpadding",scroll:"scroll",scrollOrientation:"scroll-orientation",tMargin:"tmargin",top:"top",tPadding:"tpadding",viewMode:"viewmode",width:"width",wrap:"wrap"},prop:{align:"align",allowedExtensions:"allowed-extensions",autosave:"autosave",autoslideDelay:"autoslide-delay",bgColor:"bgcolor",bMargin:"bmargin",borderColor:"border-color",borderCornerRadius:"border-corner-radius",borderWidth:"border-width",bPadding:"bpadding",breadcrumbFontSize:{value:["breadcrumb-fontsize","breadcrumbs-fontsize","breadcumb-fontsize"]},breadcrumbForeColor:{value:["breadcrumb-forecolor","breadcrumbs-forecolor","breadcumb-forecolor"]},breadcrumbSelectedFontSize:{value:["breadcrumb-selected-fontsize","breadcrumbs-selected-fontsize","breadcumb-selected-fontsize"]},breadcrumbSelectedForeColor:{value:["breadcrumb-selected-forecolor","breadcrumbs-selected-forecolor","breadcumb-selected-forecolor"]},buttonOption:"button-option",calendarViewMode:"calendar-viewmode",cellBgColor:"cell-bgcolor",cellBorderColor:"cell-border-color",cellEvenColor:"cell-even-color",cellForeColor:"cell-forecolor",cellOddColor:"cell-odd-color",cellOtherMonthBgColor:"cell-other-month-bgcolor",cellSelectedBgColor:"cell-selected-bgcolor",cellSelectedBorderColor:"cell-selected-border-color",cellSelectedForeColor:"cell-selected-forecolor",checkType:"check-type",contents:"contents",disableEdit:"disableedit",disableVisible:"disablevisible",editInRow:"edit-inrow",elevation:"elevation",fieldSize:"fieldsize",fixedText:"fixed-text",floating:"floating",floatingTooltip:"floating-tooltip",fluidLoad:"fluid-load",fontBold:"fontbold",fontSize:"fontsize",foreColor:"forecolor",galleryColumns:"gallery-columns",height:"height",href:"href",image:{value:["img","image","path","imgbk"]},imgChecked:"img-checked",imgCheckedDisabled:"img-checked-disabled",imgHeight:"img-height",imgUnchecked:"img-unchecked",imgUncheckedDisabled:"img-unchecked-disabled",imgWidth:"img-width",keepAspectRatio:"keep-aspect-ratio",labelBox:"labelbox",labelwidth:"labelwidth",left:"left",lines:"lines",linkedField:"linkedfield",linkedTo:"linkedto",lMargin:"lmargin",locked:"locked",lPadding:"lpadding",mask:"mask",method:"method",minHeight:"min-height",minWidth:"min-width",name:"name",newLine:"newline",onClick:"onclick",onEditorAction:"oneditoraction",onFocusChanged:"onfocuschanged",onScroll:"onscroll",onTextChanged:"ontextchanged",paginationSize:"pagination-size",postOnchange:"postonchange",radioGroup:"radio-group",readOnly:"readonly",rMargin:"rmargin",rowsPerPage:"rows-per-page",rPadding:"rpadding",showInline:"showinline",showInlineKeyboard:"showinline-keyboard",size:"size",textAlign:"text-align",textBgColor:"text-bgcolor",textBgColorDisabled:"text-bgcolor-disabled",textBorder:"text-border",textBorderBottom:"text-border-bottom",textBorderLeft:"text-border-left",textBorderRight:"text-border-right",textBorderTop:"text-border-top",textOverflow:"text-overflow",textFontSize:"text-fontsize",textForeColor:{value:["text-forecolor","textfore-color"]},textForeColorDisabled:"text-forecolor-disabled",title:{value:["title","caption"]},tMargin:"tmargin",tooltip:"tooltip",tooltipColor:{value:["expanded-hint-color","floating-tooltip-color"]},tooltipForecolor:"tooltip-forecolor",top:"top",tPadding:"tpadding",type:"type",viewMode:"viewmode",visible:"visible",weekdaysLongname:"weekdays-longname",width:"width",wrap:"wrap"}}),f=["borderColor","bgColor","cellBgColor","cellBorderColor","cellForeColor","cellOtherMonthBgColor","cellSelectedBgColor","cellSelectedBorderColor","cellSelectedForeColor","foreColor","textBgColor","textBgColorDisabled","textForeColor","textForeColorDisabled","breadcrumbForeColor","breadcrumbSelectedForeColor"],m=function(){var e={},t=function(t){var n=Object(h["a"])(t,2),r=n[0],a=n[1];if("object"===Object(d["a"])(r)&&r.value&&(r=r.value[0]),"object"===Object(d["a"])(a)&&a.value)return a.value.forEach((function(t){return e[t]=r}));e[a]=r};return Object.entries(p.coll).forEach(t),Object.entries(p.frame).forEach(t),Object.entries(p.prop).forEach(t),e}(),g=function(){function e(){Object(i["a"])(this,e)}return Object(o["a"])(e,null,[{key:"getLayout",value:function(e,t,n){var r=this,a={attributes:this.getPropAttributes(e,t)};if(t.hasChildNodes()){var i=Object.prototype.hasOwnProperty.call(p,t.getName())?"controls":"others";a[i]=[],t.getChildren().forEach((function(t){return(!t.getName().equalsIgnoreCase(c["a"].PROP_NAME)||(s["a"].SafeToInt(e.NodePropertyValue(c["a"].PROP_NAME,t.getAttrValue(c["a"].PROP_ATTR_NAME),c["a"].PROP_ATTR_VISIBLE),1)&n)>0)&&a[i].push(r.getLayout(e,t,n))}))}return a}},{key:"getLayoutAsync",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,o,l,u,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i={attributes:this.getPropAttributes(t,n)},!n.hasChildNodes()){e.next=22;break}o=Object.prototype.hasOwnProperty.call(p,n.getName())?"controls":"others",i[o]=[],l=Object(r["a"])(n.getChildren()),e.prev=5,l.s();case 7:if((u=l.n()).done){e.next=14;break}return d=u.value,(!d.getName().equalsIgnoreCase(c["a"].PROP_NAME)||(s["a"].SafeToInt(t.NodePropertyValue(c["a"].PROP_NAME,d.getAttrValue(c["a"].PROP_ATTR_NAME),c["a"].PROP_ATTR_VISIBLE),1)&a)>0)&&i[o].push(this.getLayout(t,d,a)),e.next=12,new Promise((function(e){return setTimeout((function(){return e()}),1)}));case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](5),l.e(e.t0);case 19:return e.prev=19,l.f(),e.finish(19);case 22:return e.abrupt("return",i);case 23:case"end":return e.stop()}}),e,this,[[5,16,19,22]])})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"getPropAttributes",value:function(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c["a"].PROP_NAME;"string"==typeof t?(n=e.getNode(a,c["a"].PROP_ATTR_NAME,t),r=t):(n=t,r=n.getAttrValue(c["a"].PROP_ATTR_NAME),a=n.getName());var i=a.equalsIgnoreCase(c["a"].PROP_NAME);if(l["a"].IsNothing(n))return{};var o={node:a};for(var s in p[a])if(Object.prototype.hasOwnProperty.call(p[a],s)){var d=p[a][s];try{var h=this.developValue(e,i,a,r,d);u["a"].isEmpty(h)||(o[s]=this.normailzeWebAttribute(s,h))}catch(f){console.error(f)}}return o}},{key:"developValue",value:function(e,t,n,r,a){if("string"==typeof a)return this.getValue(e,t,n,r,a);var i=this.evaluateMacro(e,"default"in a?a["default"]:""),o="";return"value"in a&&(o=Array.isArray(a["value"])?this.getArrayValue(e,t,n,r,a["value"]):this.getValue(e,t,n,r,a["value"])),u["a"].isEmpty(o)?i:o}},{key:"getArrayValue",value:function(e,t,n,r,a){for(var i="",o=0;o<a.length&&u["a"].isEmpty(i=this.getValue(e,t,n,r,a[o]));o++);return i}},{key:"getValue",value:function(e,t,n,r,a){return t?e.FieldPropertyValue(r,a):e.NodePropertyValue(n,r,a)}},{key:"normalizeWebColor",value:function(e){return!e.startsWith("##")&&e.startsWith("#")&&e.length>7?"#"+e.substr(e.length-6,6)+e.substr(1,e.length-7).padStart(2,"0"):e}},{key:"normailzeWebAttribute",value:function(e,t){return f.indexOf(e)>=0?this.normalizeWebColor(t):t}},{key:"evaluateMacro",value:function(e,t){return t.startsWith("##")?t.equals("##COMPANYCOLOR##")?e.getOwnerApp().getAppNode().attrs.companycolor||c["a"].DEFAULT_BGCOLOR:t.equals("##COMPANYFORECOLOR##")?e.getOwnerApp().getAppNode().attrs.forecolor||c["a"].DEFAULT_FORECOLOR:t:t}},{key:"resolvedAttrName",value:function(e){return m.hasOwnProperty(e)?m[e]:e}},{key:"setLayoutFieldPropertyValue",value:function(t,n,r,a,i){var o=null===t||void 0===t?void 0:t.attributes,s=e.resolvedAttrName(a);if(o&&o.node==n&&o.name==r)return o.hasOwnProperty(s),o[s]=i,!0;if((null===t||void 0===t?void 0:t.controls)&&Array.isArray(t.controls))for(var l=0;l<t.controls.length;l++)if(e.setLayoutFieldPropertyValue(t.controls[l],n,r,a,i))return!0;return!1}}]),e}();g.m_fastResolver={}},f0ed:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("d4ec"),a=n("bee2"),i=n("54c9"),o=n("3be9"),s=function(){function e(){Object(r["a"])(this,e)}return Object(a["a"])(e,null,[{key:"isDebuggable",value:function(e){return!1}},{key:"DebugLog",value:function(e,t){}},{key:"formatKey",value:function(e,t,n){return"##"+e+"##"+t+"##"+n+"##"}},{key:"CheckNullParameters",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(null==n)throw new i["a"]("Error de ejecucin. Faltan parmetros para '"+e+"'")}},{key:"CheckIncorrectParamCount",value:function(e,t,n){if(null==t){if(0==n)return;throw new i["a"]("Error de ejecucin. Nmero incorrecto de parmetros para '"+e+"'")}if(t.length!=n)throw new i["a"]("Error de ejecucin. Nmero incorrecto de parmetros para '"+e+"'")}},{key:"CheckIncorrectParamRange",value:function(e,t,n,r){if(null==t){if(0==n)return;throw new i["a"]("Error de ejecucin. Nmero incorrecto de parmetros para '"+e+"'")}if(t.length<n)throw new i["a"]("Error de ejecucin. Nmero incorrecto de parmetros para '"+e+"'");if(t.length>r&&-1!=r)throw new i["a"]("Error de ejecucin. Nmero incorrecto de parmetros para '"+e+"'")}},{key:"setLastAppExecutedField",value:function(e,t,n){}},{key:"getThrowableMessage",value:function(t){if(null==t)return e.EMPTY_STRING;var n=t.getClass().getSimpleName(),r=t.getMessage();return o["a"].isEmpty(r)||(n=n+"(): "+r),n}}]),e}();s.DEFAULT_BGCOLOR="#FFB22C1B",s.DEFAULT_FORECOLOR="#FF000000",s.FAIL_EXITAPP="##EXITAPP##",s.FAIL_EXIT="##EXIT##",s.FAIL_LOGIN="##LOGIN_START##",s.MACRO_LOGIN_START=s.FAIL_LOGIN,s.MACRO_LOGIN_USERCOLL="##LOGIN_USERCOLL##",s.MACRO_LOGIN_NEWUSER="##LOGIN_NEWUSER##",s.MACRO_LOGIN_NEWPASS="##LOGIN_NEWPASS##",s.MACRO_LOGIN_COLL_OBJECT_INDEX="##LOGIN_COLL_OBJECT_INDEX##",s.MACRO_STARTREPLICA="##STARTREPLICA##",s.TAG_DATABASE_LOG="XOneDatabase",s.PROP_ATTR_EMBED="embed",s.PROP_DEFAULT_FIELDSIZE=14,s.PROP_DEFAULT_LABELWIDTH=10,s.PROP_DEFAULT_CONTENTLINES=10,s.TRUE_VALUE="true",s.FALSE_VALUE="false",s.DEFAUT_FILES_PATH="files/",s.DATE_SEPARATOR="/",s.HOUR_SEPARATOR=":",s.DANISH_HOUR_SEPARATOR="\\.",s.LAST_EXECUTED_APP_FILE_NAME="lastexecuted.ini",s.LAST_EXECUTED_APP_FIELD_NAME="appname",s.LAST_EXECUTED_USER_FIELD_NAME="user",s.LICENSE_FIELD_NAME="License",s.SERVER_FIELD_NAME="ServerADDR",s.TAG_FRAMEWORK="XOneFramewrok",s.TAG_MAPPINGFILE="mappings",s.TAG_APPNODE="app.xml",s.EMPTY_STRING="",s.PROP_NAME="prop",s.PROP_ATTR_FRAME="frame",s.PROP_ATTR_CONTENTNAME="contents",s.PROP_ATTR_GROUP="group",s.PROP_ATTR_NAME="name",s.PROP_ATTR_VISIBLE="visible",s.PROP_ATTR_TITLE="title",s.PROP_ATTR_INDEX="index",s.PROP_ATTR_TYPE="type",s.MASK_EDIT_VISIBLE=1,s.MASK_LIST_VISIBLE=2,s.MASK_CONTENT_VISIBLE=4,s.MASK_DROPDOWN_VISIBLE=8,s.MACRO_DEFAULT="##DEFAULT##",s.MACRO_TAG="##",s.COLL_COLLPROPS="collprops",s.COLL_COLL="coll",s.COLL_LOGIN_COLL="login-coll",s.COLL_LOGOFF_COLL="logoff-coll",s.PLATFORM_NAME="platform"},f5d2:function(e,t,n){},f762:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("a4d3"),n("e01a"),n("d3b7"),n("ac1f"),n("5319"),n("25f0"),n("498a"),n("1276"),n("159b"),n("ddb0"),n("8a79"),n("2ca0"),n("a630"),n("3ca3"),n("9d37"),n("d2fd")),s=n("3019"),l=n("3be9"),u=n("f0ed"),c=n("48b5"),d=n("7ef1"),h=n("4585"),p=n("0e62"),f=n("57ee"),m=n("4329"),g=n("54c9"),b=n("0912"),_=n("98f9"),v=n("927f"),O=n("fad8"),y=n("1ea0"),C=n("d2c7"),S=n("984b"),E=n("55d5"),k=n("6efc"),x=n("4aaf"),T=n("3548"),w=n("849a"),A=n("75be"),P=n("ce48"),R=n("286c"),I=function(){function t(){Object(a["a"])(this,t),this.m_lstCollections=new s["a"],this.m_lstCollPropValueCaches=new s["a"],this.m_bCacheAttrValues=!0,this.exports={},u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"A new AppData is being instantiated."),this.m_strPlatform="web",this._objectID=Symbol("XoneApplication"),this.m_PushExit=!1,this.m_strAppName="XOne Android  Application",this.m_lstConnections=new s["a"],this.m_lstCollections=new s["a"],this.m_lstSysCollNames=new s["a"],this.m_lstQualifyCaches=new s["a"],this.m_objectDeveloper=new h["a"],this.m_strConsole=new p["a"],this.m_lstParamStack=new Array,this.m_lstGlobalMacros=new s["a"],this.m_nDebugPort=7797,this.m_dbgLocker=new Object,this.m_messages=new c["a"]("EN"),this.m_lstCssList=new Array,this.m_lstCollPropUndefinedValues=new s["a"],this.m_lstConditionCssList=new s["a"],this.m_strFixedVisualCondition=this.m_strVisualConditions="",this.m_lstOpenColls=new Array,this.bIsCharWidthCompatibility=!1,this.bIsImageValuePriorized=!1,this.m_lstVisualCondDescriptors=new s["a"],this.m_lstCachedScripts=new s["a"],this.m_globalItems=new s["a"],this.m_bLoadLayouts=!0,this.m_nOperIdLength=150,this.m_nRowIdLength=100,this.m_lstCollExceptions=t.getCollExceptions(),this.m_lstPropExceptions=t.getPropExceptions(),this.m_error=new Array,this.m_isBrowser=!("undefined"!==typeof e&&"[object global]"=={}.toString.call(e)),this.isBrowser?this.m_loader=new A["a"]:this.m_loader=new w["a"]}return Object(i["a"])(t,[{key:"isApplication",get:function(){return!0}},{key:"getSysDatemask",value:function(){return"ymd"}},{key:"isDebugMode",value:function(){return!1}},{key:"addEvaluatedAttributesList",value:function(e,t){null==this.m_lstEvaluatedAttributes&&(this.m_lstEvaluatedAttributes=new s["a"]),this.m_lstEvaluatedAttributes.containsKey(e)||this.m_lstEvaluatedAttributes.put(e,new Array),this.m_lstEvaluatedAttributes.get(e).push(t)}},{key:"GetWeekDayName",value:function(e){throw new Error("Method not implemented.")}},{key:"currentContext",value:function(){throw new Error("Method not implemented.")}},{key:"isBrowser",get:function(){return this.m_isBrowser}},{key:"AddOpenColl",value:function(e){this.m_lstOpenColls.contains(e)||this.m_lstOpenColls.push(e)}},{key:"RemoveOpenColl",value:function(e){this.m_lstOpenColls.contains(e)&&this.m_lstOpenColls.remove(e)}},{key:"RunScriptAsyncNOFunc",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i,o,s,l,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(i="(async () => {\n"+r+"\n})()",console.log("FunctionCall: ",t),console.log("Script: ",i),o=u.length,s=new Array(o>4?o-4:0),l=4;l<o;l++)s[l-4]=u[l];return e.next=6,this.__SCRIPT_WRAPPERASYNC(this,this.getUser(),this.m_ui,a.getObjectHost(),a.getCollectionHost(),i,s);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"RunScriptAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a,i,o,s){var l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l="(async () => {\n"+r+"\n})()",console.log("FunctionCall: ",t),console.log("Script: ",l),e.next=5,this.__SCRIPT_WRAPPERASYNC(this,this.m_ui,a.getObjectHost(),a.getCollectionHost(),this.getUser(),r,s);case 5:return e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a,i,o,s){return e.apply(this,arguments)}return t}()},{key:"__extendStatics",value:function(e,t){return Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}}},{key:"__extends",value:function(e,t){Object.setPrototypeOf(e,t)}},{key:"getDefaultLanguage",value:function(){return"javascript"}},{key:"getPlatform",value:function(){return this.m_strPlatform}},{key:"GetClassName",value:function(e){return e}},{key:"CheckClassName",value:function(e){return e}},{key:"getIdColl",value:function(){throw new Error("Method not implemented.")}},{key:"getCurrentCompany",value:function(){return this.getCurrentEnterprise()}},{key:"getUserIdColl",value:function(){return this.m_strUserIdColl}},{key:"getUser",value:function(){return this.m_user}},{key:"getCurrency",value:function(){return this.m_currency}},{key:"getEntIdLevel",value:function(){return this.m_strEntIdLevel}},{key:"getEntIdColl",value:function(){return this.m_strEntIdColl}},{key:"getEntIdOwner",value:function(){return this.m_strEntIdOwner}},{key:"getUserInterface",value:function(){return this.m_ui}},{key:"setUserInterface",value:function(e){this.m_ui=e}},{key:"AddConnection",value:function(e){return null!=e&&this.m_lstConnections.put(e.getName(),e),!0}},{key:"CreateConnection",value:function(e){var t=null,r=null;if(null!=e&&(t=e.getAttrValue(u["a"].PROP_ATTR_NAME)),f["a"].IsEmptyString(t)&&(t=d["a"].MAIN_CONNECTION),null==e)r=new R["a"](this.m_context,t,this),0==t.localeCompare(d["a"].MAIN_CONNECTION)&&(r.setOperIdLength(this.m_nOperIdLength),r.setRowIdLength(this.m_nRowIdLength));else{var a=e.getAttrValue("connstring"),i=m["a"].parseConnectionString(a),o=i.get("provider");if(!l["a"].isEmpty(o)){if(0==o.compareToIgnoreCase("cgsoft remote provider")||0==o.compareToIgnoreCase("xone remote provider")){var s=i.get("progid");if(0==s.compareToIgnoreCase("CGSSocketCE.ConnectCE")){var c=n("e9ed");r=new c.default(this.m_context,t,this)}else if(0==s.compareToIgnoreCase("CGSRSS.CProxy"));else if(0==s.compareToIgnoreCase("CGSProxy.CProxy"));else if(s.indexOf("JSONConnection")>=0){var h=n("1b44");r=new h.default(this.m_context,t,this)}else try{null!=r&&null!=this.m_user&&(r.addExtendedProperty("xoneuser",this.m_user.GetRawStringField("LOGIN")),r.addExtendedProperty("xonepass",this.m_user.GetRawStringField("PWD")))}catch(_){_.printStackTrace()}}null==r&&(r=new R["a"](this.m_context,t,this))}if(null!=r){var p=e.getAttrValue("datemask");l["a"].isEmpty(p)||r.setDatemask(p);var g=e.getAttrValue("rowidfieldname");l["a"].isEmpty(g)||r.setRowIdFieldName(g);var b=e.getAttrValue("sqlfieldname");l["a"].isEmpty(b)||r.setSqlFieldName(b)}null==r&&(r=new R["a"](this.m_context,t,this))}return r.SetPlatform(this.m_strPlatform),r.setNodeData(e),r.getName().equals(d["a"].MAIN_CONNECTION)&&(r.setIsReplicating(this.m_bIsReplicating),r.setDatemask(this.m_strDatemask)),f["a"].IsEmptyString(r.getDatemask())&&r.setDatemask(this.m_strDatemask),r.getName().equals(d["a"].MAIN_CONNECTION)&&this.m_nMasterMid>0&&(r.setMID(this.m_nMasterMid),r.setDBID(this.m_nMasterMid),r.setIsReplicating(!0)),r}},{key:"LoadConnection",value:function(e){var t=this.CreateConnection(e);return null!=t&&this.AddConnection(t)}},{key:"getConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=e;return f["a"].IsEmptyString(e)&&(t=d["a"].MAIN_CONNECTION),this.m_lstConnections.containsKey(t)?this.m_lstConnections.get(t):null}},{key:"login",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i,o,s,c,d,h,p,m,b,_,v,C,S,E,k,x=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(t="Login",n=x.length,r=new Array(n),a=0;a<n;a++)r[a]=x[a];if(u["a"].CheckNullParameters(t,r),u["a"].CheckIncorrectParamCount(t,r,1),i=r[0],o=f["a"].SafeToString(i["userName"],null),s=f["a"].SafeToString(i["password"],null),c=f["a"].ParseBoolValue(i["isGoogleSignOn"],!1),d=f["a"].SafeToString(i["entryPoint"],this.getEntryPointCollection(this.getCurrentVisualConditions())),h=i["onLoginSuccessful"],p=i["onLoginFailed"],i["onLoginCallResults"],m=i["ignoreEntryPoint"],c){e.next=18;break}if(null!=o){e.next=16;break}throw new g["a"](t+"(): Null user name parameter");case 16:if(null!=s){e.next=18;break}throw new g["a"](t+"(): Null password parameter");case 18:if(m){e.next=27;break}if(!l["a"].isEmpty(d)){e.next=21;break}throw new g["a"](t+"(): Empty entry point parameter");case 21:return e.next=23,this.getCollection(d);case 23:if(b=e.sent,null!=b){e.next=26;break}throw new g["a"](t+"(): Entry point collection "+d+" not found");case 26:this.setOverridenEntryPoint(d);case 27:return _=this.getUser(),null!=_&&u["a"].DebugLog(u["a"].TAG_FRAMEWORK,t+"(): User is already logged in"),e.prev=29,e.next=32,this.logonUser(o,s,u["a"].EMPTY_STRING);case 32:return v=e.sent,C=null,S=new y["a"](null),e.next=37,this.getXOneScriptObjects(S);case 37:if(E=e.sent,null==v){e.next=46;break}if(u["a"].setLastAppExecutedField(this.m_context,o,this.m_strAppName+"##"+u["a"].LAST_EXECUTED_USER_FIELD_NAME),null!=h&&O["a"].run(this,h,S,E),!m){e.next=43;break}return e.abrupt("return",v);case 43:this.m_ui.launchEntryPoint(),e.next=50;break;case 46:if(null==p){e.next=50;break}return k=null!=C?u["a"].getThrowableMessage(C):"Login failed",e.next=50,O["a"].runAsync(this,p,S,E,null,k);case 50:return e.abrupt("return",v);case 53:return e.prev=53,e.t0=e["catch"](29),console.error("Login failed"),null===p||void 0===p||p.call(),e.abrupt("return",null);case 58:case"end":return e.stop()}}),e,this,[[29,53]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"getXOneScriptObjects",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=new s["a"],n.put("appData",this),r=this.getUserInterface(),null!=r&&n.put("ui",r),null!=this.m_user&&n.put("user",this.m_user),null==t){e.next=14;break}return r=t.getObjectHost(),null!=r&&n.put("self",r),e.next=10,t.getCollectionHost();case 10:if(r=e.sent,null!=r&&n.put("selfDataColl",r),a=t.GetParams(),null!=a){i=null;while(null!=(i=a.next()))n.put(i.value[0],i.value[1])}case 14:return e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"logonUser",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,i,o,s,l,u,c,d,h=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]&&h[3],e.next=3,this.getSysCollection("Usuarios");case 3:if(i=e.sent,null!=i){e.next=6;break}throw new b["a"](this.m_messages.GetMessage(C["a"].SYS_MSG_APP_LOGONNOUSERCOLL,r));case 6:return e.next=8,i.get("LOGIN",t);case 8:if(o=e.sent,i.getConnection().removeExtendedProperty("logincall"),null!=o){e.next=14;break}throw s=this.m_messages.GetMessage(C["a"].SYS_MSG_APP_LOGONUSERNOTFOUND,r),s=s.replace("{0}",t),new b["a"](s);case 14:if(a){e.next=31;break}if(l=null,Object.prototype.hasOwnProperty.call(o,"ValidateUserCredentials")&&(l=o),null==l){e.next=23;break}if(u=[n],l.ValidateUserCredentials(u)){e.next=21;break}return e.abrupt("return",null);case 21:e.next=31;break;case 23:if(c=o.get("PWD"),!f["a"].IsEmptyString(n)){e.next=29;break}if(f["a"].IsEmptyString(c)){e.next=27;break}return e.abrupt("return",null);case 27:e.next=31;break;case 29:if(n.equals(c)){e.next=31;break}return e.abrupt("return",null);case 31:return this.m_user=o,e.next=34,o.ObjectItem("IDEMPRESA");case 34:if(d=e.sent,null!=d){e.next=37;break}return e.abrupt("return",o);case 37:return this.LoadCompanyData(d),e.abrupt("return",o);case 39:case"end":return e.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"GetSysCollName",value:function(e){return this.m_lstSysCollNames.containsKey(e)?this.m_lstSysCollNames.get(e):e}},{key:"getSysCollection",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getCollection(this.GetSysCollName(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addLoginCollection",value:function(e,t){null==this.mapLoginCollections&&(this.mapLoginCollections=new s["a"]),v["a"].getValuesByConditions(this.mapLoginCollections,e,t)}},{key:"getLoginCollectionName",value:function(e){if(!f["a"].IsEmptyString(e)){var t=this.getCurrentVisualConditionsDescriptors();for(var n in t)if(this.mapLoginCollections.containsKey(n))return this.mapLoginCollections.get(n)}if(this.mapLoginCollections.containsKey(u["a"].MACRO_DEFAULT)){var r=this.mapLoginCollections.get(u["a"].MACRO_DEFAULT);if(!l["a"].isEmpty(r))return r}var a=this.getConfigFile().SelectSingleNode(u["a"].COLL_COLLPROPS).SelectSingleNode(u["a"].COLL_COLL,u["a"].COLL_LOGIN_COLL,u["a"].TRUE_VALUE);return null!=a?a.getAttrValue(u["a"].PROP_ATTR_NAME):null}},{key:"addEntryPointCollection",value:function(e,t){null==this.mapEntryPointCollections&&(this.mapEntryPointCollections=new s["a"]),v["a"].getValuesByConditions(this.mapEntryPointCollections,e,t)}},{key:"getEntryPointCollection",value:function(e){if(!l["a"].isEmpty(this.sOverridenEntryPointCollection))return this.sOverridenEntryPointCollection;if(!f["a"].IsEmptyString(e)){var t=this.getCurrentVisualConditionsDescriptors();for(var n in t)if(this.mapEntryPointCollections.containsKey(n))return this.mapEntryPointCollections.get(n)}return this.mapEntryPointCollections.containsKey(u["a"].MACRO_DEFAULT)?this.mapEntryPointCollections.get(u["a"].MACRO_DEFAULT):null}},{key:"setOverridenEntryPoint",value:function(e){this.sOverridenEntryPointCollection=e}},{key:"logout",value:function(){var e="Logout",t=this.getUser();if(null==t)throw new _["a"](e+"(): User is not logged in");var n=t.getOwnerCollection();null!=n&&n.Clear(),this.m_user=null,this.clearCompanyData()}},{key:"IniciarApp",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.setAppPath(t),this.__SCRIPT_WRAPPERASYNC=n,this.m_fileManager=r,e.next=5,r.readFileAsync(this.m_strAppPath+"/"+u["a"].TAG_APPNODE);case 5:return i=e.sent,e.next=8,r.readFileAsync(this.m_strAppPath+"/"+u["a"].TAG_MAPPINGFILE+".xne");case 8:this.m_jsonConfigFile=e.sent,this.LoadConfigFile(this.m_strAppPath,i,this.m_jsonConfigFile,!0,2),this.Initialize(a);case 11:case"end":return e.stop()}}),e,this)})));function t(t,n,r,a){return e.apply(this,arguments)}return t}()},{key:"Initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u["a"].EMPTY_STRING;null==this.m_ui&&(this.m_ui={startReplica:function(){},showToast:function(){},launchEntryPoint:function(){},msgBox:function(){},startGps:function(){}});var t=this.getConnection();if(null==t){if(null==(t=this.CreateConnection(null)))throw new S["a"](-9e3,this.m_messages.GetMessage(C["a"].SYS_MSG_APP_CANNOTCREATEMAINCONN,"Cannot create main connection. Possible cause: memory error."));t.setConnString(e),f["a"].IsEmptyString(this.m_strObjectPrefix)||t.setPrefix(this.m_strObjectPrefix),this.AddConnection(t)}else f["a"].IsEmptyString(t.getConnString())&&t.setConnString(e);var n=t.GetNewConnection(!0);if(null==n){var r=this.m_messages.GetMessage(C["a"].SYS_MSG_APP_OPENCONNERROR,"Cannot open connection. ConnString='{0}'");throw r=r.replace("{0}",t.getConnString()),new S["a"](-9001,r)}return this.m_bIsReady=!0}},{key:"LoadConfigFile",value:function(e,t,n,r,a){this.m_nVersionMapping=a;var i=x["a"].getInstance();if(i.Deserialize(null,e,n,r),this.m_xmlConfigFile=i.getRootNode(),null!=t){if(!this.LoadAppFile(e,t,r))return null}else if(!this.LoadAppNode(this.m_xmlConfigFile.SelectSingleNode("app")))return null;return i}},{key:"LoadAppFile",value:function(e,t,n){var r=x["a"].getInstance();r.Deserialize(null,e,t,n);var a=r.getRootNode();return this.m_xmlAppNode=a.SelectSingleNode("app"),null==this.m_xmlAppNode&&a.getName().equals("app")&&(this.m_xmlAppNode=a),this.LoadAppNode(this.m_xmlAppNode)}},{key:"LoadAppNode",value:function(e){if(null==e)return!0;this.m_xmlAppNode=e,this.m_xmlAppNode.getAttrValue("version");var t=v["a"].getNodeAttr(e,"name");f["a"].IsEmptyString(t)||(this.m_strAppName=t),this.m_strDefaultLanguage=f["a"].SafeToString(v["a"].getNodeAttr(e,"default-language"),"VBScript"),this.m_bDebug=f["a"].ParseBoolValue(v["a"].getNodeAttr(e,"debug"),!1),this.m_bSqlProfilerMode=f["a"].ParseBoolValue(v["a"].getNodeAttr(e,"sql-profiler"),!1),this.m_bLogMemoryUsage=f["a"].ParseBoolValue(v["a"].getNodeAttr(e,"log-memory-usage"),!1);var n=v["a"].getNodeAttr(e,"script-optimization-level");l["a"].isEmpty(n)?u["a"].isDebuggable(this.m_context)?this.m_nScriptOptimizationLevel=-1:this.m_nScriptOptimizationLevel=9:this.m_nScriptOptimizationLevel=T["a"].SafeToInt(n,9),this.m_nScriptOptimizationLevel<-1?this.m_nScriptOptimizationLevel=-1:this.m_nScriptOptimizationLevel>13&&(this.m_nScriptOptimizationLevel=13),f["a"].IsEmptyString(t=v["a"].getNodeAttr(e,"version"))&&(t="1.0"),this.setGlobalMacro("##VERSION##",t);for(var r,a=e.SelectNodes("connection"),i=0;i<a.count();i++){var o=a.get(i);r=this.CreateConnection(o),null!=r&&this.AddConnection(r)}if(!f["a"].IsEmptyString(t=v["a"].getNodeAttr(e,"prefix"))){if(null==(r=this.getConnection())){if(null==(r=this.CreateConnection(null)))return!1;this.AddConnection(r)}r.setPrefix(t)}a=e.SelectNodes("syscoll-name");for(var s=0;s<a.count();s++){var c=a.get(s),d=v["a"].getNodeAttr(c,"system-name"),h=v["a"].getNodeAttr(c,"collection-name");f["a"].IsEmptyString(d)||f["a"].IsEmptyString(h)||this.m_lstSysCollNames.put(d,h)}a=e.SelectNodes("style");for(var p=0;p<a.count();p++){var m=a.get(p),g=m.getAttrValue("encoding"),b=m.getAttrValue("url"),_=m.getAttrValue("conditions"),O=f["a"].ParseBoolValue(m.getAttrValue("strict-mode"),!1),y=this.LoadAndSaveNewCssFile(b,g,O);if(f["a"].IsEmptyString(_))this.m_lstCssList.push(y);else{var C=this.m_lstConditionCssList.get(_);null==C&&(C=new Array,this.m_lstConditionCssList.put(_,C)),C.push(y)}this.m_bHasStylesheets=!0}return this.addEntryPointCollection(this.m_xmlAppNode.selectSingleNode("entry-point"),this.m_xmlAppNode.getAttrValue("entry-point")),this.addLoginCollection(this.m_xmlAppNode.selectSingleNode("login-coll"),this.m_xmlAppNode.getAttrValue("login-coll")),!0}},{key:"LoadAndSaveNewCssFile",value:function(e,t,n){return this.LoadNewCssFile(e,t,n)}},{key:"LoadNewCssFile",value:function(e,t,n){var r=this.m_loader.LoadFile(this.getSourcePath(e),this.mIsEncryptFiles);if(null==r)throw new S["a"](-100,"File not Found: "+e);try{return new k["a"](e,r,t,n)}catch(i){var a=u["a"].getThrowableMessage(i);throw new S["a"](-100,i,"Error loading CSS file: "+e+"\r\n"+a)}}},{key:"getCollection",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(l["a"].isEmpty(t),!this.m_lstCollections.containsKey(t)){e.next=5;break}return n=this.m_lstCollections.get(t),null==n&&u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.GetCollection(): Collection list contains a key for "+t+" but it is null. AppData hashCode: "+this.hashCode()),e.abrupt("return",n);case 5:return e.next=7,this.LoadCollection(t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"LoadCollection",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=null,null!=this.m_xmlConfigFile){e.next=4;break}return l["a"].isEmpty(t)?u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.LoadCollection(): Error loading collection, empty collection name parameter, mappings xml object is null. AppData hashCode: "):u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.LoadCollection(): Error loading collection "+t+", mappings xml object is null. AppData hashCode: "+this.hashCode()),e.abrupt("return",null);case 4:if(r=this.m_xmlConfigFile.SelectSingleNode("collprops"),null!=r&&(n=r.SelectSingleNode("coll","name",t)),a=null,i=2,null!=n){e.next=17;break}return e.next=11,this.LoadExternalCollection(t);case 11:if(a=e.sent,null!=a){e.next=15;break}return u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.LoadCollection(): Collection "+t+" not found as an external file. AppData hashCode: "+this.hashCode()),e.abrupt("return",null);case 15:n=a.second,i=a.first;case 17:if(!this.m_lstCollections.containsKey(t)){e.next=19;break}return e.abrupt("return",this.m_lstCollections.get(t));case 19:return s=new o["a"](this,n,i),this.m_lstCollections.put(t,s),e.next=23,s.Load();case 23:if(e.sent){e.next=27;break}return this.m_lstCollections.delete(t),u["a"].DebugLog(u["a"].TAG_FRAMEWORK,"AppData.LoadCollection(): Collection "+t+" found but DataCollection.Load() failed. AppData hashCode: "+this.hashCode()),e.abrupt("return",null);case 27:return e.abrupt("return",s);case 28:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"LoadExternalCollection",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.m_fileManager.readFileAsync(this.m_strAppPath+"/"+t+".xne");case 2:return r=e.sent,a=x["a"].getInstance(),a.Deserialize(null,this.m_strAppPath,r,!0),(null===(n=i=a.getRootNode())||void 0===n?void 0:n.getName().equals("coll"))||(i=a.getRootNode().SelectSingleNode("coll")),e.abrupt("return",{first:2,second:i});case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"hashCode",value:function(){return this._objectID.toString()}},{key:"getCompany",value:function(){return this.m_company}},{key:"GetCollPropValueCache",value:function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"coll",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"values";if(!this.m_bCacheAttrValues)return null;if(l["a"].isEmpty(e))throw new b["a"]("Empty collection name parameter passed to GetCollPropValueCache");if(this.m_lstCollPropValueCaches.containsKey(e)||(t=new s["a"],this.m_lstCollPropValueCaches.put(e,t)),t=this.m_lstCollPropValueCaches.get(e),t.containsKey(a)||(n=new s["a"],t.put(a,n)),n=t.get(a),l["a"].isEmpty(i))throw new E["a"]("Empty node name parameter passed to GetCollPropValueCache");return n.containsKey(i)||(r=new s["a"],n.put(i,r)),r=n.get(i),r}},{key:"GetCollPropUndefinedValues",value:function(e){if(!this.m_bCacheAttrValues)return null;if(null==this.m_lstCollPropUndefinedValues)return null;if(this.m_lstCollPropUndefinedValues.containsKey(e))return this.m_lstCollPropUndefinedValues.get(e);var t=new Array;return this.m_lstCollPropUndefinedValues.put(e,t),t}},{key:"getMessageHolder",value:function(){return this.m_messages}},{key:"getConfigFile",value:function(){return this.m_xmlConfigFile}},{key:"ParseVisualConditions",value:function(){var e=this.m_strVisualConditions.trim();if(!f["a"].IsEmptyString(e)&&!this.m_lstVisualCondDescriptors.containsKey(e)){var t=this.m_strVisualConditions.split(":"),n=0,r=t.length-1,a=new Array;while(n<=r)this.CreateVisualCombinations(t,n++,r--,a);this.m_lstVisualCondDescriptors.put(e,a)}}},{key:"CreateVisualCombinations",value:function(e,t,n,r){var a;if(t!=n){var i=t,o=n;while(o>=t){a=new p["a"];for(var s=o;s>=t;s--)a.isEmpty()||a.insert(0,":"),a.insert(0,e[s]);var l=u["a"].EMPTY_STRING;r.contains(l=a.toString())||r.push(l),o--}while(i<=n){a=new p["a"];for(var c=i;c<=n;c++)a.isEmpty()||a.append(":"),a.append(e[c]);var d=u["a"].EMPTY_STRING;r.contains(d=a.toString())||r.push(d),i++}}else r.contains(e[t])||r.push(e[t])}},{key:"setVisualConditions",value:function(e,t){var n=e||u["a"].EMPTY_STRING;t?this.m_strFixedVisualCondition=this.m_strVisualConditions=n:this.m_strVisualConditions=this.m_strFixedVisualCondition+":"+n,this.m_lstCollPropValueCaches.clear(),this.m_lstCollPropUndefinedValues.clear(),this.m_lstCollections.values().forEach((function(e){for(var t=0;t<e.getCount();t++)e.get(t).then((function(e){return e.ClearCaches()}))})),this.ParseVisualConditions()}},{key:"getCurrentVisualConditions",value:function(){return this.m_strVisualConditions}},{key:"getVisualConditionsDescriptors",value:function(){return this.m_lstVisualCondDescriptors}},{key:"getCurrentVisualConditionsDescriptors",value:function(){return this.m_lstVisualCondDescriptors.containsKey(this.m_strVisualConditions)?this.m_lstVisualCondDescriptors.get(this.m_strVisualConditions):null}},{key:"getAppPath",value:function(){return this.m_strAppPath}},{key:"getSourcePath",value:function(e){return this.m_strAppPath+"/"+e}},{key:"setAppPath",value:function(e){this.m_strAppPath=this.m_strFilesPath=e,this.m_strFilesPath.endsWith("/")||(this.m_strFilesPath+="/"),this.m_strFilesPath+=u["a"].DEFAUT_FILES_PATH}},{key:"setApplicationName",value:function(e){this.m_strAppName=e}},{key:"updateVisualConditionsFromMacro",value:function(e,t){switch(e){case"##CURRENT_ORIENTATION##":this.setVisualConditions(t,!1);break;case"##CURRENT_SIZE##":this.setVisualConditions(t,!1);break;case"##DEVICE_OS##":this.setVisualConditions(t,!0);break;default:break}}},{key:"setGlobalMacro",value:function(e,t){null==this.m_lstGlobalMacros&&(this.m_lstGlobalMacros=new s["a"]),this.m_lstGlobalMacros.put(e,t),this.updateVisualConditionsFromMacro(e,t)}},{key:"getGlobalMacro",value:function(e){return null==this.m_lstGlobalMacros?null:this.m_lstGlobalMacros.containsKey(e)?this.m_lstGlobalMacros.get(e):null}},{key:"GetAllGlobalMacros",value:function(){var e=new s["a"];return null==this.m_lstGlobalMacros||this.m_lstGlobalMacros.length<=0||this.m_lstGlobalMacros.entrySet().forEach((function(t){return e.put(t[0],t[1])})),e}},{key:"LoadCompanyData",value:function(e){this.m_bExternalEntIdColl||(this.m_strEntIdColl=null),this.m_bExternalEntIdLevel||(this.m_strEntIdLevel=null),this.m_bExternalEntIdOwner||(this.m_strEntIdOwner=null),null!=(this.m_company=e)&&(this.m_strEntTable=e.getObjectName(),this.m_strEntPk=e.getIdFieldName(),this.m_nEntPkType=f["a"].ParseBoolValue(e.getOwnerCollection().CollPropertyValue("stringkey"),!1)?1:0,this.m_bExternalEntIdColl||(this.m_strEntIdColl=this.GenerateEntIdColl(this.m_company.GetObjectIdString(!0))),this.m_bExternalEntIdLevel||(this.m_strEntIdLevel=this.GenerateEntIdLevel(this.m_company.GetObjectIdString(!0))),this.m_bExternalEntIdOwner||(this.m_strEntIdOwner=this.GenerateEntIdOwner())),this.m_company=e,null!=this.m_user&&this.m_company.put("MAP_IDCURRENTUSER",this.m_user.getId())}},{key:"GenerateEntIdOwner",value:function(){return u["a"].EMPTY_STRING}},{key:"GenerateEntIdLevel",value:function(e){return this.m_company.get("ID")}},{key:"GenerateEntIdColl",value:function(e){return this.m_company.get("ID")}},{key:"clearCompanyData",value:function(){this.m_strEntIdColl=null,this.m_strEntIdLevel=null,this.m_strEntIdOwner=null,this.m_company=null,this.m_strEntTable=null,this.m_strEntPk=null,this.m_nEntPkType=0,this.m_currency=null}},{key:"EvaluateMacro",value:function(e){return this.m_lstGlobalMacros.containsKey(e)?this.m_lstGlobalMacros.get(e):e.startsWith("##USER_")?this.m_user?this.m_user.ReplaceFieldValueMacros(e,"##USER_"):"":e.equals("##ENTID##")?this.m_company?f["a"].SafeToString(this.m_company.get("ID")):"0":e.startsWith("##ENT_")?this.m_company?this.m_company.ReplaceFieldValueMacros(e,"##ENT_",!1):"":e}},{key:"PrepareSqlString",value:function(e){return e.contains("##")?(this.m_lstGlobalMacros.entries.forEach((function(t,n){return e=e.replace(n,t)})),this.PrepareUserMacrosSqlString(e)):e}},{key:"PrepareUserMacrosSqlString",value:function(e){if(!e.contains("##USER_"))return e;try{return this.m_user.ReplaceFieldValueMacros(e,"##USER_")}catch(t){return e}}},{key:"FindStylesheetByFileAndClassName",value:function(e,t){var n=new Array;return this.m_lstCssList.forEach((function(t){var r=t.getName();0==e.compareTo(r)&&n.push(t)})),this.FindStylesheetByClassNameList(t,n)}},{key:"FindStylesheetByClassName",value:function(e,t){if(e.startsWith("coll.")||e.equals("coll")){if(this.m_lstCollExceptions.contains(t))return null}else if((e.startsWith("prop.")||e.equals("prop"))&&this.m_lstPropExceptions.contains(t))return null;var n,r;if(!f["a"].IsEmptyString(this.m_strVisualConditions)&&null!=this.m_lstConditionCssList&&this.m_lstConditionCssList.length>0){var a=this.m_strVisualConditions.trim(),i=this.m_lstVisualCondDescriptors.get(a);if(null==i)return null;for(var o=0;o<i.length;o++){var s=i[o];if(this.m_lstConditionCssList.containsKey(s)&&(n=this.m_lstConditionCssList.get(s),null!=(r=this.FindStylesheetByClassAttrList(e,t,n))))return r}}return r=this.FindStylesheetByClassAttrList(e,t,this.m_lstCssList),r}},{key:"FindStylesheetByClassAttrList",value:function(e,t,n){if(null==n)return null;var r=n.length;while(r>0){r--;var a=n[r],i=a.getRuleBySelector(e);if(null!=i){if(i.contains(t))return i;if(i.contains("extends")){var o=i.getRuleValue("extends"),s=this.FindStylesheetByClassName(o,t);if(null!=s)return s}}}return null}},{key:"FindStylesheetByClassNameList",value:function(e,t){var n=t.length;while(n>0){n--;var r=t[n],a=r.getRuleBySelector(e);if(null!=a)return a}return null}},{key:"hasStylesheets",value:function(){return this.m_bHasStylesheets}},{key:"GetQualifyCache",value:function(e){if(this.m_lstQualifyCaches.containsKey(e))return this.m_lstQualifyCaches.get(e);var t=new s["a"];return this.m_lstQualifyCaches.put(e,t),t}},{key:"RegisterError",value:function(e,t){var n=this.getError();null!=n&&(n.setNumber(e),n.setDescription(t),n.setFailedSql(null))}},{key:"getError",value:function(){if(null==this.m_error)return null;var e=this.m_error.pop();return null==e&&(e=new P["a"],this.m_error.push(e)),e}},{key:"ContainsError",value:function(){return null!=this.m_error&&this.m_error.length>0}},{key:"getAppNode",value:function(){return this.m_xmlAppNode}},{key:"bind",value:function(){}},{key:"createCollection",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,a=e;if(f["a"].IsEmptyString(a)&&n&&(a=n.getAttrValue(u["a"].PROP_ATTR_NAME)),f["a"].IsEmptyString(a))return null;this.m_lstCollections.containsKey(a)&&(t=this.m_lstCollections.get(a),this.m_lstCollections.delete(a));var i=this.m_xmlConfigFile.SelectSingleNode(u["a"].COLL_COLLPROPS);if(null==i)return null;var s=i.SelectSingleNode(u["a"].COLL_COLL,u["a"].PROP_ATTR_NAME,a);return null!=s?i.replaceChild(s,n):i.addChild(n,n.getName(),u["a"].PROP_ATTR_NAME,a),t=new o["a"](this,n,r),t.Load()?(this.m_lstCollections.put(a,t),t):null}},{key:"getSelectiveReplication",value:function(){return this.m_bSelectiveReplication}},{key:"setSelectiveReplication",value:function(e){this.m_bSelectiveReplication=e}},{key:"createObject",value:function(e){return{}}},{key:"decryptString",value:function(e){}},{key:"encryptString",value:function(e){}},{key:"error",value:function(){}},{key:"executeSql",value:function(e){}},{key:"failWithMessage",value:function(e,t){switch(t){case u["a"].FAIL_EXITAPP:this.getUserInterface().exitApp();break;case u["a"].FAIL_EXIT:this.getUserInterface().exit();break;case u["a"].FAIL_LOGIN:this.getUserInterface().login();break;case u["a"].MACRO_STARTREPLICA:this.getUserInterface().startReplica();break;default:var n=this.getError();n.setNumber(e),n.setDescription(t);break}}},{key:"getAllowedEnterprises",value:function(){}},{key:"getAllowedUsers",value:function(){}},{key:"getCollectionCount",value:function(){return this.m_lstCollections.length}},{key:"getConnString",value:function(){}},{key:"getCurrentEnterprise",value:function(){return this.m_company}},{key:"getFilesPath",value:function(){return this.m_strFilesPath}},{key:"getReplicationId",value:function(){}},{key:"getReservedObject",value:function(){}},{key:"isReplicating",value:function(){}},{key:"popValue",value:function(){}},{key:"pushValue",value:function(e){this.m_ui.openEditView(e)}},{key:"pushValueAndExit",value:function(e){}},{key:"registerPush",value:function(){}},{key:"safeRound",value:function(e){}},{key:"setConnString",value:function(e){}},{key:"setIsReplicating",value:function(e){}},{key:"variantToString",value:function(e){}},{key:"writeConsoleString",value:function(e){}}],[{key:"getCollExceptions",value:function(){return Array.from(["connection","objname","updateobj","progid","stringkey","loadall","withopen","idfieldname","useextdata"])}},{key:"getPropExceptions",value:function(){return Array.from(["mapcol","mapfld","bit","formula","name","group","frame","type","linkedto","linkedfield"])}}]),t}()}).call(this,n("c8ba"))},fad8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("1da1"),a=n("d4ec"),i=n("bee2"),o=(n("96cf"),n("dcf0")),s=function(){function e(){Object(a["a"])(this,e)}return Object(i["a"])(e,null,[{key:"run",value:function(e,t,n,r,a){Object(o["a"])(e,e.getUserInterface(),n.getObjectHost(),t,a)}},{key:"runAsync",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n,r,a,i){var s=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.length>5&&void 0!==s[5]?s[5]:"",e.abrupt("return",Object(o["b"])(t,t.getUserInterface(),r.getObjectHost(),n,i));case 2:case"end":return e.stop()}}),e)})));function t(t,n,r,a,i){return e.apply(this,arguments)}return t}()}]),e}()},fc68:function(e,t,n){}});
//# sourceMappingURL=app.f758324f.js.map